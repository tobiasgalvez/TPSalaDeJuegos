var YN=Object.create;var Of=Object.defineProperty,JN=Object.defineProperties,ZN=Object.getOwnPropertyDescriptor,XN=Object.getOwnPropertyDescriptors,eM=Object.getOwnPropertyNames,Vw=Object.getOwnPropertySymbols,jw=Object.getPrototypeOf,Bw=Object.prototype.hasOwnProperty,tM=Object.prototype.propertyIsEnumerable,nM=Reflect.get;var Uw=(t,e,n)=>e in t?Of(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,k=(t,e)=>{for(var n in e||={})Bw.call(e,n)&&Uw(t,n,e[n]);if(Vw)for(var n of Vw(e))tM.call(e,n)&&Uw(t,n,e[n]);return t},ae=(t,e)=>JN(t,XN(e));var iq=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var rM=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of eM(e))!Bw.call(t,i)&&i!==n&&Of(t,i,{get:()=>e[i],enumerable:!(r=ZN(e,i))||r.enumerable});return t};var sq=(t,e,n)=>(n=t!=null?YN(jw(t)):{},rM(e||!t||!t.__esModule?Of(n,"default",{value:t,enumerable:!0}):n,t));var vr=(t,e,n)=>nM(jw(t),n,e);var w=(t,e,n)=>new Promise((r,i)=>{var s=u=>{try{a(n.next(u))}catch(l){i(l)}},o=u=>{try{a(n.throw(u))}catch(l){i(l)}},a=u=>u.done?r(u.value):Promise.resolve(u.value).then(s,o);a((n=n.apply(t,e)).next())});function $w(t,e){return Object.is(t,e)}var qe=null,du=!1,hu=1,Pn=Symbol("SIGNAL");function pe(t){let e=qe;return qe=t,e}function Hw(){return qe}var aa={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Lf(t){if(du)throw new Error("");if(qe===null)return;qe.consumerOnSignalRead(t);let e=qe.nextProducerIndex++;if(mu(qe),e<qe.producerNode.length&&qe.producerNode[e]!==t&&oa(qe)){let n=qe.producerNode[e];gu(n,qe.producerIndexOfThis[e])}qe.producerNode[e]!==t&&(qe.producerNode[e]=t,qe.producerIndexOfThis[e]=oa(qe)?Ww(t,qe,e):0),qe.producerLastReadVersion[e]=t.version}function iM(){hu++}function zw(t){if(!(oa(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===hu)){if(!t.producerMustRecompute(t)&&!Uf(t)){t.dirty=!1,t.lastCleanEpoch=hu;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=hu}}function qw(t){if(t.liveConsumerNode===void 0)return;let e=du;du=!0;try{for(let n of t.liveConsumerNode)n.dirty||sM(n)}finally{du=e}}function Gw(){return qe?.consumerAllowSignalWrites!==!1}function sM(t){t.dirty=!0,qw(t),t.consumerMarkedDirty?.(t)}function pu(t){return t&&(t.nextProducerIndex=0),pe(t)}function Vf(t,e){if(pe(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(oa(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)gu(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Uf(t){mu(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(zw(n),r!==n.version))return!0}return!1}function jf(t){if(mu(t),oa(t))for(let e=0;e<t.producerNode.length;e++)gu(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Ww(t,e,n){if(Kw(t),t.liveConsumerNode.length===0&&Qw(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=Ww(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function gu(t,e){if(Kw(t),t.liveConsumerNode.length===1&&Qw(t))for(let r=0;r<t.producerNode.length;r++)gu(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];mu(i),i.producerIndexOfThis[r]=e}}function oa(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function mu(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function Kw(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function Qw(t){return t.producerNode!==void 0}function Yw(t){let e=Object.create(oM);e.computation=t;let n=()=>{if(zw(e),Lf(e),e.value===fu)throw e.error;return e.value};return n[Pn]=e,n}var kf=Symbol("UNSET"),Ff=Symbol("COMPUTING"),fu=Symbol("ERRORED"),oM=ae(k({},aa),{value:kf,dirty:!0,error:null,equal:$w,producerMustRecompute(t){return t.value===kf||t.value===Ff},producerRecomputeValue(t){if(t.value===Ff)throw new Error("Detected cycle in computations.");let e=t.value;t.value=Ff;let n=pu(t),r;try{r=t.computation()}catch(i){r=fu,t.error=i}finally{Vf(t,n)}if(e!==kf&&e!==fu&&r!==fu&&t.equal(e,r)){t.value=e;return}t.value=r,t.version++}});function aM(){throw new Error}var Jw=aM;function Zw(){Jw()}function Xw(t){Jw=t}var cM=null;function eE(t){let e=Object.create(nE);e.value=t;let n=()=>(Lf(e),e.value);return n[Pn]=e,n}function Bf(t,e){Gw()||Zw(),t.equal(t.value,e)||(t.value=e,uM(t))}function tE(t,e){Gw()||Zw(),Bf(t,e(t.value))}var nE=ae(k({},aa),{equal:$w,value:void 0});function uM(t){t.version++,iM(),qw(t),cM?.()}function te(t){return typeof t=="function"}function as(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var yu=as(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function fi(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Oe=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let s of n)s.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(te(r))try{r()}catch(s){e=s instanceof yu?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{rE(s)}catch(o){e=e??[],o instanceof yu?e=[...e,...o.errors]:e.push(o)}}if(e)throw new yu(e)}}add(e){var n;if(e&&e!==this)if(this.closed)rE(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&fi(n,e)}remove(e){let{_finalizers:n}=this;n&&fi(n,e),e instanceof t&&e._removeParent(this)}};Oe.EMPTY=(()=>{let t=new Oe;return t.closed=!0,t})();var $f=Oe.EMPTY;function vu(t){return t instanceof Oe||t&&"closed"in t&&te(t.remove)&&te(t.add)&&te(t.unsubscribe)}function rE(t){te(t)?t():t.unsubscribe()}var Zt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var cs={setTimeout(t,e,...n){let{delegate:r}=cs;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=cs;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function _u(t){cs.setTimeout(()=>{let{onUnhandledError:e}=Zt;if(e)e(t);else throw t})}function ca(){}var iE=Hf("C",void 0,void 0);function sE(t){return Hf("E",void 0,t)}function oE(t){return Hf("N",t,void 0)}function Hf(t,e,n){return{kind:t,value:e,error:n}}var pi=null;function us(t){if(Zt.useDeprecatedSynchronousErrorHandling){let e=!pi;if(e&&(pi={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=pi;if(pi=null,n)throw r}}else t()}function aE(t){Zt.useDeprecatedSynchronousErrorHandling&&pi&&(pi.errorThrown=!0,pi.error=t)}var gi=class extends Oe{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,vu(e)&&e.add(this)):this.destination=hM}static create(e,n,r){return new ls(e,n,r)}next(e){this.isStopped?qf(oE(e),this):this._next(e)}error(e){this.isStopped?qf(sE(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?qf(iE,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},lM=Function.prototype.bind;function zf(t,e){return lM.call(t,e)}var Gf=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Iu(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Iu(r)}else Iu(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Iu(n)}}},ls=class extends gi{constructor(e,n,r){super();let i;if(te(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&Zt.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&zf(e.next,s),error:e.error&&zf(e.error,s),complete:e.complete&&zf(e.complete,s)}):i=e}this.destination=new Gf(i)}};function Iu(t){Zt.useDeprecatedSynchronousErrorHandling?aE(t):_u(t)}function dM(t){throw t}function qf(t,e){let{onStoppedNotification:n}=Zt;n&&cs.setTimeout(()=>n(t,e))}var hM={closed:!0,next:ca,error:dM,complete:ca};var ds=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Mt(t){return t}function wu(...t){return Wf(t)}function Wf(t){return t.length===0?Mt:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var ie=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let s=pM(n)?n:new ls(n,r,i);return us(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=cE(r),new r((i,s)=>{let o=new ls({next:a=>{try{n(a)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[ds](){return this}pipe(...n){return Wf(n)(this)}toPromise(n){return n=cE(n),new n((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function cE(t){var e;return(e=t??Zt.Promise)!==null&&e!==void 0?e:Promise}function fM(t){return t&&te(t.next)&&te(t.error)&&te(t.complete)}function pM(t){return t&&t instanceof gi||fM(t)&&vu(t)}function Kf(t){return te(t?.lift)}function he(t){return e=>{if(Kf(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ue(t,e,n,r,i){return new Qf(t,e,n,r,i)}var Qf=class extends gi{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function hs(){return he((t,e)=>{let n=null;t._refCount++;let r=ue(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var fs=class extends ie{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Kf(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Oe;let n=this.getSubject();e.add(this.source.subscribe(ue(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Oe.EMPTY)}return e}refCount(){return hs()(this)}};var uE=as(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Xe=(()=>{class t extends ie{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Eu(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new uE}next(n){us(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){us(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){us(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:s}=this;return r||i?$f:(this.currentObservers=null,s.push(n),new Oe(()=>{this.currentObservers=null,fi(s,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){let n=new ie;return n.source=this,n}}return t.create=(e,n)=>new Eu(e,n),t})(),Eu=class extends Xe{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:$f}};var et=class extends Xe{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Yf={now(){return(Yf.delegate||Date).now()},delegate:void 0};var Du=class extends Oe{constructor(e,n){super()}schedule(e,n=0){return this}};var ua={setInterval(t,e,...n){let{delegate:r}=ua;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=ua;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var ps=class extends Du{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return ua.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&ua.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,fi(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var gs=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};gs.now=Yf.now;var ms=class extends gs{constructor(e,n=gs.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var Jf=new ms(ps);var Tu=class extends ps{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var bu=class extends ms{};var Zf=new bu(Tu);var xt=new ie(t=>t.complete());function lE(t){return t&&te(t.schedule)}function dE(t){return t[t.length-1]}function Cu(t){return te(dE(t))?t.pop():void 0}function _r(t){return lE(dE(t))?t.pop():void 0}function Xf(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function fE(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(h){try{l(r.next(h))}catch(p){o(p)}}function u(h){try{l(r.throw(h))}catch(p){o(p)}}function l(h){h.done?s(h.value):i(h.value).then(a,u)}l((r=r.apply(t,e||[])).next())})}function hE(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function mi(t){return this instanceof mi?(this.v=t,this):new mi(t)}function pE(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(y){return function(C){return Promise.resolve(C).then(y,p)}}function a(y,C){r[y]&&(i[y]=function(N){return new Promise(function(R,F){s.push([y,N,R,F])>1||u(y,N)})},C&&(i[y]=C(i[y])))}function u(y,C){try{l(r[y](C))}catch(N){m(s[0][3],N)}}function l(y){y.value instanceof mi?Promise.resolve(y.value.v).then(h,p):m(s[0][2],y)}function h(y){u("next",y)}function p(y){u("throw",y)}function m(y,C){y(C),s.shift(),s.length&&u(s[0][0],s[0][1])}}function gE(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof hE=="function"?hE(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,u){o=t[s](o),i(a,u,o.done,o.value)})}}function i(s,o,a,u){Promise.resolve(u).then(function(l){s({value:l,done:a})},o)}}var Au=t=>t&&typeof t.length=="number"&&typeof t!="function";function Su(t){return te(t?.then)}function Ru(t){return te(t[ds])}function Nu(t){return Symbol.asyncIterator&&te(t?.[Symbol.asyncIterator])}function Mu(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function gM(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var xu=gM();function Pu(t){return te(t?.[xu])}function Ou(t){return pE(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield mi(n.read());if(i)return yield mi(void 0);yield yield mi(r)}}finally{n.releaseLock()}})}function ku(t){return te(t?.getReader)}function Ve(t){if(t instanceof ie)return t;if(t!=null){if(Ru(t))return mM(t);if(Au(t))return yM(t);if(Su(t))return vM(t);if(Nu(t))return mE(t);if(Pu(t))return _M(t);if(ku(t))return IM(t)}throw Mu(t)}function mM(t){return new ie(e=>{let n=t[ds]();if(te(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function yM(t){return new ie(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function vM(t){return new ie(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,_u)})}function _M(t){return new ie(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function mE(t){return new ie(e=>{wM(t,e).catch(n=>e.error(n))})}function IM(t){return mE(Ou(t))}function wM(t,e){var n,r,i,s;return fE(this,void 0,void 0,function*(){try{for(n=gE(t);r=yield n.next(),!r.done;){let o=r.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})}function Dt(t,e,n,r=0,i=!1){let s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function Ir(t,e=0){return he((n,r)=>{n.subscribe(ue(r,i=>Dt(r,t,()=>r.next(i),e),()=>Dt(r,t,()=>r.complete(),e),i=>Dt(r,t,()=>r.error(i),e)))})}function wr(t,e=0){return he((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function yE(t,e){return Ve(t).pipe(wr(e),Ir(e))}function vE(t,e){return Ve(t).pipe(wr(e),Ir(e))}function _E(t,e){return new ie(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function IE(t,e){return new ie(n=>{let r;return Dt(n,e,()=>{r=t[xu](),Dt(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){n.error(o);return}s?n.complete():n.next(i)},0,!0)}),()=>te(r?.return)&&r.return()})}function Fu(t,e){if(!t)throw new Error("Iterable cannot be null");return new ie(n=>{Dt(n,e,()=>{let r=t[Symbol.asyncIterator]();Dt(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function wE(t,e){return Fu(Ou(t),e)}function EE(t,e){if(t!=null){if(Ru(t))return yE(t,e);if(Au(t))return _E(t,e);if(Su(t))return vE(t,e);if(Nu(t))return Fu(t,e);if(Pu(t))return IE(t,e);if(ku(t))return wE(t,e)}throw Mu(t)}function Ae(t,e){return e?EE(t,e):Ve(t)}function K(...t){let e=_r(t);return Ae(t,e)}function ys(t,e){let n=te(t)?t:()=>t,r=i=>i.error(n());return new ie(e?i=>e.schedule(r,0,i):r)}function ep(t){return!!t&&(t instanceof ie||te(t.lift)&&te(t.subscribe))}var On=as(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function J(t,e){return he((n,r)=>{let i=0;n.subscribe(ue(r,s=>{r.next(t.call(e,s,i++))}))})}var{isArray:EM}=Array;function DM(t,e){return EM(e)?t(...e):t(e)}function Lu(t){return J(e=>DM(t,e))}var{isArray:TM}=Array,{getPrototypeOf:bM,prototype:CM,keys:AM}=Object;function Vu(t){if(t.length===1){let e=t[0];if(TM(e))return{args:e,keys:null};if(SM(e)){let n=AM(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function SM(t){return t&&typeof t=="object"&&bM(t)===CM}function Uu(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function la(...t){let e=_r(t),n=Cu(t),{args:r,keys:i}=Vu(t);if(r.length===0)return Ae([],e);let s=new ie(RM(r,e,i?o=>Uu(i,o):Mt));return n?s.pipe(Lu(n)):s}function RM(t,e,n=Mt){return r=>{DE(e,()=>{let{length:i}=t,s=new Array(i),o=i,a=i;for(let u=0;u<i;u++)DE(e,()=>{let l=Ae(t[u],e),h=!1;l.subscribe(ue(r,p=>{s[u]=p,h||(h=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}function DE(t,e,n){t?Dt(n,t,e):e()}function TE(t,e,n,r,i,s,o,a){let u=[],l=0,h=0,p=!1,m=()=>{p&&!u.length&&!l&&e.complete()},y=N=>l<r?C(N):u.push(N),C=N=>{s&&e.next(N),l++;let R=!1;Ve(n(N,h++)).subscribe(ue(e,F=>{i?.(F),s?y(F):e.next(F)},()=>{R=!0},void 0,()=>{if(R)try{for(l--;u.length&&l<r;){let F=u.shift();o?Dt(e,o,()=>C(F)):C(F)}m()}catch(F){e.error(F)}}))};return t.subscribe(ue(e,y,()=>{p=!0,m()})),()=>{a?.()}}function Ue(t,e,n=1/0){return te(e)?Ue((r,i)=>J((s,o)=>e(r,s,i,o))(Ve(t(r,i))),n):(typeof e=="number"&&(n=e),he((r,i)=>TE(r,i,t,n)))}function vs(t=1/0){return Ue(Mt,t)}function bE(){return vs(1)}function _s(...t){return bE()(Ae(t,_r(t)))}function ju(t){return new ie(e=>{Ve(t()).subscribe(e)})}function tp(...t){let e=Cu(t),{args:n,keys:r}=Vu(t),i=new ie(s=>{let{length:o}=n;if(!o){s.complete();return}let a=new Array(o),u=o,l=o;for(let h=0;h<o;h++){let p=!1;Ve(n[h]).subscribe(ue(s,m=>{p||(p=!0,l--),a[h]=m},()=>u--,void 0,()=>{(!u||!p)&&(l||s.next(r?Uu(r,a):a),s.complete())}))}});return e?i.pipe(Lu(e)):i}function mt(t,e){return he((n,r)=>{let i=0;n.subscribe(ue(r,s=>t.call(e,s,i++)&&r.next(s)))})}function Er(t){return he((e,n)=>{let r=null,i=!1,s;r=e.subscribe(ue(n,void 0,void 0,o=>{s=Ve(t(o,Er(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function CE(t,e,n,r,i){return(s,o)=>{let a=n,u=e,l=0;s.subscribe(ue(o,h=>{let p=l++;u=a?t(u,h,p):(a=!0,h),r&&o.next(u)},i&&(()=>{a&&o.next(u),o.complete()})))}}function kn(t,e){return te(e)?Ue(t,e,1):Ue(t,1)}function Dr(t){return he((e,n)=>{let r=!1;e.subscribe(ue(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function Fn(t){return t<=0?()=>xt:he((e,n)=>{let r=0;e.subscribe(ue(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function np(t){return J(()=>t)}function Bu(t=NM){return he((e,n)=>{let r=!1;e.subscribe(ue(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function NM(){return new On}function Tr(t){return he((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function fn(t,e){let n=arguments.length>=2;return r=>r.pipe(t?mt((i,s)=>t(i,s,r)):Mt,Fn(1),n?Dr(e):Bu(()=>new On))}function Is(t){return t<=0?()=>xt:he((e,n)=>{let r=[];e.subscribe(ue(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function rp(t,e){let n=arguments.length>=2;return r=>r.pipe(t?mt((i,s)=>t(i,s,r)):Mt,Is(1),n?Dr(e):Bu(()=>new On))}function $u(t,e){return he(CE(t,e,arguments.length>=2,!0))}function Hu(...t){let e=_r(t);return he((n,r)=>{(e?_s(t,n,e):_s(t,n)).subscribe(r)})}function Tt(t,e){return he((n,r)=>{let i=null,s=0,o=!1,a=()=>o&&!i&&r.complete();n.subscribe(ue(r,u=>{i?.unsubscribe();let l=0,h=s++;Ve(t(u,h)).subscribe(i=ue(r,p=>r.next(e?e(u,p,h,l++):p),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function ip(t){return he((e,n)=>{Ve(t).subscribe(ue(n,()=>n.complete(),ca)),!n.closed&&e.subscribe(n)})}function je(t,e,n){let r=te(t)||e||n?{next:t,error:e,complete:n}:t;return r?he((i,s)=>{var o;(o=r.subscribe)===null||o===void 0||o.call(r);let a=!0;i.subscribe(ue(s,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),s.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),s.complete()},u=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,u),s.error(u)},()=>{var u,l;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):Mt}var dD="https://g.co/ng/security#xss",$=class extends Error{constructor(e,n){super(bl(e,n)),this.code=e}};function bl(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function Ia(t){return{toString:t}.toString()}var zu="__parameters__";function MM(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function hD(t,e,n){return Ia(()=>{let r=MM(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;let o=new i(...s);return a.annotation=o,a;function a(u,l,h){let p=u.hasOwnProperty(zu)?u[zu]:Object.defineProperty(u,zu,{value:[]})[zu];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(o),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var da=globalThis;function Te(t){for(let e in t)if(t[e]===Te)return e;throw Error("Could not find renamed property on target object.")}function xM(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function vt(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(vt).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function AE(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var PM=Te({__forward_ref__:Te});function Ct(t){return t.__forward_ref__=Ct,t.toString=function(){return vt(this())},t}function yt(t){return fD(t)?t():t}function fD(t){return typeof t=="function"&&t.hasOwnProperty(PM)&&t.__forward_ref__===Ct}function B(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function rn(t){return{providers:t.providers||[],imports:t.imports||[]}}function Cl(t){return SE(t,gD)||SE(t,mD)}function pD(t){return Cl(t)!==null}function SE(t,e){return t.hasOwnProperty(e)?t[e]:null}function OM(t){let e=t&&(t[gD]||t[mD]);return e||null}function RE(t){return t&&(t.hasOwnProperty(NE)||t.hasOwnProperty(kM))?t[NE]:null}var gD=Te({\u0275prov:Te}),NE=Te({\u0275inj:Te}),mD=Te({ngInjectableDef:Te}),kM=Te({ngInjectorDef:Te}),L=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=B({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function yD(t){return t&&!!t.\u0275providers}var FM=Te({\u0275cmp:Te}),LM=Te({\u0275dir:Te}),VM=Te({\u0275pipe:Te}),UM=Te({\u0275mod:Te}),Xu=Te({\u0275fac:Te}),fa=Te({__NG_ELEMENT_ID__:Te}),ME=Te({__NG_ENV_ID__:Te});function As(t){return typeof t=="string"?t:t==null?"":String(t)}function jM(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():As(t)}function BM(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new $(-200,t)}function cg(t,e){throw new $(-201,!1)}var se=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(se||{}),_p;function vD(){return _p}function bt(t){let e=_p;return _p=t,e}function _D(t,e,n){let r=Cl(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&se.Optional)return null;if(e!==void 0)return e;cg(t,"Injector")}var $M={},pa=$M,Ip="__NG_DI_FLAG__",el="ngTempTokenPath",HM="ngTokenPath",zM=/\n/gm,qM="\u0275",xE="__source",bs;function GM(){return bs}function br(t){let e=bs;return bs=t,e}function WM(t,e=se.Default){if(bs===void 0)throw new $(-203,!1);return bs===null?_D(t,void 0,e):bs.get(t,e&se.Optional?null:void 0,e)}function z(t,e=se.Default){return(vD()||WM)(yt(t),e)}function x(t,e=se.Default){return z(t,Al(e))}function Al(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function wp(t){let e=[];for(let n=0;n<t.length;n++){let r=yt(t[n]);if(Array.isArray(r)){if(r.length===0)throw new $(900,!1);let i,s=se.Default;for(let o=0;o<r.length;o++){let a=r[o],u=KM(a);typeof u=="number"?u===-1?i=a.token:s|=u:i=a}e.push(z(i,s))}else e.push(z(r))}return e}function ID(t,e){return t[Ip]=e,t.prototype[Ip]=e,t}function KM(t){return t[Ip]}function QM(t,e,n,r){let i=t[el];throw e[xE]&&i.unshift(e[xE]),t.message=YM(`
`+t.message,i,n,r),t[HM]=i,t[el]=null,t}function YM(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==qM?t.slice(2):t;let i=vt(e);if(Array.isArray(e))i=e.map(vt).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):vt(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(zM,`
  `)}`}var ut=ID(hD("Optional"),8);var ug=ID(hD("SkipSelf"),4);function _i(t,e){let n=t.hasOwnProperty(Xu);return n?t[Xu]:null}function lg(t,e){t.forEach(n=>Array.isArray(n)?lg(n,e):e(n))}function wD(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function tl(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function JM(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let s=i-2;t[i]=t[s],i--}t[e]=n,t[e+1]=r}}function ZM(t,e,n){let r=wa(t,e);return r>=0?t[r|1]=n:(r=~r,JM(t,r,e,n)),r}function sp(t,e){let n=wa(t,e);if(n>=0)return t[n|1]}function wa(t,e){return XM(t,e,1)}function XM(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}var Ss={},Vt=[],Rs=new L(""),ED=new L("",-1),DD=new L(""),nl=class{get(e,n=pa){if(n===pa){let r=new Error(`NullInjectorError: No provider for ${vt(e)}!`);throw r.name="NullInjectorError",r}return n}},TD=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(TD||{}),mn=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(mn||{}),Sr=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Sr||{});function ex(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function Ep(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{let s=i,o=n[++r];nx(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function tx(t){return t===3||t===4||t===6}function nx(t){return t.charCodeAt(0)===64}function ga(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?PE(t,n,i,null,e[++r]):PE(t,n,i,null,null))}}return t}function PE(t,e,n,r,i){let s=0,o=t.length;if(e===-1)o=-1;else for(;s<t.length;){let a=t[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<t.length;){let a=t[s];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[s+1]=i);return}else if(r===t[s+1]){t[s+2]=i;return}}s++,r!==null&&s++,i!==null&&s++}o!==-1&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),r!==null&&t.splice(s++,0,r),i!==null&&t.splice(s++,0,i)}var bD="ng-template";function rx(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&ex(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(dg(t))return!1;if(i=e.indexOf(1,i),i>-1){let s;for(;++i<e.length&&typeof(s=e[i])=="string";)if(s.toLowerCase()===n)return!0}return!1}function dg(t){return t.type===4&&t.value!==bD}function ix(t,e,n){let r=t.type===4&&!n?bD:t.value;return e===r}function sx(t,e,n){let r=4,i=t.attrs,s=i!==null?cx(i):0,o=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!o&&!Xt(r)&&!Xt(u))return!1;if(o&&Xt(u))continue;o=!1,r=u|r&1;continue}if(!o)if(r&4){if(r=2|r&1,u!==""&&!ix(t,u,n)||u===""&&e.length===1){if(Xt(r))return!1;o=!0}}else if(r&8){if(i===null||!rx(t,i,u,n)){if(Xt(r))return!1;o=!0}}else{let l=e[++a],h=ox(u,i,dg(t),n);if(h===-1){if(Xt(r))return!1;o=!0;continue}if(l!==""){let p;if(h>s?p="":p=i[h+1].toLowerCase(),r&2&&l!==p){if(Xt(r))return!1;o=!0}}}}return Xt(r)||o}function Xt(t){return(t&1)===0}function ox(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){let o=e[i];if(o===t)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return ux(e,t)}function ax(t,e,n=!1){for(let r=0;r<e.length;r++)if(sx(t,e[r],n))return!0;return!1}function cx(t){for(let e=0;e<t.length;e++){let n=t[e];if(tx(n))return e}return t.length}function ux(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function OE(t,e){return t?":not("+e.trim()+")":e}function lx(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if(typeof o=="string")if(r&2){let a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+o:r&4&&(i+=" "+o);else i!==""&&!Xt(o)&&(e+=OE(s,i),i=""),r=o,s=s||!Xt(r);n++}return i!==""&&(e+=OE(s,i)),e}function dx(t){return t.map(lx).join(",")}function hx(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let s=t[r];if(typeof s=="string")i===2?s!==""&&e.push(s,t[++r]):i===8&&n.push(s);else{if(!Xt(i))break;i=s}r++}return{attrs:e,classes:n}}function CD(t){return Ia(()=>{let e=MD(t),n=ae(k({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===TD.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||mn.Emulated,styles:t.styles||Vt,_:null,schemas:t.schemas||null,tView:null,id:""});xD(n);let r=t.dependencies;return n.directiveDefs=FE(r,!1),n.pipeDefs=FE(r,!0),n.id=gx(n),n})}function fx(t){return Rr(t)||AD(t)}function px(t){return t!==null}function sn(t){return Ia(()=>({type:t.type,bootstrap:t.bootstrap||Vt,declarations:t.declarations||Vt,imports:t.imports||Vt,exports:t.exports||Vt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function kE(t,e){if(t==null)return Ss;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],s,o,a=Sr.None;Array.isArray(i)?(a=i[0],s=i[1],o=i[2]??s):(s=i,o=i),e?(n[s]=a!==Sr.None?[r,a]:r,e[s]=o):n[s]=r}return n}function Ne(t){return Ia(()=>{let e=MD(t);return xD(e),e})}function hg(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function Rr(t){return t[FM]||null}function AD(t){return t[LM]||null}function SD(t){return t[VM]||null}function RD(t){let e=Rr(t)||AD(t)||SD(t);return e!==null?e.standalone:!1}function ND(t,e){let n=t[UM]||null;if(!n&&e===!0)throw new Error(`Type ${vt(t)} does not have '\u0275mod' property.`);return n}function MD(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Ss,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||Vt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:kE(t.inputs,e),outputs:kE(t.outputs),debugInfo:null}}function xD(t){t.features?.forEach(e=>e(t))}function FE(t,e){if(!t)return null;let n=e?SD:fx;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(px)}function gx(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function Bt(t){return{\u0275providers:t}}function mx(...t){return{\u0275providers:PD(!0,t),\u0275fromNgModule:!0}}function PD(t,...e){let n=[],r=new Set,i,s=o=>{n.push(o)};return lg(e,o=>{let a=o;Dp(a,s,[],r)&&(i||=[],i.push(a))}),i!==void 0&&OD(i,s),n}function OD(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];fg(i,s=>{e(s,r)})}}function Dp(t,e,n,r){if(t=yt(t),!t)return!1;let i=null,s=RE(t),o=!s&&Rr(t);if(!s&&!o){let u=t.ngModule;if(s=RE(u),s)i=u;else return!1}else{if(o&&!o.standalone)return!1;i=t}let a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){let u=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let l of u)Dp(l,e,n,r)}}else if(s){if(s.imports!=null&&!a){r.add(i);let l;try{lg(s.imports,h=>{Dp(h,e,n,r)&&(l||=[],l.push(h))})}finally{}l!==void 0&&OD(l,e)}if(!a){let l=_i(i)||(()=>new i);e({provide:i,useFactory:l,deps:Vt},i),e({provide:DD,useValue:i,multi:!0},i),e({provide:Rs,useValue:()=>z(i),multi:!0},i)}let u=s.providers;if(u!=null&&!a){let l=t;fg(u,h=>{e(h,l)})}}else return!1;return i!==t&&t.providers!==void 0}function fg(t,e){for(let n of t)yD(n)&&(n=n.\u0275providers),Array.isArray(n)?fg(n,e):e(n)}var yx=Te({provide:String,useValue:Te});function kD(t){return t!==null&&typeof t=="object"&&yx in t}function vx(t){return!!(t&&t.useExisting)}function _x(t){return!!(t&&t.useFactory)}function Ns(t){return typeof t=="function"}function Ix(t){return!!t.useClass}var Sl=new L(""),Ku={},wx={},op;function pg(){return op===void 0&&(op=new nl),op}var _t=class{},ma=class extends _t{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,bp(e,o=>this.processProvider(o)),this.records.set(ED,ws(void 0,this)),i.has("environment")&&this.records.set(_t,ws(void 0,this));let s=this.records.get(Sl);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(DD,Vt,se.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=pe(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),pe(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=br(this),r=bt(void 0),i;try{return e()}finally{br(n),bt(r)}}get(e,n=pa,r=se.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(ME))return e[ME](this);r=Al(r);let i,s=br(this),o=bt(void 0);try{if(!(r&se.SkipSelf)){let u=this.records.get(e);if(u===void 0){let l=Cx(e)&&Cl(e);l&&this.injectableDefInScope(l)?u=ws(Tp(e),Ku):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let a=r&se.Self?pg():this.parent;return n=r&se.Optional&&n===pa?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[el]=a[el]||[]).unshift(vt(e)),s)throw a;return QM(a,e,"R3InjectorError",this.source)}else throw a}finally{bt(o),br(s)}}resolveInjectorInitializers(){let e=pe(null),n=br(this),r=bt(void 0),i;try{let s=this.get(Rs,Vt,se.Self);for(let o of s)o()}finally{br(n),bt(r),pe(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(vt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new $(205,!1)}processProvider(e){e=yt(e);let n=Ns(e)?e:yt(e&&e.provide),r=Dx(e);if(!Ns(e)&&e.multi===!0){let i=this.records.get(n);i||(i=ws(void 0,Ku,!0),i.factory=()=>wp(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=pe(null);try{return n.value===Ku&&(n.value=wx,n.value=n.factory()),typeof n.value=="object"&&n.value&&bx(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{pe(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=yt(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Tp(t){let e=Cl(t),n=e!==null?e.factory:_i(t);if(n!==null)return n;if(t instanceof L)throw new $(204,!1);if(t instanceof Function)return Ex(t);throw new $(204,!1)}function Ex(t){if(t.length>0)throw new $(204,!1);let n=OM(t);return n!==null?()=>n.factory(t):()=>new t}function Dx(t){if(kD(t))return ws(void 0,t.useValue);{let e=FD(t);return ws(e,Ku)}}function FD(t,e,n){let r;if(Ns(t)){let i=yt(t);return _i(i)||Tp(i)}else if(kD(t))r=()=>yt(t.useValue);else if(_x(t))r=()=>t.useFactory(...wp(t.deps||[]));else if(vx(t))r=()=>z(yt(t.useExisting));else{let i=yt(t&&(t.useClass||t.provide));if(Tx(t))r=()=>new i(...wp(t.deps));else return _i(i)||Tp(i)}return r}function ws(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Tx(t){return!!t.deps}function bx(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function Cx(t){return typeof t=="function"||typeof t=="object"&&t instanceof L}function bp(t,e){for(let n of t)Array.isArray(n)?bp(n,e):n&&yD(n)?bp(n.\u0275providers,e):e(n)}function $t(t,e){t instanceof ma&&t.assertNotDestroyed();let n,r=br(t),i=bt(void 0);try{return e()}finally{br(r),bt(i)}}function LD(){return vD()!==void 0||GM()!=null}function Ax(t){if(!LD())throw new $(-203,!1)}function Sx(t){return typeof t=="function"}var jn=0,ce=1,Z=2,It=3,en=4,on=5,rl=6,il=7,tn=8,Ms=9,yn=10,Ge=11,ya=12,LE=13,js=14,vn=15,xs=16,Es=17,Ps=18,Rl=19,VD=20,Cr=21,ap=22,Ut=23,nn=25,UD=1;var Ii=7,sl=8,ol=9,jt=10,al=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(al||{});function Ar(t){return Array.isArray(t)&&typeof t[UD]=="object"}function Bn(t){return Array.isArray(t)&&t[UD]===!0}function jD(t){return(t.flags&4)!==0}function Nl(t){return t.componentOffset>-1}function gg(t){return(t.flags&1)===1}function Nr(t){return!!t.template}function Cp(t){return(t[Z]&512)!==0}var Ap=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function BD(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function $n(){return $D}function $D(t){return t.type.prototype.ngOnChanges&&(t.setInput=Nx),Rx}$n.ngInherit=!0;function Rx(){let t=zD(this),e=t?.current;if(e){let n=t.previous;if(n===Ss)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function Nx(t,e,n,r,i){let s=this.declaredInputs[r],o=zD(t)||Mx(t,{previous:Ss,current:null}),a=o.current||(o.current={}),u=o.previous,l=u[s];a[s]=new Ap(l&&l.currentValue,n,u===Ss),BD(t,e,i,n)}var HD="__ngSimpleChanges__";function zD(t){return t[HD]||null}function Mx(t,e){return t[HD]=e}var VE=null;var pn=function(t,e,n){VE?.(t,e,n)},xx="svg",Px="math";function _n(t){for(;Array.isArray(t);)t=t[jn];return t}function qD(t,e){return _n(e[t])}function Ht(t,e){return _n(e[t.index])}function GD(t,e){return t.data[e]}function WD(t,e){return t[e]}function Pr(t,e){let n=e[t];return Ar(n)?n:n[jn]}function mg(t){return(t[Z]&128)===128}function Ox(t){return Bn(t[It])}function cl(t,e){return e==null?null:t[e]}function KD(t){t[Es]=0}function QD(t){t[Z]&1024||(t[Z]|=1024,mg(t)&&xl(t))}function kx(t,e){for(;t>0;)e=e[js],t--;return e}function Ml(t){return!!(t[Z]&9216||t[Ut]?.dirty)}function Sp(t){t[yn].changeDetectionScheduler?.notify(8),t[Z]&64&&(t[Z]|=1024),Ml(t)&&xl(t)}function xl(t){t[yn].changeDetectionScheduler?.notify(0);let e=wi(t);for(;e!==null&&!(e[Z]&8192||(e[Z]|=8192,!mg(e)));)e=wi(e)}function YD(t,e){if((t[Z]&256)===256)throw new $(911,!1);t[Cr]===null&&(t[Cr]=[]),t[Cr].push(e)}function Fx(t,e){if(t[Cr]===null)return;let n=t[Cr].indexOf(e);n!==-1&&t[Cr].splice(n,1)}function wi(t){let e=t[It];return Bn(e)?e[It]:e}var oe={lFrame:oT(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var JD=!1;function Lx(){return oe.lFrame.elementDepthCount}function Vx(){oe.lFrame.elementDepthCount++}function Ux(){oe.lFrame.elementDepthCount--}function ZD(){return oe.bindingsEnabled}function jx(){return oe.skipHydrationRootTNode!==null}function Bx(t){return oe.skipHydrationRootTNode===t}function $x(){oe.skipHydrationRootTNode=null}function ve(){return oe.lFrame.lView}function At(){return oe.lFrame.tView}function D6(t){return oe.lFrame.contextLView=t,t[tn]}function T6(t){return oe.lFrame.contextLView=null,t}function St(){let t=XD();for(;t!==null&&t.type===64;)t=t.parent;return t}function XD(){return oe.lFrame.currentTNode}function Hx(){let t=oe.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Ea(t,e){let n=oe.lFrame;n.currentTNode=t,n.isParent=e}function eT(){return oe.lFrame.isParent}function zx(){oe.lFrame.isParent=!1}function tT(){return JD}function UE(t){JD=t}function Pl(){let t=oe.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function qx(){return oe.lFrame.bindingIndex}function Gx(t){return oe.lFrame.bindingIndex=t}function Ol(){return oe.lFrame.bindingIndex++}function nT(t){let e=oe.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function Wx(){return oe.lFrame.inI18n}function Kx(t,e){let n=oe.lFrame;n.bindingIndex=n.bindingRootIndex=t,Rp(e)}function Qx(){return oe.lFrame.currentDirectiveIndex}function Rp(t){oe.lFrame.currentDirectiveIndex=t}function Yx(t){let e=oe.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function rT(t){oe.lFrame.currentQueryIndex=t}function Jx(t){let e=t[ce];return e.type===2?e.declTNode:e.type===1?t[on]:null}function iT(t,e,n){if(n&se.SkipSelf){let i=e,s=t;for(;i=i.parent,i===null&&!(n&se.Host);)if(i=Jx(s),i===null||(s=s[js],i.type&10))break;if(i===null)return!1;e=i,t=s}let r=oe.lFrame=sT();return r.currentTNode=e,r.lView=t,!0}function yg(t){let e=sT(),n=t[ce];oe.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function sT(){let t=oe.lFrame,e=t===null?null:t.child;return e===null?oT(t):e}function oT(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function aT(){let t=oe.lFrame;return oe.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var cT=aT;function vg(){let t=aT();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Zx(t){return(oe.lFrame.contextLView=kx(t,oe.lFrame.contextLView))[tn]}function Ai(){return oe.lFrame.selectedIndex}function Ei(t){oe.lFrame.selectedIndex=t}function _g(){let t=oe.lFrame;return GD(t.tView,t.selectedIndex)}function Xx(){return oe.lFrame.currentNamespace}var uT=!0;function Ig(){return uT}function wg(t){uT=t}function eP(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let o=$D(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}function Eg(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:h}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),h!=null&&(t.destroyHooks??=[]).push(n,h)}}function Qu(t,e,n){lT(t,e,3,n)}function Yu(t,e,n,r){(t[Z]&3)===n&&lT(t,e,n,r)}function cp(t,e){let n=t[Z];(n&3)===e&&(n&=16383,n+=1,t[Z]=n)}function lT(t,e,n,r){let i=r!==void 0?t[Es]&65535:0,s=r??-1,o=e.length-1,a=0;for(let u=i;u<o;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(t[Es]+=65536),(a<s||s==-1)&&(tP(t,n,e,u),t[Es]=(t[Es]&4294901760)+u+2),u++}function jE(t,e){pn(4,t,e);let n=pe(null);try{e.call(t)}finally{pe(n),pn(5,t,e)}}function tP(t,e,n,r){let i=n[r]<0,s=n[r+1],o=i?-n[r]:n[r],a=t[o];i?t[Z]>>14<t[Es]>>16&&(t[Z]&3)===e&&(t[Z]+=16384,jE(a,s)):jE(a,s)}var Cs=-1,Di=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function nP(t){return t instanceof Di}function rP(t){return(t.flags&8)!==0}function iP(t){return(t.flags&16)!==0}var up={},Np=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Al(r);let i=this.injector.get(e,up,r);return i!==up||n===up?i:this.parentInjector.get(e,n,r)}};function dT(t){return t!==Cs}function ul(t){return t&32767}function sP(t){return t>>16}function ll(t,e){let n=sP(t),r=e;for(;n>0;)r=r[js],n--;return r}var Mp=!0;function dl(t){let e=Mp;return Mp=t,e}var oP=256,hT=oP-1,fT=5,aP=0,gn={};function cP(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(fa)&&(r=n[fa]),r==null&&(r=n[fa]=aP++);let i=r&hT,s=1<<i;e.data[t+(i>>fT)]|=s}function hl(t,e){let n=pT(t,e);if(n!==-1)return n;let r=e[ce];r.firstCreatePass&&(t.injectorIndex=e.length,lp(r.data,t),lp(e,null),lp(r.blueprint,null));let i=Dg(t,e),s=t.injectorIndex;if(dT(i)){let o=ul(i),a=ll(i,e),u=a[ce].data;for(let l=0;l<8;l++)e[s+l]=a[o+l]|u[o+l]}return e[s+8]=i,s}function lp(t,e){t.push(0,0,0,0,0,0,0,0,e)}function pT(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Dg(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=_T(i),r===null)return Cs;if(n++,i=i[js],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Cs}function xp(t,e,n){cP(t,e,n)}function gT(t,e,n){if(n&se.Optional||t!==void 0)return t;cg(e,"NodeInjector")}function mT(t,e,n,r){if(n&se.Optional&&r===void 0&&(r=null),!(n&(se.Self|se.Host))){let i=t[Ms],s=bt(void 0);try{return i?i.get(e,r,n&se.Optional):_D(e,r,n&se.Optional)}finally{bt(s)}}return gT(r,e,n)}function yT(t,e,n,r=se.Default,i){if(t!==null){if(e[Z]&2048&&!(r&se.Self)){let o=fP(t,e,n,r,gn);if(o!==gn)return o}let s=vT(t,e,n,r,gn);if(s!==gn)return s}return mT(e,n,r,i)}function vT(t,e,n,r,i){let s=dP(n);if(typeof s=="function"){if(!iT(e,t,r))return r&se.Host?gT(i,n,r):mT(e,n,r,i);try{let o;if(o=s(r),o==null&&!(r&se.Optional))cg(n);else return o}finally{cT()}}else if(typeof s=="number"){let o=null,a=pT(t,e),u=Cs,l=r&se.Host?e[vn][on]:null;for((a===-1||r&se.SkipSelf)&&(u=a===-1?Dg(t,e):e[a+8],u===Cs||!$E(r,!1)?a=-1:(o=e[ce],a=ul(u),e=ll(u,e)));a!==-1;){let h=e[ce];if(BE(s,a,h.data)){let p=uP(a,e,n,o,r,l);if(p!==gn)return p}u=e[a+8],u!==Cs&&$E(r,e[ce].data[a+8]===l)&&BE(s,a,e)?(o=h,a=ul(u),e=ll(u,e)):a=-1}}return i}function uP(t,e,n,r,i,s){let o=e[ce],a=o.data[t+8],u=r==null?Nl(a)&&Mp:r!=o&&(a.type&3)!==0,l=i&se.Host&&s===a,h=lP(a,o,n,u,l);return h!==null?Os(e,o,h,a):gn}function lP(t,e,n,r,i){let s=t.providerIndexes,o=e.data,a=s&1048575,u=t.directiveStart,l=t.directiveEnd,h=s>>20,p=r?a:a+h,m=i?a+h:l;for(let y=p;y<m;y++){let C=o[y];if(y<u&&n===C||y>=u&&C.type===n)return y}if(i){let y=o[u];if(y&&Nr(y)&&y.type===n)return u}return null}function Os(t,e,n,r){let i=t[n],s=e.data;if(nP(i)){let o=i;o.resolving&&BM(jM(s[n]));let a=dl(o.canSeeViewProviders);o.resolving=!0;let u,l=o.injectImpl?bt(o.injectImpl):null,h=iT(t,r,se.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&eP(n,s[n],e)}finally{l!==null&&bt(l),dl(a),o.resolving=!1,cT()}}return i}function dP(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(fa)?t[fa]:void 0;return typeof e=="number"?e>=0?e&hT:hP:e}function BE(t,e,n){let r=1<<t;return!!(n[e+(t>>fT)]&r)}function $E(t,e){return!(t&se.Self)&&!(t&se.Host&&e)}var vi=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return yT(this._tNode,this._lView,e,Al(r),n)}};function hP(){return new vi(St(),ve())}function Hn(t){return Ia(()=>{let e=t.prototype.constructor,n=e[Xu]||Pp(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let s=i[Xu]||Pp(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function Pp(t){return fD(t)?()=>{let e=Pp(yt(t));return e&&e()}:_i(t)}function fP(t,e,n,r,i){let s=t,o=e;for(;s!==null&&o!==null&&o[Z]&2048&&!(o[Z]&512);){let a=vT(s,o,n,r|se.Self,gn);if(a!==gn)return a;let u=s.parent;if(!u){let l=o[VD];if(l){let h=l.get(n,gn,r);if(h!==gn)return h}u=_T(o),o=o[js]}s=u}return i}function _T(t){let e=t[ce],n=e.type;return n===2?e.declTNode:n===1?t[on]:null}function HE(t,e=null,n=null,r){let i=IT(t,e,n,r);return i.resolveInjectorInitializers(),i}function IT(t,e=null,n=null,r,i=new Set){let s=[n||Vt,mx(t)];return r=r||(typeof t=="object"?void 0:vt(t)),new ma(s,e||pg(),r||null,i)}var Ke=class t{static{this.THROW_IF_NOT_FOUND=pa}static{this.NULL=new nl}static create(e,n){if(Array.isArray(e))return HE({name:""},n,e,"");{let r=e.name??"";return HE({name:r},e.parent,e.providers,r)}}static{this.\u0275prov=B({token:t,providedIn:"any",factory:()=>z(ED)})}static{this.__NG_ELEMENT_ID__=-1}};var pP=new L("");pP.__NG_ELEMENT_ID__=t=>{let e=St();if(e===null)throw new $(204,!1);if(e.type&2)return e.value;if(t&se.Optional)return null;throw new $(204,!1)};var gP="ngOriginalError";function dp(t){return t[gP]}var wT=!0,Tg=(()=>{class t{static{this.__NG_ELEMENT_ID__=mP}static{this.__NG_ENV_ID__=n=>n}}return t})(),Op=class extends Tg{constructor(e){super(),this._lView=e}onDestroy(e){return YD(this._lView,e),()=>Fx(this._lView,e)}};function mP(){return new Op(ve())}var zn=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new et(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=B({token:t,providedIn:"root",factory:()=>new t})}}return t})();var kp=class extends Xe{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,LD()&&(this.destroyRef=x(Tg,{optional:!0})??void 0,this.pendingTasks=x(zn,{optional:!0})??void 0)}emit(e){let n=pe(null);try{super.next(e)}finally{pe(n)}}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=this.wrapInTimeout(s),i&&(i=this.wrapInTimeout(i)),o&&(o=this.wrapInTimeout(o)));let a=super.subscribe({next:i,error:s,complete:o});return e instanceof Oe&&e.add(a),a}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(n),r!==void 0&&this.pendingTasks?.remove(r)})}}},ke=kp;function fl(...t){}function ET(t){let e,n;function r(){t=fl;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function zE(t){return queueMicrotask(()=>t()),()=>{t=fl}}var bg="isAngularZone",pl=bg+"_ID",yP=0,me=class t{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ke(!1),this.onMicrotaskEmpty=new ke(!1),this.onStable=new ke(!1),this.onError=new ke(!1);let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:s=wT}=e;if(typeof Zone>"u")throw new $(908,!1);Zone.assertZonePatched();let o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!i&&r,o.shouldCoalesceRunChangeDetection=i,o.callbackScheduled=!1,o.scheduleInRootZone=s,IP(o)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(bg)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new $(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new $(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,vP,fl,fl);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},vP={};function Cg(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function _P(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){ET(()=>{t.callbackScheduled=!1,Fp(t),t.isCheckStableRunning=!0,Cg(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),Fp(t)}function IP(t){let e=()=>{_P(t)},n=yP++;t._inner=t._inner.fork({name:"angular",properties:{[bg]:!0,[pl]:n,[pl+n]:!0},onInvokeTask:(r,i,s,o,a,u)=>{if(wP(u))return r.invokeTask(s,o,a,u);try{return qE(t),r.invokeTask(s,o,a,u)}finally{(t.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),GE(t)}},onInvoke:(r,i,s,o,a,u,l)=>{try{return qE(t),r.invoke(s,o,a,u,l)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!EP(u)&&e(),GE(t)}},onHasTask:(r,i,s,o)=>{r.hasTask(s,o),i===s&&(o.change=="microTask"?(t._hasPendingMicrotasks=o.microTask,Fp(t),Cg(t)):o.change=="macroTask"&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(r,i,s,o)=>(r.handleError(s,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}function Fp(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function qE(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function GE(t){t._nesting--,Cg(t)}var Lp=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ke,this.onMicrotaskEmpty=new ke,this.onStable=new ke,this.onError=new ke}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function wP(t){return DT(t,"__ignore_ng_zone__")}function EP(t){return DT(t,"__scheduler_tick__")}function DT(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var Ln=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&dp(e);for(;n&&dp(n);)n=dp(n);return n||null}},DP=new L("",{providedIn:"root",factory:()=>{let t=x(me),e=x(Ln);return n=>t.runOutsideAngular(()=>e.handleError(n))}});function TP(){return kl(St(),ve())}function kl(t,e){return new qn(Ht(t,e))}var qn=(()=>{class t{constructor(n){this.nativeElement=n}static{this.__NG_ELEMENT_ID__=TP}}return t})();function TT(t){return(t.flags&128)===128}var bT=new Map,bP=0;function CP(){return bP++}function AP(t){bT.set(t[Rl],t)}function Vp(t){bT.delete(t[Rl])}var WE="__ngContext__";function Ti(t,e){Ar(e)?(t[WE]=e[Rl],AP(e)):t[WE]=e}function CT(t){return ST(t[ya])}function AT(t){return ST(t[en])}function ST(t){for(;t!==null&&!Bn(t);)t=t[en];return t}var Up;function RT(t){Up=t}function SP(){if(Up!==void 0)return Up;if(typeof document<"u")return document;throw new $(210,!1)}var Ag=new L("",{providedIn:"root",factory:()=>RP}),RP="ng",Sg=new L(""),zt=new L("",{providedIn:"platform",factory:()=>"unknown"});var Rg=new L("",{providedIn:"root",factory:()=>SP().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var NP="h",MP="b";var xP=()=>null;function Ng(t,e,n=!1){return xP(t,e,n)}var NT=!1,PP=new L("",{providedIn:"root",factory:()=>NT});var gl=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${dD})`}};function Fl(t){return t instanceof gl?t.changingThisBreaksApplicationSecurity:t}function MT(t,e){let n=OP(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${dD})`)}return n===e}function OP(t){return t instanceof gl&&t.getTypeName()||null}var kP=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function xT(t){return t=String(t),t.match(kP)?t:"unsafe:"+t}var Mg=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Mg||{});function b6(t){let e=FP();return e?e.sanitize(Mg.URL,t)||"":MT(t,"URL")?Fl(t):xT(As(t))}function FP(){let t=ve();return t&&t[yn].sanitizer}function PT(t){return t instanceof Function?t():t}function LP(t){return(t??x(Ke)).get(zt)==="browser"}var Vn=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Vn||{}),VP;function xg(t,e){return VP(t,e)}function Ds(t,e,n,r,i){if(r!=null){let s,o=!1;Bn(r)?s=r:Ar(r)&&(o=!0,r=r[jn]);let a=_n(r);t===0&&n!==null?i==null?VT(e,n,a):ml(e,n,a,i||null,!0):t===1&&n!==null?ml(e,n,a,i||null,!0):t===2?XP(e,a,o):t===3&&e.destroyNode(a),s!=null&&tO(e,t,s,n,i)}}function UP(t,e){return t.createText(e)}function jP(t,e,n){t.setValue(e,n)}function OT(t,e,n){return t.createElement(e,n)}function BP(t,e){kT(t,e),e[jn]=null,e[on]=null}function $P(t,e,n,r,i,s){r[jn]=i,r[on]=e,Ll(t,r,n,1,i,s)}function kT(t,e){e[yn].changeDetectionScheduler?.notify(9),Ll(t,e,e[Ge],2,null,null)}function HP(t){let e=t[ya];if(!e)return hp(t[ce],t);for(;e;){let n=null;if(Ar(e))n=e[ya];else{let r=e[jt];r&&(n=r)}if(!n){for(;e&&!e[en]&&e!==t;)Ar(e)&&hp(e[ce],e),e=e[It];e===null&&(e=t),Ar(e)&&hp(e[ce],e),n=e&&e[en]}e=n}}function zP(t,e,n,r){let i=jt+r,s=n.length;r>0&&(n[i-1][en]=e),r<s-jt?(e[en]=n[i],wD(n,jt+r,e)):(n.push(e),e[en]=null),e[It]=n;let o=e[xs];o!==null&&n!==o&&FT(o,e);let a=e[Ps];a!==null&&a.insertView(t),Sp(e),e[Z]|=128}function FT(t,e){let n=t[ol],r=e[It];if(Ar(r))t[Z]|=al.HasTransplantedViews;else{let i=r[It][vn];e[vn]!==i&&(t[Z]|=al.HasTransplantedViews)}n===null?t[ol]=[e]:n.push(e)}function Pg(t,e){let n=t[ol],r=n.indexOf(e);n.splice(r,1)}function jp(t,e){if(t.length<=jt)return;let n=jt+e,r=t[n];if(r){let i=r[xs];i!==null&&i!==t&&Pg(i,r),e>0&&(t[n-1][en]=r[en]);let s=tl(t,jt+e);BP(r[ce],r);let o=s[Ps];o!==null&&o.detachView(s[ce]),r[It]=null,r[en]=null,r[Z]&=-129}return r}function LT(t,e){if(!(e[Z]&256)){let n=e[Ge];n.destroyNode&&Ll(t,e,n,3,null,null),HP(e)}}function hp(t,e){if(e[Z]&256)return;let n=pe(null);try{e[Z]&=-129,e[Z]|=256,e[Ut]&&jf(e[Ut]),GP(t,e),qP(t,e),e[ce].type===1&&e[Ge].destroy();let r=e[xs];if(r!==null&&Bn(e[It])){r!==e[It]&&Pg(r,e);let i=e[Ps];i!==null&&i.detachView(t)}Vp(e)}finally{pe(n)}}function qP(t,e){let n=t.cleanup,r=e[il];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else{let o=r[n[s+1]];n[s].call(o)}r!==null&&(e[il]=null);let i=e[Cr];if(i!==null){e[Cr]=null;for(let s=0;s<i.length;s++){let o=i[s];o()}}}function GP(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof Di)){let s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=i[s[o]],u=s[o+1];pn(4,a,u);try{u.call(a)}finally{pn(5,a,u)}}else{pn(4,i,s);try{s.call(i)}finally{pn(5,i,s)}}}}}function WP(t,e,n){return KP(t,e.parent,n)}function KP(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[jn];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:s}=t.data[r.directiveStart+i];if(s===mn.None||s===mn.Emulated)return null}return Ht(r,n)}}function ml(t,e,n,r,i){t.insertBefore(e,n,r,i)}function VT(t,e,n){t.appendChild(e,n)}function KE(t,e,n,r,i){r!==null?ml(t,e,n,r,i):VT(t,e,n)}function UT(t,e){return t.parentNode(e)}function QP(t,e){return t.nextSibling(e)}function YP(t,e,n){return ZP(t,e,n)}function JP(t,e,n){return t.type&40?Ht(t,n):null}var ZP=JP,QE;function Og(t,e,n,r){let i=WP(t,r,e),s=e[Ge],o=r.parent||e[on],a=YP(o,r,e);if(i!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)KE(s,i,n[u],a,!1);else KE(s,i,n,a,!1);QE!==void 0&&QE(s,r,e,n,i)}function ha(t,e){if(e!==null){let n=e.type;if(n&3)return Ht(e,t);if(n&4)return Bp(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return ha(t,r);{let i=t[e.index];return Bn(i)?Bp(-1,i):_n(i)}}else{if(n&128)return ha(t,e.next);if(n&32)return xg(e,t)()||_n(t[e.index]);{let r=jT(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=wi(t[vn]);return ha(i,r)}else return ha(t,e.next)}}}return null}function jT(t,e){if(e!==null){let r=t[vn][on],i=e.projection;return r.projection[i]}return null}function Bp(t,e){let n=jt+t+1;if(n<e.length){let r=e[n],i=r[ce].firstChild;if(i!==null)return ha(r,i)}return e[Ii]}function XP(t,e,n){t.removeChild(null,e,n)}function kg(t,e,n,r,i,s,o){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=r[n.index],u=n.type;if(o&&e===0&&(a&&Ti(_n(a),r),n.flags|=2),(n.flags&32)!==32)if(u&8)kg(t,e,n.child,r,i,s,!1),Ds(e,t,i,a,s);else if(u&32){let l=xg(n,r),h;for(;h=l();)Ds(e,t,i,h,s);Ds(e,t,i,a,s)}else u&16?eO(t,e,r,n,i,s):Ds(e,t,i,a,s);n=o?n.projectionNext:n.next}}function Ll(t,e,n,r,i,s){kg(n,r,t.firstChild,e,i,s,!1)}function eO(t,e,n,r,i,s){let o=n[vn],u=o[on].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let h=u[l];Ds(e,t,i,h,s)}else{let l=u,h=o[It];TT(r)&&(l.flags|=128),kg(t,e,l,h,i,s,!0)}}function tO(t,e,n,r,i){let s=n[Ii],o=_n(n);s!==o&&Ds(e,t,r,s,i);for(let a=jt;a<n.length;a++){let u=n[a];Ll(u[ce],u,t,e,r,s)}}function nO(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=r.indexOf("-")===-1?void 0:Vn.DashCase;i==null?t.removeStyle(n,r,s):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=Vn.Important),t.setStyle(n,r,i,s))}}function rO(t,e,n){t.setAttribute(e,"style",n)}function BT(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function $T(t,e,n){let{mergedAttrs:r,classes:i,styles:s}=n;r!==null&&Ep(t,e,r),i!==null&&BT(t,e,i),s!==null&&rO(t,e,s)}var Gn={};function C6(t=1){HT(At(),ve(),Ai()+t,!1)}function HT(t,e,n,r){if(!r)if((e[Z]&3)===3){let s=t.preOrderCheckHooks;s!==null&&Qu(e,s,n)}else{let s=t.preOrderHooks;s!==null&&Yu(e,s,0,n)}Ei(n)}function q(t,e=se.Default){let n=ve();if(n===null)return z(t,e);let r=St();return yT(r,n,yt(t),e)}function zT(){let t="invalid";throw new Error(t)}function qT(t,e,n,r,i,s){let o=pe(null);try{let a=null;i&Sr.SignalBased&&(a=e[r][Pn]),a!==null&&a.transformFn!==void 0&&(s=a.transformFn(s)),i&Sr.HasDecoratorInputTransform&&(s=t.inputTransforms[r].call(e,s)),t.setInput!==null?t.setInput(e,a,s,n,r):BD(e,a,r,s)}finally{pe(o)}}function iO(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)Ei(~i);else{let s=i,o=n[++r],a=n[++r];Kx(o,s);let u=e[s];a(2,u)}}}finally{Ei(-1)}}function Vl(t,e,n,r,i,s,o,a,u,l,h){let p=e.blueprint.slice();return p[jn]=i,p[Z]=r|4|128|8|64,(l!==null||t&&t[Z]&2048)&&(p[Z]|=2048),KD(p),p[It]=p[js]=t,p[tn]=n,p[yn]=o||t&&t[yn],p[Ge]=a||t&&t[Ge],p[Ms]=u||t&&t[Ms]||null,p[on]=s,p[Rl]=CP(),p[rl]=h,p[VD]=l,p[vn]=e.type==2?t[vn]:p,p}function Ul(t,e,n,r,i){let s=t.data[e];if(s===null)s=sO(t,e,n,r,i),Wx()&&(s.flags|=32);else if(s.type&64){s.type=n,s.value=r,s.attrs=i;let o=Hx();s.injectorIndex=o===null?-1:o.injectorIndex}return Ea(s,!0),s}function sO(t,e,n,r,i){let s=XD(),o=eT(),a=o?s:s&&s.parent,u=t.data[e]=lO(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=u),s!==null&&(o?s.child==null&&u.parent!==null&&(s.child=u):s.next===null&&(s.next=u,u.prev=s)),u}function GT(t,e,n,r){if(n===0)return-1;let i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function WT(t,e,n,r,i){let s=Ai(),o=r&2;try{Ei(-1),o&&e.length>nn&&HT(t,e,nn,!1),pn(o?2:0,i),n(r,i)}finally{Ei(s),pn(o?3:1,i)}}function KT(t,e,n){if(jD(e)){let r=pe(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){let a=t.data[o];if(a.contentQueries){let u=n[o];a.contentQueries(1,u,o)}}}finally{pe(r)}}}function QT(t,e,n){ZD()&&(mO(t,e,n,Ht(n,e)),(n.flags&64)===64&&tb(t,e,n))}function YT(t,e,n=Ht){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let o=r[s+1],a=o===-1?n(e,t):t[o];t[i++]=a}}}function JT(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Fg(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Fg(t,e,n,r,i,s,o,a,u,l,h){let p=nn+r,m=p+i,y=oO(p,m),C=typeof l=="function"?l():l;return y[ce]={type:t,blueprint:y,template:n,queries:null,viewQuery:a,declTNode:e,data:y.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:u,consts:C,incompleteFirstPass:!1,ssrId:h}}function oO(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:Gn);return n}function aO(t,e,n,r){let s=r.get(PP,NT)||n===mn.ShadowDom,o=t.selectRootElement(e,s);return cO(o),o}function cO(t){uO(t)}var uO=()=>null;function lO(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return jx()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function YE(t,e,n,r,i){for(let s in e){if(!e.hasOwnProperty(s))continue;let o=e[s];if(o===void 0)continue;r??={};let a,u=Sr.None;Array.isArray(o)?(a=o[0],u=o[1]):a=o;let l=s;if(i!==null){if(!i.hasOwnProperty(s))continue;l=i[s]}t===0?JE(r,n,l,a,u):JE(r,n,l,a)}return r}function JE(t,e,n,r,i){let s;t.hasOwnProperty(n)?(s=t[n]).push(e,r):s=t[n]=[e,r],i!==void 0&&s.push(i)}function dO(t,e,n){let r=e.directiveStart,i=e.directiveEnd,s=t.data,o=e.attrs,a=[],u=null,l=null;for(let h=r;h<i;h++){let p=s[h],m=n?n.get(p):null,y=m?m.inputs:null,C=m?m.outputs:null;u=YE(0,p.inputs,h,u,y),l=YE(1,p.outputs,h,l,C);let N=u!==null&&o!==null&&!dg(e)?AO(u,h,o):null;a.push(N)}u!==null&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=l}function hO(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function ZT(t,e,n,r,i,s,o,a){let u=Ht(e,n),l=e.inputs,h;!a&&l!=null&&(h=l[r])?(Lg(t,n,h,r,i),Nl(e)&&fO(n,e.index)):e.type&3?(r=hO(r),i=o!=null?o(i,e.value||"",r):i,s.setProperty(u,r,i)):e.type&12}function fO(t,e){let n=Pr(e,t);n[Z]&16||(n[Z]|=64)}function XT(t,e,n,r){if(ZD()){let i=r===null?null:{"":-1},s=vO(t,n),o,a;s===null?o=a=null:[o,a]=s,o!==null&&eb(t,e,n,o,i,a),i&&_O(n,r,i)}n.mergedAttrs=ga(n.mergedAttrs,n.attrs)}function eb(t,e,n,r,i,s){for(let l=0;l<r.length;l++)xp(hl(n,e),t,r[l].type);wO(n,t.data.length,r.length);for(let l=0;l<r.length;l++){let h=r[l];h.providersResolver&&h.providersResolver(h)}let o=!1,a=!1,u=GT(t,e,r.length,null);for(let l=0;l<r.length;l++){let h=r[l];n.mergedAttrs=ga(n.mergedAttrs,h.hostAttrs),EO(t,n,e,u,h),IO(u,h,i),h.contentQueries!==null&&(n.flags|=4),(h.hostBindings!==null||h.hostAttrs!==null||h.hostVars!==0)&&(n.flags|=64);let p=h.type.prototype;!o&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(p.ngOnChanges||p.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),u++}dO(t,n,s)}function pO(t,e,n,r,i){let s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;o===null&&(o=t.hostBindingOpCodes=[]);let a=~e.index;gO(o)!=a&&o.push(a),o.push(n,r,s)}}function gO(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function mO(t,e,n,r){let i=n.directiveStart,s=n.directiveEnd;Nl(n)&&DO(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||hl(n,e),Ti(r,e);let o=n.initialInputs;for(let a=i;a<s;a++){let u=t.data[a],l=Os(e,t,a,n);if(Ti(l,e),o!==null&&CO(e,a-i,l,u,n,o),Nr(u)){let h=Pr(n.index,e);h[tn]=Os(e,t,a,n)}}}function tb(t,e,n){let r=n.directiveStart,i=n.directiveEnd,s=n.index,o=Qx();try{Ei(s);for(let a=r;a<i;a++){let u=t.data[a],l=e[a];Rp(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&yO(u,l)}}finally{Ei(-1),Rp(o)}}function yO(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function vO(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let s=0;s<n.length;s++){let o=n[s];if(ax(e,o.selectors,!1))if(r||(r=[]),Nr(o))if(o.findHostDirectiveDefs!==null){let a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o);let u=a.length;$p(t,e,u)}else r.unshift(o),$p(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return r===null?null:[r,i]}function $p(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function _O(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let s=n[e[i+1]];if(s==null)throw new $(-301,!1);r.push(e[i],s)}}}function IO(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Nr(e)&&(n[""]=t)}}function wO(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function EO(t,e,n,r,i){t.data[r]=i;let s=i.factory||(i.factory=_i(i.type,!0)),o=new Di(s,Nr(i),q);t.blueprint[r]=o,n[r]=o,pO(t,e,r,GT(t,n,i.hostVars,Gn),i)}function DO(t,e,n){let r=Ht(e,t),i=JT(n),s=t[yn].rendererFactory,o=16;n.signals?o=4096:n.onPush&&(o=64);let a=jl(t,Vl(t,i,null,o,r,e,null,s.createRenderer(r,n),null,null,null));t[e.index]=a}function TO(t,e,n,r,i,s){let o=Ht(t,e);bO(e[Ge],o,s,t.value,n,r,i)}function bO(t,e,n,r,i,s,o){if(s==null)t.removeAttribute(e,i,n);else{let a=o==null?As(s):o(s,r||"",i);t.setAttribute(e,i,a,n)}}function CO(t,e,n,r,i,s){let o=s[e];if(o!==null)for(let a=0;a<o.length;){let u=o[a++],l=o[a++],h=o[a++],p=o[a++];qT(r,n,u,l,h,p)}}function AO(t,e,n){let r=null,i=0;for(;i<n.length;){let s=n[i];if(s===0){i+=4;continue}else if(s===5){i+=2;continue}if(typeof s=="number")break;if(t.hasOwnProperty(s)){r===null&&(r=[]);let o=t[s];for(let a=0;a<o.length;a+=3)if(o[a]===e){r.push(s,o[a+1],o[a+2],n[i+1]);break}}i+=2}return r}function nb(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function rb(t,e){let n=t.contentQueries;if(n!==null){let r=pe(null);try{for(let i=0;i<n.length;i+=2){let s=n[i],o=n[i+1];if(o!==-1){let a=t.data[o];rT(s),a.contentQueries(2,e[o],o)}}}finally{pe(r)}}}function jl(t,e){return t[ya]?t[LE][en]=e:t[ya]=e,t[LE]=e,e}function Hp(t,e,n){rT(0);let r=pe(null);try{e(t,n)}finally{pe(r)}}function SO(t){return t[il]??=[]}function RO(t){return t.cleanup??=[]}function ib(t,e){let n=t[Ms],r=n?n.get(Ln,null):null;r&&r.handleError(e)}function Lg(t,e,n,r,i){for(let s=0;s<n.length;){let o=n[s++],a=n[s++],u=n[s++],l=e[o],h=t.data[o];qT(h,l,r,a,u,i)}}function sb(t,e,n){let r=qD(e,t);jP(t[Ge],r,n)}function NO(t,e){let n=Pr(e,t),r=n[ce];MO(r,n);let i=n[jn];i!==null&&n[rl]===null&&(n[rl]=Ng(i,n[Ms])),Vg(r,n,n[tn])}function MO(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Vg(t,e,n){yg(e);try{let r=t.viewQuery;r!==null&&Hp(1,r,n);let i=t.template;i!==null&&WT(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Ps]?.finishViewCreation(t),t.staticContentQueries&&rb(t,e),t.staticViewQueries&&Hp(2,t.viewQuery,n);let s=t.components;s!==null&&xO(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[Z]&=-5,vg()}}function xO(t,e){for(let n=0;n<e.length;n++)NO(t,e[n])}function PO(t,e,n,r){let i=pe(null);try{let s=e.tView,a=t[Z]&4096?4096:16,u=Vl(t,s,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];u[xs]=l;let h=t[Ps];return h!==null&&(u[Ps]=h.createEmbeddedView(s)),Vg(s,u,n),u}finally{pe(i)}}function ZE(t,e){return!e||e.firstChild===null||TT(t)}function OO(t,e,n,r=!0){let i=e[ce];if(zP(i,e,t,n),r){let o=Bp(n,t),a=e[Ge],u=UT(a,t[Ii]);u!==null&&$P(i,t[on],a,e,u,o)}let s=e[rl];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function yl(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let s=e[n.index];s!==null&&r.push(_n(s)),Bn(s)&&kO(s,r);let o=n.type;if(o&8)yl(t,e,n.child,r);else if(o&32){let a=xg(n,e),u;for(;u=a();)r.push(u)}else if(o&16){let a=jT(e,n);if(Array.isArray(a))r.push(...a);else{let u=wi(e[vn]);yl(u[ce],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function kO(t,e){for(let n=jt;n<t.length;n++){let r=t[n],i=r[ce].firstChild;i!==null&&yl(r[ce],r,i,e)}t[Ii]!==t[jn]&&e.push(t[Ii])}var ob=[];function FO(t){return t[Ut]??LO(t)}function LO(t){let e=ob.pop()??Object.create(UO);return e.lView=t,e}function VO(t){t.lView[Ut]!==t&&(t.lView=null,ob.push(t))}var UO=ae(k({},aa),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{xl(t.lView)},consumerOnSignalRead(){this.lView[Ut]=this}});function jO(t){let e=t[Ut]??Object.create(BO);return e.lView=t,e}var BO=ae(k({},aa),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{let e=wi(t.lView);for(;e&&!ab(e[ce]);)e=wi(e);e&&QD(e)},consumerOnSignalRead(){this.lView[Ut]=this}});function ab(t){return t.type!==2}var $O=100;function cb(t,e=!0,n=0){let r=t[yn],i=r.rendererFactory,s=!1;s||i.begin?.();try{HO(t,n)}catch(o){throw e&&ib(t,o),o}finally{s||(i.end?.(),r.inlineEffectRunner?.flush())}}function HO(t,e){let n=tT();try{UE(!0),zp(t,e);let r=0;for(;Ml(t);){if(r===$O)throw new $(103,!1);r++,zp(t,1)}}finally{UE(n)}}function zO(t,e,n,r){let i=e[Z];if((i&256)===256)return;let s=!1,o=!1;!s&&e[yn].inlineEffectRunner?.flush(),yg(e);let a=!0,u=null,l=null;s||(ab(t)?(l=FO(e),u=pu(l)):Hw()===null?(a=!1,l=jO(e),u=pu(l)):e[Ut]&&(jf(e[Ut]),e[Ut]=null));try{KD(e),Gx(t.bindingStartIndex),n!==null&&WT(t,e,n,2,r);let h=(i&3)===3;if(!s)if(h){let y=t.preOrderCheckHooks;y!==null&&Qu(e,y,null)}else{let y=t.preOrderHooks;y!==null&&Yu(e,y,0,null),cp(e,0)}if(o||qO(e),ub(e,0),t.contentQueries!==null&&rb(t,e),!s)if(h){let y=t.contentCheckHooks;y!==null&&Qu(e,y)}else{let y=t.contentHooks;y!==null&&Yu(e,y,1),cp(e,1)}iO(t,e);let p=t.components;p!==null&&db(e,p,0);let m=t.viewQuery;if(m!==null&&Hp(2,m,r),!s)if(h){let y=t.viewCheckHooks;y!==null&&Qu(e,y)}else{let y=t.viewHooks;y!==null&&Yu(e,y,2),cp(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[ap]){for(let y of e[ap])y();e[ap]=null}s||(e[Z]&=-73)}catch(h){throw s||xl(e),h}finally{l!==null&&(Vf(l,u),a&&VO(l)),vg()}}function ub(t,e){for(let n=CT(t);n!==null;n=AT(n))for(let r=jt;r<n.length;r++){let i=n[r];lb(i,e)}}function qO(t){for(let e=CT(t);e!==null;e=AT(e)){if(!(e[Z]&al.HasTransplantedViews))continue;let n=e[ol];for(let r=0;r<n.length;r++){let i=n[r];QD(i)}}}function GO(t,e,n){let r=Pr(e,t);lb(r,n)}function lb(t,e){mg(t)&&zp(t,e)}function zp(t,e){let r=t[ce],i=t[Z],s=t[Ut],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(s?.dirty&&Uf(s)),o||=!1,s&&(s.dirty=!1),t[Z]&=-9217,o)zO(r,t,r.template,t[tn]);else if(i&8192){ub(t,1);let a=r.components;a!==null&&db(t,a,1)}}function db(t,e,n){for(let r=0;r<e.length;r++)GO(t,e[r],n)}function Ug(t,e){let n=tT()?64:1088;for(t[yn].changeDetectionScheduler?.notify(e);t;){t[Z]|=n;let r=wi(t);if(Cp(t)&&!r)return t;t=r}return null}var bi=class{get rootNodes(){let e=this._lView,n=e[ce];return yl(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[tn]}set context(e){this._lView[tn]=e}get destroyed(){return(this._lView[Z]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[It];if(Bn(e)){let n=e[sl],r=n?n.indexOf(this):-1;r>-1&&(jp(e,r),tl(n,r))}this._attachedToViewContainer=!1}LT(this._lView[ce],this._lView)}onDestroy(e){YD(this._lView,e)}markForCheck(){Ug(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[Z]&=-129}reattach(){Sp(this._lView),this._lView[Z]|=128}detectChanges(){this._lView[Z]|=1024,cb(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new $(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Cp(this._lView),n=this._lView[xs];n!==null&&!e&&Pg(n,this._lView),kT(this._lView[ce],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new $(902,!1);this._appRef=e;let n=Cp(this._lView),r=this._lView[xs];r!==null&&!n&&FT(r,this._lView),Sp(this._lView)}},Bl=(()=>{class t{static{this.__NG_ELEMENT_ID__=QO}}return t})(),WO=Bl,KO=class extends WO{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=PO(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new bi(i)}};function QO(){return YO(St(),ve())}function YO(t,e){return t.type&4?new KO(e,t,kl(t,e)):null}var S6=new RegExp(`^(\\d+)*(${MP}|${NP})*(.*)`);var JO=()=>null;function XE(t,e){return JO(t,e)}var ks=class{},jg=new L("",{providedIn:"root",factory:()=>!1});var hb=new L(""),fb=new L(""),qp=class{},vl=class{};function ZO(t){let e=Error(`No component factory found for ${vt(t)}.`);return e[XO]=t,e}var XO="ngComponent";var Gp=class{resolveComponentFactory(e){throw ZO(e)}},Fs=class{static{this.NULL=new Gp}},Ls=class{},Or=(()=>{class t{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>ek()}}return t})();function ek(){let t=ve(),e=St(),n=Pr(e.index,t);return(Ar(n)?n:t)[Ge]}var tk=(()=>{class t{static{this.\u0275prov=B({token:t,providedIn:"root",factory:()=>null})}}return t})();function Wp(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")s=a;else if(s==1)i=AE(i,a);else if(s==2){let u=a,l=e[++o];r=AE(r,u+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var _l=class extends Fs{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Rr(e);return new Vs(n,this.ngModule)}};function eD(t,e){let n=[];for(let r in t){if(!t.hasOwnProperty(r))continue;let i=t[r];if(i===void 0)continue;let s=Array.isArray(i),o=s?i[0]:i,a=s?i[1]:Sr.None;e?n.push({propName:o,templateName:r,isSignal:(a&Sr.SignalBased)!==0}):n.push({propName:o,templateName:r})}return n}function nk(t){let e=t.toLowerCase();return e==="svg"?xx:e==="math"?Px:null}var Vs=class extends vl{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=eD(e.inputs,!0);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return eD(this.componentDef.outputs,!1)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=dx(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=pe(null);try{i=i||this.ngModule;let o=i instanceof _t?i:i?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let a=o?new Np(e,o):e,u=a.get(Ls,null);if(u===null)throw new $(407,!1);let l=a.get(tk,null),h=a.get(ks,null),p={rendererFactory:u,sanitizer:l,inlineEffectRunner:null,changeDetectionScheduler:h},m=u.createRenderer(null,this.componentDef),y=this.componentDef.selectors[0][0]||"div",C=r?aO(m,r,this.componentDef.encapsulation,a):OT(m,y,nk(y)),N=512;this.componentDef.signals?N|=4096:this.componentDef.onPush||(N|=16);let R=null;C!==null&&(R=Ng(C,a,!0));let F=Fg(0,null,null,1,0,null,null,null,null,null,null),H=Vl(null,F,null,N,null,null,p,m,a,null,R);yg(H);let V,ee,we=null;try{let W=this.componentDef,E,v=null;W.findHostDirectiveDefs?(E=[],v=new Map,W.findHostDirectiveDefs(W,E,v),E.push(W)):E=[W];let _=rk(H,C);we=ik(_,C,W,E,H,p,m),ee=GD(F,nn),C&&ak(m,W,C,r),n!==void 0&&ck(ee,this.ngContentSelectors,n),V=ok(we,W,E,v,H,[uk]),Vg(F,H,null)}catch(W){throw we!==null&&Vp(we),Vp(H),W}finally{vg()}return new Kp(this.componentType,V,kl(ee,H),H,ee)}finally{pe(s)}}},Kp=class extends qp{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new bi(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let s=this._rootLView;Lg(s[ce],s,i,e,n),this.previousInputValues.set(e,n);let o=Pr(this._tNode.index,s);Ug(o,1)}}get injector(){return new vi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function rk(t,e){let n=t[ce],r=nn;return t[r]=e,Ul(n,r,2,"#host",null)}function ik(t,e,n,r,i,s,o){let a=i[ce];sk(r,t,e,o);let u=null;e!==null&&(u=Ng(e,i[Ms]));let l=s.rendererFactory.createRenderer(e,n),h=16;n.signals?h=4096:n.onPush&&(h=64);let p=Vl(i,JT(n),null,h,i[t.index],t,s,l,null,null,u);return a.firstCreatePass&&$p(a,t,r.length-1),jl(i,p),i[t.index]=p}function sk(t,e,n,r){for(let i of t)e.mergedAttrs=ga(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(Wp(e,e.mergedAttrs,!0),n!==null&&$T(r,n,e))}function ok(t,e,n,r,i,s){let o=St(),a=i[ce],u=Ht(o,i);eb(a,i,o,n,null,r);for(let h=0;h<n.length;h++){let p=o.directiveStart+h,m=Os(i,a,p,o);Ti(m,i)}tb(a,i,o),u&&Ti(u,i);let l=Os(i,a,o.directiveStart+o.componentOffset,o);if(t[tn]=i[tn]=l,s!==null)for(let h of s)h(l,e);return KT(a,o,i),l}function ak(t,e,n,r){if(r)Ep(t,n,["ng-version","18.2.5"]);else{let{attrs:i,classes:s}=hx(e.selectors[0]);i&&Ep(t,n,i),s&&s.length>0&&BT(t,n,s.join(" "))}}function ck(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let s=n[i];r.push(s!=null?Array.from(s):null)}}function uk(){let t=St();Eg(ve()[ce],t)}var Bs=(()=>{class t{static{this.__NG_ELEMENT_ID__=lk}}return t})();function lk(){let t=St();return hk(t,ve())}var dk=Bs,pb=class extends dk{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return kl(this._hostTNode,this._hostLView)}get injector(){return new vi(this._hostTNode,this._hostLView)}get parentInjector(){let e=Dg(this._hostTNode,this._hostLView);if(dT(e)){let n=ll(e,this._hostLView),r=ul(e),i=n[ce].data[r+8];return new vi(i,n)}else return new vi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=tD(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-jt}createEmbeddedView(e,n,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let o=XE(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},s,o);return this.insertImpl(a,i,ZE(this._hostTNode,o)),a}createComponent(e,n,r,i,s){let o=e&&!Sx(e),a;if(o)a=n;else{let C=n||{};a=C.index,r=C.injector,i=C.projectableNodes,s=C.environmentInjector||C.ngModuleRef}let u=o?e:new Vs(Rr(e)),l=r||this.parentInjector;if(!s&&u.ngModule==null){let N=(o?l:this.parentInjector).get(_t,null);N&&(s=N)}let h=Rr(u.componentType??{}),p=XE(this._lContainer,h?.id??null),m=p?.firstChild??null,y=u.create(l,i,m,s);return this.insertImpl(y.hostView,a,ZE(this._hostTNode,p)),y}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(Ox(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[It],l=new pb(u,u[on],u[It]);l.detach(l.indexOf(e))}}let s=this._adjustIndex(n),o=this._lContainer;return OO(o,i,s,r),e.attachToViewContainerRef(),wD(fp(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=tD(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=jp(this._lContainer,n);r&&(tl(fp(this._lContainer),n),LT(r[ce],r))}detach(e){let n=this._adjustIndex(e,-1),r=jp(this._lContainer,n);return r&&tl(fp(this._lContainer),n)!=null?new bi(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function tD(t){return t[sl]}function fp(t){return t[sl]||(t[sl]=[])}function hk(t,e){let n,r=e[t.index];return Bn(r)?n=r:(n=nb(r,e,null,t),e[t.index]=n,jl(e,n)),pk(n,e,t,r),new pb(n,t,e)}function fk(t,e){let n=t[Ge],r=n.createComment(""),i=Ht(e,t),s=UT(n,i);return ml(n,s,r,QP(n,i),!1),r}var pk=yk,gk=()=>!1;function mk(t,e,n){return gk(t,e,n)}function yk(t,e,n,r){if(t[Ii])return;let i;n.type&8?i=_n(r):i=fk(e,n),t[Ii]=i}var nD=new Set;function Si(t){nD.has(t)||(nD.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function vk(t){return typeof t=="function"&&t[Pn]!==void 0}function $s(t,e){Si("NgSignals");let n=eE(t),r=n[Pn];return e?.equal&&(r.equal=e.equal),n.set=i=>Bf(r,i),n.update=i=>tE(r,i),n.asReadonly=_k.bind(n),n}function _k(){let t=this[Pn];if(t.readonlyFn===void 0){let e=()=>this();e[Pn]=t,t.readonlyFn=e}return t.readonlyFn}function gb(t){return vk(t)&&typeof t.set=="function"}function Ik(t){return Object.getPrototypeOf(t.prototype).constructor}function tt(t){let e=Ik(t.type),n=!0,r=[t];for(;e;){let i;if(Nr(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new $(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let o=t;o.inputs=qu(t.inputs),o.inputTransforms=qu(t.inputTransforms),o.declaredInputs=qu(t.declaredInputs),o.outputs=qu(t.outputs);let a=i.hostBindings;a&&bk(t,a);let u=i.viewQuery,l=i.contentQueries;if(u&&Dk(t,u),l&&Tk(t,l),wk(t,i),xM(t.outputs,i.outputs),Nr(i)&&i.data.animation){let h=t.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let s=i.features;if(s)for(let o=0;o<s.length;o++){let a=s[o];a&&a.ngInherit&&a(t),a===tt&&(n=!1)}}e=Object.getPrototypeOf(e)}Ek(r)}function wk(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function Ek(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=ga(i.hostAttrs,n=ga(n,i.hostAttrs))}}function qu(t){return t===Ss?{}:t===Vt?[]:t}function Dk(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function Tk(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,s)=>{e(r,i,s),n(r,i,s)}:t.contentQueries=e}function bk(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}var Mr=class{},va=class{};var Qp=class extends Mr{constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new _l(this);let s=ND(e);this._bootstrapComponents=PT(s.bootstrap),this._r3Injector=IT(e,n,[{provide:Mr,useValue:this},{provide:Fs,useValue:this.componentFactoryResolver},...r],vt(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Yp=class extends va{constructor(e){super(),this.moduleType=e}create(e){return new Qp(this.moduleType,e,[])}};var Il=class extends Mr{constructor(e){super(),this.componentFactoryResolver=new _l(this),this.instance=null;let n=new ma([...e.providers,{provide:Mr,useValue:this},{provide:Fs,useValue:this.componentFactoryResolver}],e.parent||pg(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function $l(t,e,n=null){return new Il({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}function mb(t){return Ak(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function Ck(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function Ak(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function Bg(t,e,n){return t[e]=n}function xr(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function wl(t,e,n,r){let i=xr(t,e,n);return xr(t,e+1,r)||i}function Sk(t,e,n,r,i,s){let o=wl(t,e,n,r);return wl(t,e+2,i,s)||o}function Rk(t){return(t.flags&32)===32}function Nk(t,e,n,r,i,s,o,a,u){let l=e.consts,h=Ul(e,t,4,o||null,a||null);XT(e,n,h,cl(l,u)),Eg(e,h);let p=h.tView=Fg(2,h,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,h),p.queries=e.queries.embeddedTView(h)),h}function Mk(t,e,n,r,i,s,o,a,u,l){let h=n+nn,p=e.firstCreatePass?Nk(h,e,t,r,i,s,o,a,u):e.data[h];Ea(p,!1);let m=Pk(e,t,p,n);Ig()&&Og(e,t,m,p),Ti(m,t);let y=nb(m,t,m,p);return t[h]=y,jl(t,y),mk(y,p,t),gg(p)&&QT(e,t,p),u!=null&&YT(t,p,l),p}function xk(t,e,n,r,i,s,o,a){let u=ve(),l=At(),h=cl(l.consts,s);return Mk(u,l,t,e,n,r,i,h,o,a),xk}var Pk=Ok;function Ok(t,e,n,r){return wg(!0),e[Ge].createComment("")}var Ts=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(Ts||{}),yb=(()=>{class t{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=B({token:t,providedIn:"root",factory:()=>new t})}}return t})(),Jp=class t{constructor(){this.ngZone=x(me),this.scheduler=x(ks),this.errorHandler=x(Ln,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[Ts.EarlyRead,Ts.Write,Ts.MixedReadWrite,Ts.Read]}execute(){this.executing=!0;for(let e of t.PHASES)for(let n of this.sequences)if(!(n.erroredOrDestroyed||!n.hooks[e]))try{n.pipelinedValue=this.ngZone.runOutsideAngular(()=>n.hooks[e](n.pipelinedValue))}catch(r){n.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&this.sequences.delete(e);for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}static{this.\u0275prov=B({token:t,providedIn:"root",factory:()=>new t})}},Zp=class{constructor(e,n,r,i){this.impl=e,this.hooks=n,this.once=r,this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.unregisterOnDestroy=i.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){this.impl.unregister(this),this.unregisterOnDestroy()}};function $g(t,e){!e?.injector&&Ax($g);let n=e?.injector??x(Ke);return LP(n)?(Si("NgAfterNextRender"),Fk(t,n,e,!0)):Lk}function kk(t,e){if(t instanceof Function){let n=[void 0,void 0,void 0,void 0];return n[e]=t,n}else return[t.earlyRead,t.write,t.mixedReadWrite,t.read]}function Fk(t,e,n,r){let i=e.get(yb);i.impl??=e.get(Jp);let s=n?.phase??Ts.MixedReadWrite,o=new Zp(i.impl,kk(t,s),r,e.get(Tg));return i.impl.register(o),o}var Lk={destroy(){}};function Hl(t,e,n,r){let i=ve(),s=Ol();if(xr(i,s,e)){let o=At(),a=_g();TO(a,i,t,e,n,r)}return Hl}function Vk(t,e,n,r){return xr(t,Ol(),n)?e+As(n)+r:Gn}function Uk(t,e,n,r,i,s){let o=qx(),a=wl(t,o,n,i);return nT(2),a?e+As(n)+r+As(i)+s:Gn}function Gu(t,e){return t<<17|e<<2}function Ci(t){return t>>17&32767}function jk(t){return(t&2)==2}function Bk(t,e){return t&131071|e<<17}function Xp(t){return t|2}function Us(t){return(t&131068)>>2}function pp(t,e){return t&-131069|e<<2}function $k(t){return(t&1)===1}function eg(t){return t|1}function Hk(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=Ci(o),u=Us(o);t[r]=n;let l=!1,h;if(Array.isArray(n)){let p=n;h=p[1],(h===null||wa(p,h)>0)&&(l=!0)}else h=n;if(i)if(u!==0){let m=Ci(t[a+1]);t[r+1]=Gu(m,a),m!==0&&(t[m+1]=pp(t[m+1],r)),t[a+1]=Bk(t[a+1],r)}else t[r+1]=Gu(a,0),a!==0&&(t[a+1]=pp(t[a+1],r)),a=r;else t[r+1]=Gu(u,0),a===0?a=r:t[u+1]=pp(t[u+1],r),u=r;l&&(t[r+1]=Xp(t[r+1])),rD(t,h,r,!0),rD(t,h,r,!1),zk(e,h,t,r,s),o=Gu(a,u),s?e.classBindings=o:e.styleBindings=o}function zk(t,e,n,r,i){let s=i?t.residualClasses:t.residualStyles;s!=null&&typeof e=="string"&&wa(s,e)>=0&&(n[r+1]=eg(n[r+1]))}function rD(t,e,n,r){let i=t[n+1],s=e===null,o=r?Ci(i):Us(i),a=!1;for(;o!==0&&(a===!1||s);){let u=t[o],l=t[o+1];qk(u,e)&&(a=!0,t[o+1]=r?eg(l):Xp(l)),o=r?Ci(l):Us(l)}a&&(t[n+1]=r?Xp(i):eg(i))}function qk(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?wa(t,e)>=0:!1}function Gk(t,e,n){let r=ve(),i=Ol();if(xr(r,i,e)){let s=At(),o=_g();ZT(s,o,r,t,e,r[Ge],n,!1)}return Gk}function iD(t,e,n,r,i){let s=e.inputs,o=i?"class":"style";Lg(t,n,s[o],o,r)}function vb(t,e,n){return _b(t,e,n,!1),vb}function zl(t,e){return _b(t,e,null,!0),zl}function _b(t,e,n,r){let i=ve(),s=At(),o=nT(2);if(s.firstUpdatePass&&Kk(s,t,o,r),e!==Gn&&xr(i,o,e)){let a=s.data[Ai()];Xk(s,a,i,i[Ge],t,i[o+1]=e1(e,n),r,o)}}function Wk(t,e){return e>=t.expandoStartIndex}function Kk(t,e,n,r){let i=t.data;if(i[n+1]===null){let s=i[Ai()],o=Wk(t,n);t1(s,r)&&e===null&&!o&&(e=!1),e=Qk(i,s,e,r),Hk(i,s,e,n,o,r)}}function Qk(t,e,n,r){let i=Yx(t),s=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=gp(null,t,e,n,r),n=_a(n,e.attrs,r),s=null);else{let o=e.directiveStylingLast;if(o===-1||t[o]!==i)if(n=gp(i,t,e,n,r),s===null){let u=Yk(t,e,r);u!==void 0&&Array.isArray(u)&&(u=gp(null,t,e,u[1],r),u=_a(u,e.attrs,r),Jk(t,e,r,u))}else s=Zk(t,e,r)}return s!==void 0&&(r?e.residualClasses=s:e.residualStyles=s),n}function Yk(t,e,n){let r=n?e.classBindings:e.styleBindings;if(Us(r)!==0)return t[Ci(r)]}function Jk(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[Ci(i)]=r}function Zk(t,e,n){let r,i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++){let o=t[s].hostAttrs;r=_a(r,o,n)}return _a(r,e.attrs,n)}function gp(t,e,n,r,i){let s=null,o=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<o&&(s=e[a],r=_a(r,s.hostAttrs,i),s!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function _a(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?i=o:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),ZM(t,o,n?!0:e[++s]))}return t===void 0?null:t}function Xk(t,e,n,r,i,s,o,a){if(!(e.type&3))return;let u=t.data,l=u[a+1],h=$k(l)?sD(u,e,n,i,Us(l),o):void 0;if(!El(h)){El(s)||jk(l)&&(s=sD(u,null,n,i,a,o));let p=qD(Ai(),n);nO(r,o,p,i,s)}}function sD(t,e,n,r,i,s){let o=e===null,a;for(;i>0;){let u=t[i],l=Array.isArray(u),h=l?u[1]:u,p=h===null,m=n[i+1];m===Gn&&(m=p?Vt:void 0);let y=p?sp(m,r):h===r?m:void 0;if(l&&!El(y)&&(y=sp(u,r)),El(y)&&(a=y,o))return a;let C=t[i+1];i=o?Ci(C):Us(C)}if(e!==null){let u=s?e.residualClasses:e.residualStyles;u!=null&&(a=sp(u,r))}return a}function El(t){return t!==void 0}function e1(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=vt(Fl(t)))),t}function t1(t,e){return(t.flags&(e?8:16))!==0}function n1(t,e,n,r,i,s){let o=e.consts,a=cl(o,i),u=Ul(e,t,2,r,a);return XT(e,n,u,cl(o,s)),u.attrs!==null&&Wp(u,u.attrs,!1),u.mergedAttrs!==null&&Wp(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function Ib(t,e,n,r){let i=ve(),s=At(),o=nn+t,a=i[Ge],u=s.firstCreatePass?n1(o,s,i,e,n,r):s.data[o],l=r1(s,i,u,a,e,t);i[o]=l;let h=gg(u);return Ea(u,!0),$T(a,l,u),!Rk(u)&&Ig()&&Og(s,i,l,u),Lx()===0&&Ti(l,i),Vx(),h&&(QT(s,i,u),KT(s,u,i)),r!==null&&YT(i,u),Ib}function wb(){let t=St();eT()?zx():(t=t.parent,Ea(t,!1));let e=t;Bx(e)&&$x(),Ux();let n=At();return n.firstCreatePass&&(Eg(n,t),jD(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&rP(e)&&iD(n,e,ve(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&iP(e)&&iD(n,e,ve(),e.stylesWithoutHost,!1),wb}function Hg(t,e,n,r){return Ib(t,e,n,r),wb(),Hg}var r1=(t,e,n,r,i,s)=>(wg(!0),OT(r,i,Xx()));function N6(){return ve()}var yi=void 0;function i1(t){let e=t,n=Math.floor(Math.abs(t)),r=t.toString().replace(/^[^.]*\.?/,"").length;return n===1&&r===0?1:5}var s1=["en",[["a","p"],["AM","PM"],yi],[["AM","PM"],yi,yi],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],yi,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],yi,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",yi,"{1} 'at' {0}",yi],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",i1],mp={};function qt(t){let e=o1(t),n=oD(e);if(n)return n;let r=e.split("-")[0];if(n=oD(r),n)return n;if(r==="en")return s1;throw new $(701,!1)}function oD(t){return t in mp||(mp[t]=da.ng&&da.ng.common&&da.ng.common.locales&&da.ng.common.locales[t]),mp[t]}var Le=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(Le||{});function o1(t){return t.toLowerCase().replace(/_/g,"-")}var Dl="en-US";var a1=Dl;function c1(t){typeof t=="string"&&(a1=t.toLowerCase().replace(/_/g,"-"))}var u1=(t,e,n)=>{};function Wn(t,e,n,r){let i=ve(),s=At(),o=St();return Eb(s,i,i[Ge],o,t,e,r),Wn}function l1(t,e,n,r){let i=t.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let o=i[s];if(o===n&&i[s+1]===r){let a=e[il],u=i[s+2];return a.length>u?a[u]:null}typeof o=="string"&&(s+=2)}return null}function Eb(t,e,n,r,i,s,o){let a=gg(r),l=t.firstCreatePass&&RO(t),h=e[tn],p=SO(e),m=!0;if(r.type&3||o){let N=Ht(r,e),R=o?o(N):N,F=p.length,H=o?ee=>o(_n(ee[r.index])):r.index,V=null;if(!o&&a&&(V=l1(t,e,i,r.index)),V!==null){let ee=V.__ngLastListenerFn__||V;ee.__ngNextListenerFn__=s,V.__ngLastListenerFn__=s,m=!1}else{s=cD(r,e,h,s),u1(N,i,s);let ee=n.listen(R,i,s);p.push(s,ee),l&&l.push(i,H,F,F+1)}}else s=cD(r,e,h,s);let y=r.outputs,C;if(m&&y!==null&&(C=y[i])){let N=C.length;if(N)for(let R=0;R<N;R+=2){let F=C[R],H=C[R+1],we=e[F][H].subscribe(s),W=p.length;p.push(s,we),l&&l.push(i,r.index,W,-(W+1))}}}function aD(t,e,n,r){let i=pe(null);try{return pn(6,e,n),n(r)!==!1}catch(s){return ib(t,s),!1}finally{pn(7,e,n),pe(i)}}function cD(t,e,n,r){return function i(s){if(s===Function)return r;let o=t.componentOffset>-1?Pr(t.index,e):e;Ug(o,5);let a=aD(e,n,r,s),u=i.__ngNextListenerFn__;for(;u;)a=aD(e,n,u,s)&&a,u=u.__ngNextListenerFn__;return a}}function M6(t=1){return Zx(t)}function d1(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function x6(t,e=""){let n=ve(),r=At(),i=t+nn,s=r.firstCreatePass?Ul(r,i,1,e,null):r.data[i],o=h1(r,n,s,e,t);n[i]=o,Ig()&&Og(r,n,o,s),Ea(s,!1)}var h1=(t,e,n,r,i)=>(wg(!0),UP(e[Ge],r));function f1(t){return Db("",t,""),f1}function Db(t,e,n){let r=ve(),i=Vk(r,t,e,n);return i!==Gn&&sb(r,Ai(),i),Db}function p1(t,e,n,r,i){let s=ve(),o=Uk(s,t,e,n,r,i);return o!==Gn&&sb(s,Ai(),o),p1}function g1(t,e,n){gb(e)&&(e=e());let r=ve(),i=Ol();if(xr(r,i,e)){let s=At(),o=_g();ZT(s,o,r,t,e,r[Ge],n,!1)}return g1}function P6(t,e){let n=gb(t);return n&&t.set(e),n}function m1(t,e){let n=ve(),r=At(),i=St();return Eb(r,n,n[Ge],i,t,e),m1}function y1(t,e,n){let r=At();if(r.firstCreatePass){let i=Nr(t);tg(n,r.data,r.blueprint,i,!0),tg(e,r.data,r.blueprint,i,!1)}}function tg(t,e,n,r,i){if(t=yt(t),Array.isArray(t))for(let s=0;s<t.length;s++)tg(t[s],e,n,r,i);else{let s=At(),o=ve(),a=St(),u=Ns(t)?t:yt(t.provide),l=FD(t),h=a.providerIndexes&1048575,p=a.directiveStart,m=a.providerIndexes>>20;if(Ns(t)||!t.multi){let y=new Di(l,i,q),C=vp(u,e,i?h:h+m,p);C===-1?(xp(hl(a,o),s,u),yp(s,t,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(y),o.push(y)):(n[C]=y,o[C]=y)}else{let y=vp(u,e,h+m,p),C=vp(u,e,h,h+m),N=y>=0&&n[y],R=C>=0&&n[C];if(i&&!R||!i&&!N){xp(hl(a,o),s,u);let F=I1(i?_1:v1,n.length,i,r,l);!i&&R&&(n[C].providerFactory=F),yp(s,t,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(F),o.push(F)}else{let F=Tb(n[i?C:y],l,!i&&r);yp(s,t,y>-1?y:C,F)}!i&&r&&R&&n[C].componentProviders++}}}function yp(t,e,n,r){let i=Ns(e),s=Ix(e);if(i||s){let u=(s?yt(e.useClass):e).prototype.ngOnDestroy;if(u){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let h=l.indexOf(n);h===-1?l.push(n,[r,u]):l[h+1].push(r,u)}else l.push(n,u)}}}function Tb(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function vp(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function v1(t,e,n,r){return ng(this.multi,[])}function _1(t,e,n,r){let i=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,a=Os(n,n[ce],this.providerFactory.index,r);s=a.slice(0,o),ng(i,s);for(let u=o;u<a.length;u++)s.push(a[u])}else s=[],ng(i,s);return s}function ng(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function I1(t,e,n,r,i){let s=new Di(t,n,q);return s.multi=[],s.index=e,s.componentProviders=0,Tb(s,i,r&&!n),s}function Gt(t,e=[]){return n=>{n.providersResolver=(r,i)=>y1(r,i?i(t):t,e)}}var w1=(()=>{class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=PD(!1,n.type),i=r.length>0?$l([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=B({token:t,providedIn:"environment",factory:()=>new t(z(_t))})}}return t})();function bb(t){Si("NgStandalone"),t.getStandaloneInjector=e=>e.get(w1).getOrCreateStandaloneInjector(t)}function O6(t,e,n,r,i){return Cb(ve(),Pl(),t,e,n,r,i)}function k6(t,e,n,r,i,s,o){return D1(ve(),Pl(),t,e,n,r,i,s,o)}function zg(t,e){let n=t[e];return n===Gn?void 0:n}function E1(t,e,n,r,i,s){let o=e+n;return xr(t,o,i)?Bg(t,o+1,s?r.call(s,i):r(i)):zg(t,o+1)}function Cb(t,e,n,r,i,s,o){let a=e+n;return wl(t,a,i,s)?Bg(t,a+2,o?r.call(o,i,s):r(i,s)):zg(t,a+2)}function D1(t,e,n,r,i,s,o,a,u){let l=e+n;return Sk(t,l,i,s,o,a)?Bg(t,l+4,u?r.call(u,i,s,o,a):r(i,s,o,a)):zg(t,l+4)}function F6(t,e){let n=At(),r,i=t+nn;n.firstCreatePass?(r=T1(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let s=r.factory||(r.factory=_i(r.type,!0)),o,a=bt(q);try{let u=dl(!1),l=s();return dl(u),d1(n,ve(),i,l),l}finally{bt(a)}}function T1(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function L6(t,e,n){let r=t+nn,i=ve(),s=WD(i,r);return Ab(i,r)?E1(i,Pl(),e,s.transform,n,s):s.transform(n)}function V6(t,e,n,r){let i=t+nn,s=ve(),o=WD(s,i);return Ab(s,i)?Cb(s,Pl(),e,o.transform,n,r,o):o.transform(n,r)}function Ab(t,e){return t[ce].data[e].pure}var Un=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},Sb=new Un("18.2.5");var ql=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();var Rb=new L("");function kr(t){return!!t&&typeof t.then=="function"}function qg(t){return!!t&&typeof t.subscribe=="function"}var Gl=new L(""),Nb=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=x(Gl,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let s=i();if(kr(s))n.push(s);else if(qg(s)){let o=new Promise((a,u)=>{s.subscribe({complete:a,error:u})});n.push(o)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Da=new L("");function b1(){Xw(()=>{throw new $(600,!1)})}function C1(t){return t.isBoundToModule}var A1=10;function S1(t,e,n){try{let r=n();return kr(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var Fr=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=x(DP),this.afterRenderManager=x(yb),this.zonelessEnabled=x(jg),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new Xe,this.afterTick=new Xe,this.componentTypes=[],this.components=[],this.isStable=x(zn).hasPendingTasks.pipe(J(n=>!n)),this._injector=x(_t)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}get injector(){return this._injector}bootstrap(n,r){let i=n instanceof vl;if(!this._injector.get(Nb).done){let m=!i&&RD(n),y=!1;throw new $(405,y)}let o;i?o=n:o=this._injector.get(Fs).resolveComponentFactory(n),this.componentTypes.push(o.componentType);let a=C1(o)?void 0:this._injector.get(Mr),u=r||o.selector,l=o.create(Ke.NULL,[],u,a),h=l.location.nativeElement,p=l.injector.get(Rb,null);return p?.registerApplication(h),l.onDestroy(()=>{this.detachView(l.hostView),Ju(this.components,l),p?.unregisterApplication(h)}),this._loadComponent(l),l}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new $(101,!1);let n=pe(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,pe(n),this.afterTick.next()}}synchronize(){let n=null;this._injector.destroyed||(n=this._injector.get(Ls,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let r=0;for(;this.dirtyFlags!==0&&r++<A1;)this.synchronizeOnce(n)}synchronizeOnce(n){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(r);for(let{_lView:i,notifyErrorHandler:s}of this._views)R1(i,s,r,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else n?.begin?.(),n?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>Ml(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;Ju(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);let r=this._injector.get(Da,[]);[...this._bootstrapListeners,...r].forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Ju(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new $(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Ju(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function R1(t,e,n,r){if(!n&&!Ml(t))return;cb(t,e,n&&!r?0:1)}var rg=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},Wl=(()=>{class t{compileModuleSync(n){return new Yp(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=ND(n),s=PT(i.declarations).reduce((o,a)=>{let u=Rr(a);return u&&o.push(new Vs(u)),o},[]);return new rg(r,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var N1=(()=>{class t{constructor(){this.zone=x(me),this.changeDetectionScheduler=x(ks),this.applicationRef=x(Fr)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),M1=new L("",{factory:()=>!1});function Mb({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new me(ae(k({},xb()),{scheduleInRootZone:n})),[{provide:me,useFactory:t},{provide:Rs,multi:!0,useFactory:()=>{let r=x(N1,{optional:!0});return()=>r.initialize()}},{provide:Rs,multi:!0,useFactory:()=>{let r=x(x1);return()=>{r.initialize()}}},e===!0?{provide:hb,useValue:!0}:[],{provide:fb,useValue:n??wT}]}function U6(t){let e=t?.ignoreChangesOutsideZone,n=t?.scheduleInRootZone,r=Mb({ngZoneFactory:()=>{let i=xb(t);return i.scheduleInRootZone=n,i.shouldCoalesceEventChangeDetection&&Si("NgZone_CoalesceEvent"),new me(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:n});return Bt([{provide:M1,useValue:!0},{provide:jg,useValue:!1},r])}function xb(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var x1=(()=>{class t{constructor(){this.subscription=new Oe,this.initialized=!1,this.zone=x(me),this.pendingTasks=x(zn)}initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{me.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{me.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var P1=(()=>{class t{constructor(){this.appRef=x(Fr),this.taskService=x(zn),this.ngZone=x(me),this.zonelessEnabled=x(jg),this.disableScheduling=x(hb,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Oe,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(pl):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(x(fb,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Lp||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?zE:ET;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(pl+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(n),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,zE(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function O1(){return typeof $localize<"u"&&$localize.locale||Dl}var Kl=new L("",{providedIn:"root",factory:()=>x(Kl,se.Optional|se.SkipSelf)||O1()});var Pb=new L("");function Wu(t){return!!t.platformInjector}function k1(t){let e=Wu(t)?t.r3Injector:t.moduleRef.injector,n=e.get(me);return n.run(()=>{Wu(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(Ln,null),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:s=>{r.handleError(s)}})}),Wu(t)){let s=()=>e.destroy(),o=t.platformInjector.get(Pb);o.add(s),e.onDestroy(()=>{i.unsubscribe(),o.delete(s)})}else t.moduleRef.onDestroy(()=>{Ju(t.allPlatformModules,t.moduleRef),i.unsubscribe()});return S1(r,n,()=>{let s=e.get(Nb);return s.runInitializers(),s.donePromise.then(()=>{let o=e.get(Kl,Dl);if(c1(o||Dl),Wu(t)){let a=e.get(Fr);return t.rootComponent!==void 0&&a.bootstrap(t.rootComponent),a}else return F1(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}function F1(t,e){let n=t.injector.get(Fr);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(n);else throw new $(-403,!1);e.push(t)}var Zu=null;function L1(t=[],e){return Ke.create({name:e,providers:[{provide:Sl,useValue:"platform"},{provide:Pb,useValue:new Set([()=>Zu=null])},...t]})}function V1(t=[]){if(Zu)return Zu;let e=L1(t);return Zu=e,b1(),U1(e),e}function U1(t){t.get(Sg,null)?.forEach(n=>n())}var Lr=(()=>{class t{static{this.__NG_ELEMENT_ID__=j1}}return t})();function j1(t){return B1(St(),ve(),(t&16)===16)}function B1(t,e,n){if(Nl(t)&&!n){let r=Pr(t.index,e);return new bi(r,r)}else if(t.type&175){let r=e[vn];return new bi(r,e)}return null}var ig=class{constructor(){}supports(e){return mb(e)}create(e){return new sg(e)}},$1=(t,e)=>e,sg=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||$1}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){let o=!r||n&&n.currentIndex<uD(r,i,s)?n:r,a=uD(o,i,s),u=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,o.previousIndex==null)i++;else{s||(s=[]);let l=a-i,h=u-i;if(l!=h){for(let m=0;m<l;m++){let y=m<s.length?s[m]:s[m]=0,C=y+m;h<=C&&C<l&&(s[m]=y+1)}let p=o.previousIndex;s[p]=h-l}}a!==u&&e(o,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!mb(e))throw new $(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,s,o;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,s,o,a),r=!0):(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)),n=n._next}else i=0,Ck(e,a=>{o=this._trackByFn(i,a),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,a,o,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return e===null?s=this._itTail:(s=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new og(n,r),s,i)),e}_verifyReinsertion(e,n,r,i){let s=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return s!==null?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,s=e._nextRemoved;return i===null?this._removalsHead=s:i._nextRemoved=s,s===null?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new Tl),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Tl),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},og=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},ag=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},Tl=class{constructor(){this.map=new Map}put(e){let n=e.trackById,r=this.map.get(n);r||(r=new ag,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function uD(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function lD(){return new Gg([new ig])}var Gg=(()=>{class t{static{this.\u0275prov=B({token:t,providedIn:"root",factory:lD})}constructor(n){this.factories=n}static create(n,r){if(r!=null){let i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||lD()),deps:[[t,new ug,new ut]]}}find(n){let r=this.factories.find(i=>i.supports(n));if(r!=null)return r;throw new $(901,!1)}}return t})();function Ob(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=V1(r),s=[Mb({}),{provide:ks,useExisting:P1},...n||[]],o=new Il({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1});return k1({r3Injector:o.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}}var kb=new L("");function Ta(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function Hs(t,e){Si("NgSignals");let n=Yw(t);return e?.equal&&(n[Pn].equal=e.equal),n}function Wt(t){let e=pe(null);try{return t()}finally{pe(e)}}function Fb(t){let e=Rr(t);if(!e)return null;let n=new Vs(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var Hb=null;function Jn(){return Hb}function zb(t){Hb??=t}var rd=class{};var nt=new L(""),rm=(()=>{class t{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:()=>x(G1),providedIn:"platform"})}}return t})(),qb=new L(""),G1=(()=>{class t extends rm{constructor(){super(),this._doc=x(nt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Jn().getBaseHref(this._doc)}onPopState(n){let r=Jn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=Jn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:()=>new t,providedIn:"platform"})}}return t})();function im(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function Lb(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function Qn(t){return t&&t[0]!=="?"?"?"+t:t}var Ri=(()=>{class t{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:()=>x(sm),providedIn:"root"})}}return t})(),Gb=new L(""),sm=(()=>{class t extends Ri{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??x(nt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return im(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+Qn(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,s){let o=this.prepareExternalUrl(i+Qn(s));this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){let o=this.prepareExternalUrl(i+Qn(s));this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(r){return new(r||t)(z(rm),z(Gb,8))}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Wb=(()=>{class t extends Ri{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(n){let r=im(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,s){let o=this.prepareExternalUrl(i+Qn(s));o.length==0&&(o=this._platformLocation.pathname),this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){let o=this.prepareExternalUrl(i+Qn(s));o.length==0&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(r){return new(r||t)(z(rm),z(Gb,8))}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac})}}return t})(),Gs=(()=>{class t{constructor(n){this._subject=new ke,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=Q1(Lb(Vb(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Qn(r))}normalize(n){return t.stripTrailingSlash(K1(this._basePath,Vb(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Qn(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Qn(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}static{this.normalizeQueryParams=Qn}static{this.joinWithSlash=im}static{this.stripTrailingSlash=Lb}static{this.\u0275fac=function(r){return new(r||t)(z(Ri))}}static{this.\u0275prov=B({token:t,factory:()=>W1(),providedIn:"root"})}}return t})();function W1(){return new Gs(z(Ri))}function K1(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function Vb(t){return t.replace(/\/index.html$/,"")}function Q1(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var wt=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}(wt||{}),be=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}(be||{}),Pt=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}(Pt||{}),Vr={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function Y1(t){return qt(t)[Le.LocaleId]}function J1(t,e,n){let r=qt(t),i=[r[Le.DayPeriodsFormat],r[Le.DayPeriodsStandalone]],s=Kt(i,e);return Kt(s,n)}function Z1(t,e,n){let r=qt(t),i=[r[Le.DaysFormat],r[Le.DaysStandalone]],s=Kt(i,e);return Kt(s,n)}function X1(t,e,n){let r=qt(t),i=[r[Le.MonthsFormat],r[Le.MonthsStandalone]],s=Kt(i,e);return Kt(s,n)}function eF(t,e){let r=qt(t)[Le.Eras];return Kt(r,e)}function Ql(t,e){let n=qt(t);return Kt(n[Le.DateFormat],e)}function Yl(t,e){let n=qt(t);return Kt(n[Le.TimeFormat],e)}function Jl(t,e){let r=qt(t)[Le.DateTimeFormat];return Kt(r,e)}function sd(t,e){let n=qt(t),r=n[Le.NumberSymbols][e];if(typeof r>"u"){if(e===Vr.CurrencyDecimal)return n[Le.NumberSymbols][Vr.Decimal];if(e===Vr.CurrencyGroup)return n[Le.NumberSymbols][Vr.Group]}return r}function Kb(t){if(!t[Le.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[Le.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function tF(t){let e=qt(t);return Kb(e),(e[Le.ExtraData][2]||[]).map(r=>typeof r=="string"?Wg(r):[Wg(r[0]),Wg(r[1])])}function nF(t,e,n){let r=qt(t);Kb(r);let i=[r[Le.ExtraData][0],r[Le.ExtraData][1]],s=Kt(i,e)||[];return Kt(s,n)||[]}function Kt(t,e){for(let n=e;n>-1;n--)if(typeof t[n]<"u")return t[n];throw new Error("Locale data API: locale data undefined")}function Wg(t){let[e,n]=t.split(":");return{hours:+e,minutes:+n}}var rF=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Zl={},iF=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,Yn=function(t){return t[t.Short=0]="Short",t[t.ShortGMT=1]="ShortGMT",t[t.Long=2]="Long",t[t.Extended=3]="Extended",t}(Yn||{}),Ie=function(t){return t[t.FullYear=0]="FullYear",t[t.Month=1]="Month",t[t.Date=2]="Date",t[t.Hours=3]="Hours",t[t.Minutes=4]="Minutes",t[t.Seconds=5]="Seconds",t[t.FractionalSeconds=6]="FractionalSeconds",t[t.Day=7]="Day",t}(Ie||{}),_e=function(t){return t[t.DayPeriods=0]="DayPeriods",t[t.Days=1]="Days",t[t.Months=2]="Months",t[t.Eras=3]="Eras",t}(_e||{});function sF(t,e,n,r){let i=pF(t);e=Kn(n,e)||e;let o=[],a;for(;e;)if(a=iF.exec(e),a){o=o.concat(a.slice(1));let h=o.pop();if(!h)break;e=h}else{o.push(e);break}let u=i.getTimezoneOffset();r&&(u=Yb(r,u),i=fF(i,r,!0));let l="";return o.forEach(h=>{let p=dF(h);l+=p?p(i,n,u):h==="''"?"'":h.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}function id(t,e,n){let r=new Date(0);return r.setFullYear(t,e,n),r.setHours(0,0,0),r}function Kn(t,e){let n=Y1(t);if(Zl[n]??={},Zl[n][e])return Zl[n][e];let r="";switch(e){case"shortDate":r=Ql(t,Pt.Short);break;case"mediumDate":r=Ql(t,Pt.Medium);break;case"longDate":r=Ql(t,Pt.Long);break;case"fullDate":r=Ql(t,Pt.Full);break;case"shortTime":r=Yl(t,Pt.Short);break;case"mediumTime":r=Yl(t,Pt.Medium);break;case"longTime":r=Yl(t,Pt.Long);break;case"fullTime":r=Yl(t,Pt.Full);break;case"short":let i=Kn(t,"shortTime"),s=Kn(t,"shortDate");r=Xl(Jl(t,Pt.Short),[i,s]);break;case"medium":let o=Kn(t,"mediumTime"),a=Kn(t,"mediumDate");r=Xl(Jl(t,Pt.Medium),[o,a]);break;case"long":let u=Kn(t,"longTime"),l=Kn(t,"longDate");r=Xl(Jl(t,Pt.Long),[u,l]);break;case"full":let h=Kn(t,"fullTime"),p=Kn(t,"fullDate");r=Xl(Jl(t,Pt.Full),[h,p]);break}return r&&(Zl[n][e]=r),r}function Xl(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(n,r){return e!=null&&r in e?e[r]:n})),t}function an(t,e,n="-",r,i){let s="";(t<0||i&&t<=0)&&(i?t=-t+1:(t=-t,s=n));let o=String(t);for(;o.length<e;)o="0"+o;return r&&(o=o.slice(o.length-e)),s+o}function oF(t,e){return an(t,3).substring(0,e)}function Be(t,e,n=0,r=!1,i=!1){return function(s,o){let a=aF(t,s);if((n>0||a>-n)&&(a+=n),t===Ie.Hours)a===0&&n===-12&&(a=12);else if(t===Ie.FractionalSeconds)return oF(a,e);let u=sd(o,Vr.MinusSign);return an(a,e,u,r,i)}}function aF(t,e){switch(t){case Ie.FullYear:return e.getFullYear();case Ie.Month:return e.getMonth();case Ie.Date:return e.getDate();case Ie.Hours:return e.getHours();case Ie.Minutes:return e.getMinutes();case Ie.Seconds:return e.getSeconds();case Ie.FractionalSeconds:return e.getMilliseconds();case Ie.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}function Se(t,e,n=wt.Format,r=!1){return function(i,s){return cF(i,s,t,e,n,r)}}function cF(t,e,n,r,i,s){switch(n){case _e.Months:return X1(e,i,r)[t.getMonth()];case _e.Days:return Z1(e,i,r)[t.getDay()];case _e.DayPeriods:let o=t.getHours(),a=t.getMinutes();if(s){let l=tF(e),h=nF(e,i,r),p=l.findIndex(m=>{if(Array.isArray(m)){let[y,C]=m,N=o>=y.hours&&a>=y.minutes,R=o<C.hours||o===C.hours&&a<C.minutes;if(y.hours<C.hours){if(N&&R)return!0}else if(N||R)return!0}else if(m.hours===o&&m.minutes===a)return!0;return!1});if(p!==-1)return h[p]}return J1(e,i,r)[o<12?0:1];case _e.Eras:return eF(e,r)[t.getFullYear()<=0?0:1];default:let u=n;throw new Error(`unexpected translation type ${u}`)}}function ed(t){return function(e,n,r){let i=-1*r,s=sd(n,Vr.MinusSign),o=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case Yn.Short:return(i>=0?"+":"")+an(o,2,s)+an(Math.abs(i%60),2,s);case Yn.ShortGMT:return"GMT"+(i>=0?"+":"")+an(o,1,s);case Yn.Long:return"GMT"+(i>=0?"+":"")+an(o,2,s)+":"+an(Math.abs(i%60),2,s);case Yn.Extended:return r===0?"Z":(i>=0?"+":"")+an(o,2,s)+":"+an(Math.abs(i%60),2,s);default:throw new Error(`Unknown zone width "${t}"`)}}}var uF=0,nd=4;function lF(t){let e=id(t,uF,1).getDay();return id(t,0,1+(e<=nd?nd:nd+7)-e)}function Qb(t){let e=t.getDay(),n=e===0?-3:nd-e;return id(t.getFullYear(),t.getMonth(),t.getDate()+n)}function Kg(t,e=!1){return function(n,r){let i;if(e){let s=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,o=n.getDate();i=1+Math.floor((o+s)/7)}else{let s=Qb(n),o=lF(s.getFullYear()),a=s.getTime()-o.getTime();i=1+Math.round(a/6048e5)}return an(i,t,sd(r,Vr.MinusSign))}}function td(t,e=!1){return function(n,r){let s=Qb(n).getFullYear();return an(s,t,sd(r,Vr.MinusSign),e)}}var Qg={};function dF(t){if(Qg[t])return Qg[t];let e;switch(t){case"G":case"GG":case"GGG":e=Se(_e.Eras,be.Abbreviated);break;case"GGGG":e=Se(_e.Eras,be.Wide);break;case"GGGGG":e=Se(_e.Eras,be.Narrow);break;case"y":e=Be(Ie.FullYear,1,0,!1,!0);break;case"yy":e=Be(Ie.FullYear,2,0,!0,!0);break;case"yyy":e=Be(Ie.FullYear,3,0,!1,!0);break;case"yyyy":e=Be(Ie.FullYear,4,0,!1,!0);break;case"Y":e=td(1);break;case"YY":e=td(2,!0);break;case"YYY":e=td(3);break;case"YYYY":e=td(4);break;case"M":case"L":e=Be(Ie.Month,1,1);break;case"MM":case"LL":e=Be(Ie.Month,2,1);break;case"MMM":e=Se(_e.Months,be.Abbreviated);break;case"MMMM":e=Se(_e.Months,be.Wide);break;case"MMMMM":e=Se(_e.Months,be.Narrow);break;case"LLL":e=Se(_e.Months,be.Abbreviated,wt.Standalone);break;case"LLLL":e=Se(_e.Months,be.Wide,wt.Standalone);break;case"LLLLL":e=Se(_e.Months,be.Narrow,wt.Standalone);break;case"w":e=Kg(1);break;case"ww":e=Kg(2);break;case"W":e=Kg(1,!0);break;case"d":e=Be(Ie.Date,1);break;case"dd":e=Be(Ie.Date,2);break;case"c":case"cc":e=Be(Ie.Day,1);break;case"ccc":e=Se(_e.Days,be.Abbreviated,wt.Standalone);break;case"cccc":e=Se(_e.Days,be.Wide,wt.Standalone);break;case"ccccc":e=Se(_e.Days,be.Narrow,wt.Standalone);break;case"cccccc":e=Se(_e.Days,be.Short,wt.Standalone);break;case"E":case"EE":case"EEE":e=Se(_e.Days,be.Abbreviated);break;case"EEEE":e=Se(_e.Days,be.Wide);break;case"EEEEE":e=Se(_e.Days,be.Narrow);break;case"EEEEEE":e=Se(_e.Days,be.Short);break;case"a":case"aa":case"aaa":e=Se(_e.DayPeriods,be.Abbreviated);break;case"aaaa":e=Se(_e.DayPeriods,be.Wide);break;case"aaaaa":e=Se(_e.DayPeriods,be.Narrow);break;case"b":case"bb":case"bbb":e=Se(_e.DayPeriods,be.Abbreviated,wt.Standalone,!0);break;case"bbbb":e=Se(_e.DayPeriods,be.Wide,wt.Standalone,!0);break;case"bbbbb":e=Se(_e.DayPeriods,be.Narrow,wt.Standalone,!0);break;case"B":case"BB":case"BBB":e=Se(_e.DayPeriods,be.Abbreviated,wt.Format,!0);break;case"BBBB":e=Se(_e.DayPeriods,be.Wide,wt.Format,!0);break;case"BBBBB":e=Se(_e.DayPeriods,be.Narrow,wt.Format,!0);break;case"h":e=Be(Ie.Hours,1,-12);break;case"hh":e=Be(Ie.Hours,2,-12);break;case"H":e=Be(Ie.Hours,1);break;case"HH":e=Be(Ie.Hours,2);break;case"m":e=Be(Ie.Minutes,1);break;case"mm":e=Be(Ie.Minutes,2);break;case"s":e=Be(Ie.Seconds,1);break;case"ss":e=Be(Ie.Seconds,2);break;case"S":e=Be(Ie.FractionalSeconds,1);break;case"SS":e=Be(Ie.FractionalSeconds,2);break;case"SSS":e=Be(Ie.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=ed(Yn.Short);break;case"ZZZZZ":e=ed(Yn.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=ed(Yn.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=ed(Yn.Long);break;default:return null}return Qg[t]=e,e}function Yb(t,e){t=t.replace(/:/g,"");let n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function hF(t,e){return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+e),t}function fF(t,e,n){let r=n?-1:1,i=t.getTimezoneOffset(),s=Yb(e,i);return hF(t,r*(s-i))}function pF(t){if(Ub(t))return t;if(typeof t=="number"&&!isNaN(t))return new Date(t);if(typeof t=="string"){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){let[i,s=1,o=1]=t.split("-").map(a=>+a);return id(i,s-1,o)}let n=parseFloat(t);if(!isNaN(t-n))return new Date(n);let r;if(r=t.match(rF))return gF(r)}let e=new Date(t);if(!Ub(e))throw new Error(`Unable to convert "${t}" into a date`);return e}function gF(t){let e=new Date(0),n=0,r=0,i=t[8]?e.setUTCFullYear:e.setFullYear,s=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));let o=Number(t[4]||0)-n,a=Number(t[5]||0)-r,u=Number(t[6]||0),l=Math.floor(parseFloat("0."+(t[7]||0))*1e3);return s.call(e,o,a,u,l),e}function Ub(t){return t instanceof Date&&!isNaN(t.valueOf())}function od(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,s]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var Yg=/\s+/,jb=[],a8=(()=>{class t{constructor(n,r){this._ngEl=n,this._renderer=r,this.initialClasses=jb,this.stateMap=new Map}set klass(n){this.initialClasses=n!=null?n.trim().split(Yg):jb}set ngClass(n){this.rawClass=typeof n=="string"?n.trim().split(Yg):n}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(let r of n)this._updateState(r,!0);else if(n!=null)for(let r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){let i=this.stateMap.get(n);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let n of this.stateMap){let r=n[0],i=n[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(n,r){n=n.trim(),n.length>0&&n.split(Yg).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static{this.\u0275fac=function(r){return new(r||t)(q(qn),q(Or))}}static{this.\u0275dir=Ne({type:t,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0})}}return t})();var Jg=class{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},c8=(()=>{class t{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;if(!this._differ&&n)if(0)try{}catch{}else this._differ=this._differs.find(n).create(this.ngForTrackBy)}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let r=this._viewContainer;n.forEachOperation((i,s,o)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new Jg(i.item,this._ngForOf,-1,-1),o===null?void 0:o);else if(o==null)r.remove(s===null?void 0:s);else if(s!==null){let a=r.get(s);r.move(a,o),Bb(a,i)}});for(let i=0,s=r.length;i<s;i++){let a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{let s=r.get(i.currentIndex);Bb(s,i)})}static ngTemplateContextGuard(n,r){return!0}static{this.\u0275fac=function(r){return new(r||t)(q(Bs),q(Bl),q(Gg))}}static{this.\u0275dir=Ne({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return t})();function Bb(t,e){t.context.$implicit=e.item}var u8=(()=>{class t{constructor(n,r){this._viewContainer=n,this._context=new Zg,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){$b("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){$b("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}static{this.\u0275fac=function(r){return new(r||t)(q(Bs),q(Bl))}}static{this.\u0275dir=Ne({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return t})(),Zg=class{constructor(){this.$implicit=null,this.ngIf=null}};function $b(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${vt(e)}'.`)}function Jb(t,e){return new $(2100,!1)}var Xg=class{createSubscription(e,n){return Wt(()=>e.subscribe({next:n,error:r=>{throw r}}))}dispose(e){Wt(()=>e.unsubscribe())}},em=class{createSubscription(e,n){return e.then(n,r=>{throw r})}dispose(e){}},mF=new em,yF=new Xg,l8=(()=>{class t{constructor(n){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=n}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(n){if(!this._obj){if(n)try{this.markForCheckOnValueUpdate=!1,this._subscribe(n)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return n!==this._obj?(this._dispose(),this.transform(n)):this._latestValue}_subscribe(n){this._obj=n,this._strategy=this._selectStrategy(n),this._subscription=this._strategy.createSubscription(n,r=>this._updateLatestValue(n,r))}_selectStrategy(n){if(kr(n))return mF;if(qg(n))return yF;throw Jb(t,n)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(n,r){n===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static{this.\u0275fac=function(r){return new(r||t)(q(Lr,16))}}static{this.\u0275pipe=hg({name:"async",type:t,pure:!1,standalone:!0})}}return t})();var vF="mediumDate",_F=new L(""),IF=new L(""),d8=(()=>{class t{constructor(n,r,i){this.locale=n,this.defaultTimezone=r,this.defaultOptions=i}transform(n,r,i,s){if(n==null||n===""||n!==n)return null;try{let o=r??this.defaultOptions?.dateFormat??vF,a=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return sF(n,o,s||this.locale,a)}catch(o){throw Jb(t,o.message)}}static{this.\u0275fac=function(r){return new(r||t)(q(Kl,16),q(_F,24),q(IF,24))}}static{this.\u0275pipe=hg({name:"date",type:t,pure:!0,standalone:!0})}}return t})();var wF=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=sn({type:t})}static{this.\u0275inj=rn({})}}return t})(),om="browser",EF="server";function DF(t){return t===om}function ad(t){return t===EF}var Zb=(()=>{class t{static{this.\u0275prov=B({token:t,providedIn:"root",factory:()=>DF(x(zt))?new tm(x(nt),window):new nm})}}return t})(),tm=class{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let n=TF(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}};function TF(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let s=i.shadowRoot;if(s){let o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}var nm=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},qs=class{};var Ca=class{},ud=class{},Zn=class t{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),s=i.toLowerCase(),o=n.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,n);let i=(e.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let s=e.value;if(!s)this.headers.delete(n),this.normalizedNames.delete(n);else{let o=this.headers.get(n);if(!o)return;o=o.filter(a=>s.indexOf(a)===-1),o.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,o)}break}}setHeaderEntries(e,n){let r=(Array.isArray(n)?n:[n]).map(s=>s.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var cm=class{encodeKey(e){return Xb(e)}encodeValue(e){return Xb(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function CF(t,e){let n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{let s=i.indexOf("="),[o,a]=s==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],u=n.get(o)||[];u.push(a),n.set(o,u)}),n}var AF=/%(\d[a-f0-9])/gi,SF={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Xb(t){return encodeURIComponent(t).replace(AF,(e,n)=>SF[n]??e)}function cd(t){return`${t}`}var jr=class t{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new cm,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=CF(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{let r=e.fromObject[n],i=Array.isArray(r)?r.map(cd):[cd(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){let n=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(s=>{n.push({param:r,value:s,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let n=(e.op==="a"?this.map.get(e.param):void 0)||[];n.push(cd(e.value)),this.map.set(e.param,n);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(cd(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var um=class{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function RF(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function eC(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function tC(t){return typeof Blob<"u"&&t instanceof Blob}function nC(t){return typeof FormData<"u"&&t instanceof FormData}function NF(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var ba=class t{constructor(e,n,r,i){this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let s;if(RF(this.method)||i?(this.body=r!==void 0?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),this.transferCache=s.transferCache),this.headers??=new Zn,this.context??=new um,!this.params)this.params=new jr,this.urlWithParams=n;else{let o=this.params.toString();if(o.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),u=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+u+o}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||eC(this.body)||tC(this.body)||nC(this.body)||NF(this.body)?this.body:this.body instanceof jr?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||nC(this.body)?null:tC(this.body)?this.body.type||null:eC(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof jr?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,s=e.transferCache??this.transferCache,o=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,u=e.reportProgress??this.reportProgress,l=e.headers||this.headers,h=e.params||this.params,p=e.context??this.context;return e.setHeaders!==void 0&&(l=Object.keys(e.setHeaders).reduce((m,y)=>m.set(y,e.setHeaders[y]),l)),e.setParams&&(h=Object.keys(e.setParams).reduce((m,y)=>m.set(y,e.setParams[y]),h)),new t(n,r,o,{params:h,headers:l,context:p,reportProgress:u,responseType:i,withCredentials:a,transferCache:s})}},Br=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(Br||{}),Aa=class{constructor(e,n=200,r="OK"){this.headers=e.headers||new Zn,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},ld=class t extends Aa{constructor(e={}){super(e),this.type=Br.ResponseHeader}clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Sa=class t extends Aa{constructor(e={}){super(e),this.type=Br.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Ur=class extends Aa{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},aC=200,MF=204;function am(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var xF=(()=>{class t{constructor(n){this.handler=n}request(n,r,i={}){let s;if(n instanceof ba)s=n;else{let u;i.headers instanceof Zn?u=i.headers:u=new Zn(i.headers);let l;i.params&&(i.params instanceof jr?l=i.params:l=new jr({fromObject:i.params})),s=new ba(n,r,i.body!==void 0?i.body:null,{headers:u,context:i.context,params:l,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}let o=K(s).pipe(kn(u=>this.handler.handle(u)));if(n instanceof ba||i.observe==="events")return o;let a=o.pipe(mt(u=>u instanceof Sa));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return a.pipe(J(u=>{if(u.body!==null&&!(u.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return u.body}));case"blob":return a.pipe(J(u=>{if(u.body!==null&&!(u.body instanceof Blob))throw new Error("Response is not a Blob.");return u.body}));case"text":return a.pipe(J(u=>{if(u.body!==null&&typeof u.body!="string")throw new Error("Response is not a string.");return u.body}));case"json":default:return a.pipe(J(u=>u.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:new jr().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,i={}){return this.request("PATCH",n,am(i,r))}post(n,r,i={}){return this.request("POST",n,am(i,r))}put(n,r,i={}){return this.request("PUT",n,am(i,r))}static{this.\u0275fac=function(r){return new(r||t)(z(Ca))}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac})}}return t})(),PF=/^\)\]\}',?\n/,OF="X-Request-URL";function rC(t){if(t.url)return t.url;let e=OF.toLocaleLowerCase();return t.headers.get(e)}var kF=(()=>{class t{constructor(){this.fetchImpl=x(lm,{optional:!0})?.fetch??((...n)=>globalThis.fetch(...n)),this.ngZone=x(me)}handle(n){return new ie(r=>{let i=new AbortController;return this.doRequest(n,i.signal,r).then(dm,s=>r.error(new Ur({error:s}))),()=>i.abort()})}doRequest(n,r,i){return w(this,null,function*(){let s=this.createRequestInit(n),o;try{let y=this.ngZone.runOutsideAngular(()=>this.fetchImpl(n.urlWithParams,k({signal:r},s)));FF(y),i.next({type:Br.Sent}),o=yield y}catch(y){i.error(new Ur({error:y,status:y.status??0,statusText:y.statusText,url:n.urlWithParams,headers:y.headers}));return}let a=new Zn(o.headers),u=o.statusText,l=rC(o)??n.urlWithParams,h=o.status,p=null;if(n.reportProgress&&i.next(new ld({headers:a,status:h,statusText:u,url:l})),o.body){let y=o.headers.get("content-length"),C=[],N=o.body.getReader(),R=0,F,H,V=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>w(this,null,function*(){for(;;){let{done:we,value:W}=yield N.read();if(we)break;if(C.push(W),R+=W.length,n.reportProgress){H=n.responseType==="text"?(H??"")+(F??=new TextDecoder).decode(W,{stream:!0}):void 0;let E=()=>i.next({type:Br.DownloadProgress,total:y?+y:void 0,loaded:R,partialText:H});V?V.run(E):E()}}}));let ee=this.concatChunks(C,R);try{let we=o.headers.get("Content-Type")??"";p=this.parseBody(n,ee,we)}catch(we){i.error(new Ur({error:we,headers:new Zn(o.headers),status:o.status,statusText:o.statusText,url:rC(o)??n.urlWithParams}));return}}h===0&&(h=p?aC:0),h>=200&&h<300?(i.next(new Sa({body:p,headers:a,status:h,statusText:u,url:l})),i.complete()):i.error(new Ur({error:p,headers:a,status:h,statusText:u,url:l}))})}parseBody(n,r,i){switch(n.responseType){case"json":let s=new TextDecoder().decode(r).replace(PF,"");return s===""?null:JSON.parse(s);case"text":return new TextDecoder().decode(r);case"blob":return new Blob([r],{type:i});case"arraybuffer":return r.buffer}}createRequestInit(n){let r={},i=n.withCredentials?"include":void 0;if(n.headers.forEach((s,o)=>r[s]=o.join(",")),n.headers.has("Accept")||(r.Accept="application/json, text/plain, */*"),!n.headers.has("Content-Type")){let s=n.detectContentTypeHeader();s!==null&&(r["Content-Type"]=s)}return{body:n.serializeBody(),method:n.method,headers:r,credentials:i}}concatChunks(n,r){let i=new Uint8Array(r),s=0;for(let o of n)i.set(o,s),s+=o.length;return i}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac})}}return t})(),lm=class{};function dm(){}function FF(t){t.then(dm,dm)}function cC(t,e){return e(t)}function LF(t,e){return(n,r)=>e.intercept(n,{handle:i=>t(i,r)})}function VF(t,e,n){return(r,i)=>$t(n,()=>e(r,s=>t(s,i)))}var UF=new L(""),hm=new L(""),jF=new L(""),uC=new L("",{providedIn:"root",factory:()=>!0});function BF(){let t=null;return(e,n)=>{t===null&&(t=(x(UF,{optional:!0})??[]).reduceRight(LF,cC));let r=x(zn);if(x(uC)){let s=r.add();return t(e,n).pipe(Tr(()=>r.remove(s)))}else return t(e,n)}}var iC=(()=>{class t extends Ca{constructor(n,r){super(),this.backend=n,this.injector=r,this.chain=null,this.pendingTasks=x(zn),this.contributeToStability=x(uC)}handle(n){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(hm),...this.injector.get(jF,[])]));this.chain=r.reduceRight((i,s)=>VF(i,s,this.injector),cC)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(n,i=>this.backend.handle(i)).pipe(Tr(()=>this.pendingTasks.remove(r)))}else return this.chain(n,r=>this.backend.handle(r))}static{this.\u0275fac=function(r){return new(r||t)(z(ud),z(_t))}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac})}}return t})();var $F=/^\)\]\}',?\n/;function HF(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}var sC=(()=>{class t{constructor(n){this.xhrFactory=n}handle(n){if(n.method==="JSONP")throw new $(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?Ae(r.\u0275loadImpl()):K(null)).pipe(Tt(()=>new ie(s=>{let o=r.build();if(o.open(n.method,n.urlWithParams),n.withCredentials&&(o.withCredentials=!0),n.headers.forEach((N,R)=>o.setRequestHeader(N,R.join(","))),n.headers.has("Accept")||o.setRequestHeader("Accept","application/json, text/plain, */*"),!n.headers.has("Content-Type")){let N=n.detectContentTypeHeader();N!==null&&o.setRequestHeader("Content-Type",N)}if(n.responseType){let N=n.responseType.toLowerCase();o.responseType=N!=="json"?N:"text"}let a=n.serializeBody(),u=null,l=()=>{if(u!==null)return u;let N=o.statusText||"OK",R=new Zn(o.getAllResponseHeaders()),F=HF(o)||n.url;return u=new ld({headers:R,status:o.status,statusText:N,url:F}),u},h=()=>{let{headers:N,status:R,statusText:F,url:H}=l(),V=null;R!==MF&&(V=typeof o.response>"u"?o.responseText:o.response),R===0&&(R=V?aC:0);let ee=R>=200&&R<300;if(n.responseType==="json"&&typeof V=="string"){let we=V;V=V.replace($F,"");try{V=V!==""?JSON.parse(V):null}catch(W){V=we,ee&&(ee=!1,V={error:W,text:V})}}ee?(s.next(new Sa({body:V,headers:N,status:R,statusText:F,url:H||void 0})),s.complete()):s.error(new Ur({error:V,headers:N,status:R,statusText:F,url:H||void 0}))},p=N=>{let{url:R}=l(),F=new Ur({error:N,status:o.status||0,statusText:o.statusText||"Unknown Error",url:R||void 0});s.error(F)},m=!1,y=N=>{m||(s.next(l()),m=!0);let R={type:Br.DownloadProgress,loaded:N.loaded};N.lengthComputable&&(R.total=N.total),n.responseType==="text"&&o.responseText&&(R.partialText=o.responseText),s.next(R)},C=N=>{let R={type:Br.UploadProgress,loaded:N.loaded};N.lengthComputable&&(R.total=N.total),s.next(R)};return o.addEventListener("load",h),o.addEventListener("error",p),o.addEventListener("timeout",p),o.addEventListener("abort",p),n.reportProgress&&(o.addEventListener("progress",y),a!==null&&o.upload&&o.upload.addEventListener("progress",C)),o.send(a),s.next({type:Br.Sent}),()=>{o.removeEventListener("error",p),o.removeEventListener("abort",p),o.removeEventListener("load",h),o.removeEventListener("timeout",p),n.reportProgress&&(o.removeEventListener("progress",y),a!==null&&o.upload&&o.upload.removeEventListener("progress",C)),o.readyState!==o.DONE&&o.abort()}})))}static{this.\u0275fac=function(r){return new(r||t)(z(qs))}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac})}}return t})(),lC=new L(""),zF="XSRF-TOKEN",qF=new L("",{providedIn:"root",factory:()=>zF}),GF="X-XSRF-TOKEN",WF=new L("",{providedIn:"root",factory:()=>GF}),dd=class{},KF=(()=>{class t{constructor(n,r,i){this.doc=n,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=od(n,this.cookieName),this.lastCookieString=n),this.lastToken}static{this.\u0275fac=function(r){return new(r||t)(z(nt),z(zt),z(qF))}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac})}}return t})();function QF(t,e){let n=t.url.toLowerCase();if(!x(lC)||t.method==="GET"||t.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return e(t);let r=x(dd).getToken(),i=x(WF);return r!=null&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,r)})),e(t)}var dC=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(dC||{});function YF(t,e){return{\u0275kind:t,\u0275providers:e}}function JF(...t){let e=[xF,sC,iC,{provide:Ca,useExisting:iC},{provide:ud,useFactory:()=>x(kF,{optional:!0})??x(sC)},{provide:hm,useValue:QF,multi:!0},{provide:lC,useValue:!0},{provide:dd,useClass:KF}];for(let n of t)e.push(...n.\u0275providers);return Bt(e)}var oC=new L("");function ZF(){return YF(dC.LegacyInterceptors,[{provide:oC,useFactory:BF},{provide:hm,useExisting:oC,multi:!0}])}var b8=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=sn({type:t})}static{this.\u0275inj=rn({providers:[JF(ZF())]})}}return t})();var gm=class extends rd{constructor(){super(...arguments),this.supportsDOMEvents=!0}},mm=class t extends gm{static makeCurrent(){zb(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=XF();return n==null?null:eL(n)}resetBaseElement(){Ra=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return od(document.cookie,e)}},Ra=null;function XF(){return Ra=Ra||document.querySelector("base"),Ra?Ra.getAttribute("href"):null}function eL(t){return new URL(t,document.baseURI).pathname}var tL=(()=>{class t{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac})}}return t})(),hd=new L(""),gC=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(s=>s.supports(n)),!r)throw new $(5101,!1);return this._eventNameToPlugin.set(n,r),r}static{this.\u0275fac=function(r){return new(r||t)(z(hd),z(me))}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac})}}return t})(),Na=class{constructor(e){this._doc=e}},fm="ng-app-id",mC=(()=>{class t{constructor(n,r,i,s={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=ad(s),this.resetHostNodes()}addStyles(n){for(let r of n)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(n){for(let r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(let r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(let r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){let r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){let n=this.doc.head?.querySelectorAll(`style[${fm}="${this.appId}"]`);if(n?.length){let r=new Map;return n.forEach(i=>{i.textContent!=null&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){let i=this.styleRef;if(i.has(n)){let s=i.get(n);return s.usage+=r,s.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){let i=this.styleNodesInDOM,s=i?.get(r);if(s?.parentNode===n)return i.delete(r),s.removeAttribute(fm),s;{let o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=r,this.platformIsServer&&o.setAttribute(fm,this.appId),n.appendChild(o),o}}addStyleToHost(n,r){let i=this.getStyleElement(n,r),s=this.styleRef,o=s.get(r)?.elements;o?o.push(i):s.set(r,{elements:[i],usage:1})}resetHostNodes(){let n=this.hostNodes;n.clear(),n.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||t)(z(nt),z(Ag),z(Rg,8),z(zt))}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac})}}return t})(),pm={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},vm=/%COMP%/g,yC="%COMP%",nL=`_nghost-${yC}`,rL=`_ngcontent-${yC}`,iL=!0,sL=new L("",{providedIn:"root",factory:()=>iL});function oL(t){return rL.replace(vm,t)}function aL(t){return nL.replace(vm,t)}function vC(t,e){return e.map(n=>n.replace(vm,t))}var hC=(()=>{class t{constructor(n,r,i,s,o,a,u,l=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=a,this.ngZone=u,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=ad(a),this.defaultRenderer=new Ma(n,o,u,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===mn.ShadowDom&&(r=ae(k({},r),{encapsulation:mn.Emulated}));let i=this.getOrCreateRenderer(n,r);return i instanceof fd?i.applyToHost(n):i instanceof xa&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,s=i.get(r.id);if(!s){let o=this.doc,a=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,p=this.platformIsServer;switch(r.encapsulation){case mn.Emulated:s=new fd(u,l,r,this.appId,h,o,a,p);break;case mn.ShadowDom:return new ym(u,l,n,r,o,a,this.nonce,p);default:s=new xa(u,l,r,h,o,a,p);break}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||t)(z(gC),z(mC),z(Ag),z(sL),z(nt),z(zt),z(me),z(Rg))}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac})}}return t})(),Ma=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(pm[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(fC(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(fC(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new $(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let s=pm[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=pm[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Vn.DashCase|Vn.Important)?e.style.setProperty(n,r,i&Vn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Vn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=Jn().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function fC(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var ym=class extends Ma{constructor(e,n,r,i,s,o,a,u){super(e,s,o,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=vC(i.id,i.styles);for(let h of l){let p=document.createElement("style");a&&p.setAttribute("nonce",a),p.textContent=h,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},xa=class extends Ma{constructor(e,n,r,i,s,o,a,u){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?vC(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},fd=class extends xa{constructor(e,n,r,i,s,o,a,u){let l=i+"-"+r.id;super(e,n,r,s,o,a,u,l),this.contentAttr=oL(l),this.hostAttr=aL(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},cL=(()=>{class t extends Na{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||t)(z(nt))}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac})}}return t})(),uL=(()=>{class t extends Na{constructor(n){super(n),this.delegate=x(kb,{optional:!0})}supports(n){return this.delegate?this.delegate.supports(n):!1}addEventListener(n,r,i){return this.delegate.addEventListener(n,r,i)}removeEventListener(n,r,i){return this.delegate.removeEventListener(n,r,i)}static{this.\u0275fac=function(r){return new(r||t)(z(nt))}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac})}}return t})(),pC=["alt","control","meta","shift"],lL={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},dL={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},hL=(()=>{class t extends Na{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,r,i){let s=t.parseEventName(r),o=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Jn().onAndCancel(n,s.domEventName,o))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let s=t._normalizeKey(r.pop()),o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),pC.forEach(l=>{let h=r.indexOf(l);h>-1&&(r.splice(h,1),o+=l+".")}),o+=s,r.length!=0||s.length===0)return null;let u={};return u.domEventName=i,u.fullKey=o,u}static matchEventFullKeyCode(n,r){let i=lL[n.key]||n.key,s="";return r.indexOf("code.")>-1&&(i=n.code,s="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),pC.forEach(o=>{if(o!==i){let a=dL[o];a(n)&&(s+=o+".")}}),s+=i,s===r)}static eventCallback(n,r,i){return s=>{t.matchEventFullKeyCode(s,n)&&i.runGuarded(()=>r(s))}}static _normalizeKey(n){return n==="esc"?"escape":n}static{this.\u0275fac=function(r){return new(r||t)(z(nt))}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac})}}return t})();function J8(t,e){return Ob(k({rootComponent:t},fL(e)))}function fL(t){return{appProviders:[...vL,...t?.providers??[]],platformProviders:yL}}function pL(){mm.makeCurrent()}function gL(){return new Ln}function mL(){return RT(document),document}var yL=[{provide:zt,useValue:om},{provide:Sg,useValue:pL,multi:!0},{provide:nt,useFactory:mL,deps:[]}];var vL=[{provide:Sl,useValue:"root"},{provide:Ln,useFactory:gL,deps:[]},{provide:hd,useClass:cL,multi:!0,deps:[nt,me,zt]},{provide:hd,useClass:hL,multi:!0,deps:[nt]},{provide:hd,useClass:uL,multi:!0},hC,mC,gC,{provide:Ls,useExisting:hC},{provide:qs,useClass:tL,deps:[]},[]];var _C=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static{this.\u0275fac=function(r){return new(r||t)(z(nt))}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var re="primary",Ka=Symbol("RouteTitle"),Dm=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Zs(t){return new Dm(t)}function IL(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],a=t[s];if(o[0]===":")i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function wL(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!In(t[n],e[n]))return!1;return!0}function In(t,e){let n=t?Tm(t):void 0,r=e?Tm(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!NC(t[i],e[i]))return!1;return!0}function Tm(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function NC(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}else return t===e}function MC(t){return t.length>0?t[t.length-1]:null}function zr(t){return ep(t)?t:kr(t)?Ae(Promise.resolve(t)):K(t)}var EL={exact:PC,subset:OC},xC={exact:DL,subset:TL,ignored:()=>!0};function IC(t,e,n){return EL[n.paths](t.root,e.root,n.matrixParams)&&xC[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function DL(t,e){return In(t,e)}function PC(t,e,n){if(!Mi(t.segments,e.segments)||!md(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!PC(t.children[r],e.children[r],n))return!1;return!0}function TL(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>NC(t[n],e[n]))}function OC(t,e,n){return kC(t,e,e.segments,n)}function kC(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!Mi(i,n)||e.hasChildren()||!md(i,n,r))}else if(t.segments.length===n.length){if(!Mi(t.segments,n)||!md(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!OC(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!Mi(t.segments,i)||!md(t.segments,i,r)||!t.children[re]?!1:kC(t.children[re],e,s,r)}}function md(t,e,n){return e.every((r,i)=>xC[n](t[i].parameters,r.parameters))}var er=class{constructor(e=new Ee([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Zs(this.queryParams),this._queryParamMap}toString(){return AL.serialize(this)}},Ee=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return yd(this)}},Ni=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Zs(this.parameters),this._parameterMap}toString(){return LC(this)}};function bL(t,e){return Mi(t,e)&&t.every((n,r)=>In(n.parameters,e[r].parameters))}function Mi(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function CL(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===re&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==re&&(n=n.concat(e(i,r)))}),n}var Qa=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:()=>new Xs,providedIn:"root"})}}return t})(),Xs=class{parse(e){let n=new Cm(e);return new er(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${Pa(e.root,!0)}`,r=NL(e.queryParams),i=typeof e.fragment=="string"?`#${SL(e.fragment)}`:"";return`${n}${r}${i}`}},AL=new Xs;function yd(t){return t.segments.map(e=>LC(e)).join("/")}function Pa(t,e){if(!t.hasChildren())return yd(t);if(e){let n=t.children[re]?Pa(t.children[re],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==re&&r.push(`${i}:${Pa(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=CL(t,(r,i)=>i===re?[Pa(t.children[re],!1)]:[`${i}:${Pa(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[re]!=null?`${yd(t)}/${n[0]}`:`${yd(t)}/(${n.join("//")})`}}function FC(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function pd(t){return FC(t).replace(/%3B/gi,";")}function SL(t){return encodeURI(t)}function bm(t){return FC(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function vd(t){return decodeURIComponent(t)}function wC(t){return vd(t.replace(/\+/g,"%20"))}function LC(t){return`${bm(t.path)}${RL(t.parameters)}`}function RL(t){return Object.entries(t).map(([e,n])=>`;${bm(e)}=${bm(n)}`).join("")}function NL(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${pd(n)}=${pd(i)}`).join("&"):`${pd(n)}=${pd(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var ML=/^[^\/()?;#]+/;function _m(t){let e=t.match(ML);return e?e[0]:""}var xL=/^[^\/()?;=#]+/;function PL(t){let e=t.match(xL);return e?e[0]:""}var OL=/^[^=?&#]+/;function kL(t){let e=t.match(OL);return e?e[0]:""}var FL=/^[^&#]+/;function LL(t){let e=t.match(FL);return e?e[0]:""}var Cm=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ee([],{}):new Ee([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[re]=new Ee(e,n)),r}parseSegment(){let e=_m(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new $(4009,!1);return this.capture(e),new Ni(vd(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=PL(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=_m(this.remaining);i&&(r=i,this.capture(r))}e[vd(n)]=vd(r)}parseQueryParam(e){let n=kL(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=LL(this.remaining);o&&(r=o,this.capture(r))}let i=wC(n),s=wC(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=_m(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new $(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=re);let o=this.parseChildren();n[s]=Object.keys(o).length===1?o[re]:new Ee([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new $(4011,!1)}};function VC(t){return t.segments.length>0?new Ee([],{[re]:t}):t}function UC(t){let e={};for(let[r,i]of Object.entries(t.children)){let s=UC(i);if(r===re&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let n=new Ee(t.segments,e);return VL(n)}function VL(t){if(t.numberOfChildren===1&&t.children[re]){let e=t.children[re];return new Ee(t.segments.concat(e.segments),e.children)}return t}function Ua(t){return t instanceof er}function UL(t,e,n=null,r=null){let i=jC(t);return BC(i,e,n,r)}function jC(t){let e;function n(s){let o={};for(let u of s.children){let l=n(u);o[u.outlet]=l}let a=new Ee(s.url,o);return s===t&&(e=a),a}let r=n(t.root),i=VC(r);return e??i}function BC(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return Im(i,i,i,n,r);let s=jL(e);if(s.toRoot())return Im(i,i,new Ee([],{}),n,r);let o=BL(s,i,t),a=o.processChildren?Fa(o.segmentGroup,o.index,s.commands):HC(o.segmentGroup,o.index,s.commands);return Im(i,o.segmentGroup,a,n,r)}function _d(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function ja(t){return typeof t=="object"&&t!=null&&t.outlets}function Im(t,e,n,r,i){let s={};r&&Object.entries(r).forEach(([u,l])=>{s[u]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`});let o;t===e?o=n:o=$C(t,e,n);let a=VC(UC(o));return new er(a,s,i)}function $C(t,e,n){let r={};return Object.entries(t.children).forEach(([i,s])=>{s===e?r[i]=n:r[i]=$C(s,e,n)}),new Ee(t.segments,r)}var Id=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&_d(r[0]))throw new $(4003,!1);let i=r.find(ja);if(i&&i!==MC(r))throw new $(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function jL(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Id(!0,0,t);let e=0,n=!1,r=t.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([u,l])=>{a[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,s]},[]);return new Id(n,e,r)}var Qs=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function BL(t,e,n){if(t.isAbsolute)return new Qs(e,!0,0);if(!n)return new Qs(e,!1,NaN);if(n.parent===null)return new Qs(n,!0,0);let r=_d(t.commands[0])?0:1,i=n.segments.length-1+r;return $L(n,i,t.numberOfDoubleDots)}function $L(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new $(4005,!1);i=r.segments.length}return new Qs(r,!1,i-s)}function HL(t){return ja(t[0])?t[0].outlets:{[re]:t}}function HC(t,e,n){if(t??=new Ee([],{}),t.segments.length===0&&t.hasChildren())return Fa(t,e,n);let r=zL(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let s=new Ee(t.segments.slice(0,r.pathIndex),{});return s.children[re]=new Ee(t.segments.slice(r.pathIndex),t.children),Fa(s,0,i)}else return r.match&&i.length===0?new Ee(t.segments,{}):r.match&&!t.hasChildren()?Am(t,e,n):r.match?Fa(t,0,i):Am(t,e,n)}function Fa(t,e,n){if(n.length===0)return new Ee(t.segments,{});{let r=HL(n),i={};if(Object.keys(r).some(s=>s!==re)&&t.children[re]&&t.numberOfChildren===1&&t.children[re].segments.length===0){let s=Fa(t.children[re],e,n);return new Ee(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=HC(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new Ee(t.segments,i)}}function zL(t,e,n){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;let o=t.segments[i],a=n[r];if(ja(a))break;let u=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!DC(u,l,o))return s;r+=2}else{if(!DC(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Am(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let s=n[i];if(ja(s)){let u=qL(s.outlets);return new Ee(r,u)}if(i===0&&_d(n[0])){let u=t.segments[e];r.push(new Ni(u.path,EC(n[0]))),i++;continue}let o=ja(s)?s.outlets[re]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&_d(a)?(r.push(new Ni(o,EC(a))),i+=2):(r.push(new Ni(o,{})),i++)}return new Ee(r,{})}function qL(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=Am(new Ee([],{}),0,r))}),e}function EC(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function DC(t,e,n){return t==n.path&&In(e,n.parameters)}var La="imperative",Qe=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Qe||{}),Qt=class{constructor(e,n){this.id=e,this.url=n}},eo=class extends Qt{constructor(e,n,r="imperative",i=null){super(e,n),this.type=Qe.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},tr=class extends Qt{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=Qe.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},kt=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(kt||{}),wd=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(wd||{}),Xn=class extends Qt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Qe.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},$r=class extends Qt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Qe.NavigationSkipped}},Ba=class extends Qt{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=Qe.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Ed=class extends Qt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Qe.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Sm=class extends Qt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Qe.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Rm=class extends Qt{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=Qe.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Nm=class extends Qt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Qe.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Mm=class extends Qt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Qe.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},xm=class{constructor(e){this.route=e,this.type=Qe.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Pm=class{constructor(e){this.route=e,this.type=Qe.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Om=class{constructor(e){this.snapshot=e,this.type=Qe.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},km=class{constructor(e){this.snapshot=e,this.type=Qe.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Fm=class{constructor(e){this.snapshot=e,this.type=Qe.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Lm=class{constructor(e){this.snapshot=e,this.type=Qe.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Dd=class{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=Qe.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},$a=class{},to=class{constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function GL(t,e){return t.providers&&!t._injector&&(t._injector=$l(t.providers,e,`Route: ${t.path}`)),t._injector??e}function cn(t){return t.outlet||re}function WL(t,e){let n=t.filter(r=>cn(r)===e);return n.push(...t.filter(r=>cn(r)!==e)),n}function Ya(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var Vm=class{get injector(){return Ya(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new Ja(this.rootInjector),this.attachRef=null}},Ja=(()=>{class t{constructor(n){this.rootInjector=n,this.contexts=new Map}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new Vm(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static{this.\u0275fac=function(r){return new(r||t)(z(_t))}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Td=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=Um(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=Um(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=jm(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return jm(e,this._root).map(n=>n.value)}};function Um(t,e){if(t===e.value)return e;for(let n of e.children){let r=Um(t,n);if(r)return r}return null}function jm(t,e){if(t===e.value)return[e];for(let n of e.children){let r=jm(t,n);if(r.length)return r.unshift(e),r}return[]}var Ot=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Ks(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var bd=class extends Td{constructor(e,n){super(e),this.snapshot=n,Qm(this,e)}toString(){return this.snapshot.toString()}};function zC(t){let e=KL(t),n=new et([new Ni("",{})]),r=new et({}),i=new et({}),s=new et({}),o=new et(""),a=new xi(n,r,s,o,i,re,t,e.root);return a.snapshot=e.root,new bd(new Ot(a,[]),e)}function KL(t){let e={},n={},r={},i="",s=new Ys([],e,r,i,n,re,t,null,{});return new Ad("",new Ot(s,[]))}var xi=class{constructor(e,n,r,i,s,o,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(J(l=>l[Ka]))??K(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(J(e=>Zs(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(J(e=>Zs(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Cd(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:k(k({},e.params),t.params),data:k(k({},e.data),t.data),resolve:k(k(k(k({},t.data),e.data),i?.data),t._resolvedData)}:r={params:k({},t.params),data:k({},t.data),resolve:k(k({},t.data),t._resolvedData??{})},i&&GC(i)&&(r.resolve[Ka]=i.title),r}var Ys=class{get title(){return this.data?.[Ka]}constructor(e,n,r,i,s,o,a,u,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Zs(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Zs(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},Ad=class extends Td{constructor(e,n){super(n),this.url=e,Qm(this,n)}toString(){return qC(this._root)}};function Qm(t,e){e.value._routerState=t,e.children.forEach(n=>Qm(t,n))}function qC(t){let e=t.children.length>0?` { ${t.children.map(qC).join(", ")} } `:"";return`${t.value}${e}`}function wm(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,In(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),In(e.params,n.params)||t.paramsSubject.next(n.params),wL(e.url,n.url)||t.urlSubject.next(n.url),In(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Bm(t,e){let n=In(t.params,e.params)&&bL(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||Bm(t.parent,e.parent))}function GC(t){return typeof t.title=="string"||t.title===null}var QL=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=re,this.activateEvents=new ke,this.deactivateEvents=new ke,this.attachEvents=new ke,this.detachEvents=new ke,this.parentContexts=x(Ja),this.location=x(Bs),this.changeDetector=x(Lr),this.inputBinder=x(Md,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new $(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new $(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new $(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new $(4013,!1);this._activatedRoute=n;let i=this.location,o=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new $m(n,a,i.injector);this.activated=i.createComponent(o,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=Ne({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[$n]})}}return t})(),$m=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===xi?this.route:e===Ja?this.childContexts:this.parent.get(e,n)}},Md=new L(""),TC=(()=>{class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){let{activatedRoute:r}=n,i=la([r.queryParams,r.params,r.data]).pipe(Tt(([s,o,a],u)=>(a=k(k(k({},s),o),a),u===0?K(a):Promise.resolve(a)))).subscribe(s=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(n);return}let o=Fb(r.component);if(!o){this.unsubscribeFromRouteData(n);return}for(let{templateName:a}of o.inputs)n.activatedComponentRef.setInput(a,s[a])});this.outletDataSubscriptions.set(n,i)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac})}}return t})();function YL(t,e,n){let r=Ha(t,e._root,n?n._root:void 0);return new bd(r,e)}function Ha(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=JL(t,e,n);return new Ot(r,i)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Ha(t,a)),o}}let r=ZL(e.value),i=e.children.map(s=>Ha(t,s));return new Ot(r,i)}}function JL(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Ha(t,r,i);return Ha(t,r)})}function ZL(t){return new xi(new et(t.url),new et(t.params),new et(t.queryParams),new et(t.fragment),new et(t.data),t.outlet,t.component,t)}var za=class{constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},WC="ngNavigationCancelingError";function Sd(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=Ua(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=KC(!1,kt.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function KC(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[WC]=!0,n.cancellationCode=e,n}function XL(t){return QC(t)&&Ua(t.url)}function QC(t){return!!t&&t[WC]}var eV=(t,e,n,r)=>J(i=>(new Hm(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),Hm=class{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),wm(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=Ks(n);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Ks(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){let o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Ks(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=Ks(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new Lm(s.value.snapshot))}),e.children.length&&this.forwardEvent(new km(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(wm(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),wm(a.route.value),this.activateChildRoutes(e,null,o.children)}else o.attachRef=null,o.route=i,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}else this.activateChildRoutes(e,null,r)}},Rd=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Js=class{constructor(e,n){this.component=e,this.route=n}};function tV(t,e,n){let r=t._root,i=e?e._root:null;return Oa(r,i,n,[r.value])}function nV(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function ro(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!pD(t)?t:e.get(t):r}function Oa(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=Ks(e);return t.children.forEach(o=>{rV(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>Va(a,n.getContext(o),i)),i}function rV(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let u=iV(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Rd(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?Oa(t,e,a?a.children:null,r,i):Oa(t,e,n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Js(a.outlet.component,o))}else o&&Va(e,a,i),i.canActivateChecks.push(new Rd(r)),s.component?Oa(t,null,a?a.children:null,r,i):Oa(t,null,n,r,i);return i}function iV(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!Mi(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Mi(t.url,e.url)||!In(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Bm(t,e)||!In(t.queryParams,e.queryParams);case"paramsChange":default:return!Bm(t,e)}}function Va(t,e,n){let r=Ks(t),i=t.value;Object.entries(r).forEach(([s,o])=>{i.component?e?Va(o,e.children.getContext(s),n):Va(o,null,n):Va(o,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Js(e.outlet.component,i)):n.canDeactivateChecks.push(new Js(null,i)):n.canDeactivateChecks.push(new Js(null,i))}function Za(t){return typeof t=="function"}function sV(t){return typeof t=="boolean"}function oV(t){return t&&Za(t.canLoad)}function aV(t){return t&&Za(t.canActivate)}function cV(t){return t&&Za(t.canActivateChild)}function uV(t){return t&&Za(t.canDeactivate)}function lV(t){return t&&Za(t.canMatch)}function YC(t){return t instanceof On||t?.name==="EmptyError"}var gd=Symbol("INITIAL_VALUE");function no(){return Tt(t=>la(t.map(e=>e.pipe(Fn(1),Hu(gd)))).pipe(J(e=>{for(let n of e)if(n!==!0){if(n===gd)return gd;if(n===!1||dV(n))return n}return!0}),mt(e=>e!==gd),Fn(1)))}function dV(t){return Ua(t)||t instanceof za}function hV(t,e){return Ue(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return o.length===0&&s.length===0?K(ae(k({},n),{guardsResult:!0})):fV(o,r,i,t).pipe(Ue(a=>a&&sV(a)?pV(r,s,t,e):K(a)),J(a=>ae(k({},n),{guardsResult:a})))})}function fV(t,e,n,r){return Ae(t).pipe(Ue(i=>_V(i.component,i.route,n,e,r)),fn(i=>i!==!0,!0))}function pV(t,e,n,r){return Ae(e).pipe(kn(i=>_s(mV(i.route.parent,r),gV(i.route,r),vV(t,i.path,n),yV(t,i.route,n))),fn(i=>i!==!0,!0))}function gV(t,e){return t!==null&&e&&e(new Fm(t)),K(!0)}function mV(t,e){return t!==null&&e&&e(new Om(t)),K(!0)}function yV(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return K(!0);let i=r.map(s=>ju(()=>{let o=Ya(e)??n,a=ro(s,o),u=aV(a)?a.canActivate(e,t):$t(o,()=>a(e,t));return zr(u).pipe(fn())}));return K(i).pipe(no())}function vV(t,e,n){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>nV(o)).filter(o=>o!==null).map(o=>ju(()=>{let a=o.guards.map(u=>{let l=Ya(o.node)??n,h=ro(u,l),p=cV(h)?h.canActivateChild(r,t):$t(l,()=>h(r,t));return zr(p).pipe(fn())});return K(a).pipe(no())}));return K(s).pipe(no())}function _V(t,e,n,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return K(!0);let o=s.map(a=>{let u=Ya(e)??i,l=ro(a,u),h=uV(l)?l.canDeactivate(t,e,n,r):$t(u,()=>l(t,e,n,r));return zr(h).pipe(fn())});return K(o).pipe(no())}function IV(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return K(!0);let s=i.map(o=>{let a=ro(o,t),u=oV(a)?a.canLoad(e,n):$t(t,()=>a(e,n));return zr(u)});return K(s).pipe(no(),JC(r))}function JC(t){return wu(je(e=>{if(typeof e!="boolean")throw Sd(t,e)}),J(e=>e===!0))}function wV(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return K(!0);let s=i.map(o=>{let a=ro(o,t),u=lV(a)?a.canMatch(e,n):$t(t,()=>a(e,n));return zr(u)});return K(s).pipe(no(),JC(r))}var qa=class{constructor(e){this.segmentGroup=e||null}},Ga=class extends Error{constructor(e){super(),this.urlTree=e}};function Ws(t){return ys(new qa(t))}function EV(t){return ys(new $(4e3,!1))}function DV(t){return ys(KC(!1,kt.GuardRejected))}var zm=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return K(r);if(i.numberOfChildren>1||!i.children[re])return EV(`${e.redirectTo}`);i=i.children[re]}}applyRedirectCommands(e,n,r,i,s){if(typeof n!="string"){let a=n,{queryParams:u,fragment:l,routeConfig:h,url:p,outlet:m,params:y,data:C,title:N}=i,R=$t(s,()=>a({params:y,data:C,queryParams:u,fragment:l,routeConfig:h,url:p,outlet:m,title:N}));if(R instanceof er)throw new Ga(R);n=R}let o=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n[0]==="/")throw new Ga(o);return o}applyRedirectCreateUrlTree(e,n,r,i){let s=this.createSegmentGroup(e,n.root,r,i);return new er(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s[0]===":"){let a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){let s=this.createSegments(e,n.segments,r,i),o={};return Object.entries(n.children).forEach(([a,u])=>{o[a]=this.createSegmentGroup(e,u,r,i)}),new Ee(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path[0]===":"?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new $(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},qm={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function TV(t,e,n,r,i){let s=ZC(t,e,n);return s.matched?(r=GL(e,r),wV(r,e,n,i).pipe(J(o=>o===!0?s:k({},qm)))):K(s)}function ZC(t,e,n){if(e.path==="**")return bV(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?k({},qm):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||IL)(n,t,e);if(!i)return k({},qm);let s={};Object.entries(i.posParams??{}).forEach(([a,u])=>{s[a]=u.path});let o=i.consumed.length>0?k(k({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function bV(t){return{matched:!0,parameters:t.length>0?MC(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function bC(t,e,n,r){return n.length>0&&SV(t,n,r)?{segmentGroup:new Ee(e,AV(r,new Ee(n,t.children))),slicedSegments:[]}:n.length===0&&RV(t,n,r)?{segmentGroup:new Ee(t.segments,CV(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new Ee(t.segments,t.children),slicedSegments:n}}function CV(t,e,n,r){let i={};for(let s of n)if(xd(t,e,s)&&!r[cn(s)]){let o=new Ee([],{});i[cn(s)]=o}return k(k({},r),i)}function AV(t,e){let n={};n[re]=e;for(let r of t)if(r.path===""&&cn(r)!==re){let i=new Ee([],{});n[cn(r)]=i}return n}function SV(t,e,n){return n.some(r=>xd(t,e,r)&&cn(r)!==re)}function RV(t,e,n){return n.some(r=>xd(t,e,r))}function xd(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function NV(t,e,n){return e.length===0&&!t.children[n]}var Gm=class{};function MV(t,e,n,r,i,s,o="emptyOnly"){return new Wm(t,e,n,r,i,o,s).recognize()}var xV=31,Wm=class{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new zm(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new $(4002,`'${e.segmentGroup}'`)}recognize(){let e=bC(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(J(({children:n,rootSnapshot:r})=>{let i=new Ot(r,n),s=new Ad("",i),o=UL(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),{state:s,tree:o}}))}match(e){let n=new Ys([],Object.freeze({}),Object.freeze(k({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),re,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,re,n).pipe(J(r=>({children:r,rootSnapshot:n})),Er(r=>{if(r instanceof Ga)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof qa?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,s){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,s):this.processSegment(e,n,r,r.segments,i,!0,s).pipe(J(o=>o instanceof Ot?[o]:[]))}processChildren(e,n,r,i){let s=[];for(let o of Object.keys(r.children))o==="primary"?s.unshift(o):s.push(o);return Ae(s).pipe(kn(o=>{let a=r.children[o],u=WL(n,o);return this.processSegmentGroup(e,u,a,o,i)}),$u((o,a)=>(o.push(...a),o)),Dr(null),rp(),Ue(o=>{if(o===null)return Ws(r);let a=XC(o);return PV(a),K(a)}))}processSegment(e,n,r,i,s,o,a){return Ae(n).pipe(kn(u=>this.processSegmentAgainstRoute(u._injector??e,n,u,r,i,s,o,a).pipe(Er(l=>{if(l instanceof qa)return K(null);throw l}))),fn(u=>!!u),Er(u=>{if(YC(u))return NV(r,i,s)?K(new Gm):Ws(r);throw u}))}processSegmentAgainstRoute(e,n,r,i,s,o,a,u){return cn(r)!==o&&(o===re||!xd(i,s,r))?Ws(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o,u):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o,u):Ws(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o,a){let{matched:u,parameters:l,consumedSegments:h,positionalParamSegments:p,remainingSegments:m}=ZC(n,i,s);if(!u)return Ws(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>xV&&(this.allowRedirects=!1));let y=new Ys(s,l,Object.freeze(k({},this.urlTree.queryParams)),this.urlTree.fragment,CC(i),cn(i),i.component??i._loadedComponent??null,i,AC(i)),C=Cd(y,a,this.paramsInheritanceStrategy);y.params=Object.freeze(C.params),y.data=Object.freeze(C.data);let N=this.applyRedirects.applyRedirectCommands(h,i.redirectTo,p,y,e);return this.applyRedirects.lineralizeSegments(i,N).pipe(Ue(R=>this.processSegment(e,r,n,R.concat(m),o,!1,a)))}matchSegmentAgainstRoute(e,n,r,i,s,o){let a=TV(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(Tt(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Tt(({routes:l})=>{let h=r._loadedInjector??e,{parameters:p,consumedSegments:m,remainingSegments:y}=u,C=new Ys(m,p,Object.freeze(k({},this.urlTree.queryParams)),this.urlTree.fragment,CC(r),cn(r),r.component??r._loadedComponent??null,r,AC(r)),N=Cd(C,o,this.paramsInheritanceStrategy);C.params=Object.freeze(N.params),C.data=Object.freeze(N.data);let{segmentGroup:R,slicedSegments:F}=bC(n,m,y,l);if(F.length===0&&R.hasChildren())return this.processChildren(h,l,R,C).pipe(J(V=>new Ot(C,V)));if(l.length===0&&F.length===0)return K(new Ot(C,[]));let H=cn(r)===s;return this.processSegment(h,l,R,F,H?re:s,!0,C).pipe(J(V=>new Ot(C,V instanceof Ot?[V]:[])))}))):Ws(n)))}getChildConfig(e,n,r){return n.children?K({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?K({routes:n._loadedRoutes,injector:n._loadedInjector}):IV(e,n,r,this.urlSerializer).pipe(Ue(i=>i?this.configLoader.loadChildren(e,n).pipe(je(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):DV(n))):K({routes:[],injector:e})}};function PV(t){t.sort((e,n)=>e.value.outlet===re?-1:n.value.outlet===re?1:e.value.outlet.localeCompare(n.value.outlet))}function OV(t){let e=t.value.routeConfig;return e&&e.path===""}function XC(t){let e=[],n=new Set;for(let r of t){if(!OV(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=XC(r.children);e.push(new Ot(r.value,i))}return e.filter(r=>!n.has(r))}function CC(t){return t.data||{}}function AC(t){return t.resolve||{}}function kV(t,e,n,r,i,s){return Ue(o=>MV(t,e,n,r,o.extractedUrl,i,s).pipe(J(({state:a,tree:u})=>ae(k({},o),{targetSnapshot:a,urlAfterRedirects:u}))))}function FV(t,e){return Ue(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return K(n);let s=new Set(i.map(u=>u.route)),o=new Set;for(let u of s)if(!o.has(u))for(let l of e0(u))o.add(l);let a=0;return Ae(o).pipe(kn(u=>s.has(u)?LV(u,r,t,e):(u.data=Cd(u,u.parent,t).resolve,K(void 0))),je(()=>a++),Is(1),Ue(u=>a===o.size?K(n):xt))})}function e0(t){let e=t.children.map(n=>e0(n)).flat();return[t,...e]}function LV(t,e,n,r){let i=t.routeConfig,s=t._resolve;return i?.title!==void 0&&!GC(i)&&(s[Ka]=i.title),VV(s,t,e,r).pipe(J(o=>(t._resolvedData=o,t.data=Cd(t,t.parent,n).resolve,null)))}function VV(t,e,n,r){let i=Tm(t);if(i.length===0)return K({});let s={};return Ae(i).pipe(Ue(o=>UV(t[o],e,n,r).pipe(fn(),je(a=>{if(a instanceof za)throw Sd(new Xs,a);s[o]=a}))),Is(1),np(s),Er(o=>YC(o)?xt:ys(o)))}function UV(t,e,n,r){let i=Ya(e)??r,s=ro(t,i),o=s.resolve?s.resolve(e,n):$t(i,()=>s(e,n));return zr(o)}function Em(t){return Tt(e=>{let n=t(e);return n?Ae(n).pipe(J(()=>e)):K(e)})}var t0=(()=>{class t{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===re);return r}getResolvedTitleForRoute(n){return n.data[Ka]}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:()=>x(jV),providedIn:"root"})}}return t})(),jV=(()=>{class t extends t0{constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||t)(z(_C))}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Xa=new L("",{providedIn:"root",factory:()=>({})}),BV=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=CD({type:t,selectors:[["ng-component"]],standalone:!0,features:[bb],decls:1,vars:0,template:function(r,i){r&1&&Hg(0,"router-outlet")},dependencies:[QL],encapsulation:2})}}return t})();function Ym(t){let e=t.children&&t.children.map(Ym),n=e?ae(k({},t),{children:e}):k({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==re&&(n.component=BV),n}var Wa=new L(""),Jm=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=x(Wl)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return K(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let r=zr(n.loadComponent()).pipe(J(n0),je(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),Tr(()=>{this.componentLoaders.delete(n)})),i=new fs(r,()=>new Xe).pipe(hs());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return K({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let s=$V(r,this.compiler,n,this.onLoadEndListener).pipe(Tr(()=>{this.childrenLoaders.delete(r)})),o=new fs(s,()=>new Xe).pipe(hs());return this.childrenLoaders.set(r,o),o}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function $V(t,e,n,r){return zr(t.loadChildren()).pipe(J(n0),Ue(i=>i instanceof va||Array.isArray(i)?K(i):Ae(e.compileModuleAsync(i))),J(i=>{r&&r(t);let s,o,a=!1;return Array.isArray(i)?(o=i,a=!0):(s=i.create(n).injector,o=s.get(Wa,[],{optional:!0,self:!0}).flat()),{routes:o.map(Ym),injector:s}}))}function HV(t){return t&&typeof t=="object"&&"default"in t}function n0(t){return HV(t)?t.default:t}var Zm=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:()=>x(zV),providedIn:"root"})}}return t})(),zV=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),r0=new L(""),i0=new L("");function qV(t,e,n){let r=t.get(i0),i=t.get(nt);return t.get(me).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(l=>setTimeout(l));let s,o=new Promise(l=>{s=l}),a=i.startViewTransition(()=>(s(),GV(t))),{onViewTransitionCreated:u}=r;return u&&$t(t,()=>u({transition:a,from:e,to:n})),o})}function GV(t){return new Promise(e=>{$g({read:()=>setTimeout(e)},{injector:t})})}var WV=new L(""),Xm=(()=>{class t{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Xe,this.transitionAbortSubject=new Xe,this.configLoader=x(Jm),this.environmentInjector=x(_t),this.urlSerializer=x(Qa),this.rootContexts=x(Ja),this.location=x(Gs),this.inputBindingEnabled=x(Md,{optional:!0})!==null,this.titleStrategy=x(t0),this.options=x(Xa,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=x(Zm),this.createViewTransition=x(r0,{optional:!0}),this.navigationErrorHandler=x(WV,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>K(void 0),this.rootComponentType=null;let n=i=>this.events.next(new xm(i)),r=i=>this.events.next(new Pm(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next(ae(k(k({},this.transitions.value),n),{id:r}))}setupNavigations(n,r,i){return this.transitions=new et({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:La,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(mt(s=>s.id!==0),J(s=>ae(k({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),Tt(s=>{let o=!1,a=!1;return K(s).pipe(Tt(u=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",kt.SupersededByNewNavigation),xt;this.currentTransition=s,this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,targetBrowserUrl:typeof u.extras.browserUrl=="string"?this.urlSerializer.parse(u.extras.browserUrl):u.extras.browserUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?ae(k({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let l=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),h=u.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!l&&h!=="reload"){let p="";return this.events.next(new $r(u.id,this.urlSerializer.serialize(u.rawUrl),p,wd.IgnoredSameUrlNavigation)),u.resolve(!1),xt}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return K(u).pipe(Tt(p=>{let m=this.transitions?.getValue();return this.events.next(new eo(p.id,this.urlSerializer.serialize(p.extractedUrl),p.source,p.restoredState)),m!==this.transitions?.getValue()?xt:Promise.resolve(p)}),kV(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),je(p=>{s.targetSnapshot=p.targetSnapshot,s.urlAfterRedirects=p.urlAfterRedirects,this.currentNavigation=ae(k({},this.currentNavigation),{finalUrl:p.urlAfterRedirects});let m=new Ed(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(m)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){let{id:p,extractedUrl:m,source:y,restoredState:C,extras:N}=u,R=new eo(p,this.urlSerializer.serialize(m),y,C);this.events.next(R);let F=zC(this.rootComponentType).snapshot;return this.currentTransition=s=ae(k({},u),{targetSnapshot:F,urlAfterRedirects:m,extras:ae(k({},N),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=m,K(s)}else{let p="";return this.events.next(new $r(u.id,this.urlSerializer.serialize(u.extractedUrl),p,wd.IgnoredByUrlHandlingStrategy)),u.resolve(!1),xt}}),je(u=>{let l=new Sm(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}),J(u=>(this.currentTransition=s=ae(k({},u),{guards:tV(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),s)),hV(this.environmentInjector,u=>this.events.next(u)),je(u=>{if(s.guardsResult=u.guardsResult,u.guardsResult&&typeof u.guardsResult!="boolean")throw Sd(this.urlSerializer,u.guardsResult);let l=new Rm(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(l)}),mt(u=>u.guardsResult?!0:(this.cancelNavigationTransition(u,"",kt.GuardRejected),!1)),Em(u=>{if(u.guards.canActivateChecks.length)return K(u).pipe(je(l=>{let h=new Nm(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}),Tt(l=>{let h=!1;return K(l).pipe(FV(this.paramsInheritanceStrategy,this.environmentInjector),je({next:()=>h=!0,complete:()=>{h||this.cancelNavigationTransition(l,"",kt.NoDataFromResolver)}}))}),je(l=>{let h=new Mm(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}))}),Em(u=>{let l=h=>{let p=[];h.routeConfig?.loadComponent&&!h.routeConfig._loadedComponent&&p.push(this.configLoader.loadComponent(h.routeConfig).pipe(je(m=>{h.component=m}),J(()=>{})));for(let m of h.children)p.push(...l(m));return p};return la(l(u.targetSnapshot.root)).pipe(Dr(null),Fn(1))}),Em(()=>this.afterPreactivation()),Tt(()=>{let{currentSnapshot:u,targetSnapshot:l}=s,h=this.createViewTransition?.(this.environmentInjector,u.root,l.root);return h?Ae(h).pipe(J(()=>s)):K(s)}),J(u=>{let l=YL(n.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=s=ae(k({},u),{targetRouterState:l}),this.currentNavigation.targetRouterState=l,s}),je(()=>{this.events.next(new $a)}),eV(this.rootContexts,n.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),Fn(1),je({next:u=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new tr(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),this.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{o=!0}}),ip(this.transitionAbortSubject.pipe(je(u=>{throw u}))),Tr(()=>{!o&&!a&&this.cancelNavigationTransition(s,"",kt.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),Er(u=>{if(a=!0,QC(u))this.events.next(new Xn(s.id,this.urlSerializer.serialize(s.extractedUrl),u.message,u.cancellationCode)),XL(u)?this.events.next(new to(u.url,u.navigationBehaviorOptions)):s.resolve(!1);else{let l=new Ba(s.id,this.urlSerializer.serialize(s.extractedUrl),u,s.targetSnapshot??void 0);try{let h=$t(this.environmentInjector,()=>this.navigationErrorHandler?.(l));if(h instanceof za){let{message:p,cancellationCode:m}=Sd(this.urlSerializer,h);this.events.next(new Xn(s.id,this.urlSerializer.serialize(s.extractedUrl),p,m)),this.events.next(new to(h.redirectTo,h.navigationBehaviorOptions))}else{this.events.next(l);let p=n.errorHandler(u);s.resolve(!!p)}}catch(h){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(h)}}return xt}))}))}cancelNavigationTransition(n,r,i){let s=new Xn(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(s),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function KV(t){return t!==La}var QV=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:()=>x(YV),providedIn:"root"})}}return t})(),Km=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},YV=(()=>{class t extends Km{static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Hn(t)))(i||t)}})()}static{this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),s0=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:()=>x(JV),providedIn:"root"})}}return t})(),JV=(()=>{class t extends s0{constructor(){super(...arguments),this.location=x(Gs),this.urlSerializer=x(Qa),this.options=x(Xa,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=x(Zm),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new er,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=zC(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&n(r.url,r.state)})}handleRouterEvent(n,r){if(n instanceof eo)this.stateMemento=this.createStateMemento();else if(n instanceof $r)this.rawUrlTree=r.initialUrl;else if(n instanceof Ed){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??i,r)}}else n instanceof $a?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):n instanceof Xn&&(n.code===kt.GuardRejected||n.code===kt.NoDataFromResolver)?this.restoreHistory(r):n instanceof Ba?this.restoreHistory(r,!0):n instanceof tr&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,r){let i=n instanceof er?this.urlSerializer.serialize(n):n;if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let s=this.browserPageId,o=k(k({},r.extras.state),this.generateNgRouterState(r.id,s));this.location.replaceState(i,"",o)}else{let s=k(k({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",s)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,s=this.currentPageId-i;s!==0?this.location.historyGo(s):this.currentUrlTree===n.finalUrl&&s===0&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Hn(t)))(i||t)}})()}static{this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),ka=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(ka||{});function o0(t,e){t.events.pipe(mt(n=>n instanceof tr||n instanceof Xn||n instanceof Ba||n instanceof $r),J(n=>n instanceof tr||n instanceof $r?ka.COMPLETE:(n instanceof Xn?n.code===kt.Redirect||n.code===kt.SupersededByNewNavigation:!1)?ka.REDIRECTING:ka.FAILED),mt(n=>n!==ka.REDIRECTING),Fn(1)).subscribe(()=>{e()})}function ZV(t){throw t}var XV={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},eU={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Hr=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=x(ql),this.stateManager=x(s0),this.options=x(Xa,{optional:!0})||{},this.pendingTasks=x(zn),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=x(Xm),this.urlSerializer=x(Qa),this.location=x(Gs),this.urlHandlingStrategy=x(Zm),this._events=new Xe,this.errorHandler=this.options.errorHandler||ZV,this.navigated=!1,this.routeReuseStrategy=x(QV),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=x(Wa,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!x(Md,{optional:!0}),this.eventsSubscription=new Oe,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(i!==null&&s!==null){if(this.stateManager.handleRouterEvent(r,s),r instanceof Xn&&r.code!==kt.Redirect&&r.code!==kt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof tr)this.navigated=!0;else if(r instanceof to){let o=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u=k({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||KV(i.source)},o);this.scheduleNavigation(a,La,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}nU(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),La,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",r)},0)})}navigateToSyncWithBrowser(n,r,i){let s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){let u=k({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(s.state=u)}let a=this.parseUrl(n);this.scheduleNavigation(a,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(Ym),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:u}=r,l=u?this.currentUrlTree.fragment:o,h=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":h=k(k({},this.currentUrlTree.queryParams),s);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=s||null}h!==null&&(h=this.removeEmptyProps(h));let p;try{let m=i?i.snapshot:this.routerState.snapshot.root;p=jC(m)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),p=this.currentUrlTree.root}return BC(p,n,h,l??null)}navigateByUrl(n,r={skipLocationChange:!1}){let i=Ua(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,La,null,r)}navigate(n,r={skipLocationChange:!1}){return tU(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=k({},XV):r===!1?i=k({},eU):i=r,Ua(n))return IC(this.currentUrlTree,n,i);let s=this.parseUrl(n);return IC(this.currentUrlTree,s,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,s])=>(s!=null&&(r[i]=s),r),{})}scheduleNavigation(n,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,u,l;o?(a=o.resolve,u=o.reject,l=o.promise):l=new Promise((p,m)=>{a=p,u=m});let h=this.pendingTasks.add();return o0(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:s,resolve:a,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(p=>Promise.reject(p))}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function tU(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new $(4008,!1)}function nU(t){return!(t instanceof $a)&&!(t instanceof to)}var Nd=class{};var rU=(()=>{class t{constructor(n,r,i,s,o){this.router=n,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(mt(n=>n instanceof tr),kn(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){let i=[];for(let s of r){s.providers&&!s._injector&&(s._injector=$l(s.providers,n,`Route: ${s.path}`));let o=s._injector??n,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&s.canLoad===void 0||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return Ae(i).pipe(vs())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(n,r):i=K(null);let s=i.pipe(Ue(o=>o===null?K(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??n,o.routes))));if(r.loadComponent&&!r._loadedComponent){let o=this.loader.loadComponent(r);return Ae([s,o]).pipe(vs())}else return s})}static{this.\u0275fac=function(r){return new(r||t)(z(Hr),z(Wl),z(_t),z(Nd),z(Jm))}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),a0=new L(""),iU=(()=>{class t{constructor(n,r,i,s,o={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration||="disabled",o.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof eo?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof tr?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof $r&&n.code===wd.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Dd&&(n.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(n.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Dd(n,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(r){zT()}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac})}}return t})();function _5(t,...e){return Bt([{provide:Wa,multi:!0,useValue:t},[],{provide:xi,useFactory:c0,deps:[Hr]},{provide:Da,multi:!0,useFactory:u0},e.map(n=>n.\u0275providers)])}function c0(t){return t.routerState.root}function ec(t,e){return{\u0275kind:t,\u0275providers:e}}function u0(){let t=x(Ke);return e=>{let n=t.get(Fr);if(e!==n.components[0])return;let r=t.get(Hr),i=t.get(l0);t.get(ey)===1&&r.initialNavigation(),t.get(d0,null,se.Optional)?.setUpPreloading(),t.get(a0,null,se.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var l0=new L("",{factory:()=>new Xe}),ey=new L("",{providedIn:"root",factory:()=>1});function sU(){return ec(2,[{provide:ey,useValue:0},{provide:Gl,multi:!0,deps:[Ke],useFactory:e=>{let n=e.get(qb,Promise.resolve());return()=>n.then(()=>new Promise(r=>{let i=e.get(Hr),s=e.get(l0);o0(i,()=>{r(!0)}),e.get(Xm).afterPreactivation=()=>(r(!0),s.closed?K(void 0):s),i.initialNavigation()}))}}])}function oU(){return ec(3,[{provide:Gl,multi:!0,useFactory:()=>{let e=x(Hr);return()=>{e.setUpLocationChangeListener()}}},{provide:ey,useValue:2}])}var d0=new L("");function aU(t){return ec(0,[{provide:d0,useExisting:rU},{provide:Nd,useExisting:t}])}function cU(){return ec(8,[TC,{provide:Md,useExisting:TC}])}function uU(t){let e=[{provide:r0,useValue:qV},{provide:i0,useValue:k({skipNextTransition:!!t?.skipInitialTransition},t)}];return ec(9,e)}var SC=new L("ROUTER_FORROOT_GUARD"),lU=[Gs,{provide:Qa,useClass:Xs},Hr,Ja,{provide:xi,useFactory:c0,deps:[Hr]},Jm,[]],I5=(()=>{class t{constructor(n){}static forRoot(n,r){return{ngModule:t,providers:[lU,[],{provide:Wa,multi:!0,useValue:n},{provide:SC,useFactory:pU,deps:[[Hr,new ut,new ug]]},{provide:Xa,useValue:r||{}},r?.useHash?hU():fU(),dU(),r?.preloadingStrategy?aU(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?gU(r):[],r?.bindToComponentInputs?cU().\u0275providers:[],r?.enableViewTransitions?uU().\u0275providers:[],mU()]}}static forChild(n){return{ngModule:t,providers:[{provide:Wa,multi:!0,useValue:n}]}}static{this.\u0275fac=function(r){return new(r||t)(z(SC,8))}}static{this.\u0275mod=sn({type:t})}static{this.\u0275inj=rn({})}}return t})();function dU(){return{provide:a0,useFactory:()=>{let t=x(Zb),e=x(me),n=x(Xa),r=x(Xm),i=x(Qa);return n.scrollOffset&&t.setOffset(n.scrollOffset),new iU(i,r,t,e,n)}}}function hU(){return{provide:Ri,useClass:Wb}}function fU(){return{provide:Ri,useClass:sm}}function pU(t){return"guarded"}function gU(t){return[t.initialNavigation==="disabled"?oU().\u0275providers:[],t.initialNavigation==="enabledBlocking"?sU().\u0275providers:[]]}var RC=new L("");function mU(){return[{provide:RC,useFactory:u0},{provide:Da,multi:!0,useExisting:RC}]}var w0=(()=>{class t{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static{this.\u0275fac=function(r){return new(r||t)(q(Or),q(qn))}}static{this.\u0275dir=Ne({type:t})}}return t})(),$d=(()=>{class t extends w0{static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Hn(t)))(i||t)}})()}static{this.\u0275dir=Ne({type:t,features:[tt]})}}return t})(),co=new L(""),yU={provide:co,useExisting:Ct(()=>vU),multi:!0},vU=(()=>{class t extends $d{writeValue(n){this.setProperty("checked",n)}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Hn(t)))(i||t)}})()}static{this.\u0275dir=Ne({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(r,i){r&1&&Wn("change",function(o){return i.onChange(o.target.checked)})("blur",function(){return i.onTouched()})},features:[Gt([yU]),tt]})}}return t})(),_U={provide:co,useExisting:Ct(()=>E0),multi:!0};function IU(){let t=Jn()?Jn().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var wU=new L(""),E0=(()=>{class t extends w0{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!IU())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static{this.\u0275fac=function(r){return new(r||t)(q(Or),q(qn),q(wU,8))}}static{this.\u0275dir=Ne({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&Wn("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[Gt([_U]),tt]})}}return t})();function qr(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}function D0(t){return t!=null&&typeof t.length=="number"}var Pi=new L(""),uo=new L(""),EU=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,h0=class{static min(e){return DU(e)}static max(e){return TU(e)}static required(e){return T0(e)}static requiredTrue(e){return bU(e)}static email(e){return CU(e)}static minLength(e){return AU(e)}static maxLength(e){return SU(e)}static pattern(e){return RU(e)}static nullValidator(e){return Od(e)}static compose(e){return N0(e)}static composeAsync(e){return M0(e)}};function DU(t){return e=>{if(qr(e.value)||qr(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}function TU(t){return e=>{if(qr(e.value)||qr(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}function T0(t){return qr(t.value)?{required:!0}:null}function bU(t){return t.value===!0?null:{required:!0}}function CU(t){return qr(t.value)||EU.test(t.value)?null:{email:!0}}function AU(t){return e=>qr(e.value)||!D0(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}function SU(t){return e=>D0(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}function RU(t){if(!t)return Od;let e,n;return typeof t=="string"?(n="",t.charAt(0)!=="^"&&(n+="^"),n+=t,t.charAt(t.length-1)!=="$"&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if(qr(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}function Od(t){return null}function b0(t){return t!=null}function C0(t){return kr(t)?Ae(t):t}function A0(t){let e={};return t.forEach(n=>{e=n!=null?k(k({},e),n):e}),Object.keys(e).length===0?null:e}function S0(t,e){return e.map(n=>n(t))}function NU(t){return!t.validate}function R0(t){return t.map(e=>NU(e)?e:n=>e.validate(n))}function N0(t){if(!t)return null;let e=t.filter(b0);return e.length==0?null:function(n){return A0(S0(n,e))}}function oy(t){return t!=null?N0(R0(t)):null}function M0(t){if(!t)return null;let e=t.filter(b0);return e.length==0?null:function(n){let r=S0(n,e).map(C0);return tp(r).pipe(J(A0))}}function ay(t){return t!=null?M0(R0(t)):null}function f0(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function x0(t){return t._rawValidators}function P0(t){return t._rawAsyncValidators}function ty(t){return t?Array.isArray(t)?t:[t]:[]}function kd(t,e){return Array.isArray(t)?t.includes(e):t===e}function p0(t,e){let n=ty(e);return ty(t).forEach(i=>{kd(n,i)||n.push(i)}),n}function g0(t,e){return ty(e).filter(n=>!kd(t,n))}var Fd=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=oy(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=ay(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},Et=class extends Fd{get formDirective(){return null}get path(){return null}},Gr=class extends Fd{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Ld=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},MU={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},V5=ae(k({},MU),{"[class.ng-submitted]":"isSubmitted"}),U5=(()=>{class t extends Ld{constructor(n){super(n)}static{this.\u0275fac=function(r){return new(r||t)(q(Gr,2))}}static{this.\u0275dir=Ne({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&zl("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[tt]})}}return t})(),j5=(()=>{class t extends Ld{constructor(n){super(n)}static{this.\u0275fac=function(r){return new(r||t)(q(Et,10))}}static{this.\u0275dir=Ne({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&zl("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[tt]})}}return t})();var tc="VALID",Pd="INVALID",io="PENDING",nc="DISABLED",Wr=class{},Vd=class extends Wr{constructor(e,n){super(),this.value=e,this.source=n}},ic=class extends Wr{constructor(e,n){super(),this.pristine=e,this.source=n}},sc=class extends Wr{constructor(e,n){super(),this.touched=e,this.source=n}},so=class extends Wr{constructor(e,n){super(),this.status=e,this.source=n}},ny=class extends Wr{constructor(e){super(),this.source=e}},ry=class extends Wr{constructor(e){super(),this.source=e}};function cy(t){return(Hd(t)?t.validators:t)||null}function xU(t){return Array.isArray(t)?oy(t):t||null}function uy(t,e){return(Hd(e)?e.asyncValidators:t)||null}function PU(t){return Array.isArray(t)?ay(t):t||null}function Hd(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function O0(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new $(1e3,"");if(!r[n])throw new $(1001,"")}function k0(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new $(1002,"")})}var oo=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=Hs(()=>this.statusReactive()),this.statusReactive=$s(void 0),this._pristine=Hs(()=>this.pristineReactive()),this.pristineReactive=$s(!0),this._touched=Hs(()=>this.touchedReactive()),this.touchedReactive=$s(!1),this._events=new Xe,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Wt(this.statusReactive)}set status(e){Wt(()=>this.statusReactive.set(e))}get valid(){return this.status===tc}get invalid(){return this.status===Pd}get pending(){return this.status==io}get disabled(){return this.status===nc}get enabled(){return this.status!==nc}get pristine(){return Wt(this.pristineReactive)}set pristine(e){Wt(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return Wt(this.touchedReactive)}set touched(e){Wt(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(p0(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(p0(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(g0(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(g0(e,this._rawAsyncValidators))}hasValidator(e){return kd(this._rawValidators,e)}hasAsyncValidator(e){return kd(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(ae(k({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new sc(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new sc(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(ae(k({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new ic(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new ic(!0,r))}markAsPending(e={}){this.status=io;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new so(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(ae(k({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=nc,this.errors=null,this._forEachChild(i=>{i.disable(ae(k({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Vd(this.value,r)),this._events.next(new so(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ae(k({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=tc,this._forEachChild(r=>{r.enable(ae(k({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(ae(k({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===tc||this.status===io)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Vd(this.value,n)),this._events.next(new so(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(ae(k({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?nc:tc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=io,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let r=C0(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new so(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new ke,this.statusChanges=new ke}_calculateStatus(){return this._allControlsDisabled()?nc:this.errors?Pd:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(io)?io:this._anyControlsHaveStatus(Pd)?Pd:tc}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&this._events.next(new ic(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new sc(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Hd(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=xU(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=PU(this._rawAsyncValidators)}},ao=class extends oo{constructor(e,n,r){super(cy(n),uy(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){k0(this,!0,e),Object.keys(e).forEach(r=>{O0(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,s)=>{r=n(r,i,s)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var iy=class extends ao{};var lo=new L("CallSetDisabledState",{providedIn:"root",factory:()=>ac}),ac="always";function zd(t,e){return[...e.path,t]}function Ud(t,e,n=ac){ly(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),kU(t,e),LU(t,e),FU(t,e),OU(t,e)}function m0(t,e,n=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Bd(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function jd(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function OU(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function ly(t,e){let n=x0(t);e.validator!==null?t.setValidators(f0(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=P0(t);e.asyncValidator!==null?t.setAsyncValidators(f0(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();jd(e._rawValidators,i),jd(e._rawAsyncValidators,i)}function Bd(t,e){let n=!1;if(t!==null){if(e.validator!==null){let i=x0(t);if(Array.isArray(i)&&i.length>0){let s=i.filter(o=>o!==e.validator);s.length!==i.length&&(n=!0,t.setValidators(s))}}if(e.asyncValidator!==null){let i=P0(t);if(Array.isArray(i)&&i.length>0){let s=i.filter(o=>o!==e.asyncValidator);s.length!==i.length&&(n=!0,t.setAsyncValidators(s))}}}let r=()=>{};return jd(e._rawValidators,r),jd(e._rawAsyncValidators,r),n}function kU(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&F0(t,e)})}function FU(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&F0(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function F0(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function LU(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function L0(t,e){t==null,ly(t,e)}function VU(t,e){return Bd(t,e)}function V0(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function UU(t){return Object.getPrototypeOf(t.constructor)===$d}function U0(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function j0(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(s=>{s.constructor===E0?n=s:UU(s)?r=s:i=s}),i||r||n||null}function jU(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}var BU={provide:Et,useExisting:Ct(()=>$U)},rc=Promise.resolve(),$U=(()=>{class t extends Et{get submitted(){return Wt(this.submittedReactive)}constructor(n,r,i){super(),this.callSetDisabledState=i,this._submitted=Hs(()=>this.submittedReactive()),this.submittedReactive=$s(!1),this._directives=new Set,this.ngSubmit=new ke,this.form=new ao({},oy(n),ay(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){rc.then(()=>{let r=this._findContainer(n.path);n.control=r.registerControl(n.name,n.control),Ud(n.control,n,this.callSetDisabledState),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){rc.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){rc.then(()=>{let r=this._findContainer(n.path),i=new ao({});L0(i,n),r.registerControl(n.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){rc.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,r){rc.then(()=>{this.form.get(n.path).setValue(r)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submittedReactive.set(!0),U0(this.form,this._directives),this.ngSubmit.emit(n),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}static{this.\u0275fac=function(r){return new(r||t)(q(Pi,10),q(uo,10),q(lo,8))}}static{this.\u0275dir=Ne({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&Wn("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Gt([BU]),tt]})}}return t})();function y0(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function v0(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var oc=class extends oo{constructor(e=null,n,r){super(cy(n),uy(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Hd(n)&&(n.nonNullable||n.initialValueIsDefault)&&(v0(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){y0(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){y0(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){v0(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var HU=t=>t instanceof oc,zU=(()=>{class t extends Et{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return zd(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Hn(t)))(i||t)}})()}static{this.\u0275dir=Ne({type:t,features:[tt]})}}return t})();var qU={provide:Gr,useExisting:Ct(()=>GU)},_0=Promise.resolve(),GU=(()=>{class t extends Gr{constructor(n,r,i,s,o,a){super(),this._changeDetectorRef=o,this.callSetDisabledState=a,this.control=new oc,this._registered=!1,this.name="",this.update=new ke,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=j0(this,s)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),V0(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Ud(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){_0.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let r=n.isDisabled.currentValue,i=r!==0&&Ta(r);_0.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?zd(n,this._parent):[n]}static{this.\u0275fac=function(r){return new(r||t)(q(Et,9),q(Pi,10),q(uo,10),q(co,10),q(Lr,8),q(lo,8))}}static{this.\u0275dir=Ne({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Gt([qU]),tt,$n]})}}return t})(),$5=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=Ne({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return t})(),WU={provide:co,useExisting:Ct(()=>KU),multi:!0},KU=(()=>{class t extends $d{writeValue(n){let r=n??"";this.setProperty("value",r)}registerOnChange(n){this.onChange=r=>{n(r==""?null:parseFloat(r))}}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Hn(t)))(i||t)}})()}static{this.\u0275dir=Ne({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){r&1&&Wn("input",function(o){return i.onChange(o.target.value)})("blur",function(){return i.onTouched()})},features:[Gt([WU]),tt]})}}return t})(),QU={provide:co,useExisting:Ct(()=>JU),multi:!0};var YU=(()=>{class t{constructor(){this._accessors=[]}add(n,r){this._accessors.push([n,r])}remove(n){for(let r=this._accessors.length-1;r>=0;--r)if(this._accessors[r][1]===n){this._accessors.splice(r,1);return}}select(n){this._accessors.forEach(r=>{this._isSameGroup(r,n)&&r[1]!==n&&r[1].fireUncheck(n.value)})}_isSameGroup(n,r){return n[0].control?n[0]._parent===r._control._parent&&n[1].name===r.name:!1}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),JU=(()=>{class t extends $d{constructor(n,r,i,s){super(n,r),this._registry=i,this._injector=s,this.setDisabledStateFired=!1,this.onChange=()=>{},this.callSetDisabledState=x(lo,{optional:!0})??ac}ngOnInit(){this._control=this._injector.get(Gr),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(n){this._state=n===this.value,this.setProperty("checked",this._state)}registerOnChange(n){this._fn=n,this.onChange=()=>{n(this.value),this._registry.select(this)}}setDisabledState(n){(this.setDisabledStateFired||n||this.callSetDisabledState==="whenDisabledForLegacyCode")&&this.setProperty("disabled",n),this.setDisabledStateFired=!0}fireUncheck(n){this.writeValue(n)}_checkName(){this.name&&this.formControlName&&(this.name,this.formControlName),!this.name&&this.formControlName&&(this.name=this.formControlName)}static{this.\u0275fac=function(r){return new(r||t)(q(Or),q(qn),q(YU),q(Ke))}}static{this.\u0275dir=Ne({type:t,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(r,i){r&1&&Wn("change",function(){return i.onChange()})("blur",function(){return i.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[Gt([QU]),tt]})}}return t})();var B0=new L("");var ZU={provide:Et,useExisting:Ct(()=>$0)},$0=(()=>{class t extends Et{get submitted(){return Wt(this._submittedReactive)}set submitted(n){this._submittedReactive.set(n)}constructor(n,r,i){super(),this.callSetDisabledState=i,this._submitted=Hs(()=>this._submittedReactive()),this._submittedReactive=$s(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new ke,this._setValidators(n),this._setAsyncValidators(r)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Bd(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){let r=this.form.get(n.path);return Ud(r,n,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),r}getControl(n){return this.form.get(n.path)}removeControl(n){m0(n.control||null,n,!1),jU(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,r){this.form.get(n.path).setValue(r)}onSubmit(n){return this._submittedReactive.set(!0),U0(this.form,this.directives),this.ngSubmit.emit(n),this.form._events.next(new ny(this.control)),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this._submittedReactive.set(!1),this.form._events.next(new ry(this.form))}_updateDomValue(){this.directives.forEach(n=>{let r=n.control,i=this.form.get(n.path);r!==i&&(m0(r||null,n),HU(i)&&(Ud(i,n,this.callSetDisabledState),n.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){let r=this.form.get(n.path);L0(r,n),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){let r=this.form.get(n.path);r&&VU(r,n)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){ly(this.form,this),this._oldForm&&Bd(this._oldForm,this)}_checkFormPresent(){this.form}static{this.\u0275fac=function(r){return new(r||t)(q(Pi,10),q(uo,10),q(lo,8))}}static{this.\u0275dir=Ne({type:t,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&Wn("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Gt([ZU]),tt,$n]})}}return t})(),XU={provide:Et,useExisting:Ct(()=>H0)},H0=(()=>{class t extends zU{constructor(n,r,i){super(),this.name=null,this._parent=n,this._setValidators(r),this._setAsyncValidators(i)}_checkParentType(){q0(this._parent)}static{this.\u0275fac=function(r){return new(r||t)(q(Et,13),q(Pi,10),q(uo,10))}}static{this.\u0275dir=Ne({type:t,selectors:[["","formGroupName",""]],inputs:{name:[0,"formGroupName","name"]},features:[Gt([XU]),tt]})}}return t})(),ej={provide:Et,useExisting:Ct(()=>z0)},z0=(()=>{class t extends Et{constructor(n,r,i){super(),this.name=null,this._parent=n,this._setValidators(r),this._setAsyncValidators(i)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return zd(this.name==null?this.name:this.name.toString(),this._parent)}_checkParentType(){q0(this._parent)}static{this.\u0275fac=function(r){return new(r||t)(q(Et,13),q(Pi,10),q(uo,10))}}static{this.\u0275dir=Ne({type:t,selectors:[["","formArrayName",""]],inputs:{name:[0,"formArrayName","name"]},features:[Gt([ej]),tt]})}}return t})();function q0(t){return!(t instanceof H0)&&!(t instanceof $0)&&!(t instanceof z0)}var tj={provide:Gr,useExisting:Ct(()=>nj)},nj=(()=>{class t extends Gr{set isDisabled(n){}static{this._ngModelWarningSentOnce=!1}constructor(n,r,i,s,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.name=null,this.update=new ke,this._ngModelWarningSent=!1,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=j0(this,s)}ngOnChanges(n){this._added||this._setUpControl(),V0(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return zd(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(r){return new(r||t)(q(Et,13),q(Pi,10),q(uo,10),q(co,10),q(B0,8))}}static{this.\u0275dir=Ne({type:t,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[Gt([tj]),tt,$n]})}}return t})();var rj=(()=>{class t{constructor(){this._validator=Od}ngOnChanges(n){if(this.inputName in n){let r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Od,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return n!=null}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=Ne({type:t,features:[$n]})}}return t})();var ij={provide:Pi,useExisting:Ct(()=>sj),multi:!0};var sj=(()=>{class t extends rj{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=Ta,this.createValidator=n=>T0}enabled(n){return n}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Hn(t)))(i||t)}})()}static{this.\u0275dir=Ne({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&Hl("required",i._enabled?"":null)},inputs:{required:"required"},features:[Gt([ij]),tt]})}}return t})();var G0=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=sn({type:t})}static{this.\u0275inj=rn({})}}return t})(),sy=class extends oo{constructor(e,n,r){super(cy(n),uy(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,r={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,n={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),n&&(this.controls.splice(i,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){k0(this,!1,e),e.forEach((r,i)=>{O0(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((n,r)=>r._syncPendingControls()?!0:n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,r)=>{e(n,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function I0(t){return!!t&&(t.asyncValidators!==void 0||t.validators!==void 0||t.updateOn!==void 0)}var H5=(()=>{class t{constructor(){this.useNonNullable=!1}get nonNullable(){let n=new t;return n.useNonNullable=!0,n}group(n,r=null){let i=this._reduceControls(n),s={};return I0(r)?s=r:r!==null&&(s.validators=r.validator,s.asyncValidators=r.asyncValidator),new ao(i,s)}record(n,r=null){let i=this._reduceControls(n);return new iy(i,r)}control(n,r,i){let s={};return this.useNonNullable?(I0(r)?s=r:(s.validators=r,s.asyncValidators=i),new oc(n,ae(k({},s),{nonNullable:!0}))):new oc(n,r,i)}array(n,r,i){let s=n.map(o=>this._createControl(o));return new sy(s,r,i)}_reduceControls(n){let r={};return Object.keys(n).forEach(i=>{r[i]=this._createControl(n[i])}),r}_createControl(n){if(n instanceof oc)return n;if(n instanceof oo)return n;if(Array.isArray(n)){let r=n[0],i=n.length>1?n[1]:null,s=n.length>2?n[2]:null;return this.control(r,i,s)}else return this.control(n)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var z5=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:lo,useValue:n.callSetDisabledState??ac}]}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=sn({type:t})}static{this.\u0275inj=rn({imports:[G0]})}}return t})(),q5=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:B0,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:lo,useValue:n.callSetDisabledState??ac}]}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=sn({type:t})}static{this.\u0275inj=rn({imports:[G0]})}}return t})();var K0=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},oj=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=t[n++],o=t[n++],a=t[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Q0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,h=s>>2,p=(s&3)<<4|a>>4,m=(a&15)<<2|l>>6,y=l&63;u||(y=64,o||(m=64)),r.push(n[h],n[p],n[m],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(K0(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):oj(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let p=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||l==null||p==null)throw new hy;let m=s<<2|a>>4;if(r.push(m),l!==64){let y=a<<4&240|l>>2;if(r.push(y),p!==64){let C=l<<6&192|p;r.push(C)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},hy=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},aj=function(t){let e=K0(t);return Q0.encodeByteArray(e,!0)},cc=function(t){return aj(t).replace(/\./g,"")},py=function(t){try{return Q0.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function cj(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var uj=()=>cj().__FIREBASE_DEFAULTS__,lj=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},dj=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&py(t[1]);return e&&JSON.parse(e)},Gd=()=>{try{return uj()||lj()||dj()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},gy=t=>{var e,n;return(n=(e=Gd())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Y0=t=>{let e=gy(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},my=()=>{var t;return(t=Gd())===null||t===void 0?void 0:t.config},yy=t=>{var e;return(e=Gd())===null||e===void 0?void 0:e[`_${t}`]};var qd=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function J0(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[cc(JSON.stringify(n)),cc(JSON.stringify(o)),""].join(".")}function Ye(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Z0(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ye())}function hj(){var t;let e=(t=Gd())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function X0(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function eA(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function tA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function nA(){let t=Ye();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function rA(){return!hj()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function vy(){try{return typeof indexedDB=="object"}catch{return!1}}function iA(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}var fj="FirebaseError",Ft=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=fj,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,nr.prototype.create)}},nr=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?pj(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Ft(i,a,r)}};function pj(t,e){return t.replace(gj,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var gj=/\{\$([^}]+)}/g;function sA(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Oi(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let s=t[i],o=e[i];if(W0(s)&&W0(o)){if(!Oi(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function W0(t){return t!==null&&typeof t=="object"}function uc(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ho(t){let e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function fo(t){let e=t.indexOf("?");if(!e)return"";let n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function oA(t,e){let n=new fy(t,e);return n.subscribe.bind(n)}var fy=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");mj(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=dy),i.error===void 0&&(i.error=dy),i.complete===void 0&&(i.complete=dy);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function mj(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function dy(){}var K5=4*60*60*1e3;function rt(t){return t&&t._delegate?t._delegate:t}var Yt=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var ki="[DEFAULT]";var _y=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new qd;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(vj(e))try{this.getOrInitializeService({instanceIdentifier:ki})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=ki){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return w(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=ki){return this.instances.has(e)}getOptions(e=ki){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:yj(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ki){return this.component?this.component.multipleInstances?e:ki:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function yj(t){return t===ki?void 0:t}function vj(t){return t.instantiationMode==="EAGER"}var Wd=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new _y(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var _j=[],le=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(le||{}),Ij={debug:le.DEBUG,verbose:le.VERBOSE,info:le.INFO,warn:le.WARN,error:le.ERROR,silent:le.SILENT},wj=le.INFO,Ej={[le.DEBUG]:"log",[le.VERBOSE]:"log",[le.INFO]:"info",[le.WARN]:"warn",[le.ERROR]:"error"},Dj=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=Ej[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Kr=class{constructor(e){this.name=e,this._logLevel=wj,this._logHandler=Dj,this._userLogHandler=null,_j.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Ij[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,le.DEBUG,...e),this._logHandler(this,le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,le.VERBOSE,...e),this._logHandler(this,le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,le.INFO,...e),this._logHandler(this,le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,le.WARN,...e),this._logHandler(this,le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,le.ERROR,...e),this._logHandler(this,le.ERROR,...e)}};var Tj=(t,e)=>e.some(n=>t instanceof n),aA,cA;function bj(){return aA||(aA=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Cj(){return cA||(cA=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var uA=new WeakMap,wy=new WeakMap,lA=new WeakMap,Iy=new WeakMap,Dy=new WeakMap;function Aj(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(wn(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&uA.set(n,t)}).catch(()=>{}),Dy.set(e,t),e}function Sj(t){if(wy.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});wy.set(t,e)}var Ey={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return wy.get(t);if(e==="objectStoreNames")return t.objectStoreNames||lA.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return wn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function dA(t){Ey=t(Ey)}function Rj(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(Kd(this),e,...n);return lA.set(r,e.sort?e.sort():[e]),wn(r)}:Cj().includes(t)?function(...e){return t.apply(Kd(this),e),wn(uA.get(this))}:function(...e){return wn(t.apply(Kd(this),e))}}function Nj(t){return typeof t=="function"?Rj(t):(t instanceof IDBTransaction&&Sj(t),Tj(t,bj())?new Proxy(t,Ey):t)}function wn(t){if(t instanceof IDBRequest)return Aj(t);if(Iy.has(t))return Iy.get(t);let e=Nj(t);return e!==t&&(Iy.set(t,e),Dy.set(e,t)),e}var Kd=t=>Dy.get(t);function fA(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(t,e),a=wn(o);return r&&o.addEventListener("upgradeneeded",u=>{r(wn(o.result),u.oldVersion,u.newVersion,wn(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var Mj=["get","getKey","getAll","getAllKeys","count"],xj=["put","add","delete","clear"],Ty=new Map;function hA(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Ty.get(e))return Ty.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=xj.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Mj.includes(n)))return;let s=function(o,...a){return w(this,null,function*(){let u=this.transaction(o,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[n](...a),i&&u.done]))[0]})};return Ty.set(e,s),s}dA(t=>ae(k({},t),{get:(e,n,r)=>hA(e,n)||t.get(e,n,r),has:(e,n)=>!!hA(e,n)||t.has(e,n)}));var Cy=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Pj(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function Pj(t){let e=t.getComponent();return e?.type==="VERSION"}var Ay="@firebase/app",pA="0.10.11";var rr=new Kr("@firebase/app"),Oj="@firebase/app-compat",kj="@firebase/analytics-compat",Fj="@firebase/analytics",Lj="@firebase/app-check-compat",Vj="@firebase/app-check",Uj="@firebase/auth",jj="@firebase/auth-compat",Bj="@firebase/database",$j="@firebase/database-compat",Hj="@firebase/functions",zj="@firebase/functions-compat",qj="@firebase/installations",Gj="@firebase/installations-compat",Wj="@firebase/messaging",Kj="@firebase/messaging-compat",Qj="@firebase/performance",Yj="@firebase/performance-compat",Jj="@firebase/remote-config",Zj="@firebase/remote-config-compat",Xj="@firebase/storage",e2="@firebase/storage-compat",t2="@firebase/firestore",n2="@firebase/vertexai-preview",r2="@firebase/firestore-compat",i2="firebase",s2="10.13.2";var Sy="[DEFAULT]",o2={[Ay]:"fire-core",[Oj]:"fire-core-compat",[Fj]:"fire-analytics",[kj]:"fire-analytics-compat",[Vj]:"fire-app-check",[Lj]:"fire-app-check-compat",[Uj]:"fire-auth",[jj]:"fire-auth-compat",[Bj]:"fire-rtdb",[$j]:"fire-rtdb-compat",[Hj]:"fire-fn",[zj]:"fire-fn-compat",[qj]:"fire-iid",[Gj]:"fire-iid-compat",[Wj]:"fire-fcm",[Kj]:"fire-fcm-compat",[Qj]:"fire-perf",[Yj]:"fire-perf-compat",[Jj]:"fire-rc",[Zj]:"fire-rc-compat",[Xj]:"fire-gcs",[e2]:"fire-gcs-compat",[t2]:"fire-fst",[r2]:"fire-fst-compat",[n2]:"fire-vertex","fire-js":"fire-js",[i2]:"fire-js-all"};var lc=new Map,a2=new Map,Ry=new Map;function gA(t,e){try{t.container.addComponent(e)}catch(n){rr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Yr(t){let e=t.name;if(Ry.has(e))return rr.debug(`There were multiple attempts to register component ${e}.`),!1;Ry.set(e,t);for(let n of lc.values())gA(n,t);for(let n of a2.values())gA(n,t);return!0}function hc(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function un(t){return t.settings!==void 0}var c2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Qr=new nr("app","Firebase",c2);var Ny=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Yt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Qr.create("app-deleted",{appName:this._name})}};var Jr=s2;function Py(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Sy,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Qr.create("bad-app-name",{appName:String(i)});if(n||(n=my()),!n)throw Qr.create("no-options");let s=lc.get(i);if(s){if(Oi(n,s.options)&&Oi(r,s.config))return s;throw Qr.create("duplicate-app",{appName:i})}let o=new Wd(i);for(let u of Ry.values())o.addComponent(u);let a=new Ny(n,r,o);return lc.set(i,a),a}function po(t=Sy){let e=lc.get(t);if(!e&&t===Sy&&my())return Py();if(!e)throw Qr.create("no-app",{appName:t});return e}function Qd(){return Array.from(lc.values())}function We(t,e,n){var r;let i=(r=o2[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),rr.warn(a.join(" "));return}Yr(new Yt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var u2="firebase-heartbeat-database",l2=1,dc="firebase-heartbeat-store",by=null;function _A(){return by||(by=fA(u2,l2,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(dc)}catch(n){console.warn(n)}}}}).catch(t=>{throw Qr.create("idb-open",{originalErrorMessage:t.message})})),by}function d2(t){return w(this,null,function*(){try{let n=(yield _A()).transaction(dc),r=yield n.objectStore(dc).get(IA(t));return yield n.done,r}catch(e){if(e instanceof Ft)rr.warn(e.message);else{let n=Qr.create("idb-get",{originalErrorMessage:e?.message});rr.warn(n.message)}}})}function mA(t,e){return w(this,null,function*(){try{let r=(yield _A()).transaction(dc,"readwrite");yield r.objectStore(dc).put(e,IA(t)),yield r.done}catch(n){if(n instanceof Ft)rr.warn(n.message);else{let r=Qr.create("idb-set",{originalErrorMessage:n?.message});rr.warn(r.message)}}})}function IA(t){return`${t.name}!${t.options.appId}`}var h2=1024,f2=30*24*60*60*1e3,My=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new xy(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return w(this,null,function*(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=yA();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let a=new Date(o.date).valueOf();return Date.now()-a<=f2}),this._storage.overwrite(this._heartbeatsCache))}catch(r){rr.warn(r)}})}getHeartbeatsHeader(){return w(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=yA(),{heartbeatsToSend:r,unsentEntries:i}=p2(this._heartbeatsCache.heartbeats),s=cc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return rr.warn(n),""}})}};function yA(){return new Date().toISOString().substring(0,10)}function p2(t,e=h2){let n=[],r=t.slice();for(let i of t){let s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),vA(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),vA(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var xy=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return w(this,null,function*(){return vy()?iA().then(()=>!0).catch(()=>!1):!1})}read(){return w(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield d2(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return w(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return mA(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return w(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return mA(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function vA(t){return cc(JSON.stringify({version:2,heartbeats:t})).length}function g2(t){Yr(new Yt("platform-logger",e=>new Cy(e),"PRIVATE")),Yr(new Yt("heartbeat",e=>new My(e),"PRIVATE")),We(Ay,pA,t),We(Ay,pA,"esm2017"),We("fire-js","")}g2("");var m2="firebase",y2="10.13.2";We(m2,y2,"app");var Li=new Un("ANGULARFIRE2_VERSION");function Jd(t,e,n){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===n);if(s.length===1)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var fc=(t,e)=>{let n=e?[e]:Qd(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},mo=class{constructor(){return fc(v2)}},v2="app-check";function go(){}var Yd=class{zone;delegate;constructor(e,n=Zf){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,s=function(o){i.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,n,r)}},Oy=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",go,{},go,go)),n.pipe(je({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},yo=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new Yd(Zone.current)),this.insideAngular=n.run(()=>new Yd(Zone.current,Jf)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(z(me))};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Zd(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function _2(t){return Zd().ngZone.runOutsideAngular(()=>t())}function Fi(t){return Zd().ngZone.run(()=>t())}function I2(t){return w2(Zd())(t)}function w2(t){return function(n){return n=n.lift(new Oy(t.ngZone)),n.pipe(wr(t.outsideAngular),Ir(t.insideAngular))}}var E2=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),Fi(()=>t.apply(void 0,r))},lt=(t,e)=>function(){let n,r=arguments;for(let s=0;s<arguments.length;s++)typeof r[s]=="function"&&(e&&(n||=Fi(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",go,{},go,go))),r[s]=E2(r[s],n));let i=_2(()=>t.apply(this,r));if(!e)if(i instanceof ie){let s=Zd();return i.pipe(wr(s.outsideAngular),Ir(s.insideAngular))}else return Fi(()=>i);return i instanceof ie?i.pipe(I2):i instanceof Promise?Fi(()=>new Promise((s,o)=>i.then(a=>Fi(()=>s(a)),a=>Fi(()=>o(a))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:Fi(()=>i)};var ir=class{constructor(e){return e}},Vi=class{constructor(){return Qd()}};function D2(t){return t&&t.length===1?t[0]:new ir(po())}var ky=new L("angularfire2._apps"),T2={provide:ir,useFactory:D2,deps:[[new ut,ky]]},b2={provide:Vi,deps:[[new ut,ky]]};function C2(t){return(e,n)=>{let r=n.get(zt);We("angularfire",Li.full,"core"),We("angularfire",Li.full,"app"),We("angular",Sb.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new ir(i)}}function OK(t,...e){return Bt([T2,b2,{provide:ky,useFactory:C2(t),multi:!0,deps:[me,Ke,yo,...e]}])}var kK=lt(Py,!0);function LA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var VA=LA,UA=new nr("auth","Firebase",LA());var ih=new Kr("@firebase/auth");function A2(t,...e){ih.logLevel<=le.WARN&&ih.warn(`Auth (${Jr}): ${t}`,...e)}function eh(t,...e){ih.logLevel<=le.ERROR&&ih.error(`Auth (${Jr}): ${t}`,...e)}function Dn(t,...e){throw iv(t,...e)}function Ui(t,...e){return iv(t,...e)}function jA(t,e,n){let r=Object.assign(Object.assign({},VA()),{[e]:n});return new nr("auth","Firebase",r).create(e,{appName:t.name})}function ar(t){return jA(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function iv(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return UA.create(t,...e)}function Q(t,e,...n){if(!t)throw iv(e,...n)}function sr(t){let e="INTERNAL ASSERTION FAILED: "+t;throw eh(e),new Error(e)}function Xr(t,e){t||sr(e)}function Uy(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function S2(){return wA()==="http:"||wA()==="https:"}function wA(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function R2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(S2()||eA()||"connection"in navigator)?navigator.onLine:!0}function N2(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var ji=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Xr(n>e,"Short delay should be less than long delay!"),this.isMobile=Z0()||tA()}get(){return R2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function sv(t,e){Xr(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var sh=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;sr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;sr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;sr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var M2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var x2=new ji(3e4,6e4);function ei(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function ti(s,o,a,u){return w(this,arguments,function*(t,e,n,r,i={}){return BA(t,i,()=>w(this,null,function*(){let l={},h={};r&&(e==="GET"?h=r:l={body:JSON.stringify(r)});let p=uc(Object.assign({key:t.config.apiKey},h)).slice(1),m=yield t._getAdditionalHeaders();m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode);let y=Object.assign({method:e,headers:m},l);return X0()||(y.referrerPolicy="no-referrer"),sh.fetch()($A(t,t.config.apiHost,n,p),y)}))})}function BA(t,e,n){return w(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},M2),e);try{let i=new jy(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw Xd(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Xd(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw Xd(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw Xd(t,"user-disabled",o);let h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw jA(t,h,l);Dn(t,h)}}catch(i){if(i instanceof Ft)throw i;Dn(t,"network-request-failed",{message:String(i)})}})}function wc(s,o,a,u){return w(this,arguments,function*(t,e,n,r,i={}){let l=yield ti(t,e,n,r,i);return"mfaPendingCredential"in l&&Dn(t,"multi-factor-auth-required",{_serverResponse:l}),l})}function $A(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?sv(t.config,i):`${t.config.apiScheme}://${i}`}function P2(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var jy=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ui(this.auth,"network-request-failed")),x2.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function Xd(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=Ui(t,e,r);return i.customData._tokenResponse=n,i}function EA(t){return t!==void 0&&t.enterprise!==void 0}var By=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return P2(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function O2(t,e){return w(this,null,function*(){return ti(t,"GET","/v2/recaptchaConfig",ei(t,e))})}function k2(t,e){return w(this,null,function*(){return ti(t,"POST","/v1/accounts:delete",e)})}function HA(t,e){return w(this,null,function*(){return ti(t,"POST","/v1/accounts:lookup",e)})}function pc(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function ov(t,e=!1){return w(this,null,function*(){let n=rt(t),r=yield n.getIdToken(e),i=av(r);Q(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:pc(Fy(i.auth_time)),issuedAtTime:pc(Fy(i.iat)),expirationTime:pc(Fy(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function Fy(t){return Number(t)*1e3}function av(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return eh("JWT malformed, contained fewer than 3 sections"),null;try{let i=py(n);return i?JSON.parse(i):(eh("Failed to decode base64 JWT payload"),null)}catch(i){return eh("Caught error parsing JWT payload as JSON",i?.toString()),null}}function DA(t){let e=av(t);return Q(e,"internal-error"),Q(typeof e.exp<"u","internal-error"),Q(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function mc(t,e,n=!1){return w(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof Ft&&F2(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function F2({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var $y=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>w(this,null,function*(){yield this.iteration()}),n)}iteration(){return w(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var yc=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=pc(this.lastLoginAt),this.creationTime=pc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function oh(t){return w(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield mc(t,HA(n,{idToken:r}));Q(i?.users.length,n,"internal-error");let s=i.users[0];t._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?zA(s.providerUserInfo):[],a=L2(t.providerData,o),u=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!a?.length,h=u?l:!1,p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new yc(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(t,p)})}function cv(t){return w(this,null,function*(){let e=rt(t);yield oh(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function L2(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function zA(t){return t.map(e=>{var{providerId:n}=e,r=Xf(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function V2(t,e){return w(this,null,function*(){let n=yield BA(t,{},()=>w(this,null,function*(){let r=uc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=$A(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",sh.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function U2(t,e){return w(this,null,function*(){return ti(t,"POST","/v2/accounts:revokeToken",ei(t,e))})}var gc=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Q(e.idToken,"internal-error"),Q(typeof e.idToken<"u","internal-error"),Q(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):DA(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Q(e.length!==0,"internal-error");let n=DA(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return w(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Q(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return w(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield V2(e,n);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new t;return r&&(Q(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(Q(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(Q(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return sr("not implemented")}};function Zr(t,e){Q(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var vo=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Xf(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new $y(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new yc(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return w(this,null,function*(){let n=yield mc(this,this.stsTokenManager.getToken(this.auth,e));return Q(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return ov(this,e)}reload(){return cv(this)}_assign(e){this!==e&&(Q(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Q(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return w(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield oh(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return w(this,null,function*(){if(un(this.auth.app))return Promise.reject(ar(this.auth));let e=yield this.getIdToken();return yield mc(this,k2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,u,l,h;let p=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(i=n.email)!==null&&i!==void 0?i:void 0,y=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,C=(o=n.photoURL)!==null&&o!==void 0?o:void 0,N=(a=n.tenantId)!==null&&a!==void 0?a:void 0,R=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,F=(l=n.createdAt)!==null&&l!==void 0?l:void 0,H=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:V,emailVerified:ee,isAnonymous:we,providerData:W,stsTokenManager:E}=n;Q(V&&E,e,"internal-error");let v=gc.fromJSON(this.name,E);Q(typeof V=="string",e,"internal-error"),Zr(p,e.name),Zr(m,e.name),Q(typeof ee=="boolean",e,"internal-error"),Q(typeof we=="boolean",e,"internal-error"),Zr(y,e.name),Zr(C,e.name),Zr(N,e.name),Zr(R,e.name),Zr(F,e.name),Zr(H,e.name);let _=new t({uid:V,auth:e,email:m,emailVerified:ee,displayName:p,isAnonymous:we,photoURL:C,phoneNumber:y,tenantId:N,stsTokenManager:v,createdAt:F,lastLoginAt:H});return W&&Array.isArray(W)&&(_.providerData=W.map(D=>Object.assign({},D))),R&&(_._redirectEventId=R),_}static _fromIdTokenResponse(e,n,r=!1){return w(this,null,function*(){let i=new gc;i.updateFromServerResponse(n);let s=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield oh(s),s})}static _fromGetAccountInfoResponse(e,n,r){return w(this,null,function*(){let i=n.users[0];Q(i.localId!==void 0,"internal-error");let s=i.providerUserInfo!==void 0?zA(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,a=new gc;a.updateFromIdToken(r);let u=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new yc(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(u,l),u})}};var TA=new Map;function or(t){Xr(t instanceof Function,"Expected a class definition");let e=TA.get(t);return e?(Xr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,TA.set(t,e),e)}var j2=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return w(this,null,function*(){return!0})}_set(n,r){return w(this,null,function*(){this.storage[n]=r})}_get(n){return w(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return w(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),Hy=j2;function th(t,e,n){return`firebase:${t}:${e}:${n}`}var ah=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=th(this.userKey,i.apiKey,s),this.fullPersistenceKey=th("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return w(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?vo._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return w(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return w(this,null,function*(){if(!n.length)return new t(or(Hy),e,r);let i=(yield Promise.all(n.map(l=>w(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),s=i[0]||or(Hy),o=th(r,e.config.apiKey,e.name),a=null;for(let l of n)try{let h=yield l._get(o);if(h){let p=vo._fromJSON(e,h);l!==s&&(a=p),s=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new t(s,e,r):(s=u[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(l=>w(this,null,function*(){if(l!==s)try{yield l._remove(o)}catch{}}))),new t(s,e,r))})}};function bA(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(KA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(qA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(YA(e))return"Blackberry";if(JA(e))return"Webos";if(GA(e))return"Safari";if((e.includes("chrome/")||WA(e))&&!e.includes("edge/"))return"Chrome";if(QA(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function qA(t=Ye()){return/firefox\//i.test(t)}function GA(t=Ye()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function WA(t=Ye()){return/crios\//i.test(t)}function KA(t=Ye()){return/iemobile/i.test(t)}function QA(t=Ye()){return/android/i.test(t)}function YA(t=Ye()){return/blackberry/i.test(t)}function JA(t=Ye()){return/webos/i.test(t)}function uv(t=Ye()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function B2(t=Ye()){var e;return uv(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function $2(){return nA()&&document.documentMode===10}function ZA(t=Ye()){return uv(t)||QA(t)||JA(t)||YA(t)||/windows phone/i.test(t)||KA(t)}function XA(t,e=[]){let n;switch(t){case"Browser":n=bA(Ye());break;case"Worker":n=`${bA(Ye())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Jr}/${r}`}var zy=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=s=>new Promise((o,a)=>{try{let u=e(s);o(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return w(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function H2(n){return w(this,arguments,function*(t,e={}){return ti(t,"GET","/v2/passwordPolicy",ei(t,e))})}var z2=6,qy=class{constructor(e){var n,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:z2,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var Gy=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ch(this),this.idTokenSubscription=new ch(this),this.beforeStateQueue=new zy(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=UA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=or(n)),this._initializationPromise=this.queue(()=>w(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield ah.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return w(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return w(this,null,function*(){try{let n=yield HA(this,{idToken:e}),r=yield vo._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return w(this,null,function*(){var n;if(un(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!o||o===a)&&u?.user&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Q(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return w(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return w(this,null,function*(){try{yield oh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=N2()}_delete(){return w(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return w(this,null,function*(){if(un(this.app))return Promise.reject(ar(this));let n=e?rt(e):null;return n&&Q(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return w(this,null,function*(){if(!this._deleted)return e&&Q(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>w(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return w(this,null,function*(){return un(this.app)?Promise.reject(ar(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return un(this.app)?Promise.reject(ar(this)):this.queue(()=>w(this,null,function*(){yield this.assertedPersistence.setPersistence(or(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return w(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return w(this,null,function*(){let e=yield H2(this),n=new qy(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new nr("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return w(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield U2(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return w(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return w(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&or(e)||this._popupRedirectResolver;Q(n,this,"argument-error"),this.redirectPersistenceManager=yield ah.create(this,[or(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return w(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>w(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return w(this,null,function*(){if(e===this.currentUser)return this.queue(()=>w(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let s=typeof n=="function"?n:n.next.bind(n),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Q(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){let u=e.addObserver(n,r,i);return()=>{o=!0,u()}}else{let u=e.addObserver(n);return()=>{o=!0,u()}}}directlySetCurrentUser(e){return w(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Q(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=XA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return w(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return w(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&A2(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function $i(t){return rt(t)}var ch=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=oA(n=>this.observer=n)}get next(){return Q(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var gh={loadJS(){return w(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function q2(t){gh=t}function eS(t){return gh.loadJS(t)}function G2(){return gh.recaptchaEnterpriseScript}function W2(){return gh.gapiScript}function tS(t){return`__${t}${Math.floor(Math.random()*1e6)}`}var K2="recaptcha-enterprise",Q2="NO_RECAPTCHA",Wy=class{constructor(e){this.type=K2,this.auth=$i(e)}verify(e="verify",n=!1){return w(this,null,function*(){function r(s){return w(this,null,function*(){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise((o,a)=>w(this,null,function*(){O2(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let l=new By(u);return s.tenantId==null?s._agentRecaptchaConfig=l:s._tenantRecaptchaConfigs[s.tenantId]=l,o(l.siteKey)}}).catch(u=>{a(u)})}))})}function i(s,o,a){let u=window.grecaptcha;EA(u)?u.enterprise.ready(()=>{u.enterprise.execute(s,{action:e}).then(l=>{o(l)}).catch(()=>{o(Q2)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&EA(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let u=G2();u.length!==0&&(u+=a),eS(u).then(()=>{i(a,s,o)}).catch(l=>{o(l)})}}).catch(a=>{o(a)})})})}};function CA(t,e,n,r=!1){return w(this,null,function*(){let i=new Wy(t),s;try{s=yield i.verify(n)}catch{s=yield i.verify(n,!0)}let o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o})}function Ky(t,e,n,r){return w(this,null,function*(){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let s=yield CA(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(s=>w(this,null,function*(){if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let o=yield CA(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)}))})}function lv(t,e){let n=hc(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),s=n.getOptions();if(Oi(s,e??{}))return i;Dn(i,"already-initialized")}return n.initialize({options:e})}function Y2(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(or);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function dv(t,e,n){let r=$i(t);Q(r._canInitEmulator,r,"emulator-config-failed"),Q(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,s=nS(e),{host:o,port:a}=J2(e),u=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||Z2()}function nS(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function J2(t){let e=nS(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let s=i[1];return{host:s,port:AA(r.substr(s.length+1))}}else{let[s,o]=r.split(":");return{host:s,port:AA(o)}}}function AA(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function Z2(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var vc=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return sr("not implemented")}_getIdTokenResponse(e){return sr("not implemented")}_linkToIdToken(e,n){return sr("not implemented")}_getReauthenticationResolver(e){return sr("not implemented")}};function X2(t,e){return w(this,null,function*(){return ti(t,"POST","/v1/accounts:signUp",e)})}function eB(t,e){return w(this,null,function*(){return wc(t,"POST","/v1/accounts:signInWithPassword",ei(t,e))})}function tB(t,e){return w(this,null,function*(){return wc(t,"POST","/v1/accounts:signInWithEmailLink",ei(t,e))})}function nB(t,e){return w(this,null,function*(){return wc(t,"POST","/v1/accounts:signInWithEmailLink",ei(t,e))})}var _c=class t extends vc{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new t(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new t(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){return w(this,null,function*(){switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ky(e,n,"signInWithPassword",eB);case"emailLink":return tB(e,{email:this._email,oobCode:this._password});default:Dn(e,"internal-error")}})}_linkToIdToken(e,n){return w(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ky(e,r,"signUpPassword",X2);case"emailLink":return nB(e,{idToken:n,email:this._email,oobCode:this._password});default:Dn(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function Ly(t,e){return w(this,null,function*(){return wc(t,"POST","/v1/accounts:signInWithIdp",ei(t,e))})}function rB(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function iB(t){let e=ho(fo(t)).link,n=e?ho(fo(e)).deep_link_id:null,r=ho(fo(t)).deep_link_id;return(r?ho(fo(r)).link:null)||r||n||e||t}var uh=class t{constructor(e){var n,r,i,s,o,a;let u=ho(fo(e)),l=(n=u.apiKey)!==null&&n!==void 0?n:null,h=(r=u.oobCode)!==null&&r!==void 0?r:null,p=rB((i=u.mode)!==null&&i!==void 0?i:null);Q(l&&h&&p,"argument-error"),this.apiKey=l,this.operation=p,this.code=h,this.continueUrl=(s=u.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=u.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=u.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let n=iB(e);try{return new t(n)}catch{return null}}};var rS=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return _c._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){let i=uh.parseLink(r);return Q(i,"argument-error"),_c._fromEmailAndCode(n,i.code,i.tenantId)}}t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return t})(),lh=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var Qy=class extends lh{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function sB(t,e){return w(this,null,function*(){return wc(t,"POST","/v1/accounts:signUp",ei(t,e))})}var _o=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return w(this,null,function*(){let s=yield vo._fromIdTokenResponse(e,r,i),o=SA(r);return new t({user:s,providerId:o,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return w(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=SA(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function SA(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var Yy=class t extends Ft{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function iS(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Yy._fromErrorAndOperation(t,s,e,r):s})}function oB(t,e,n=!1){return w(this,null,function*(){let r=yield mc(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return _o._forOperation(t,"link",r)})}function aB(t,e,n=!1){return w(this,null,function*(){let{auth:r}=t;if(un(r.app))return Promise.reject(ar(r));let i="reauthenticate";try{let s=yield mc(t,iS(r,i,e,t),n);Q(s.idToken,r,"internal-error");let o=av(s.idToken);Q(o,r,"internal-error");let{sub:a}=o;return Q(t.uid===a,r,"user-mismatch"),_o._forOperation(t,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&Dn(r,"user-mismatch"),s}})}function sS(t,e,n=!1){return w(this,null,function*(){if(un(t.app))return Promise.reject(ar(t));let r="signIn",i=yield iS(t,r,e),s=yield _o._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})}function hv(t,e){return w(this,null,function*(){return sS($i(t),e)})}function oS(t){return w(this,null,function*(){let e=$i(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function fv(t,e,n){return w(this,null,function*(){if(un(t.app))return Promise.reject(ar(t));let r=$i(t),o=yield Ky(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",sB).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&oS(t),u}),a=yield _o._fromIdTokenResponse(r,"signIn",o);return yield r._updateCurrentUser(a.user),a})}function pv(t,e,n){return un(t.app)?Promise.reject(ar(t)):hv(rt(t),rS.credential(e,n)).catch(r=>w(this,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&oS(t),r}))}function gv(t,e,n,r){return rt(t).onIdTokenChanged(e,n,r)}function mv(t,e,n){return rt(t).beforeAuthStateChanged(e,n)}function yv(t){return rt(t).signOut()}var dh="__sak";var hh=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(dh,"1"),this.storage.removeItem(dh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var cB=1e3,uB=10,lB=(()=>{class t extends hh{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ZA(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,u,l)=>{this.notifyListeners(a,l)});return}let i=n.key;r?this.detachListener():this.stopPolling();let s=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);$2()&&o!==n.newValue&&n.newValue!==n.oldValue?setTimeout(s,uB):s()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},cB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return w(this,null,function*(){yield vr(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return w(this,null,function*(){let r=yield vr(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return w(this,null,function*(){yield vr(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),aS=lB;var dB=(()=>{class t extends hh{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),vv=dB;function hB(t){return Promise.all(t.map(e=>w(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var fB=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return w(this,null,function*(){let r=n,{eventId:i,eventType:s,data:o}=r.data,a=this.handlersMap[s];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:s});let u=Array.from(a).map(h=>w(this,null,function*(){return h(r.origin,o)})),l=yield hB(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:l})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function cS(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var Jy=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return w(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,u)=>{let l=cS("",20);i.port1.start();let h=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(p){let m=p;if(m.data.eventId===l)switch(m.data.status){case"ack":clearTimeout(h),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(m.data.response);break;default:clearTimeout(h),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})})}};function En(){return window}function pB(t){En().location.href=t}function uS(){return typeof En().WorkerGlobalScope<"u"&&typeof En().importScripts=="function"}function gB(){return w(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function mB(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function yB(){return uS()?self:null}var lS="firebaseLocalStorageDb",vB=1,fh="firebaseLocalStorage",dS="fbase_key",Bi=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function mh(t,e){return t.transaction([fh],e?"readwrite":"readonly").objectStore(fh)}function _B(){let t=indexedDB.deleteDatabase(lS);return new Bi(t).toPromise()}function Zy(){let t=indexedDB.open(lS,vB);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(fh,{keyPath:dS})}catch(i){n(i)}}),t.addEventListener("success",()=>w(this,null,function*(){let r=t.result;r.objectStoreNames.contains(fh)?e(r):(r.close(),yield _B(),e(yield Zy()))}))})}function RA(t,e,n){return w(this,null,function*(){let r=mh(t,!0).put({[dS]:e,value:n});return new Bi(r).toPromise()})}function IB(t,e){return w(this,null,function*(){let n=mh(t,!1).get(e),r=yield new Bi(n).toPromise();return r===void 0?null:r.value})}function NA(t,e){let n=mh(t,!0).delete(e);return new Bi(n).toPromise()}var wB=800,EB=3,DB=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return w(this,null,function*(){return this.db?this.db:(this.db=yield Zy(),this.db)})}_withRetries(n){return w(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>EB)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return w(this,null,function*(){return uS()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return w(this,null,function*(){this.receiver=fB._getInstance(yB()),this.receiver._subscribe("keyChanged",(n,r)=>w(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>w(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return w(this,null,function*(){var n,r;if(this.activeServiceWorker=yield gB(),!this.activeServiceWorker)return;this.sender=new Jy(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return w(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||mB()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return w(this,null,function*(){try{if(!indexedDB)return!1;let n=yield Zy();return yield RA(n,dh,"1"),yield NA(n,dh),!0}catch{}return!1})}_withPendingWrite(n){return w(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return w(this,null,function*(){return this._withPendingWrite(()=>w(this,null,function*(){return yield this._withRetries(i=>RA(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return w(this,null,function*(){let r=yield this._withRetries(i=>IB(i,n));return this.localCache[n]=r,r})}_remove(n){return w(this,null,function*(){return this._withPendingWrite(()=>w(this,null,function*(){return yield this._withRetries(r=>NA(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return w(this,null,function*(){let n=yield this._withRetries(s=>{let o=mh(s,!1).getAll();return new Bi(o).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:s,value:o}of n)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),r.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),r.push(s));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>w(this,null,function*(){return this._poll()}),wB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),hS=DB;var HK=tS("rcb"),zK=new ji(3e4,6e4);function TB(t,e){return e?or(e):(Q(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var Ic=class extends vc{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ly(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ly(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ly(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function bB(t){return sS(t.auth,new Ic(t),t.bypassAuthState)}function CB(t){let{auth:e,user:n}=t;return Q(n,e,"internal-error"),aB(n,new Ic(t),t.bypassAuthState)}function AB(t){return w(this,null,function*(){let{auth:e,user:n}=t;return Q(n,e,"internal-error"),oB(n,new Ic(t),t.bypassAuthState)})}var Xy=class{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>w(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return w(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}let u={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(u))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return bB;case"linkViaPopup":case"linkViaRedirect":return AB;case"reauthViaPopup":case"reauthViaRedirect":return CB;default:Dn(this.auth,"internal-error")}}resolve(e){Xr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Xr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var qK=new ji(2e3,1e4);var SB="pendingRedirect",nh=new Map,ev=class t extends Xy{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return w(this,null,function*(){let e=nh.get(this.auth._key());if(!e){try{let r=(yield RB(this.resolver,this.auth))?yield vr(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}nh.set(this.auth._key(),e)}return this.bypassAuthState||nh.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return w(this,null,function*(){if(e.type==="signInViaRedirect")return vr(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,vr(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return w(this,null,function*(){})}cleanUp(){}};function RB(t,e){return w(this,null,function*(){let n=xB(e),r=MB(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function NB(t,e){nh.set(t._key(),e)}function MB(t){return or(t._redirectPersistence)}function xB(t){return th(SB,t.config.apiKey,t.name)}function PB(t,e,n=!1){return w(this,null,function*(){if(un(t.app))return Promise.reject(ar(t));let r=$i(t),i=TB(r,e),o=yield new ev(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})}var OB=10*60*1e3,tv=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!kB(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!fS(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Ui(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=OB&&this.cachedEventUids.clear(),this.cachedEventUids.has(MA(e))}saveEventToCache(e){this.cachedEventUids.add(MA(e)),this.lastProcessedEventTime=Date.now()}};function MA(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function fS({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function kB(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return fS(t);default:return!1}}function FB(n){return w(this,arguments,function*(t,e={}){return ti(t,"GET","/v1/projects",e)})}var LB=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,VB=/^https?/;function UB(t){return w(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield FB(t);for(let n of e)try{if(jB(n))return}catch{}Dn(t,"unauthorized-domain")})}function jB(t){let e=Uy(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!VB.test(n))return!1;if(LB.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var BB=new ji(3e4,6e4);function xA(){let t=En().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function $B(t){return new Promise((e,n)=>{var r,i,s;function o(){xA(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{xA(),n(Ui(t,"network-request-failed"))},timeout:BB.get()})}if(!((i=(r=En().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=En().gapi)===null||s===void 0)&&s.load)o();else{let a=tS("iframefcb");return En()[a]=()=>{gapi.load?o():n(Ui(t,"network-request-failed"))},eS(`${W2()}?onload=${a}`).catch(u=>n(u))}}).catch(e=>{throw rh=null,e})}var rh=null;function HB(t){return rh=rh||$B(t),rh}var zB=new ji(5e3,15e3),qB="__/auth/iframe",GB="emulator/auth/iframe",WB={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},KB=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function QB(t){let e=t.config;Q(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?sv(e,GB):`https://${t.config.authDomain}/${qB}`,r={apiKey:e.apiKey,appName:t.name,v:Jr},i=KB.get(t.config.apiHost);i&&(r.eid=i);let s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${uc(r).slice(1)}`}function YB(t){return w(this,null,function*(){let e=yield HB(t),n=En().gapi;return Q(n,t,"internal-error"),e.open({where:document.body,url:QB(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:WB,dontclear:!0},r=>new Promise((i,s)=>w(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let o=Ui(t,"network-request-failed"),a=En().setTimeout(()=>{s(o)},zB.get());function u(){En().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{s(o)})})))})}var JB={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ZB=500,XB=600,e$="_blank",t$="http://localhost",ph=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function n$(t,e,n,r=ZB,i=XB){let s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",u=Object.assign(Object.assign({},JB),{width:r.toString(),height:i.toString(),top:s,left:o}),l=Ye().toLowerCase();n&&(a=WA(l)?e$:n),qA(l)&&(e=e||t$,u.scrollbars="yes");let h=Object.entries(u).reduce((m,[y,C])=>`${m}${y}=${C},`,"");if(B2(l)&&a!=="_self")return r$(e||"",a),new ph(null);let p=window.open(e||"",a,h);Q(p,t,"popup-blocked");try{p.focus()}catch{}return new ph(p)}function r$(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var i$="__/auth/handler",s$="emulator/auth/handler",o$=encodeURIComponent("fac");function PA(t,e,n,r,i,s){return w(this,null,function*(){Q(t.config.authDomain,t,"auth-domain-config-required"),Q(t.config.apiKey,t,"invalid-api-key");let o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Jr,eventId:i};if(e instanceof lh){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",sA(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[h,p]of Object.entries(s||{}))o[h]=p}if(e instanceof Qy){let h=e.getScopes().filter(p=>p!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);let a=o;for(let h of Object.keys(a))a[h]===void 0&&delete a[h];let u=yield t._getAppCheckToken(),l=u?`#${o$}=${encodeURIComponent(u)}`:"";return`${a$(t)}?${uc(a).slice(1)}${l}`})}function a$({config:t}){return t.emulator?sv(t,s$):`https://${t.authDomain}/${i$}`}var Vy="webStorageSupport",nv=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=vv,this._completeRedirectFn=PB,this._overrideRedirectResult=NB}_openPopup(e,n,r,i){return w(this,null,function*(){var s;Xr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let o=yield PA(e,n,r,Uy(),i);return n$(e,o,cS())})}_openRedirect(e,n,r,i){return w(this,null,function*(){yield this._originValidation(e);let s=yield PA(e,n,r,Uy(),i);return pB(s),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Xr(s,"If manager is not set, promise should be"),s)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return w(this,null,function*(){let n=yield YB(e),r=new tv(e);return n.register("authEvent",i=>(Q(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Vy,{type:Vy},i=>{var s;let o=(s=i?.[0])===null||s===void 0?void 0:s[Vy];o!==void 0&&n(!!o),Dn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=UB(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return ZA()||GA()||uv()}},pS=nv;var OA="@firebase/auth",kA="1.7.9";var rv=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return w(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Q(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function c$(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function u$(t){Yr(new Yt("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Q(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:XA(t)},l=new Gy(r,i,s,u);return Y2(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Yr(new Yt("auth-internal",e=>{let n=$i(e.getProvider("auth").getImmediate());return(r=>new rv(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),We(OA,kA,c$(t)),We(OA,kA,"esm2017")}var l$=5*60,d$=yy("authIdTokenMaxAge")||l$,FA=null,h$=t=>e=>w(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>d$)return;let i=n?.token;FA!==i&&(FA=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function _v(t=po()){let e=hc(t,"auth");if(e.isInitialized())return e.getImmediate();let n=lv(t,{popupRedirectResolver:pS,persistence:[hS,aS,vv]}),r=yy("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let s=new URL(r,location.origin);if(location.origin===s.origin){let o=h$(s.toString());mv(n,o,()=>o(n.currentUser)),gv(n,a=>o(a))}}let i=gy("auth");return i&&dv(n,`http://${i}`),n}function f$(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}q2({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let s=Ui("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",f$().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});u$("Browser");var gS="auth",Ec=class{constructor(e){return e}},Dc=class{constructor(){return fc(gS)}};var Iv=new L("angularfire2.auth-instances");function rH(t,e){let n=Jd(gS,t,e);return n&&new Ec(n)}function iH(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Ec(r)}}var sH={provide:Dc,deps:[[new ut,Iv]]},oH={provide:Ec,useFactory:rH,deps:[[new ut,Iv],ir]};function S7(t,...e){return We("angularfire",Li.full,"auth"),Bt([oH,sH,{provide:Iv,useFactory:iH(t),multi:!0,deps:[me,Ke,yo,Vi,[new ut,mo],...e]}])}var R7=lt(fv,!0);var N7=lt(_v,!0);var M7=lt(pv,!0);var x7=lt(yv,!0);var mS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},yS={};var ni,wv;(function(){var t;function e(E,v){function _(){}_.prototype=v.prototype,E.D=v.prototype,E.prototype=new _,E.prototype.constructor=E,E.C=function(D,T,A){for(var I=Array(arguments.length-2),Nn=2;Nn<arguments.length;Nn++)I[Nn-2]=arguments[Nn];return v.prototype[T].apply(D,I)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(E,v,_){_||(_=0);var D=Array(16);if(typeof v=="string")for(var T=0;16>T;++T)D[T]=v.charCodeAt(_++)|v.charCodeAt(_++)<<8|v.charCodeAt(_++)<<16|v.charCodeAt(_++)<<24;else for(T=0;16>T;++T)D[T]=v[_++]|v[_++]<<8|v[_++]<<16|v[_++]<<24;v=E.g[0],_=E.g[1],T=E.g[2];var A=E.g[3],I=v+(A^_&(T^A))+D[0]+3614090360&4294967295;v=_+(I<<7&4294967295|I>>>25),I=A+(T^v&(_^T))+D[1]+3905402710&4294967295,A=v+(I<<12&4294967295|I>>>20),I=T+(_^A&(v^_))+D[2]+606105819&4294967295,T=A+(I<<17&4294967295|I>>>15),I=_+(v^T&(A^v))+D[3]+3250441966&4294967295,_=T+(I<<22&4294967295|I>>>10),I=v+(A^_&(T^A))+D[4]+4118548399&4294967295,v=_+(I<<7&4294967295|I>>>25),I=A+(T^v&(_^T))+D[5]+1200080426&4294967295,A=v+(I<<12&4294967295|I>>>20),I=T+(_^A&(v^_))+D[6]+2821735955&4294967295,T=A+(I<<17&4294967295|I>>>15),I=_+(v^T&(A^v))+D[7]+4249261313&4294967295,_=T+(I<<22&4294967295|I>>>10),I=v+(A^_&(T^A))+D[8]+1770035416&4294967295,v=_+(I<<7&4294967295|I>>>25),I=A+(T^v&(_^T))+D[9]+2336552879&4294967295,A=v+(I<<12&4294967295|I>>>20),I=T+(_^A&(v^_))+D[10]+4294925233&4294967295,T=A+(I<<17&4294967295|I>>>15),I=_+(v^T&(A^v))+D[11]+2304563134&4294967295,_=T+(I<<22&4294967295|I>>>10),I=v+(A^_&(T^A))+D[12]+1804603682&4294967295,v=_+(I<<7&4294967295|I>>>25),I=A+(T^v&(_^T))+D[13]+4254626195&4294967295,A=v+(I<<12&4294967295|I>>>20),I=T+(_^A&(v^_))+D[14]+2792965006&4294967295,T=A+(I<<17&4294967295|I>>>15),I=_+(v^T&(A^v))+D[15]+1236535329&4294967295,_=T+(I<<22&4294967295|I>>>10),I=v+(T^A&(_^T))+D[1]+4129170786&4294967295,v=_+(I<<5&4294967295|I>>>27),I=A+(_^T&(v^_))+D[6]+3225465664&4294967295,A=v+(I<<9&4294967295|I>>>23),I=T+(v^_&(A^v))+D[11]+643717713&4294967295,T=A+(I<<14&4294967295|I>>>18),I=_+(A^v&(T^A))+D[0]+3921069994&4294967295,_=T+(I<<20&4294967295|I>>>12),I=v+(T^A&(_^T))+D[5]+3593408605&4294967295,v=_+(I<<5&4294967295|I>>>27),I=A+(_^T&(v^_))+D[10]+38016083&4294967295,A=v+(I<<9&4294967295|I>>>23),I=T+(v^_&(A^v))+D[15]+3634488961&4294967295,T=A+(I<<14&4294967295|I>>>18),I=_+(A^v&(T^A))+D[4]+3889429448&4294967295,_=T+(I<<20&4294967295|I>>>12),I=v+(T^A&(_^T))+D[9]+568446438&4294967295,v=_+(I<<5&4294967295|I>>>27),I=A+(_^T&(v^_))+D[14]+3275163606&4294967295,A=v+(I<<9&4294967295|I>>>23),I=T+(v^_&(A^v))+D[3]+4107603335&4294967295,T=A+(I<<14&4294967295|I>>>18),I=_+(A^v&(T^A))+D[8]+1163531501&4294967295,_=T+(I<<20&4294967295|I>>>12),I=v+(T^A&(_^T))+D[13]+2850285829&4294967295,v=_+(I<<5&4294967295|I>>>27),I=A+(_^T&(v^_))+D[2]+4243563512&4294967295,A=v+(I<<9&4294967295|I>>>23),I=T+(v^_&(A^v))+D[7]+1735328473&4294967295,T=A+(I<<14&4294967295|I>>>18),I=_+(A^v&(T^A))+D[12]+2368359562&4294967295,_=T+(I<<20&4294967295|I>>>12),I=v+(_^T^A)+D[5]+4294588738&4294967295,v=_+(I<<4&4294967295|I>>>28),I=A+(v^_^T)+D[8]+2272392833&4294967295,A=v+(I<<11&4294967295|I>>>21),I=T+(A^v^_)+D[11]+1839030562&4294967295,T=A+(I<<16&4294967295|I>>>16),I=_+(T^A^v)+D[14]+4259657740&4294967295,_=T+(I<<23&4294967295|I>>>9),I=v+(_^T^A)+D[1]+2763975236&4294967295,v=_+(I<<4&4294967295|I>>>28),I=A+(v^_^T)+D[4]+1272893353&4294967295,A=v+(I<<11&4294967295|I>>>21),I=T+(A^v^_)+D[7]+4139469664&4294967295,T=A+(I<<16&4294967295|I>>>16),I=_+(T^A^v)+D[10]+3200236656&4294967295,_=T+(I<<23&4294967295|I>>>9),I=v+(_^T^A)+D[13]+681279174&4294967295,v=_+(I<<4&4294967295|I>>>28),I=A+(v^_^T)+D[0]+3936430074&4294967295,A=v+(I<<11&4294967295|I>>>21),I=T+(A^v^_)+D[3]+3572445317&4294967295,T=A+(I<<16&4294967295|I>>>16),I=_+(T^A^v)+D[6]+76029189&4294967295,_=T+(I<<23&4294967295|I>>>9),I=v+(_^T^A)+D[9]+3654602809&4294967295,v=_+(I<<4&4294967295|I>>>28),I=A+(v^_^T)+D[12]+3873151461&4294967295,A=v+(I<<11&4294967295|I>>>21),I=T+(A^v^_)+D[15]+530742520&4294967295,T=A+(I<<16&4294967295|I>>>16),I=_+(T^A^v)+D[2]+3299628645&4294967295,_=T+(I<<23&4294967295|I>>>9),I=v+(T^(_|~A))+D[0]+4096336452&4294967295,v=_+(I<<6&4294967295|I>>>26),I=A+(_^(v|~T))+D[7]+1126891415&4294967295,A=v+(I<<10&4294967295|I>>>22),I=T+(v^(A|~_))+D[14]+2878612391&4294967295,T=A+(I<<15&4294967295|I>>>17),I=_+(A^(T|~v))+D[5]+4237533241&4294967295,_=T+(I<<21&4294967295|I>>>11),I=v+(T^(_|~A))+D[12]+1700485571&4294967295,v=_+(I<<6&4294967295|I>>>26),I=A+(_^(v|~T))+D[3]+2399980690&4294967295,A=v+(I<<10&4294967295|I>>>22),I=T+(v^(A|~_))+D[10]+4293915773&4294967295,T=A+(I<<15&4294967295|I>>>17),I=_+(A^(T|~v))+D[1]+2240044497&4294967295,_=T+(I<<21&4294967295|I>>>11),I=v+(T^(_|~A))+D[8]+1873313359&4294967295,v=_+(I<<6&4294967295|I>>>26),I=A+(_^(v|~T))+D[15]+4264355552&4294967295,A=v+(I<<10&4294967295|I>>>22),I=T+(v^(A|~_))+D[6]+2734768916&4294967295,T=A+(I<<15&4294967295|I>>>17),I=_+(A^(T|~v))+D[13]+1309151649&4294967295,_=T+(I<<21&4294967295|I>>>11),I=v+(T^(_|~A))+D[4]+4149444226&4294967295,v=_+(I<<6&4294967295|I>>>26),I=A+(_^(v|~T))+D[11]+3174756917&4294967295,A=v+(I<<10&4294967295|I>>>22),I=T+(v^(A|~_))+D[2]+718787259&4294967295,T=A+(I<<15&4294967295|I>>>17),I=_+(A^(T|~v))+D[9]+3951481745&4294967295,E.g[0]=E.g[0]+v&4294967295,E.g[1]=E.g[1]+(T+(I<<21&4294967295|I>>>11))&4294967295,E.g[2]=E.g[2]+T&4294967295,E.g[3]=E.g[3]+A&4294967295}r.prototype.u=function(E,v){v===void 0&&(v=E.length);for(var _=v-this.blockSize,D=this.B,T=this.h,A=0;A<v;){if(T==0)for(;A<=_;)i(this,E,A),A+=this.blockSize;if(typeof E=="string"){for(;A<v;)if(D[T++]=E.charCodeAt(A++),T==this.blockSize){i(this,D),T=0;break}}else for(;A<v;)if(D[T++]=E[A++],T==this.blockSize){i(this,D),T=0;break}}this.h=T,this.o+=v},r.prototype.v=function(){var E=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);E[0]=128;for(var v=1;v<E.length-8;++v)E[v]=0;var _=8*this.o;for(v=E.length-8;v<E.length;++v)E[v]=_&255,_/=256;for(this.u(E),E=Array(16),v=_=0;4>v;++v)for(var D=0;32>D;D+=8)E[_++]=this.g[v]>>>D&255;return E};function s(E,v){var _=a;return Object.prototype.hasOwnProperty.call(_,E)?_[E]:_[E]=v(E)}function o(E,v){this.h=v;for(var _=[],D=!0,T=E.length-1;0<=T;T--){var A=E[T]|0;D&&A==v||(_[T]=A,D=!1)}this.g=_}var a={};function u(E){return-128<=E&&128>E?s(E,function(v){return new o([v|0],0>v?-1:0)}):new o([E|0],0>E?-1:0)}function l(E){if(isNaN(E)||!isFinite(E))return p;if(0>E)return R(l(-E));for(var v=[],_=1,D=0;E>=_;D++)v[D]=E/_|0,_*=4294967296;return new o(v,0)}function h(E,v){if(E.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(E.charAt(0)=="-")return R(h(E.substring(1),v));if(0<=E.indexOf("-"))throw Error('number format error: interior "-" character');for(var _=l(Math.pow(v,8)),D=p,T=0;T<E.length;T+=8){var A=Math.min(8,E.length-T),I=parseInt(E.substring(T,T+A),v);8>A?(A=l(Math.pow(v,A)),D=D.j(A).add(l(I))):(D=D.j(_),D=D.add(l(I)))}return D}var p=u(0),m=u(1),y=u(16777216);t=o.prototype,t.m=function(){if(N(this))return-R(this).m();for(var E=0,v=1,_=0;_<this.g.length;_++){var D=this.i(_);E+=(0<=D?D:4294967296+D)*v,v*=4294967296}return E},t.toString=function(E){if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(C(this))return"0";if(N(this))return"-"+R(this).toString(E);for(var v=l(Math.pow(E,6)),_=this,D="";;){var T=ee(_,v).g;_=F(_,T.j(v));var A=((0<_.g.length?_.g[0]:_.h)>>>0).toString(E);if(_=T,C(_))return A+D;for(;6>A.length;)A="0"+A;D=A+D}},t.i=function(E){return 0>E?0:E<this.g.length?this.g[E]:this.h};function C(E){if(E.h!=0)return!1;for(var v=0;v<E.g.length;v++)if(E.g[v]!=0)return!1;return!0}function N(E){return E.h==-1}t.l=function(E){return E=F(this,E),N(E)?-1:C(E)?0:1};function R(E){for(var v=E.g.length,_=[],D=0;D<v;D++)_[D]=~E.g[D];return new o(_,~E.h).add(m)}t.abs=function(){return N(this)?R(this):this},t.add=function(E){for(var v=Math.max(this.g.length,E.g.length),_=[],D=0,T=0;T<=v;T++){var A=D+(this.i(T)&65535)+(E.i(T)&65535),I=(A>>>16)+(this.i(T)>>>16)+(E.i(T)>>>16);D=I>>>16,A&=65535,I&=65535,_[T]=I<<16|A}return new o(_,_[_.length-1]&-2147483648?-1:0)};function F(E,v){return E.add(R(v))}t.j=function(E){if(C(this)||C(E))return p;if(N(this))return N(E)?R(this).j(R(E)):R(R(this).j(E));if(N(E))return R(this.j(R(E)));if(0>this.l(y)&&0>E.l(y))return l(this.m()*E.m());for(var v=this.g.length+E.g.length,_=[],D=0;D<2*v;D++)_[D]=0;for(D=0;D<this.g.length;D++)for(var T=0;T<E.g.length;T++){var A=this.i(D)>>>16,I=this.i(D)&65535,Nn=E.i(T)>>>16,Bo=E.i(T)&65535;_[2*D+2*T]+=I*Bo,H(_,2*D+2*T),_[2*D+2*T+1]+=A*Bo,H(_,2*D+2*T+1),_[2*D+2*T+1]+=I*Nn,H(_,2*D+2*T+1),_[2*D+2*T+2]+=A*Nn,H(_,2*D+2*T+2)}for(D=0;D<v;D++)_[D]=_[2*D+1]<<16|_[2*D];for(D=v;D<2*v;D++)_[D]=0;return new o(_,0)};function H(E,v){for(;(E[v]&65535)!=E[v];)E[v+1]+=E[v]>>>16,E[v]&=65535,v++}function V(E,v){this.g=E,this.h=v}function ee(E,v){if(C(v))throw Error("division by zero");if(C(E))return new V(p,p);if(N(E))return v=ee(R(E),v),new V(R(v.g),R(v.h));if(N(v))return v=ee(E,R(v)),new V(R(v.g),v.h);if(30<E.g.length){if(N(E)||N(v))throw Error("slowDivide_ only works with positive integers.");for(var _=m,D=v;0>=D.l(E);)_=we(_),D=we(D);var T=W(_,1),A=W(D,1);for(D=W(D,2),_=W(_,2);!C(D);){var I=A.add(D);0>=I.l(E)&&(T=T.add(_),A=I),D=W(D,1),_=W(_,1)}return v=F(E,T.j(v)),new V(T,v)}for(T=p;0<=E.l(v);){for(_=Math.max(1,Math.floor(E.m()/v.m())),D=Math.ceil(Math.log(_)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),A=l(_),I=A.j(v);N(I)||0<I.l(E);)_-=D,A=l(_),I=A.j(v);C(A)&&(A=m),T=T.add(A),E=F(E,I)}return new V(T,E)}t.A=function(E){return ee(this,E).h},t.and=function(E){for(var v=Math.max(this.g.length,E.g.length),_=[],D=0;D<v;D++)_[D]=this.i(D)&E.i(D);return new o(_,this.h&E.h)},t.or=function(E){for(var v=Math.max(this.g.length,E.g.length),_=[],D=0;D<v;D++)_[D]=this.i(D)|E.i(D);return new o(_,this.h|E.h)},t.xor=function(E){for(var v=Math.max(this.g.length,E.g.length),_=[],D=0;D<v;D++)_[D]=this.i(D)^E.i(D);return new o(_,this.h^E.h)};function we(E){for(var v=E.g.length+1,_=[],D=0;D<v;D++)_[D]=E.i(D)<<1|E.i(D-1)>>>31;return new o(_,E.h)}function W(E,v){var _=v>>5;v%=32;for(var D=E.g.length-_,T=[],A=0;A<D;A++)T[A]=0<v?E.i(A+_)>>>v|E.i(A+_+1)<<32-v:E.i(A+_);return new o(T,E.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,wv=yS.Md5=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=l,o.fromString=h,ni=yS.Integer=o}).apply(typeof mS<"u"?mS:typeof self<"u"?self:typeof window<"u"?window:{});var yh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},cr={};var Ev,Dv,Io,Tv,Tc,vh,bv,Cv,Av;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,d,f){return c==Array.prototype||c==Object.prototype||(c[d]=f.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof yh=="object"&&yh];for(var d=0;d<c.length;++d){var f=c[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=n(this);function i(c,d){if(d)e:{var f=r;c=c.split(".");for(var g=0;g<c.length-1;g++){var b=c[g];if(!(b in f))break e;f=f[b]}c=c[c.length-1],g=f[c],d=d(g),d!=g&&d!=null&&e(f,c,{configurable:!0,writable:!0,value:d})}}function s(c,d){c instanceof String&&(c+="");var f=0,g=!1,b={next:function(){if(!g&&f<c.length){var S=f++;return{value:d(S,c[S]),done:!1}}return g=!0,{done:!0,value:void 0}}};return b[Symbol.iterator]=function(){return b},b}i("Array.prototype.values",function(c){return c||function(){return s(this,function(d,f){return f})}});var o=o||{},a=this||self;function u(c){var d=typeof c;return d=d!="object"?d:c?Array.isArray(c)?"array":d:"null",d=="array"||d=="object"&&typeof c.length=="number"}function l(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function h(c,d,f){return c.call.apply(c.bind,arguments)}function p(c,d,f){if(!c)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var b=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(b,g),c.apply(d,b)}}return function(){return c.apply(d,arguments)}}function m(c,d,f){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,m.apply(null,arguments)}function y(c,d){var f=Array.prototype.slice.call(arguments,1);return function(){var g=f.slice();return g.push.apply(g,arguments),c.apply(this,g)}}function C(c,d){function f(){}f.prototype=d.prototype,c.aa=d.prototype,c.prototype=new f,c.prototype.constructor=c,c.Qb=function(g,b,S){for(var O=Array(arguments.length-2),De=2;De<arguments.length;De++)O[De-2]=arguments[De];return d.prototype[b].apply(g,O)}}function N(c){let d=c.length;if(0<d){let f=Array(d);for(let g=0;g<d;g++)f[g]=c[g];return f}return[]}function R(c,d){for(let f=1;f<arguments.length;f++){let g=arguments[f];if(u(g)){let b=c.length||0,S=g.length||0;c.length=b+S;for(let O=0;O<S;O++)c[b+O]=g[O]}else c.push(g)}}class F{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function H(c){return/^[\s\xa0]*$/.test(c)}function V(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function ee(c){return ee[" "](c),c}ee[" "]=function(){};var we=V().indexOf("Gecko")!=-1&&!(V().toLowerCase().indexOf("webkit")!=-1&&V().indexOf("Edge")==-1)&&!(V().indexOf("Trident")!=-1||V().indexOf("MSIE")!=-1)&&V().indexOf("Edge")==-1;function W(c,d,f){for(let g in c)d.call(f,c[g],g,c)}function E(c,d){for(let f in c)d.call(void 0,c[f],f,c)}function v(c){let d={};for(let f in c)d[f]=c[f];return d}let _="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(c,d){let f,g;for(let b=1;b<arguments.length;b++){g=arguments[b];for(f in g)c[f]=g[f];for(let S=0;S<_.length;S++)f=_[S],Object.prototype.hasOwnProperty.call(g,f)&&(c[f]=g[f])}}function T(c){var d=1;c=c.split(":");let f=[];for(;0<d&&c.length;)f.push(c.shift()),d--;return c.length&&f.push(c.join(":")),f}function A(c){a.setTimeout(()=>{throw c},0)}function I(){var c=uf;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class Nn{constructor(){this.h=this.g=null}add(d,f){let g=Bo.get();g.set(d,f),this.h?this.h.next=g:this.g=g,this.h=g}}var Bo=new F(()=>new mN,c=>c.reset());class mN{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let $o,Ho=!1,uf=new Nn,LI=()=>{let c=a.Promise.resolve(void 0);$o=()=>{c.then(yN)}};var yN=()=>{for(var c;c=I();){try{c.h.call(c.g)}catch(f){A(f)}var d=Bo;d.j(c),100>d.h&&(d.h++,c.next=d.g,d.g=c)}Ho=!1};function pr(){this.s=this.s,this.C=this.C}pr.prototype.s=!1,pr.prototype.ma=function(){this.s||(this.s=!0,this.N())},pr.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function st(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}st.prototype.h=function(){this.defaultPrevented=!0};var vN=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let f=()=>{};a.addEventListener("test",f,d),a.removeEventListener("test",f,d)}catch{}return c}();function zo(c,d){if(st.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var f=this.type=c.type,g=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget){if(we){e:{try{ee(d.nodeName);var b=!0;break e}catch{}b=!1}b||(d=null)}}else f=="mouseover"?d=c.fromElement:f=="mouseout"&&(d=c.toElement);this.relatedTarget=d,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:_N[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&zo.aa.h.call(this)}}C(zo,st);var _N={2:"touch",3:"pen",4:"mouse"};zo.prototype.h=function(){zo.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var qo="closure_listenable_"+(1e6*Math.random()|0),IN=0;function wN(c,d,f,g,b){this.listener=c,this.proxy=null,this.src=d,this.type=f,this.capture=!!g,this.ha=b,this.key=++IN,this.da=this.fa=!1}function Kc(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Qc(c){this.src=c,this.g={},this.h=0}Qc.prototype.add=function(c,d,f,g,b){var S=c.toString();c=this.g[S],c||(c=this.g[S]=[],this.h++);var O=df(c,d,g,b);return-1<O?(d=c[O],f||(d.fa=!1)):(d=new wN(d,this.src,S,!!g,b),d.fa=f,c.push(d)),d};function lf(c,d){var f=d.type;if(f in c.g){var g=c.g[f],b=Array.prototype.indexOf.call(g,d,void 0),S;(S=0<=b)&&Array.prototype.splice.call(g,b,1),S&&(Kc(d),c.g[f].length==0&&(delete c.g[f],c.h--))}}function df(c,d,f,g){for(var b=0;b<c.length;++b){var S=c[b];if(!S.da&&S.listener==d&&S.capture==!!f&&S.ha==g)return b}return-1}var hf="closure_lm_"+(1e6*Math.random()|0),ff={};function VI(c,d,f,g,b){if(g&&g.once)return jI(c,d,f,g,b);if(Array.isArray(d)){for(var S=0;S<d.length;S++)VI(c,d[S],f,g,b);return null}return f=yf(f),c&&c[qo]?c.K(d,f,l(g)?!!g.capture:!!g,b):UI(c,d,f,!1,g,b)}function UI(c,d,f,g,b,S){if(!d)throw Error("Invalid event type");var O=l(b)?!!b.capture:!!b,De=gf(c);if(De||(c[hf]=De=new Qc(c)),f=De.add(d,f,g,O,S),f.proxy)return f;if(g=EN(),f.proxy=g,g.src=c,g.listener=f,c.addEventListener)vN||(b=O),b===void 0&&(b=!1),c.addEventListener(d.toString(),g,b);else if(c.attachEvent)c.attachEvent($I(d.toString()),g);else if(c.addListener&&c.removeListener)c.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return f}function EN(){function c(f){return d.call(c.src,c.listener,f)}let d=DN;return c}function jI(c,d,f,g,b){if(Array.isArray(d)){for(var S=0;S<d.length;S++)jI(c,d[S],f,g,b);return null}return f=yf(f),c&&c[qo]?c.L(d,f,l(g)?!!g.capture:!!g,b):UI(c,d,f,!0,g,b)}function BI(c,d,f,g,b){if(Array.isArray(d))for(var S=0;S<d.length;S++)BI(c,d[S],f,g,b);else g=l(g)?!!g.capture:!!g,f=yf(f),c&&c[qo]?(c=c.i,d=String(d).toString(),d in c.g&&(S=c.g[d],f=df(S,f,g,b),-1<f&&(Kc(S[f]),Array.prototype.splice.call(S,f,1),S.length==0&&(delete c.g[d],c.h--)))):c&&(c=gf(c))&&(d=c.g[d.toString()],c=-1,d&&(c=df(d,f,g,b)),(f=-1<c?d[c]:null)&&pf(f))}function pf(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[qo])lf(d.i,c);else{var f=c.type,g=c.proxy;d.removeEventListener?d.removeEventListener(f,g,c.capture):d.detachEvent?d.detachEvent($I(f),g):d.addListener&&d.removeListener&&d.removeListener(g),(f=gf(d))?(lf(f,c),f.h==0&&(f.src=null,d[hf]=null)):Kc(c)}}}function $I(c){return c in ff?ff[c]:ff[c]="on"+c}function DN(c,d){if(c.da)c=!0;else{d=new zo(d,this);var f=c.listener,g=c.ha||c.src;c.fa&&pf(c),c=f.call(g,d)}return c}function gf(c){return c=c[hf],c instanceof Qc?c:null}var mf="__closure_events_fn_"+(1e9*Math.random()>>>0);function yf(c){return typeof c=="function"?c:(c[mf]||(c[mf]=function(d){return c.handleEvent(d)}),c[mf])}function ot(){pr.call(this),this.i=new Qc(this),this.M=this,this.F=null}C(ot,pr),ot.prototype[qo]=!0,ot.prototype.removeEventListener=function(c,d,f,g){BI(this,c,d,f,g)};function pt(c,d){var f,g=c.F;if(g)for(f=[];g;g=g.F)f.push(g);if(c=c.M,g=d.type||d,typeof d=="string")d=new st(d,c);else if(d instanceof st)d.target=d.target||c;else{var b=d;d=new st(g,c),D(d,b)}if(b=!0,f)for(var S=f.length-1;0<=S;S--){var O=d.g=f[S];b=Yc(O,g,!0,d)&&b}if(O=d.g=c,b=Yc(O,g,!0,d)&&b,b=Yc(O,g,!1,d)&&b,f)for(S=0;S<f.length;S++)O=d.g=f[S],b=Yc(O,g,!1,d)&&b}ot.prototype.N=function(){if(ot.aa.N.call(this),this.i){var c=this.i,d;for(d in c.g){for(var f=c.g[d],g=0;g<f.length;g++)Kc(f[g]);delete c.g[d],c.h--}}this.F=null},ot.prototype.K=function(c,d,f,g){return this.i.add(String(c),d,!1,f,g)},ot.prototype.L=function(c,d,f,g){return this.i.add(String(c),d,!0,f,g)};function Yc(c,d,f,g){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();for(var b=!0,S=0;S<d.length;++S){var O=d[S];if(O&&!O.da&&O.capture==f){var De=O.listener,Ze=O.ha||O.src;O.fa&&lf(c.i,O),b=De.call(Ze,g)!==!1&&b}}return b&&!g.defaultPrevented}function HI(c,d,f){if(typeof c=="function")f&&(c=m(c,f));else if(c&&typeof c.handleEvent=="function")c=m(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(c,d||0)}function zI(c){c.g=HI(()=>{c.g=null,c.i&&(c.i=!1,zI(c))},c.l);let d=c.h;c.h=null,c.m.apply(null,d)}class TN extends pr{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:zI(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Go(c){pr.call(this),this.h=c,this.g={}}C(Go,pr);var qI=[];function GI(c){W(c.g,function(d,f){this.g.hasOwnProperty(f)&&pf(d)},c),c.g={}}Go.prototype.N=function(){Go.aa.N.call(this),GI(this)},Go.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var vf=a.JSON.stringify,bN=a.JSON.parse,CN=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function _f(){}_f.prototype.h=null;function WI(c){return c.h||(c.h=c.i())}function KI(){}var Wo={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function If(){st.call(this,"d")}C(If,st);function wf(){st.call(this,"c")}C(wf,st);var ui={},QI=null;function Jc(){return QI=QI||new ot}ui.La="serverreachability";function YI(c){st.call(this,ui.La,c)}C(YI,st);function Ko(c){let d=Jc();pt(d,new YI(d))}ui.STAT_EVENT="statevent";function JI(c,d){st.call(this,ui.STAT_EVENT,c),this.stat=d}C(JI,st);function gt(c){let d=Jc();pt(d,new JI(d,c))}ui.Ma="timingevent";function ZI(c,d){st.call(this,ui.Ma,c),this.size=d}C(ZI,st);function Qo(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},d)}function Yo(){this.g=!0}Yo.prototype.xa=function(){this.g=!1};function AN(c,d,f,g,b,S){c.info(function(){if(c.g)if(S)for(var O="",De=S.split("&"),Ze=0;Ze<De.length;Ze++){var ge=De[Ze].split("=");if(1<ge.length){var at=ge[0];ge=ge[1];var ct=at.split("_");O=2<=ct.length&&ct[1]=="type"?O+(at+"="+ge+"&"):O+(at+"=redacted&")}}else O=null;else O=S;return"XMLHTTP REQ ("+g+") [attempt "+b+"]: "+d+`
`+f+`
`+O})}function SN(c,d,f,g,b,S,O){c.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+b+"]: "+d+`
`+f+`
`+S+" "+O})}function rs(c,d,f,g){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+NN(c,f)+(g?" "+g:"")})}function RN(c,d){c.info(function(){return"TIMEOUT: "+d})}Yo.prototype.info=function(){};function NN(c,d){if(!c.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(c=0;c<f.length;c++)if(Array.isArray(f[c])){var g=f[c];if(!(2>g.length)){var b=g[1];if(Array.isArray(b)&&!(1>b.length)){var S=b[0];if(S!="noop"&&S!="stop"&&S!="close")for(var O=1;O<b.length;O++)b[O]=""}}}}return vf(f)}catch{return d}}var Zc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},XI={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ef;function Xc(){}C(Xc,_f),Xc.prototype.g=function(){return new XMLHttpRequest},Xc.prototype.i=function(){return{}},Ef=new Xc;function gr(c,d,f,g){this.j=c,this.i=d,this.l=f,this.R=g||1,this.U=new Go(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ew}function ew(){this.i=null,this.g="",this.h=!1}var tw={},Df={};function Tf(c,d,f){c.L=1,c.v=ru(Mn(d)),c.m=f,c.P=!0,nw(c,null)}function nw(c,d){c.F=Date.now(),eu(c),c.A=Mn(c.v);var f=c.A,g=c.R;Array.isArray(g)||(g=[String(g)]),mw(f.i,"t",g),c.C=0,f=c.j.J,c.h=new ew,c.g=Ow(c.j,f?d:null,!c.m),0<c.O&&(c.M=new TN(m(c.Y,c,c.g),c.O)),d=c.U,f=c.g,g=c.ca;var b="readystatechange";Array.isArray(b)||(b&&(qI[0]=b.toString()),b=qI);for(var S=0;S<b.length;S++){var O=VI(f,b[S],g||d.handleEvent,!1,d.h||d);if(!O)break;d.g[O.key]=O}d=c.H?v(c.H):{},c.m?(c.u||(c.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,d)):(c.u="GET",c.g.ea(c.A,c.u,null,d)),Ko(),AN(c.i,c.u,c.A,c.l,c.R,c.m)}gr.prototype.ca=function(c){c=c.target;let d=this.M;d&&xn(c)==3?d.j():this.Y(c)},gr.prototype.Y=function(c){try{if(c==this.g)e:{let ct=xn(this.g);var d=this.g.Ba();let os=this.g.Z();if(!(3>ct)&&(ct!=3||this.g&&(this.h.h||this.g.oa()||Dw(this.g)))){this.J||ct!=4||d==7||(d==8||0>=os?Ko(3):Ko(2)),bf(this);var f=this.g.Z();this.X=f;t:if(rw(this)){var g=Dw(this.g);c="";var b=g.length,S=xn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){li(this),Jo(this);var O="";break t}this.h.i=new a.TextDecoder}for(d=0;d<b;d++)this.h.h=!0,c+=this.h.i.decode(g[d],{stream:!(S&&d==b-1)});g.length=0,this.h.g+=c,this.C=0,O=this.h.g}else O=this.g.oa();if(this.o=f==200,SN(this.i,this.u,this.A,this.l,this.R,ct,f),this.o){if(this.T&&!this.K){t:{if(this.g){var De,Ze=this.g;if((De=Ze.g?Ze.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!H(De)){var ge=De;break t}}ge=null}if(f=ge)rs(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Cf(this,f);else{this.o=!1,this.s=3,gt(12),li(this),Jo(this);break e}}if(this.P){f=!0;let Jt;for(;!this.J&&this.C<O.length;)if(Jt=MN(this,O),Jt==Df){ct==4&&(this.s=4,gt(14),f=!1),rs(this.i,this.l,null,"[Incomplete Response]");break}else if(Jt==tw){this.s=4,gt(15),rs(this.i,this.l,O,"[Invalid Chunk]"),f=!1;break}else rs(this.i,this.l,Jt,null),Cf(this,Jt);if(rw(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ct!=4||O.length!=0||this.h.h||(this.s=1,gt(16),f=!1),this.o=this.o&&f,!f)rs(this.i,this.l,O,"[Invalid Chunked Response]"),li(this),Jo(this);else if(0<O.length&&!this.W){this.W=!0;var at=this.j;at.g==this&&at.ba&&!at.M&&(at.j.info("Great, no buffering proxy detected. Bytes received: "+O.length),xf(at),at.M=!0,gt(11))}}else rs(this.i,this.l,O,null),Cf(this,O);ct==4&&li(this),this.o&&!this.J&&(ct==4?Nw(this.j,this):(this.o=!1,eu(this)))}else KN(this.g),f==400&&0<O.indexOf("Unknown SID")?(this.s=3,gt(12)):(this.s=0,gt(13)),li(this),Jo(this)}}}catch{}finally{}};function rw(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function MN(c,d){var f=c.C,g=d.indexOf(`
`,f);return g==-1?Df:(f=Number(d.substring(f,g)),isNaN(f)?tw:(g+=1,g+f>d.length?Df:(d=d.slice(g,g+f),c.C=g+f,d)))}gr.prototype.cancel=function(){this.J=!0,li(this)};function eu(c){c.S=Date.now()+c.I,iw(c,c.I)}function iw(c,d){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Qo(m(c.ba,c),d)}function bf(c){c.B&&(a.clearTimeout(c.B),c.B=null)}gr.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(RN(this.i,this.A),this.L!=2&&(Ko(),gt(17)),li(this),this.s=2,Jo(this)):iw(this,this.S-c)};function Jo(c){c.j.G==0||c.J||Nw(c.j,c)}function li(c){bf(c);var d=c.M;d&&typeof d.ma=="function"&&d.ma(),c.M=null,GI(c.U),c.g&&(d=c.g,c.g=null,d.abort(),d.ma())}function Cf(c,d){try{var f=c.j;if(f.G!=0&&(f.g==c||Af(f.h,c))){if(!c.K&&Af(f.h,c)&&f.G==3){try{var g=f.Da.g.parse(d)}catch{g=null}if(Array.isArray(g)&&g.length==3){var b=g;if(b[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<c.F)cu(f),ou(f);else break e;Mf(f),gt(18)}}else f.za=b[1],0<f.za-f.T&&37500>b[2]&&f.F&&f.v==0&&!f.C&&(f.C=Qo(m(f.Za,f),6e3));if(1>=aw(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else hi(f,11)}else if((c.K||f.g==c)&&cu(f),!H(d))for(b=f.Da.g.parse(d),d=0;d<b.length;d++){let ge=b[d];if(f.T=ge[0],ge=ge[1],f.G==2)if(ge[0]=="c"){f.K=ge[1],f.ia=ge[2];let at=ge[3];at!=null&&(f.la=at,f.j.info("VER="+f.la));let ct=ge[4];ct!=null&&(f.Aa=ct,f.j.info("SVER="+f.Aa));let os=ge[5];os!=null&&typeof os=="number"&&0<os&&(g=1.5*os,f.L=g,f.j.info("backChannelRequestTimeoutMs_="+g)),g=f;let Jt=c.g;if(Jt){let lu=Jt.g?Jt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(lu){var S=g.h;S.g||lu.indexOf("spdy")==-1&&lu.indexOf("quic")==-1&&lu.indexOf("h2")==-1||(S.j=S.l,S.g=new Set,S.h&&(Sf(S,S.h),S.h=null))}if(g.D){let Pf=Jt.g?Jt.g.getResponseHeader("X-HTTP-Session-Id"):null;Pf&&(g.ya=Pf,Re(g.I,g.D,Pf))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-c.F,f.j.info("Handshake RTT: "+f.R+"ms")),g=f;var O=c;if(g.qa=Pw(g,g.J?g.ia:null,g.W),O.K){cw(g.h,O);var De=O,Ze=g.L;Ze&&(De.I=Ze),De.B&&(bf(De),eu(De)),g.g=O}else Sw(g);0<f.i.length&&au(f)}else ge[0]!="stop"&&ge[0]!="close"||hi(f,7);else f.G==3&&(ge[0]=="stop"||ge[0]=="close"?ge[0]=="stop"?hi(f,7):Nf(f):ge[0]!="noop"&&f.l&&f.l.ta(ge),f.v=0)}}Ko(4)}catch{}}var xN=class{constructor(c,d){this.g=c,this.map=d}};function sw(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ow(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function aw(c){return c.h?1:c.g?c.g.size:0}function Af(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function Sf(c,d){c.g?c.g.add(d):c.h=d}function cw(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}sw.prototype.cancel=function(){if(this.i=uw(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function uw(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let d=c.i;for(let f of c.g.values())d=d.concat(f.D);return d}return N(c.i)}function PN(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(u(c)){for(var d=[],f=c.length,g=0;g<f;g++)d.push(c[g]);return d}d=[],f=0;for(g in c)d[f++]=c[g];return d}function ON(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(u(c)||typeof c=="string"){var d=[];c=c.length;for(var f=0;f<c;f++)d.push(f);return d}d=[],f=0;for(let g in c)d[f++]=g;return d}}}function lw(c,d){if(c.forEach&&typeof c.forEach=="function")c.forEach(d,void 0);else if(u(c)||typeof c=="string")Array.prototype.forEach.call(c,d,void 0);else for(var f=ON(c),g=PN(c),b=g.length,S=0;S<b;S++)d.call(void 0,g[S],f&&f[S],c)}var dw=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function kN(c,d){if(c){c=c.split("&");for(var f=0;f<c.length;f++){var g=c[f].indexOf("="),b=null;if(0<=g){var S=c[f].substring(0,g);b=c[f].substring(g+1)}else S=c[f];d(S,b?decodeURIComponent(b.replace(/\+/g," ")):"")}}}function di(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof di){this.h=c.h,tu(this,c.j),this.o=c.o,this.g=c.g,nu(this,c.s),this.l=c.l;var d=c.i,f=new ea;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),hw(this,f),this.m=c.m}else c&&(d=String(c).match(dw))?(this.h=!1,tu(this,d[1]||"",!0),this.o=Zo(d[2]||""),this.g=Zo(d[3]||"",!0),nu(this,d[4]),this.l=Zo(d[5]||"",!0),hw(this,d[6]||"",!0),this.m=Zo(d[7]||"")):(this.h=!1,this.i=new ea(null,this.h))}di.prototype.toString=function(){var c=[],d=this.j;d&&c.push(Xo(d,fw,!0),":");var f=this.g;return(f||d=="file")&&(c.push("//"),(d=this.o)&&c.push(Xo(d,fw,!0),"@"),c.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&c.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&c.push("/"),c.push(Xo(f,f.charAt(0)=="/"?VN:LN,!0))),(f=this.i.toString())&&c.push("?",f),(f=this.m)&&c.push("#",Xo(f,jN)),c.join("")};function Mn(c){return new di(c)}function tu(c,d,f){c.j=f?Zo(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function nu(c,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);c.s=d}else c.s=null}function hw(c,d,f){d instanceof ea?(c.i=d,BN(c.i,c.h)):(f||(d=Xo(d,UN)),c.i=new ea(d,c.h))}function Re(c,d,f){c.i.set(d,f)}function ru(c){return Re(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Zo(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Xo(c,d,f){return typeof c=="string"?(c=encodeURI(c).replace(d,FN),f&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function FN(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var fw=/[#\/\?@]/g,LN=/[#\?:]/g,VN=/[#\?]/g,UN=/[#\?@]/g,jN=/#/g;function ea(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function mr(c){c.g||(c.g=new Map,c.h=0,c.i&&kN(c.i,function(d,f){c.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}t=ea.prototype,t.add=function(c,d){mr(this),this.i=null,c=is(this,c);var f=this.g.get(c);return f||this.g.set(c,f=[]),f.push(d),this.h+=1,this};function pw(c,d){mr(c),d=is(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function gw(c,d){return mr(c),d=is(c,d),c.g.has(d)}t.forEach=function(c,d){mr(this),this.g.forEach(function(f,g){f.forEach(function(b){c.call(d,b,g,this)},this)},this)},t.na=function(){mr(this);let c=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let g=0;g<d.length;g++){let b=c[g];for(let S=0;S<b.length;S++)f.push(d[g])}return f},t.V=function(c){mr(this);let d=[];if(typeof c=="string")gw(this,c)&&(d=d.concat(this.g.get(is(this,c))));else{c=Array.from(this.g.values());for(let f=0;f<c.length;f++)d=d.concat(c[f])}return d},t.set=function(c,d){return mr(this),this.i=null,c=is(this,c),gw(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},t.get=function(c,d){return c?(c=this.V(c),0<c.length?String(c[0]):d):d};function mw(c,d,f){pw(c,d),0<f.length&&(c.i=null,c.g.set(is(c,d),N(f)),c.h+=f.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var g=d[f];let S=encodeURIComponent(String(g)),O=this.V(g);for(g=0;g<O.length;g++){var b=S;O[g]!==""&&(b+="="+encodeURIComponent(String(O[g]))),c.push(b)}}return this.i=c.join("&")};function is(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function BN(c,d){d&&!c.j&&(mr(c),c.i=null,c.g.forEach(function(f,g){var b=g.toLowerCase();g!=b&&(pw(this,g),mw(this,b,f))},c)),c.j=d}function $N(c,d){let f=new Yo;if(a.Image){let g=new Image;g.onload=y(yr,f,"TestLoadImage: loaded",!0,d,g),g.onerror=y(yr,f,"TestLoadImage: error",!1,d,g),g.onabort=y(yr,f,"TestLoadImage: abort",!1,d,g),g.ontimeout=y(yr,f,"TestLoadImage: timeout",!1,d,g),a.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=c}else d(!1)}function HN(c,d){let f=new Yo,g=new AbortController,b=setTimeout(()=>{g.abort(),yr(f,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:g.signal}).then(S=>{clearTimeout(b),S.ok?yr(f,"TestPingServer: ok",!0,d):yr(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(b),yr(f,"TestPingServer: error",!1,d)})}function yr(c,d,f,g,b){try{b&&(b.onload=null,b.onerror=null,b.onabort=null,b.ontimeout=null),g(f)}catch{}}function zN(){this.g=new CN}function qN(c,d,f){let g=f||"";try{lw(c,function(b,S){let O=b;l(b)&&(O=vf(b)),d.push(g+S+"="+encodeURIComponent(O))})}catch(b){throw d.push(g+"type="+encodeURIComponent("_badmap")),b}}function ta(c){this.l=c.Ub||null,this.j=c.eb||!1}C(ta,_f),ta.prototype.g=function(){return new iu(this.l,this.j)},ta.prototype.i=function(c){return function(){return c}}({});function iu(c,d){ot.call(this),this.D=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(iu,ot),t=iu.prototype,t.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=d,this.readyState=1,ra(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(d.body=c),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,na(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ra(this)),this.g&&(this.readyState=3,ra(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;yw(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function yw(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?na(this):ra(this),this.readyState==3&&yw(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,na(this))},t.Qa=function(c){this.g&&(this.response=c,na(this))},t.ga=function(){this.g&&na(this)};function na(c){c.readyState=4,c.l=null,c.j=null,c.v=null,ra(c)}t.setRequestHeader=function(c,d){this.u.append(c,d)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,c.push(f[0]+": "+f[1]),f=d.next();return c.join(`\r
`)};function ra(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(iu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function vw(c){let d="";return W(c,function(f,g){d+=g,d+=":",d+=f,d+=`\r
`}),d}function Rf(c,d,f){e:{for(g in f){var g=!1;break e}g=!0}g||(f=vw(f),typeof c=="string"?f!=null&&encodeURIComponent(String(f)):Re(c,d,f))}function Pe(c){ot.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C(Pe,ot);var GN=/^https?$/i,WN=["POST","PUT"];t=Pe.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,d,f,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ef.g(),this.v=this.o?WI(this.o):WI(Ef),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(S){_w(this,S);return}if(c=f||"",f=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var b in g)f.set(b,g[b]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let S of g.keys())f.set(S,g.get(S));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(f.keys()).find(S=>S.toLowerCase()=="content-type"),b=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(WN,d,void 0))||g||b||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[S,O]of f)this.g.setRequestHeader(S,O);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ew(this),this.u=!0,this.g.send(c),this.u=!1}catch(S){_w(this,S)}};function _w(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.m=5,Iw(c),su(c)}function Iw(c){c.A||(c.A=!0,pt(c,"complete"),pt(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,pt(this,"complete"),pt(this,"abort"),su(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),su(this,!0)),Pe.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?ww(this):this.bb())},t.bb=function(){ww(this)};function ww(c){if(c.h&&typeof o<"u"&&(!c.v[1]||xn(c)!=4||c.Z()!=2)){if(c.u&&xn(c)==4)HI(c.Ea,0,c);else if(pt(c,"readystatechange"),xn(c)==4){c.h=!1;try{let O=c.Z();e:switch(O){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var g;if(g=O===0){var b=String(c.D).match(dw)[1]||null;!b&&a.self&&a.self.location&&(b=a.self.location.protocol.slice(0,-1)),g=!GN.test(b?b.toLowerCase():"")}f=g}if(f)pt(c,"complete"),pt(c,"success");else{c.m=6;try{var S=2<xn(c)?c.g.statusText:""}catch{S=""}c.l=S+" ["+c.Z()+"]",Iw(c)}}finally{su(c)}}}}function su(c,d){if(c.g){Ew(c);let f=c.g,g=c.v[0]?()=>{}:null;c.g=null,c.v=null,d||pt(c,"ready");try{f.onreadystatechange=g}catch{}}}function Ew(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function xn(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<xn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),bN(d)}};function Dw(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function KN(c){let d={};c=(c.g&&2<=xn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<c.length;g++){if(H(c[g]))continue;var f=T(c[g]);let b=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let S=d[b]||[];d[b]=S,S.push(f)}E(d,function(g){return g.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ia(c,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[c]||d}function Tw(c){this.Aa=0,this.i=[],this.j=new Yo,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ia("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ia("baseRetryDelayMs",5e3,c),this.cb=ia("retryDelaySeedMs",1e4,c),this.Wa=ia("forwardChannelMaxRetries",2,c),this.wa=ia("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new sw(c&&c.concurrentRequestLimit),this.Da=new zN,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Tw.prototype,t.la=8,t.G=1,t.connect=function(c,d,f,g){gt(0),this.W=c,this.H=d||{},f&&g!==void 0&&(this.H.OSID=f,this.H.OAID=g),this.F=this.X,this.I=Pw(this,null,this.W),au(this)};function Nf(c){if(bw(c),c.G==3){var d=c.U++,f=Mn(c.I);if(Re(f,"SID",c.K),Re(f,"RID",d),Re(f,"TYPE","terminate"),sa(c,f),d=new gr(c,c.j,d),d.L=2,d.v=ru(Mn(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=d.v,f=!0),f||(d.g=Ow(d.j,null),d.g.ea(d.v)),d.F=Date.now(),eu(d)}xw(c)}function ou(c){c.g&&(xf(c),c.g.cancel(),c.g=null)}function bw(c){ou(c),c.u&&(a.clearTimeout(c.u),c.u=null),cu(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function au(c){if(!ow(c.h)&&!c.s){c.s=!0;var d=c.Ga;$o||LI(),Ho||($o(),Ho=!0),uf.add(d,c),c.B=0}}function QN(c,d){return aw(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=d.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Qo(m(c.Ga,c,d),Mw(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let b=new gr(this,this.j,c),S=this.o;if(this.S&&(S?(S=v(S),D(S,this.S)):S=this.S),this.m!==null||this.O||(b.H=S,S=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var g=this.i[f];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(d+=g,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=Aw(this,b,d),f=Mn(this.I),Re(f,"RID",c),Re(f,"CVER",22),this.D&&Re(f,"X-HTTP-Session-Id",this.D),sa(this,f),S&&(this.O?d="headers="+encodeURIComponent(String(vw(S)))+"&"+d:this.m&&Rf(f,this.m,S)),Sf(this.h,b),this.Ua&&Re(f,"TYPE","init"),this.P?(Re(f,"$req",d),Re(f,"SID","null"),b.T=!0,Tf(b,f,null)):Tf(b,f,d),this.G=2}}else this.G==3&&(c?Cw(this,c):this.i.length==0||ow(this.h)||Cw(this))};function Cw(c,d){var f;d?f=d.l:f=c.U++;let g=Mn(c.I);Re(g,"SID",c.K),Re(g,"RID",f),Re(g,"AID",c.T),sa(c,g),c.m&&c.o&&Rf(g,c.m,c.o),f=new gr(c,c.j,f,c.B+1),c.m===null&&(f.H=c.o),d&&(c.i=d.D.concat(c.i)),d=Aw(c,f,1e3),f.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Sf(c.h,f),Tf(f,g,d)}function sa(c,d){c.H&&W(c.H,function(f,g){Re(d,g,f)}),c.l&&lw({},function(f,g){Re(d,g,f)})}function Aw(c,d,f){f=Math.min(c.i.length,f);var g=c.l?m(c.l.Na,c.l,c):null;e:{var b=c.i;let S=-1;for(;;){let O=["count="+f];S==-1?0<f?(S=b[0].g,O.push("ofs="+S)):S=0:O.push("ofs="+S);let De=!0;for(let Ze=0;Ze<f;Ze++){let ge=b[Ze].g,at=b[Ze].map;if(ge-=S,0>ge)S=Math.max(0,b[Ze].g-100),De=!1;else try{qN(at,O,"req"+ge+"_")}catch{g&&g(at)}}if(De){g=O.join("&");break e}}}return c=c.i.splice(0,f),d.D=c,g}function Sw(c){if(!c.g&&!c.u){c.Y=1;var d=c.Fa;$o||LI(),Ho||($o(),Ho=!0),uf.add(d,c),c.v=0}}function Mf(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Qo(m(c.Fa,c),Mw(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,Rw(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Qo(m(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,gt(10),ou(this),Rw(this))};function xf(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function Rw(c){c.g=new gr(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var d=Mn(c.qa);Re(d,"RID","rpc"),Re(d,"SID",c.K),Re(d,"AID",c.T),Re(d,"CI",c.F?"0":"1"),!c.F&&c.ja&&Re(d,"TO",c.ja),Re(d,"TYPE","xmlhttp"),sa(c,d),c.m&&c.o&&Rf(d,c.m,c.o),c.L&&(c.g.I=c.L);var f=c.g;c=c.ia,f.L=1,f.v=ru(Mn(d)),f.m=null,f.P=!0,nw(f,c)}t.Za=function(){this.C!=null&&(this.C=null,ou(this),Mf(this),gt(19))};function cu(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function Nw(c,d){var f=null;if(c.g==d){cu(c),xf(c),c.g=null;var g=2}else if(Af(c.h,d))f=d.D,cw(c.h,d),g=1;else return;if(c.G!=0){if(d.o)if(g==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var b=c.B;g=Jc(),pt(g,new ZI(g,f)),au(c)}else Sw(c);else if(b=d.s,b==3||b==0&&0<d.X||!(g==1&&QN(c,d)||g==2&&Mf(c)))switch(f&&0<f.length&&(d=c.h,d.i=d.i.concat(f)),b){case 1:hi(c,5);break;case 4:hi(c,10);break;case 3:hi(c,6);break;default:hi(c,2)}}}function Mw(c,d){let f=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(f*=2),f*d}function hi(c,d){if(c.j.info("Error code "+d),d==2){var f=m(c.fb,c),g=c.Xa;let b=!g;g=new di(g||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||tu(g,"https"),ru(g),b?$N(g.toString(),f):HN(g.toString(),f)}else gt(2);c.G=0,c.l&&c.l.sa(d),xw(c),bw(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),gt(2)):(this.j.info("Failed to ping google.com"),gt(1))};function xw(c){if(c.G=0,c.ka=[],c.l){let d=uw(c.h);(d.length!=0||c.i.length!=0)&&(R(c.ka,d),R(c.ka,c.i),c.h.i.length=0,N(c.i),c.i.length=0),c.l.ra()}}function Pw(c,d,f){var g=f instanceof di?Mn(f):new di(f);if(g.g!="")d&&(g.g=d+"."+g.g),nu(g,g.s);else{var b=a.location;g=b.protocol,d=d?d+"."+b.hostname:b.hostname,b=+b.port;var S=new di(null);g&&tu(S,g),d&&(S.g=d),b&&nu(S,b),f&&(S.l=f),g=S}return f=c.D,d=c.ya,f&&d&&Re(g,f,d),Re(g,"VER",c.la),sa(c,g),g}function Ow(c,d,f){if(d&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Ca&&!c.pa?new Pe(new ta({eb:f})):new Pe(c.pa),d.Ha(c.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function kw(){}t=kw.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function uu(){}uu.prototype.g=function(c,d){return new Nt(c,d)};function Nt(c,d){ot.call(this),this.g=new Tw(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(c?c["X-WebChannel-Client-Profile"]=d.va:c={"X-WebChannel-Client-Profile":d.va}),this.g.S=c,(c=d&&d.Sb)&&!H(c)&&(this.g.m=c),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!H(d)&&(this.g.D=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new ss(this)}C(Nt,ot),Nt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Nt.prototype.close=function(){Nf(this.g)},Nt.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var f={};f.__data__=c,c=f}else this.u&&(f={},f.__data__=vf(c),c=f);d.i.push(new xN(d.Ya++,c)),d.G==3&&au(d)},Nt.prototype.N=function(){this.g.l=null,delete this.j,Nf(this.g),delete this.g,Nt.aa.N.call(this)};function Fw(c){If.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(let f in d){c=f;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}C(Fw,If);function Lw(){wf.call(this),this.status=1}C(Lw,wf);function ss(c){this.g=c}C(ss,kw),ss.prototype.ua=function(){pt(this.g,"a")},ss.prototype.ta=function(c){pt(this.g,new Fw(c))},ss.prototype.sa=function(c){pt(this.g,new Lw)},ss.prototype.ra=function(){pt(this.g,"b")},uu.prototype.createWebChannel=uu.prototype.g,Nt.prototype.send=Nt.prototype.o,Nt.prototype.open=Nt.prototype.m,Nt.prototype.close=Nt.prototype.close,Av=cr.createWebChannelTransport=function(){return new uu},Cv=cr.getStatEventTarget=function(){return Jc()},bv=cr.Event=ui,vh=cr.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Zc.NO_ERROR=0,Zc.TIMEOUT=8,Zc.HTTP_ERROR=6,Tc=cr.ErrorCode=Zc,XI.COMPLETE="complete",Tv=cr.EventType=XI,KI.EventType=Wo,Wo.OPEN="a",Wo.CLOSE="b",Wo.ERROR="c",Wo.MESSAGE="d",ot.prototype.listen=ot.prototype.K,Io=cr.WebChannel=KI,Dv=cr.FetchXmlHttpFactory=ta,Pe.prototype.listenOnce=Pe.prototype.L,Pe.prototype.getLastError=Pe.prototype.Ka,Pe.prototype.getLastErrorCode=Pe.prototype.Ba,Pe.prototype.getStatus=Pe.prototype.Z,Pe.prototype.getResponseJson=Pe.prototype.Oa,Pe.prototype.getResponseText=Pe.prototype.oa,Pe.prototype.send=Pe.prototype.ea,Pe.prototype.setWithCredentials=Pe.prototype.Ha,Ev=cr.XhrIo=Pe}).apply(typeof yh<"u"?yh:typeof self<"u"?self:typeof window<"u"?window:{});var vS="@firebase/firestore";var Je=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Je.UNAUTHENTICATED=new Je(null),Je.GOOGLE_CREDENTIALS=new Je("google-credentials-uid"),Je.FIRST_PARTY=new Je("first-party-uid"),Je.MOCK_USER=new Je("mock-user");var Vo="10.13.2";var Wi=new Kr("@firebase/firestore");function bc(){return Wi.logLevel}function j(t,...e){if(Wi.logLevel<=le.DEBUG){let n=e.map(pI);Wi.debug(`Firestore (${Vo}): ${t}`,...n)}}function lr(t,...e){if(Wi.logLevel<=le.ERROR){let n=e.map(pI);Wi.error(`Firestore (${Vo}): ${t}`,...n)}}function Ao(t,...e){if(Wi.logLevel<=le.WARN){let n=e.map(pI);Wi.warn(`Firestore (${Vo}): ${t}`,...n)}}function pI(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function Y(t="Unexpected state"){let e=`FIRESTORE (${Vo}) INTERNAL ASSERTION FAILED: `+t;throw lr(e),new Error(e)}function Ce(t,e){t||Y()}function X(t,e){return t}var M={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},U=class extends Ft{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var ur=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var Dh=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},xv=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Je.UNAUTHENTICATED))}shutdown(){}},Pv=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},Ov=class{constructor(e){this.t=e,this.currentUser=Je.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i,i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve(),s=new ur;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new ur,e.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let u=s;e.enqueueRetryable(()=>w(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},a=u=>{j("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(j("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new ur)}},0),o()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(j("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ce(typeof r.accessToken=="string"),new Dh(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return Ce(e===null||typeof e=="string"),new Je(e)}},kv=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Je.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},Fv=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new kv(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Je.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Lv=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Vv=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){let r=s=>{s.error!=null&&j("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,j("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{j("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?i(s):j("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ce(typeof n.token=="string"),this.R=n.token,new Lv(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function aH(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Th=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=aH(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}};function ye(t,e){return t<e?-1:t>e?1:0}function So(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var it=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new U(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new U(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new U(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new U(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ye(this.nanoseconds,e.nanoseconds):ye(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var ne=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new it(0,0))}static max(){return new t(new it(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var bh=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&Y(),r===void 0?r=e.length-n:r>e.length-n&&Y(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},xe=class t extends bh{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new U(M.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},cH=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Lt=class t extends bh{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return cH.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,s=()=>{if(r.length===0)throw new U(M.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},o=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new U(M.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new U(M.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new U(M.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var G=class t{constructor(e){this.path=e}static fromPath(e){return new t(xe.fromString(e))}static fromName(e){return new t(xe.fromString(e).popFirst(5))}static empty(){return new t(xe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&xe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return xe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new xe(e.slice()))}};var Uv=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};Uv.UNKNOWN_ID=-1;function uH(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ne.fromTimestamp(r===1e9?new it(n+1,0):new it(n,r));return new Ki(i,G.empty(),e)}function lH(t){return new Ki(t.readTime,t.key,-1)}var Ki=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(ne.min(),G.empty(),-1)}static max(){return new t(ne.max(),G.empty(),-1)}};function dH(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=G.comparator(t.documentKey,e.documentKey),n!==0?n:ye(t.largestBatchId,e.largestBatchId))}var hH="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",jv=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Hc(t){return w(this,null,function*(){if(t.code!==M.FAILED_PRECONDITION||t.message!==hH)throw t;j("LocalStore","Unexpectedly lost primary lease")})}var P=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Y(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let s=e.length,o=new Array(s),a=0;for(let u=0;u<s;u++){let l=u;n(e[l]).next(h=>{o[l]=h,++a,a===s&&r(o)},h=>i(h))}})}static doWhile(e,n){return new t((r,i)=>{let s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}};function fH(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function zc(t){return t.name==="IndexedDbTransactionError"}var XS=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.se&&this.se(n),n}}return t.oe=-1,t})();function ef(t){return t==null}function Mc(t){return t===0&&1/t==-1/0}function pH(t){return typeof t=="number"&&Number.isInteger(t)&&!Mc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var gH=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],G7=[...gH,"documentOverlays"],mH=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],yH=mH,vH=[...yH,"indexConfiguration","indexState","indexEntries"];var W7=[...vH,"globals"];function _S(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Uo(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function eR(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Fe=class t{constructor(e,n){this.comparator=e,this.root=n||Cn.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Cn.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Cn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new To(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new To(this.root,e,this.comparator,!1)}getReverseIterator(){return new To(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new To(this.root,e,this.comparator,!0)}},To=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Cn=class t{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=s??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new t(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Y();let e=this.left.check();if(e!==this.right.check())throw Y();return e+(this.isRed()?0:1)}};Cn.EMPTY=null,Cn.RED=!0,Cn.BLACK=!1;Cn.EMPTY=new class{constructor(){this.size=0}get key(){throw Y()}get value(){throw Y()}get color(){throw Y()}get left(){throw Y()}get right(){throw Y()}copy(e,n,r,i,s){return this}insert(e,n,r){return new Cn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var ht=class t{constructor(e){this.comparator=e,this.data=new Fe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Ch(this.data.getIterator())}getIteratorFrom(e){return new Ch(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},Ch=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var bn=class t{constructor(e){this.fields=e,e.sort(Lt.comparator)}static empty(){return new t([])}unionWith(e){let n=new ht(Lt.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return So(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var Ah=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var ft=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Ah("Invalid base64 string: "+s):s}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ye(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};ft.EMPTY_BYTE_STRING=new ft("");var _H=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function dr(t){if(Ce(!!t),typeof t=="string"){let e=0,n=_H.exec(t);if(Ce(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Me(t.seconds),nanos:Me(t.nanos)}}function Me(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function si(t){return typeof t=="string"?ft.fromBase64String(t):ft.fromUint8Array(t)}function gI(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function mI(t){let e=t.mapValue.fields.__previous_value__;return gI(e)?mI(e):e}function xc(t){let e=dr(t.mapValue.fields.__local_write_time__.timestampValue);return new it(e.seconds,e.nanos)}var Bv=class{constructor(e,n,r,i,s,o,a,u,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l}},Sh=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var _h={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Qi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?gI(t)?4:nR(t)?9007199254740991:tR(t)?10:11:Y()}function Rn(t,e){if(t===e)return!0;let n=Qi(t);if(n!==Qi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return xc(t).isEqual(xc(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;let o=dr(i.timestampValue),a=dr(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return si(i.bytesValue).isEqual(si(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Me(i.geoPointValue.latitude)===Me(s.geoPointValue.latitude)&&Me(i.geoPointValue.longitude)===Me(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Me(i.integerValue)===Me(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){let o=Me(i.doubleValue),a=Me(s.doubleValue);return o===a?Mc(o)===Mc(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return So(t.arrayValue.values||[],e.arrayValue.values||[],Rn);case 10:case 11:return function(i,s){let o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(_S(o)!==_S(a))return!1;for(let u in o)if(o.hasOwnProperty(u)&&(a[u]===void 0||!Rn(o[u],a[u])))return!1;return!0}(t,e);default:return Y()}}function Pc(t,e){return(t.values||[]).find(n=>Rn(n,e))!==void 0}function Ro(t,e){if(t===e)return 0;let n=Qi(t),r=Qi(e);if(n!==r)return ye(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ye(t.booleanValue,e.booleanValue);case 2:return function(s,o){let a=Me(s.integerValue||s.doubleValue),u=Me(o.integerValue||o.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return IS(t.timestampValue,e.timestampValue);case 4:return IS(xc(t),xc(e));case 5:return ye(t.stringValue,e.stringValue);case 6:return function(s,o){let a=si(s),u=si(o);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){let a=s.split("/"),u=o.split("/");for(let l=0;l<a.length&&l<u.length;l++){let h=ye(a[l],u[l]);if(h!==0)return h}return ye(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){let a=ye(Me(s.latitude),Me(o.latitude));return a!==0?a:ye(Me(s.longitude),Me(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return wS(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,u,l,h;let p=s.fields||{},m=o.fields||{},y=(a=p.value)===null||a===void 0?void 0:a.arrayValue,C=(u=m.value)===null||u===void 0?void 0:u.arrayValue,N=ye(((l=y?.values)===null||l===void 0?void 0:l.length)||0,((h=C?.values)===null||h===void 0?void 0:h.length)||0);return N!==0?N:wS(y,C)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===_h.mapValue&&o===_h.mapValue)return 0;if(s===_h.mapValue)return 1;if(o===_h.mapValue)return-1;let a=s.fields||{},u=Object.keys(a),l=o.fields||{},h=Object.keys(l);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){let m=ye(u[p],h[p]);if(m!==0)return m;let y=Ro(a[u[p]],l[h[p]]);if(y!==0)return y}return ye(u.length,h.length)}(t.mapValue,e.mapValue);default:throw Y()}}function IS(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ye(t,e);let n=dr(t),r=dr(e),i=ye(n.seconds,r.seconds);return i!==0?i:ye(n.nanos,r.nanos)}function wS(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let s=Ro(n[i],r[i]);if(s)return s}return ye(n.length,r.length)}function No(t){return $v(t)}function $v(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=dr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return si(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return G.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let s of n.values||[])i?i=!1:r+=",",r+=$v(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",s=!0;for(let o of r)s?s=!1:i+=",",i+=`${o}:${$v(n.fields[o])}`;return i+"}"}(t.mapValue):Y()}function ES(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Hv(t){return!!t&&"integerValue"in t}function yI(t){return!!t&&"arrayValue"in t}function DS(t){return!!t&&"nullValue"in t}function TS(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function wh(t){return!!t&&"mapValue"in t}function tR(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Ac(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return Uo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ac(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ac(t.arrayValue.values[n]);return e}return Object.assign({},t)}function nR(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var ln=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!wh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ac(n)}setAll(e){let n=Lt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){let u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Ac(o):i.push(a.lastSegment())});let s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){let n=this.field(e.popLast());wh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Rn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];wh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Uo(n,(i,s)=>e[i]=s);for(let i of r)delete e[i]}clone(){return new t(Ac(this.value))}};function rR(t){let e=[];return Uo(t.fields,(n,r)=>{let i=new Lt([n]);if(wh(r)){let s=rR(r.mapValue).fields;if(s.length===0)e.push(i);else for(let o of s)e.push(i.child(o))}else e.push(i)}),new bn(e)}var dn=class t{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new t(e,0,ne.min(),ne.min(),ne.min(),ln.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,ne.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,ne.min(),ne.min(),ln.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,ne.min(),ne.min(),ln.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ne.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ln.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ln.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ne.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Mo=class{constructor(e,n){this.position=e,this.inclusive=n}};function bS(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let s=e[i],o=t.position[i];if(s.field.isKeyField()?r=G.comparator(G.fromName(o.referenceValue),n.key):r=Ro(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function CS(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Rn(t.position[n],e.position[n]))return!1;return!0}var Yi=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function IH(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var Rh=class{},ze=class t extends Rh{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new qv(e,n,r):n==="array-contains"?new Kv(e,r):n==="in"?new Qv(e,r):n==="not-in"?new Yv(e,r):n==="array-contains-any"?new Jv(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Gv(e,r):new Wv(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ro(n,this.value)):n!==null&&Qi(this.value)===Qi(n)&&this.matchesComparison(Ro(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Y()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},hn=class t extends Rh{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new t(e,n)}matches(e){return iR(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function iR(t){return t.op==="and"}function sR(t){return wH(t)&&iR(t)}function wH(t){for(let e of t.filters)if(e instanceof hn)return!1;return!0}function zv(t){if(t instanceof ze)return t.field.canonicalString()+t.op.toString()+No(t.value);if(sR(t))return t.filters.map(e=>zv(e)).join(",");{let e=t.filters.map(n=>zv(n)).join(",");return`${t.op}(${e})`}}function oR(t,e){return t instanceof ze?function(r,i){return i instanceof ze&&r.op===i.op&&r.field.isEqual(i.field)&&Rn(r.value,i.value)}(t,e):t instanceof hn?function(r,i){return i instanceof hn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&oR(o,i.filters[a]),!0):!1}(t,e):void Y()}function aR(t){return t instanceof ze?function(n){return`${n.field.canonicalString()} ${n.op} ${No(n.value)}`}(t):t instanceof hn?function(n){return n.op.toString()+" {"+n.getFilters().map(aR).join(" ,")+"}"}(t):"Filter"}var qv=class extends ze{constructor(e,n,r){super(e,n,r),this.key=G.fromName(r.referenceValue)}matches(e){let n=G.comparator(e.key,this.key);return this.matchesComparison(n)}},Gv=class extends ze{constructor(e,n){super(e,"in",n),this.keys=cR("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},Wv=class extends ze{constructor(e,n){super(e,"not-in",n),this.keys=cR("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function cR(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>G.fromName(r.referenceValue))}var Kv=class extends ze{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return yI(n)&&Pc(n.arrayValue,this.value)}},Qv=class extends ze{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&Pc(this.value.arrayValue,n)}},Yv=class extends ze{constructor(e,n){super(e,"not-in",n)}matches(e){if(Pc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!Pc(this.value.arrayValue,n)}},Jv=class extends ze{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!yI(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Pc(this.value.arrayValue,r))}};var Zv=class{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}};function AS(t,e=null,n=[],r=[],i=null,s=null,o=null){return new Zv(t,e,n,r,i,s,o)}function vI(t){let e=X(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>zv(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),ef(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>No(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>No(r)).join(",")),e.ue=n}return e.ue}function _I(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!IH(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!oR(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!CS(t.startAt,e.startAt)&&CS(t.endAt,e.endAt)}function Xv(t){return G.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var oi=class{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function EH(t,e,n,r,i,s,o,a){return new oi(t,e,n,r,i,s,o,a)}function II(t){return new oi(t)}function SS(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function uR(t){return t.collectionGroup!==null}function Sc(t){let e=X(t);if(e.ce===null){e.ce=[];let n=new Set;for(let s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new ht(Lt.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Yi(s,r))}),n.has(Lt.keyField().canonicalString())||e.ce.push(new Yi(Lt.keyField(),r))}return e.ce}function An(t){let e=X(t);return e.le||(e.le=DH(e,Sc(t))),e.le}function DH(t,e){if(t.limitType==="F")return AS(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let s=i.dir==="desc"?"asc":"desc";return new Yi(i.field,s)});let n=t.endAt?new Mo(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Mo(t.startAt.position,t.startAt.inclusive):null;return AS(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function e_(t,e){let n=t.filters.concat([e]);return new oi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function t_(t,e,n){return new oi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function tf(t,e){return _I(An(t),An(e))&&t.limitType===e.limitType}function lR(t){return`${vI(An(t))}|lt:${t.limitType}`}function wo(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>aR(i)).join(", ")}]`),ef(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>No(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>No(i)).join(",")),`Target(${r})`}(An(t))}; limitType=${t.limitType})`}function nf(t,e){return e.isFoundDocument()&&function(r,i){let s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):G.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(let s of Sc(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,u){let l=bS(o,a,u);return o.inclusive?l<=0:l<0}(r.startAt,Sc(r),i)||r.endAt&&!function(o,a,u){let l=bS(o,a,u);return o.inclusive?l>=0:l>0}(r.endAt,Sc(r),i))}(t,e)}function TH(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function dR(t){return(e,n)=>{let r=!1;for(let i of Sc(t)){let s=bH(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function bH(t,e,n){let r=t.field.isKeyField()?G.comparator(e.key,n.key):function(s,o,a){let u=o.data.field(s),l=a.data.field(s);return u!==null&&l!==null?Ro(u,l):Y()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Y()}}var ai=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Uo(this.inner,(n,r)=>{for(let[i,s]of r)e(i,s)})}isEmpty(){return eR(this.inner)}size(){return this.innerSize}};var CH=new Fe(G.comparator);function hr(){return CH}var hR=new Fe(G.comparator);function Cc(...t){let e=hR;for(let n of t)e=e.insert(n.key,n);return e}function fR(t){let e=hR;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Hi(){return Rc()}function pR(){return Rc()}function Rc(){return new ai(t=>t.toString(),(t,e)=>t.isEqual(e))}var AH=new Fe(G.comparator),SH=new ht(G.comparator);function de(...t){let e=SH;for(let n of t)e=e.add(n);return e}var RH=new ht(ye);function NH(){return RH}function wI(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Mc(e)?"-0":e}}function gR(t){return{integerValue:""+t}}function MH(t,e){return pH(e)?gR(e):wI(t,e)}var xo=class{constructor(){this._=void 0}};function xH(t,e,n){return t instanceof Po?function(i,s){let o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&gI(s)&&(s=mI(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Ji?yR(t,e):t instanceof Zi?vR(t,e):function(i,s){let o=mR(i,s),a=RS(o)+RS(i.Pe);return Hv(o)&&Hv(i.Pe)?gR(a):wI(i.serializer,a)}(t,e)}function PH(t,e,n){return t instanceof Ji?yR(t,e):t instanceof Zi?vR(t,e):n}function mR(t,e){return t instanceof Oo?function(r){return Hv(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}var Po=class extends xo{},Ji=class extends xo{constructor(e){super(),this.elements=e}};function yR(t,e){let n=_R(e);for(let r of t.elements)n.some(i=>Rn(i,r))||n.push(r);return{arrayValue:{values:n}}}var Zi=class extends xo{constructor(e){super(),this.elements=e}};function vR(t,e){let n=_R(e);for(let r of t.elements)n=n.filter(i=>!Rn(i,r));return{arrayValue:{values:n}}}var Oo=class extends xo{constructor(e,n){super(),this.serializer=e,this.Pe=n}};function RS(t){return Me(t.integerValue||t.doubleValue)}function _R(t){return yI(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function OH(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Ji&&i instanceof Ji||r instanceof Zi&&i instanceof Zi?So(r.elements,i.elements,Rn):r instanceof Oo&&i instanceof Oo?Rn(r.Pe,i.Pe):r instanceof Po&&i instanceof Po}(t.transform,e.transform)}var n_=class{constructor(e,n){this.version=e,this.transformResults=n}},ri=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Eh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var ko=class{};function IR(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Nh(t.key,ri.none()):new Xi(t.key,t.data,ri.none());{let n=t.data,r=ln.empty(),i=new ht(Lt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new fr(t.key,r,new bn(i.toArray()),ri.none())}}function kH(t,e,n){t instanceof Xi?function(i,s,o){let a=i.value.clone(),u=MS(i.fieldTransforms,s,o.transformResults);a.setAll(u),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof fr?function(i,s,o){if(!Eh(i.precondition,s))return void s.convertToUnknownDocument(o.version);let a=MS(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(wR(i)),u.setAll(a),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Nc(t,e,n,r){return t instanceof Xi?function(s,o,a,u){if(!Eh(s.precondition,o))return a;let l=s.value.clone(),h=xS(s.fieldTransforms,u,o);return l.setAll(h),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof fr?function(s,o,a,u){if(!Eh(s.precondition,o))return a;let l=xS(s.fieldTransforms,u,o),h=o.data;return h.setAll(wR(s)),h.setAll(l),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(s,o,a){return Eh(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function FH(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),s=mR(r.transform,i||null);s!=null&&(n===null&&(n=ln.empty()),n.set(r.field,s))}return n||null}function NS(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&So(r,i,(s,o)=>OH(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var Xi=class extends ko{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},fr=class extends ko{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function wR(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function MS(t,e,n){let r=new Map;Ce(t.length===n.length);for(let i=0;i<n.length;i++){let s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,PH(o,a,n[i]))}return r}function xS(t,e,n){let r=new Map;for(let i of t){let s=i.transform,o=n.data.field(i.field);r.set(i.field,xH(s,o,e))}return r}var Nh=class extends ko{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},r_=class extends ko{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var i_=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let s=this.mutations[i];s.key.isEqual(e.key)&&kH(s,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=Nc(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=Nc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=pR();return this.mutations.forEach(i=>{let s=e.get(i.key),o=s.overlayedDocument,a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;let u=IR(o,a);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(ne.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),de())}isEqual(e){return this.batchId===e.batchId&&So(this.mutations,e.mutations,(n,r)=>NS(n,r))&&So(this.baseMutations,e.baseMutations,(n,r)=>NS(n,r))}},s_=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ce(e.mutations.length===r.length);let i=function(){return AH}(),s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new t(e,n,r,i)}};var o_=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var a_=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var $e,fe;function LH(t){switch(t){default:return Y();case M.CANCELLED:case M.UNKNOWN:case M.DEADLINE_EXCEEDED:case M.RESOURCE_EXHAUSTED:case M.INTERNAL:case M.UNAVAILABLE:case M.UNAUTHENTICATED:return!1;case M.INVALID_ARGUMENT:case M.NOT_FOUND:case M.ALREADY_EXISTS:case M.PERMISSION_DENIED:case M.FAILED_PRECONDITION:case M.ABORTED:case M.OUT_OF_RANGE:case M.UNIMPLEMENTED:case M.DATA_LOSS:return!0}}function ER(t){if(t===void 0)return lr("GRPC error has no .code"),M.UNKNOWN;switch(t){case $e.OK:return M.OK;case $e.CANCELLED:return M.CANCELLED;case $e.UNKNOWN:return M.UNKNOWN;case $e.DEADLINE_EXCEEDED:return M.DEADLINE_EXCEEDED;case $e.RESOURCE_EXHAUSTED:return M.RESOURCE_EXHAUSTED;case $e.INTERNAL:return M.INTERNAL;case $e.UNAVAILABLE:return M.UNAVAILABLE;case $e.UNAUTHENTICATED:return M.UNAUTHENTICATED;case $e.INVALID_ARGUMENT:return M.INVALID_ARGUMENT;case $e.NOT_FOUND:return M.NOT_FOUND;case $e.ALREADY_EXISTS:return M.ALREADY_EXISTS;case $e.PERMISSION_DENIED:return M.PERMISSION_DENIED;case $e.FAILED_PRECONDITION:return M.FAILED_PRECONDITION;case $e.ABORTED:return M.ABORTED;case $e.OUT_OF_RANGE:return M.OUT_OF_RANGE;case $e.UNIMPLEMENTED:return M.UNIMPLEMENTED;case $e.DATA_LOSS:return M.DATA_LOSS;default:return Y()}}(fe=$e||($e={}))[fe.OK=0]="OK",fe[fe.CANCELLED=1]="CANCELLED",fe[fe.UNKNOWN=2]="UNKNOWN",fe[fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",fe[fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",fe[fe.NOT_FOUND=5]="NOT_FOUND",fe[fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",fe[fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",fe[fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",fe[fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",fe[fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",fe[fe.ABORTED=10]="ABORTED",fe[fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",fe[fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",fe[fe.INTERNAL=13]="INTERNAL",fe[fe.UNAVAILABLE=14]="UNAVAILABLE",fe[fe.DATA_LOSS=15]="DATA_LOSS";var PS=null;function VH(){return new TextEncoder}var UH=new ni([4294967295,4294967295],0);function OS(t){let e=VH().encode(t),n=new wv;return n.update(e),new Uint8Array(n.digest())}function kS(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new ni([n,r],0),new ni([i,s],0)]}var c_=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new zi(`Invalid padding: ${n}`);if(r<0)throw new zi(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new zi(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new zi(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=ni.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(ni.fromNumber(r)));return i.compare(UH)===1&&(i=new ni([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let n=OS(e),[r,i]=kS(n);for(let s=0;s<this.hashCount;s++){let o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new t(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;let n=OS(e),[r,i]=kS(n);for(let s=0;s<this.hashCount;s++){let o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},zi=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Mh=class t{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,Oc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(ne.min(),i,new Fe(ye),hr(),de())}},Oc=class t{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,de(),de(),de())}};var bo=class{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}},xh=class{constructor(e,n){this.targetId=e,this.me=n}},Ph=class{constructor(e,n,r=ft.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},Oh=class{constructor(){this.fe=0,this.ge=LS(),this.pe=ft.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=de(),n=de(),r=de();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Y()}}),new Oc(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=LS()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ce(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},u_=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=hr(),this.qe=FS(),this.Qe=new Fe(ye)}Ke(e){for(let n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(let n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{let r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:Y()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){let n=e.targetId,r=e.me.count,i=this.Je(n);if(i){let s=i.target;if(Xv(s))if(r===0){let o=new G(s.path);this.Ue(n,o,dn.newNoDocument(o,ne.min()))}else Ce(r===1);else{let o=this.Ye(n);if(o!==r){let a=this.Ze(e),u=a?this.Xe(a,e,o):1;if(u!==0){this.je(n);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,l)}PS?.et(function(h,p,m,y,C){var N,R,F,H,V,ee;let we={localCacheCount:h,existenceFilterCount:p.count,databaseId:m.database,projectId:m.projectId},W=p.unchangedNames;return W&&(we.bloomFilter={applied:C===0,hashCount:(N=W?.hashCount)!==null&&N!==void 0?N:0,bitmapLength:(H=(F=(R=W?.bits)===null||R===void 0?void 0:R.bitmap)===null||F===void 0?void 0:F.length)!==null&&H!==void 0?H:0,padding:(ee=(V=W?.bits)===null||V===void 0?void 0:V.padding)!==null&&ee!==void 0?ee:0,mightContain:E=>{var v;return(v=y?.mightContain(E))!==null&&v!==void 0&&v}}),we}(o,e.me,this.Le.tt(),a,u))}}}}Ze(e){let n=e.me.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n,o,a;try{o=si(r).toUint8Array()}catch(u){if(u instanceof Ah)return Ao("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new c_(o,i,s)}catch(u){return Ao(u instanceof zi?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){let r=this.Le.getRemoteKeysForTarget(n),i=0;return r.forEach(s=>{let o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(e){let n=new Map;this.Be.forEach((s,o)=>{let a=this.Je(o);if(a){if(s.current&&Xv(a.target)){let u=new G(a.target.path);this.ke.get(u)!==null||this.it(o,u)||this.Ue(o,u,dn.newNoDocument(u,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=de();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{let l=this.Je(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));let i=new Mh(e,n,this.Qe,this.ke,r);return this.ke=hr(),this.qe=FS(),this.Qe=new Fe(ye),i}$e(e,n){if(!this.ze(e))return;let r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;let i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){let n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new Oh,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new ht(ye),this.qe=this.qe.insert(e,n)),n}ze(e){let n=this.Je(e)!==null;return n||j("WatchChangeAggregator","Detected inactive target",e),n}Je(e){let n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Oh),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}};function FS(){return new Fe(G.comparator)}function LS(){return new Fe(G.comparator)}var jH={asc:"ASCENDING",desc:"DESCENDING"},BH={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},$H={and:"AND",or:"OR"},l_=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function d_(t,e){return t.useProto3Json||ef(e)?e:{value:e}}function kh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function DR(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function HH(t,e){return kh(t,e.toTimestamp())}function Sn(t){return Ce(!!t),ne.fromTimestamp(function(n){let r=dr(n);return new it(r.seconds,r.nanos)}(t))}function EI(t,e){return h_(t,e).canonicalString()}function h_(t,e){let n=function(i){return new xe(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function TR(t){let e=xe.fromString(t);return Ce(RR(e)),e}function f_(t,e){return EI(t.databaseId,e.path)}function Sv(t,e){let n=TR(e);if(n.get(1)!==t.databaseId.projectId)throw new U(M.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new U(M.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new G(CR(n))}function bR(t,e){return EI(t.databaseId,e)}function zH(t){let e=TR(t);return e.length===4?xe.emptyPath():CR(e)}function p_(t){return new xe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function CR(t){return Ce(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function VS(t,e,n){return{name:f_(t,e),fields:n.value.mapValue.fields}}function qH(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:Y()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(l,h){return l.useProto3Json?(Ce(h===void 0||typeof h=="string"),ft.fromBase64String(h||"")):(Ce(h===void 0||h instanceof Buffer||h instanceof Uint8Array),ft.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){let h=l.code===void 0?M.UNKNOWN:ER(l.code);return new U(h,l.message||"")}(o);n=new Ph(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=Sv(t,r.document.name),s=Sn(r.document.updateTime),o=r.document.createTime?Sn(r.document.createTime):ne.min(),a=new ln({mapValue:{fields:r.document.fields}}),u=dn.newFoundDocument(i,s,o,a),l=r.targetIds||[],h=r.removedTargetIds||[];n=new bo(l,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=Sv(t,r.document),s=r.readTime?Sn(r.readTime):ne.min(),o=dn.newNoDocument(i,s),a=r.removedTargetIds||[];n=new bo([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=Sv(t,r.document),s=r.removedTargetIds||[];n=new bo([],s,i,null)}else{if(!("filter"in e))return Y();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:s}=r,o=new a_(i,s),a=r.targetId;n=new xh(a,o)}}return n}function GH(t,e){let n;if(e instanceof Xi)n={update:VS(t,e.key,e.value)};else if(e instanceof Nh)n={delete:f_(t,e.key)};else if(e instanceof fr)n={update:VS(t,e.key,e.data),updateMask:tz(e.fieldMask)};else{if(!(e instanceof r_))return Y();n={verify:f_(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){let a=o.transform;if(a instanceof Po)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Ji)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Zi)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Oo)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw Y()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:HH(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Y()}(t,e.precondition)),n}function WH(t,e){return t&&t.length>0?(Ce(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?Sn(i.updateTime):Sn(s);return o.isEqual(ne.min())&&(o=Sn(s)),new n_(o,i.transformResults||[])}(n,e))):[]}function KH(t,e){return{documents:[bR(t,e.path)]}}function QH(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=bR(t,i);let s=function(l){if(l.length!==0)return SR(hn.create(l,"and"))}(e.filters);s&&(n.structuredQuery.where=s);let o=function(l){if(l.length!==0)return l.map(h=>function(m){return{field:Eo(m.field),direction:ZH(m.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);let a=d_(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{_t:n,parent:i}}function YH(t){let e=zH(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Ce(r===1);let h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let s=[];n.where&&(s=function(p){let m=AR(p);return m instanceof hn&&sR(m)?m.getFilters():[m]}(n.where));let o=[];n.orderBy&&(o=function(p){return p.map(m=>function(C){return new Yi(Do(C.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(m))}(n.orderBy));let a=null;n.limit&&(a=function(p){let m;return m=typeof p=="object"?p.value:p,ef(m)?null:m}(n.limit));let u=null;n.startAt&&(u=function(p){let m=!!p.before,y=p.values||[];return new Mo(y,m)}(n.startAt));let l=null;return n.endAt&&(l=function(p){let m=!p.before,y=p.values||[];return new Mo(y,m)}(n.endAt)),EH(e,i,o,s,a,"F",u,l)}function JH(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Y()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function AR(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=Do(n.unaryFilter.field);return ze.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Do(n.unaryFilter.field);return ze.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=Do(n.unaryFilter.field);return ze.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=Do(n.unaryFilter.field);return ze.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Y()}}(t):t.fieldFilter!==void 0?function(n){return ze.create(Do(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Y()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return hn.create(n.compositeFilter.filters.map(r=>AR(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Y()}}(n.compositeFilter.op))}(t):Y()}function ZH(t){return jH[t]}function XH(t){return BH[t]}function ez(t){return $H[t]}function Eo(t){return{fieldPath:t.canonicalString()}}function Do(t){return Lt.fromServerFormat(t.fieldPath)}function SR(t){return t instanceof ze?function(n){if(n.op==="=="){if(TS(n.value))return{unaryFilter:{field:Eo(n.field),op:"IS_NAN"}};if(DS(n.value))return{unaryFilter:{field:Eo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(TS(n.value))return{unaryFilter:{field:Eo(n.field),op:"IS_NOT_NAN"}};if(DS(n.value))return{unaryFilter:{field:Eo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Eo(n.field),op:XH(n.op),value:n.value}}}(t):t instanceof hn?function(n){let r=n.getFilters().map(i=>SR(i));return r.length===1?r[0]:{compositeFilter:{op:ez(n.op),filters:r}}}(t):Y()}function tz(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function RR(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var kc=class t{constructor(e,n,r,i,s=ne.min(),o=ne.min(),a=ft.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var g_=class{constructor(e){this.ct=e}};function nz(t){let e=YH({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?t_(e,e.limit,"L"):e}var Fh=class{constructor(){}It(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.dt(n,5);else if("booleanValue"in e)this.dt(n,10),n.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(n,15),n.At(Me(e.integerValue));else if("doubleValue"in e){let r=Me(e.doubleValue);isNaN(r)?this.dt(n,13):(this.dt(n,15),Mc(r)?n.At(0):n.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(n,20),typeof r=="string"&&(r=dr(r)),n.Rt(`${r.seconds||""}`),n.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,n),this.ft(n);else if("bytesValue"in e)this.dt(n,30),n.gt(si(e.bytesValue)),this.ft(n);else if("referenceValue"in e)this.yt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(n,45),n.At(r.latitude||0),n.At(r.longitude||0)}else"mapValue"in e?nR(e)?this.dt(n,Number.MAX_SAFE_INTEGER):tR(e)?this.wt(e.mapValue,n):(this.St(e.mapValue,n),this.ft(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.ft(n)):Y()}Vt(e,n){this.dt(n,25),this.Dt(e,n)}Dt(e,n){n.Rt(e)}St(e,n){let r=e.fields||{};this.dt(n,55);for(let i of Object.keys(r))this.Vt(i,n),this.Tt(r[i],n)}wt(e,n){var r,i;let s=e.fields||{};this.dt(n,53);let o="value",a=((i=(r=s[o].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(n,15),n.At(Me(a)),this.Vt(o,n),this.Tt(s[o],n)}bt(e,n){let r=e.values||[];this.dt(n,50);for(let i of r)this.Tt(i,n)}yt(e,n){this.dt(n,37),G.fromName(e).path.forEach(r=>{this.dt(n,60),this.Dt(r,n)})}dt(e,n){e.At(n)}ft(e){e.At(2)}};Fh.vt=new Fh;var m_=class{constructor(){this.un=new y_}addToCollectionParentIndex(e,n){return this.un.add(n),P.resolve()}getCollectionParents(e,n){return P.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return P.resolve()}deleteFieldIndex(e,n){return P.resolve()}deleteAllFieldIndexes(e){return P.resolve()}createTargetIndexes(e,n){return P.resolve()}getDocumentsMatchingTarget(e,n){return P.resolve(null)}getIndexType(e,n){return P.resolve(0)}getFieldIndexes(e,n){return P.resolve([])}getNextCollectionGroupToUpdate(e){return P.resolve(null)}getMinOffset(e,n){return P.resolve(Ki.min())}getMinOffsetFromCollectionGroup(e,n){return P.resolve(Ki.min())}updateCollectionGroup(e,n,r){return P.resolve()}updateIndexEntries(e,n){return P.resolve()}},y_=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new ht(xe.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new ht(xe.comparator)).toArray()}};var Q7=new Uint8Array(0);var Tn=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};Tn.DEFAULT_COLLECTION_PERCENTILE=10,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Tn.DEFAULT=new Tn(41943040,Tn.DEFAULT_COLLECTION_PERCENTILE,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Tn.DISABLED=new Tn(-1,0,0);var Fc=class t{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new t(0)}static kn(){return new t(-1)}};var v_=class{constructor(){this.changes=new ai(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,dn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?P.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var __=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var I_=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Nc(r.mutation,i,bn.empty(),it.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,de()).next(()=>r))}getLocalViewOfDocuments(e,n,r=de()){let i=Hi();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Cc();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){let r=Hi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,de()))}populateOverlays(e,n,r){let i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=hr(),o=Rc(),a=function(){return Rc()}();return n.forEach((u,l)=>{let h=r.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof fr)?s=s.insert(l.key,l):h!==void 0?(o.set(l.key,h.mutation.getFieldMask()),Nc(h.mutation,l,h.mutation.getFieldMask(),it.now())):o.set(l.key,bn.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((l,h)=>o.set(l,h)),n.forEach((l,h)=>{var p;return a.set(l,new __(h,(p=o.get(l))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,n){let r=Rc(),i=new Fe((o,a)=>o-a),s=de();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(let a of o)a.keys().forEach(u=>{let l=n.get(u);if(l===null)return;let h=r.get(u)||bn.empty();h=a.applyToLocalView(l,h),r.set(u,h);let p=(i.get(a.batchId)||de()).add(u);i=i.insert(a.batchId,p)})}).next(()=>{let o=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),l=u.key,h=u.value,p=pR();h.forEach(m=>{if(!s.has(m)){let y=IR(n.get(m),r.get(m));y!==null&&p.set(m,y),s=s.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,l,p))}return P.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return G.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):uR(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{let o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):P.resolve(Hi()),a=-1,u=s;return o.next(l=>P.forEach(l,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),s.get(h)?P.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{u=u.insert(h,m)}))).next(()=>this.populateOverlays(e,l,s)).next(()=>this.computeViews(e,u,l,de())).next(h=>({batchId:a,changes:fR(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new G(n)).next(r=>{let i=Cc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let s=n.collectionGroup,o=Cc();return this.indexManager.getCollectionParents(e,s).next(a=>P.forEach(a,u=>{let l=function(p,m){return new oi(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((p,m)=>{o=o.insert(p,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((u,l)=>{let h=l.getKey();o.get(h)===null&&(o=o.insert(h,dn.newInvalidDocument(h)))});let a=Cc();return o.forEach((u,l)=>{let h=s.get(u);h!==void 0&&Nc(h.mutation,l,bn.empty(),it.now()),nf(n,l)&&(a=a.insert(u,l))}),a})}};var w_=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return P.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Sn(i.createTime)}}(n)),P.resolve()}getNamedQuery(e,n){return P.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:nz(i.bundledQuery),readTime:Sn(i.readTime)}}(n)),P.resolve()}};var E_=class{constructor(){this.overlays=new Fe(G.comparator),this.Ir=new Map}getOverlay(e,n){return P.resolve(this.overlays.get(n))}getOverlays(e,n){let r=Hi();return P.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),P.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),P.resolve()}getOverlaysForCollection(e,n,r){let i=Hi(),s=n.length+1,o=new G(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){let u=a.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return P.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Fe((l,h)=>l-h),o=this.overlays.getIterator();for(;o.hasNext();){let l=o.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let h=s.get(l.largestBatchId);h===null&&(h=Hi(),s=s.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let a=Hi(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,h)=>a.set(l,h)),!(a.size()>=i)););return P.resolve(a)}ht(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new o_(n,r));let s=this.Ir.get(n);s===void 0&&(s=de(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}};var D_=class{constructor(){this.sessionToken=ft.EMPTY_BYTE_STRING}getSessionToken(e){return P.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,P.resolve()}};var Lc=class{constructor(){this.Tr=new ht(He.Er),this.dr=new ht(He.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){let r=new He(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new He(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){let n=new G(new xe([])),r=new He(n,e),i=new He(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let n=new G(new xe([])),r=new He(n,e),i=new He(n,e+1),s=de();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){let n=new He(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},He=class{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return G.comparator(e.key,n.key)||ye(e.wr,n.wr)}static Ar(e,n){return ye(e.wr,n.wr)||G.comparator(e.key,n.key)}};var T_=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new ht(He.Er)}checkEmpty(e){return P.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new i_(s,n,r,i);this.mutationQueue.push(o);for(let a of i)this.br=this.br.add(new He(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return P.resolve(o)}lookupMutationBatch(e,n){return P.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.vr(r),s=i<0?0:i;return P.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return P.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return P.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new He(n,0),i=new He(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{let a=this.Dr(o.wr);s.push(a)}),P.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ht(ye);return n.forEach(i=>{let s=new He(i,0),o=new He(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{r=r.add(a.wr)})}),P.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,s=r;G.isDocumentKey(s)||(s=s.child(""));let o=new He(new G(s),0),a=new ht(ye);return this.br.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.wr)),!0)},o),P.resolve(this.Cr(a))}Cr(e){let n=[];return e.forEach(r=>{let i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ce(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return P.forEach(n.mutations,i=>{let s=new He(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){let r=new He(n,0),i=this.br.firstAfterOrEqual(r);return P.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,P.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var b_=class{constructor(e){this.Mr=e,this.docs=function(){return new Fe(G.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return P.resolve(r?r.document.mutableCopy():dn.newInvalidDocument(n))}getEntries(e,n){let r=hr();return n.forEach(i=>{let s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():dn.newInvalidDocument(i))}),P.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=hr(),o=n.path,a=new G(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:l,value:{document:h}}=u.getNext();if(!o.isPrefixOf(l.path))break;l.path.length>o.length+1||dH(lH(h),r)<=0||(i.has(h.key)||nf(n,h))&&(s=s.insert(h.key,h.mutableCopy()))}return P.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Y()}Or(e,n){return P.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new C_(this)}getSize(e){return P.resolve(this.size)}},C_=class extends v_{constructor(e){super(),this.cr=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),P.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}};var A_=class{constructor(e){this.persistence=e,this.Nr=new ai(n=>vI(n),_I),this.lastRemoteSnapshotVersion=ne.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Lc,this.targetCount=0,this.kr=Fc.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),P.resolve()}getLastRemoteSnapshotVersion(e){return P.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return P.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),P.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),P.resolve()}Kn(e){this.Nr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.kr=new Fc(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,P.resolve()}updateTargetData(e,n){return this.Kn(n),P.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,P.resolve()}removeTargets(e,n,r){let i=0,s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),P.waitFor(s).next(()=>i)}getTargetCount(e){return P.resolve(this.targetCount)}getTargetData(e,n){let r=this.Nr.get(n)||null;return P.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),P.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);let i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),P.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),P.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Br.yr(n);return P.resolve(r)}containsKey(e,n){return P.resolve(this.Br.containsKey(n))}};var S_=class{constructor(e,n){this.qr={},this.overlays={},this.Qr=new XS(0),this.Kr=!1,this.Kr=!0,this.$r=new D_,this.referenceDelegate=e(this),this.Ur=new A_(this),this.indexManager=new m_,this.remoteDocumentCache=function(i){return new b_(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new g_(n),this.Gr=new w_(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new E_,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new T_(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){j("MemoryPersistence","Starting transaction:",e);let i=new R_(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return P.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}},R_=class extends jv{constructor(e){super(),this.currentSequenceNumber=e}},N_=class t{constructor(e){this.persistence=e,this.Jr=new Lc,this.Yr=null}static Zr(e){return new t(e)}get Xr(){if(this.Yr)return this.Yr;throw Y()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),P.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),P.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),P.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return P.forEach(this.Xr,r=>{let i=G.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,ne.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return P.or([()=>P.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}};var M_=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=de(),i=de();for(let s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new t(e,n.fromCache,r,i)}};var x_=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var P_=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return rA()?8:fH(Ye())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){let s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new x_;return this.Xi(e,n,o).next(a=>{if(s.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(bc()<=le.DEBUG&&j("QueryEngine","SDK will not create cache indexes for query:",wo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),P.resolve()):(bc()<=le.DEBUG&&j("QueryEngine","Query:",wo(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(bc()<=le.DEBUG&&j("QueryEngine","The SDK decides to create cache indexes for query:",wo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,An(n))):P.resolve())}Yi(e,n){if(SS(n))return P.resolve(null);let r=An(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=t_(n,null,"F"),r=An(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{let o=de(...s);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.ts(n,a);return this.ns(n,l,o,u.readTime)?this.Yi(e,t_(n,null,"F")):this.rs(e,l,n,u)}))})))}Zi(e,n,r,i){return SS(n)||i.isEqual(ne.min())?P.resolve(null):this.Ji.getDocuments(e,r).next(s=>{let o=this.ts(n,s);return this.ns(n,o,r,i)?P.resolve(null):(bc()<=le.DEBUG&&j("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),wo(n)),this.rs(e,o,n,uH(i,-1)).next(a=>a))})}ts(e,n){let r=new ht(dR(e));return n.forEach((i,s)=>{nf(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return bc()<=le.DEBUG&&j("QueryEngine","Using full collection scan to execute query:",wo(n)),this.Ji.getDocumentsMatchingQuery(e,n,Ki.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}};var O_=class{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new Fe(ye),this._s=new ai(s=>vI(s),_I),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new I_(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}};function rz(t,e,n,r){return new O_(t,e,n,r)}function NR(t,e){return w(this,null,function*(){let n=X(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{let o=[],a=[],u=de();for(let l of i){o.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}for(let l of s){a.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}return n.localDocuments.getDocuments(r,u).next(l=>({hs:l,removedBatchIds:o,addedBatchIds:a}))})})})}function iz(t,e){let n=X(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,u,l,h){let p=l.batch,m=p.keys(),y=P.resolve();return m.forEach(C=>{y=y.next(()=>h.getEntry(u,C)).next(N=>{let R=l.docVersions.get(C);Ce(R!==null),N.version.compareTo(R)<0&&(p.applyToRemoteDocument(N,l),N.isValidDocument()&&(N.setReadTime(l.commitVersion),h.addEntry(N)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(u,p))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=de();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function MR(t){let e=X(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function sz(t,e){let n=X(t),r=e.snapshotVersion,i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{let o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;let a=[];e.targetChanges.forEach((h,p)=>{let m=i.get(p);if(!m)return;a.push(n.Ur.removeMatchingKeys(s,h.removedDocuments,p).next(()=>n.Ur.addMatchingKeys(s,h.addedDocuments,p)));let y=m.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(p)!==null?y=y.withResumeToken(ft.EMPTY_BYTE_STRING,ne.min()).withLastLimboFreeSnapshotVersion(ne.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,r)),i=i.insert(p,y),function(N,R,F){return N.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-N.snapshotVersion.toMicroseconds()>=3e8?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0}(m,y,h)&&a.push(n.Ur.updateTargetData(s,y))});let u=hr(),l=de();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,h))}),a.push(oz(s,o,e.documentUpdates).next(h=>{u=h.Ps,l=h.Is})),!r.isEqual(ne.min())){let h=n.Ur.getLastRemoteSnapshotVersion(s).next(p=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(h)}return P.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,l)).next(()=>u)}).then(s=>(n.os=i,s))}function oz(t,e,n){let r=de(),i=de();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=hr();return n.forEach((a,u)=>{let l=s.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(ne.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):j("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{Ps:o,Is:i}})}function az(t,e){let n=X(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function cz(t,e){let n=X(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,P.resolve(i)):n.Ur.allocateTargetId(r).next(o=>(i=new kc(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}function k_(t,e,n){return w(this,null,function*(){let r=X(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!zc(o))throw o;j("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)})}function US(t,e,n){let r=X(t),i=ne.min(),s=de();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,l,h){let p=X(u),m=p._s.get(h);return m!==void 0?P.resolve(p.os.get(m)):p.Ur.getTargetData(l,h)}(r,o,An(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?i:ne.min(),n?s:de())).next(a=>(uz(r,TH(e),a),{documents:a,Ts:s})))}function uz(t,e,n){let r=t.us.get(e)||ne.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}var Lh=class{constructor(){this.activeTargetIds=NH()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var F_=class{constructor(){this.so=new Lh,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Lh,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var L_=class{_o(e){}shutdown(){}};var Vh=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){j("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){j("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Ih=null;function Rv(){return Ih===null?Ih=function(){return 268435456+Math.round(2147483648*Math.random())}():Ih++,"0x"+Ih.toString(16)}var lz={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var V_=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var dt="WebChannelConnection",U_=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){let a=Rv(),u=this.xo(n,r.toUriEncodedString());j("RestConnection",`Sending RPC '${n}' ${a}:`,u,i);let l={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(l,s,o),this.No(n,u,l,i).then(h=>(j("RestConnection",`Received RPC '${n}' ${a}: `,h),h),h=>{throw Ao("RestConnection",`RPC '${n}' ${a} failed with error: `,h,"url: ",u,"request:",i),h})}Lo(n,r,i,s,o,a){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Vo}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){let i=lz[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){let s=Rv();return new Promise((o,a)=>{let u=new Ev;u.setWithCredentials(!0),u.listenOnce(Tv.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Tc.NO_ERROR:let h=u.getResponseJson();j(dt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(h)),o(h);break;case Tc.TIMEOUT:j(dt,`RPC '${e}' ${s} timed out`),a(new U(M.DEADLINE_EXCEEDED,"Request time out"));break;case Tc.HTTP_ERROR:let p=u.getStatus();if(j(dt,`RPC '${e}' ${s} failed with status:`,p,"response text:",u.getResponseText()),p>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);let y=m?.error;if(y&&y.status&&y.message){let C=function(R){let F=R.toLowerCase().replace(/_/g,"-");return Object.values(M).indexOf(F)>=0?F:M.UNKNOWN}(y.status);a(new U(C,y.message))}else a(new U(M.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new U(M.UNAVAILABLE,"Connection failed."));break;default:Y()}}finally{j(dt,`RPC '${e}' ${s} completed.`)}});let l=JSON.stringify(i);j(dt,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",l,r,15)})}Bo(e,n,r){let i=Rv(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Av(),a=Cv(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.xmlHttpFactory=new Dv({})),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;let h=s.join("");j(dt,`Creating RPC '${e}' stream ${i}: ${h}`,u);let p=o.createWebChannel(h,u),m=!1,y=!1,C=new V_({Io:R=>{y?j(dt,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(m||(j(dt,`Opening RPC '${e}' stream ${i} transport.`),p.open(),m=!0),j(dt,`RPC '${e}' stream ${i} sending:`,R),p.send(R))},To:()=>p.close()}),N=(R,F,H)=>{R.listen(F,V=>{try{H(V)}catch(ee){setTimeout(()=>{throw ee},0)}})};return N(p,Io.EventType.OPEN,()=>{y||(j(dt,`RPC '${e}' stream ${i} transport opened.`),C.yo())}),N(p,Io.EventType.CLOSE,()=>{y||(y=!0,j(dt,`RPC '${e}' stream ${i} transport closed`),C.So())}),N(p,Io.EventType.ERROR,R=>{y||(y=!0,Ao(dt,`RPC '${e}' stream ${i} transport errored:`,R),C.So(new U(M.UNAVAILABLE,"The operation could not be completed")))}),N(p,Io.EventType.MESSAGE,R=>{var F;if(!y){let H=R.data[0];Ce(!!H);let V=H,ee=V.error||((F=V[0])===null||F===void 0?void 0:F.error);if(ee){j(dt,`RPC '${e}' stream ${i} received error:`,ee);let we=ee.status,W=function(_){let D=$e[_];if(D!==void 0)return ER(D)}(we),E=ee.message;W===void 0&&(W=M.INTERNAL,E="Unknown error status: "+we+" with message "+ee.message),y=!0,C.So(new U(W,E)),p.close()}else j(dt,`RPC '${e}' stream ${i} received:`,H),C.bo(H)}}),N(a,bv.STAT_EVENT,R=>{R.stat===vh.PROXY?j(dt,`RPC '${e}' stream ${i} detected buffering proxy`):R.stat===vh.NOPROXY&&j(dt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{C.wo()},0),C}};function Nv(){return typeof document<"u"?document:null}function rf(t){return new l_(t,!0)}var Uh=class{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&j("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var jh=class{constructor(e,n,r,i,s,o,a,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Uh(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return w(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return w(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,n){return w(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===M.RESOURCE_EXHAUSTED?(lr(n.toString()),lr("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===M.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(n)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{let i=new U(M.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){let r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(()=>w(this,null,function*(){this.state=0,this.start()}))}I_(e){return j("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(j("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},j_=class extends jh{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let n=qH(this.serializer,e),r=function(s){if(!("targetChange"in s))return ne.min();let o=s.targetChange;return o.targetIds&&o.targetIds.length?ne.min():o.readTime?Sn(o.readTime):ne.min()}(e);return this.listener.d_(n,r)}A_(e){let n={};n.database=p_(this.serializer),n.addTarget=function(s,o){let a,u=o.target;if(a=Xv(u)?{documents:KH(s,u)}:{query:QH(s,u)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=DR(s,o.resumeToken);let l=d_(s,o.expectedCount);l!==null&&(a.expectedCount=l)}else if(o.snapshotVersion.compareTo(ne.min())>0){a.readTime=kh(s,o.snapshotVersion.toTimestamp());let l=d_(s,o.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);let r=JH(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){let n={};n.database=p_(this.serializer),n.removeTarget=e,this.a_(n)}},B_=class extends jh{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Ce(!!e.streamToken),this.lastStreamToken=e.streamToken,Ce(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Ce(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let n=WH(e.writeResults,e.commitTime),r=Sn(e.commitTime);return this.listener.g_(r,n)}p_(){let e={};e.database=p_(this.serializer),this.a_(e)}m_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>GH(this.serializer,r))};this.a_(n)}};var $_=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new U(M.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,h_(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new U(M.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,h_(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new U(M.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},H_=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(lr(n),this.D_=!1):j("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var z_=class{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(()=>w(this,null,function*(){ns(this)&&(j("RemoteStore","Restarting streams for network reachability change."),yield function(u){return w(this,null,function*(){let l=X(u);l.L_.add(4),yield qc(l),l.q_.set("Unknown"),l.L_.delete(4),yield sf(l)})}(this))}))}),this.q_=new H_(r,i)}};function sf(t){return w(this,null,function*(){if(ns(t))for(let e of t.B_)yield e(!0)})}function qc(t){return w(this,null,function*(){for(let e of t.B_)yield e(!1)})}function xR(t,e){let n=X(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),CI(n)?bI(n):jo(n).r_()&&TI(n,e))}function DI(t,e){let n=X(t),r=jo(n);n.N_.delete(e),r.r_()&&PR(n,e),n.N_.size===0&&(r.r_()?r.o_():ns(n)&&n.q_.set("Unknown"))}function TI(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ne.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}jo(t).A_(e)}function PR(t,e){t.Q_.xe(e),jo(t).R_(e)}function bI(t){t.Q_=new u_({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),jo(t).start(),t.q_.v_()}function CI(t){return ns(t)&&!jo(t).n_()&&t.N_.size>0}function ns(t){return X(t).L_.size===0}function OR(t){t.Q_=void 0}function dz(t){return w(this,null,function*(){t.q_.set("Online")})}function hz(t){return w(this,null,function*(){t.N_.forEach((e,n)=>{TI(t,e)})})}function fz(t,e){return w(this,null,function*(){OR(t),CI(t)?(t.q_.M_(e),bI(t)):t.q_.set("Unknown")})}function pz(t,e,n){return w(this,null,function*(){if(t.q_.set("Online"),e instanceof Ph&&e.state===2&&e.cause)try{yield function(i,s){return w(this,null,function*(){let o=s.cause;for(let a of s.targetIds)i.N_.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.N_.delete(a),i.Q_.removeTarget(a))})}(t,e)}catch(r){j("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Bh(t,r)}else if(e instanceof bo?t.Q_.Ke(e):e instanceof xh?t.Q_.He(e):t.Q_.We(e),!n.isEqual(ne.min()))try{let r=yield MR(t.localStore);n.compareTo(r)>=0&&(yield function(s,o){let a=s.Q_.rt(o);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let h=s.N_.get(l);h&&s.N_.set(l,h.withResumeToken(u.resumeToken,o))}}),a.targetMismatches.forEach((u,l)=>{let h=s.N_.get(u);if(!h)return;s.N_.set(u,h.withResumeToken(ft.EMPTY_BYTE_STRING,h.snapshotVersion)),PR(s,u);let p=new kc(h.target,u,l,h.sequenceNumber);TI(s,p)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){j("RemoteStore","Failed to raise snapshot:",r),yield Bh(t,r)}})}function Bh(t,e,n){return w(this,null,function*(){if(!zc(e))throw e;t.L_.add(1),yield qc(t),t.q_.set("Offline"),n||(n=()=>MR(t.localStore)),t.asyncQueue.enqueueRetryable(()=>w(this,null,function*(){j("RemoteStore","Retrying IndexedDB access"),yield n(),t.L_.delete(1),yield sf(t)}))})}function kR(t,e){return e().catch(n=>Bh(t,n,e))}function of(t){return w(this,null,function*(){let e=X(t),n=ci(e),r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;gz(e);)try{let i=yield az(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,mz(e,i)}catch(i){yield Bh(e,i)}FR(e)&&LR(e)})}function gz(t){return ns(t)&&t.O_.length<10}function mz(t,e){t.O_.push(e);let n=ci(t);n.r_()&&n.V_&&n.m_(e.mutations)}function FR(t){return ns(t)&&!ci(t).n_()&&t.O_.length>0}function LR(t){ci(t).start()}function yz(t){return w(this,null,function*(){ci(t).p_()})}function vz(t){return w(this,null,function*(){let e=ci(t);for(let n of t.O_)e.m_(n.mutations)})}function _z(t,e,n){return w(this,null,function*(){let r=t.O_.shift(),i=s_.from(r,e,n);yield kR(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield of(t)})}function Iz(t,e){return w(this,null,function*(){e&&ci(t).V_&&(yield function(r,i){return w(this,null,function*(){if(function(o){return LH(o)&&o!==M.ABORTED}(i.code)){let s=r.O_.shift();ci(r).s_(),yield kR(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),yield of(r)}})}(t,e)),FR(t)&&LR(t)})}function jS(t,e){return w(this,null,function*(){let n=X(t);n.asyncQueue.verifyOperationInProgress(),j("RemoteStore","RemoteStore received new credentials");let r=ns(n);n.L_.add(3),yield qc(n),r&&n.q_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),yield sf(n)})}function wz(t,e){return w(this,null,function*(){let n=X(t);e?(n.L_.delete(2),yield sf(n)):e||(n.L_.add(2),yield qc(n),n.q_.set("Unknown"))})}function jo(t){return t.K_||(t.K_=function(n,r,i){let s=X(n);return s.w_(),new j_(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:dz.bind(null,t),Ro:hz.bind(null,t),mo:fz.bind(null,t),d_:pz.bind(null,t)}),t.B_.push(e=>w(this,null,function*(){e?(t.K_.s_(),CI(t)?bI(t):t.q_.set("Unknown")):(yield t.K_.stop(),OR(t))}))),t.K_}function ci(t){return t.U_||(t.U_=function(n,r,i){let s=X(n);return s.w_(),new B_(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:yz.bind(null,t),mo:Iz.bind(null,t),f_:vz.bind(null,t),g_:_z.bind(null,t)}),t.B_.push(e=>w(this,null,function*(){e?(t.U_.s_(),yield of(t)):(yield t.U_.stop(),t.O_.length>0&&(j("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))}))),t.U_}var q_=class t{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new ur,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){let o=Date.now()+r,a=new t(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new U(M.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function AI(t,e){if(lr("AsyncQueue",`${e}: ${t}`),zc(t))return new U(M.UNAVAILABLE,`${e}: ${t}`);throw t}var $h=class t{constructor(e){this.comparator=e?(n,r)=>e(n,r)||G.comparator(n.key,r.key):(n,r)=>G.comparator(n.key,r.key),this.keyedMap=Cc(),this.sortedSet=new Fe(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var Hh=class{constructor(){this.W_=new Fe(G.comparator)}track(e){let n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):Y():this.W_=this.W_.insert(n,e)}G_(){let e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}},Fo=class t{constructor(e,n,r,i,s,o,a,u,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,s){let o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new t(e,n,$h.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&tf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var G_=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}},W_=class{constructor(){this.queries=BS(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){let i=X(n),s=i.queries;i.queries=BS(),s.forEach((o,a)=>{for(let u of a.j_)u.onError(r)})})(this,new U(M.ABORTED,"Firestore shutting down"))}};function BS(){return new ai(t=>lR(t),tf)}function Ez(t,e){return w(this,null,function*(){let n=X(t),r=3,i=e.query,s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new G_,r=e.J_()?0:1);try{switch(r){case 0:s.z_=yield n.onListen(i,!0);break;case 1:s.z_=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(o){let a=AI(o,`Initialization of query '${wo(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&SI(n)})}function Dz(t,e){return w(this,null,function*(){let n=X(t),r=e.query,i=3,s=n.queries.get(r);if(s){let o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}})}function Tz(t,e){let n=X(t),r=!1;for(let i of e){let s=i.query,o=n.queries.get(s);if(o){for(let a of o.j_)a.X_(i)&&(r=!0);o.z_=i}}r&&SI(n)}function bz(t,e,n){let r=X(t),i=r.queries.get(e);if(i)for(let s of i.j_)s.onError(n);r.queries.delete(e)}function SI(t){t.Y_.forEach(e=>{e.next()})}var K_,$S;($S=K_||(K_={})).ea="default",$S.Cache="cache";var Q_=class{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new Fo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;let r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Fo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==K_.Cache}};var zh=class{constructor(e){this.key=e}},qh=class{constructor(e){this.key=e}},Y_=class{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=de(),this.mutatedKeys=de(),this.Aa=dR(e),this.Ra=new $h(this.Aa)}get Va(){return this.Ta}ma(e,n){let r=n?n.fa:new Hh,i=n?n.Ra:this.Ra,s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{let m=i.get(h),y=nf(this.query,p)?p:null,C=!!m&&this.mutatedKeys.has(m.key),N=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations),R=!1;m&&y?m.data.isEqual(y.data)?C!==N&&(r.track({type:3,doc:y}),R=!0):this.ga(m,y)||(r.track({type:2,doc:y}),R=!0,(u&&this.Aa(y,u)>0||l&&this.Aa(y,l)<0)&&(a=!0)):!m&&y?(r.track({type:0,doc:y}),R=!0):m&&!y&&(r.track({type:1,doc:m}),R=!0,(u||l)&&(a=!0)),R&&(y?(o=o.add(y),s=N?s.add(h):s.delete(h)):(o=o.delete(h),s=s.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){let h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),s=s.delete(h.key),r.track({type:1,doc:h})}return{Ra:o,fa:r,ns:a,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let o=e.fa.G_();o.sort((h,p)=>function(y,C){let N=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Y()}};return N(y)-N(C)}(h.type,p.type)||this.Aa(h.doc,p.doc)),this.pa(r),i=i!=null&&i;let a=n&&!i?this.ya():[],u=this.da.size===0&&this.current&&!i?1:0,l=u!==this.Ea;return this.Ea=u,o.length!==0||l?{snapshot:new Fo(this.query,e.Ra,s,o,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Hh,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=de(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});let n=[];return e.forEach(r=>{this.da.has(r)||n.push(new qh(r))}),this.da.forEach(r=>{e.has(r)||n.push(new zh(r))}),n}ba(e){this.Ta=e.Ts,this.da=de();let n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Fo.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},J_=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},Z_=class{constructor(e){this.key=e,this.va=!1}},X_=class{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new ai(a=>lR(a),tf),this.Ma=new Map,this.xa=new Set,this.Oa=new Fe(G.comparator),this.Na=new Map,this.La=new Lc,this.Ba={},this.ka=new Map,this.qa=Fc.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function Cz(t,e,n=!0){return w(this,null,function*(){let r=HR(t),i,s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=yield VR(r,e,n,!0),i})}function Az(t,e){return w(this,null,function*(){let n=HR(t);yield VR(n,e,!0,!1)})}function VR(t,e,n,r){return w(this,null,function*(){let i=yield cz(t.localStore,An(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n),a;return r&&(a=yield Sz(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&xR(t.remoteStore,i),a})}function Sz(t,e,n,r,i){return w(this,null,function*(){t.Ka=(p,m,y)=>function(N,R,F,H){return w(this,null,function*(){let V=R.view.ma(F);V.ns&&(V=yield US(N.localStore,R.query,!1).then(({documents:E})=>R.view.ma(E,V)));let ee=H&&H.targetChanges.get(R.targetId),we=H&&H.targetMismatches.get(R.targetId)!=null,W=R.view.applyChanges(V,N.isPrimaryClient,ee,we);return zS(N,R.targetId,W.wa),W.snapshot})}(t,p,m,y);let s=yield US(t.localStore,e,!0),o=new Y_(e,s.Ts),a=o.ma(s.documents),u=Oc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),l=o.applyChanges(a,t.isPrimaryClient,u);zS(t,n,l.wa);let h=new J_(e,n,o);return t.Fa.set(e,h),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),l.snapshot})}function Rz(t,e,n){return w(this,null,function*(){let r=X(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!tf(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield k_(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&DI(r.remoteStore,i.targetId),eI(r,i.targetId)}).catch(Hc))):(eI(r,i.targetId),yield k_(r.localStore,i.targetId,!0))})}function Nz(t,e){return w(this,null,function*(){let n=X(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),DI(n.remoteStore,r.targetId))})}function Mz(t,e,n){return w(this,null,function*(){let r=Vz(t);try{let i=yield function(o,a){let u=X(o),l=it.now(),h=a.reduce((y,C)=>y.add(C.key),de()),p,m;return u.persistence.runTransaction("Locally write mutations","readwrite",y=>{let C=hr(),N=de();return u.cs.getEntries(y,h).next(R=>{C=R,C.forEach((F,H)=>{H.isValidDocument()||(N=N.add(F))})}).next(()=>u.localDocuments.getOverlayedDocuments(y,C)).next(R=>{p=R;let F=[];for(let H of a){let V=FH(H,p.get(H.key).overlayedDocument);V!=null&&F.push(new fr(H.key,V,rR(V.value.mapValue),ri.exists(!0)))}return u.mutationQueue.addMutationBatch(y,l,F,a)}).next(R=>{m=R;let F=R.applyToLocalDocumentSet(p,N);return u.documentOverlayCache.saveOverlays(y,R.batchId,F)})}).then(()=>({batchId:m.batchId,changes:fR(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,u){let l=o.Ba[o.currentUser.toKey()];l||(l=new Fe(ye)),l=l.insert(a,u),o.Ba[o.currentUser.toKey()]=l}(r,i.batchId,n),yield Gc(r,i.changes),yield of(r.remoteStore)}catch(i){let s=AI(i,"Failed to persist write");n.reject(s)}})}function UR(t,e){return w(this,null,function*(){let n=X(t);try{let r=yield sz(n.localStore,e);e.targetChanges.forEach((i,s)=>{let o=n.Na.get(s);o&&(Ce(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?Ce(o.va):i.removedDocuments.size>0&&(Ce(o.va),o.va=!1))}),yield Gc(n,r,e)}catch(r){yield Hc(r)}})}function HS(t,e,n){let r=X(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.Fa.forEach((s,o)=>{let a=o.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){let u=X(o);u.onlineState=a;let l=!1;u.queries.forEach((h,p)=>{for(let m of p.j_)m.Z_(a)&&(l=!0)}),l&&SI(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function xz(t,e,n){return w(this,null,function*(){let r=X(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Na.get(e),s=i&&i.key;if(s){let o=new Fe(G.comparator);o=o.insert(s,dn.newNoDocument(s,ne.min()));let a=de().add(s),u=new Mh(ne.min(),new Map,new Fe(ye),o,a);yield UR(r,u),r.Oa=r.Oa.remove(s),r.Na.delete(e),RI(r)}else yield k_(r.localStore,e,!1).then(()=>eI(r,e,n)).catch(Hc)})}function Pz(t,e){return w(this,null,function*(){let n=X(t),r=e.batch.batchId;try{let i=yield iz(n.localStore,e);BR(n,r,null),jR(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield Gc(n,i)}catch(i){yield Hc(i)}})}function Oz(t,e,n){return w(this,null,function*(){let r=X(t);try{let i=yield function(o,a){let u=X(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return u.mutationQueue.lookupMutationBatch(l,a).next(p=>(Ce(p!==null),h=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,h,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>u.localDocuments.getDocuments(l,h))})}(r.localStore,e);BR(r,e,n),jR(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield Gc(r,i)}catch(i){yield Hc(i)}})}function jR(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function BR(t,e,n){let r=X(t),i=r.Ba[r.currentUser.toKey()];if(i){let s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function eI(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||$R(t,r)})}function $R(t,e){t.xa.delete(e.path.canonicalString());let n=t.Oa.get(e);n!==null&&(DI(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),RI(t))}function zS(t,e,n){for(let r of n)r instanceof zh?(t.La.addReference(r.key,e),kz(t,r)):r instanceof qh?(j("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||$R(t,r.key)):Y()}function kz(t,e){let n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(j("SyncEngine","New document in limbo: "+n),t.xa.add(r),RI(t))}function RI(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){let e=t.xa.values().next().value;t.xa.delete(e);let n=new G(xe.fromString(e)),r=t.qa.next();t.Na.set(r,new Z_(n)),t.Oa=t.Oa.insert(n,r),xR(t.remoteStore,new kc(An(II(n.path)),r,"TargetPurposeLimboResolution",XS.oe))}}function Gc(t,e,n){return w(this,null,function*(){let r=X(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,u)=>{o.push(r.Ka(u,e,n).then(l=>{var h;if((l||n)&&r.isPrimaryClient){let p=l?!l.fromCache:(h=n?.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=M_.Wi(u.targetId,l);s.push(p)}}))}),yield Promise.all(o),r.Ca.d_(i),yield function(u,l){return w(this,null,function*(){let h=X(u);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>P.forEach(l,m=>P.forEach(m.$i,y=>h.persistence.referenceDelegate.addReference(p,m.targetId,y)).next(()=>P.forEach(m.Ui,y=>h.persistence.referenceDelegate.removeReference(p,m.targetId,y)))))}catch(p){if(!zc(p))throw p;j("LocalStore","Failed to update sequence numbers: "+p)}for(let p of l){let m=p.targetId;if(!p.fromCache){let y=h.os.get(m),C=y.snapshotVersion,N=y.withLastLimboFreeSnapshotVersion(C);h.os=h.os.insert(m,N)}}})}(r.localStore,s))})}function Fz(t,e){return w(this,null,function*(){let n=X(t);if(!n.currentUser.isEqual(e)){j("SyncEngine","User change. New user:",e.toKey());let r=yield NR(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(a=>{a.forEach(u=>{u.reject(new U(M.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Gc(n,r.hs)}})}function Lz(t,e){let n=X(t),r=n.Na.get(e);if(r&&r.va)return de().add(r.key);{let i=de(),s=n.Ma.get(e);if(!s)return i;for(let o of s){let a=n.Fa.get(o);i=i.unionWith(a.view.Va)}return i}}function HR(t){let e=X(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=UR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Lz.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=xz.bind(null,e),e.Ca.d_=Tz.bind(null,e.eventManager),e.Ca.$a=bz.bind(null,e.eventManager),e}function Vz(t){let e=X(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Pz.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Oz.bind(null,e),e}var Gh=class{constructor(){this.synchronizeTabs=!1}initialize(e){return w(this,null,function*(){this.serializer=rf(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return rz(this.persistence,new P_,e.initialUser,this.serializer)}createPersistence(e){return new S_(N_.Zr,this.serializer)}createSharedClientState(e){return new F_}terminate(){return w(this,null,function*(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var tI=class{initialize(e,n){return w(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>HS(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Fz.bind(null,this.syncEngine),yield wz(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new W_}()}createDatastore(e){let n=rf(e.databaseInfo.databaseId),r=function(s){return new U_(s)}(e.databaseInfo);return function(s,o,a,u){return new $_(s,o,a,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new z_(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>HS(this.syncEngine,n,0),function(){return Vh.D()?new Vh:new L_}())}createSyncEngine(e,n){return function(i,s,o,a,u,l,h){let p=new X_(i,s,o,a,u,l);return h&&(p.Qa=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return w(this,null,function*(){var e,n;yield function(i){return w(this,null,function*(){let s=X(i);j("RemoteStore","RemoteStore shutting down."),s.L_.add(5),yield qc(s),s.k_.shutdown(),s.q_.set("Unknown")})}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()})}};var nI=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ga(this.observer.next,e)}error(e){this.observer.error?this.Ga(this.observer.error,e):lr("Uncaught Error in snapshot listener:",e.toString())}za(){this.muted=!0}Ga(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}};var rI=class{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Je.UNAUTHENTICATED,this.clientId=Th.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,s=>w(this,null,function*(){j("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(j("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new U(M.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new ur;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>w(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=AI(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function Mv(t,e){return w(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),j("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>w(this,null,function*(){r.isEqual(i)||(yield NR(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function qS(t,e){return w(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield jz(t);j("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>jS(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>jS(e.remoteStore,i)),t._onlineComponents=e})}function Uz(t){return t.name==="FirebaseError"?t.code===M.FAILED_PRECONDITION||t.code===M.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}function jz(t){return w(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){j("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Mv(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!Uz(n))throw n;Ao("Error using user provided cache. Falling back to memory cache: "+n),yield Mv(t,new Gh)}}else j("FirestoreClient","Using default OfflineComponentProvider"),yield Mv(t,new Gh);return t._offlineComponents})}function zR(t){return w(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(j("FirestoreClient","Using user provided OnlineComponentProvider"),yield qS(t,t._uninitializedComponentsProvider._online)):(j("FirestoreClient","Using default OnlineComponentProvider"),yield qS(t,new tI))),t._onlineComponents})}function Bz(t){return zR(t).then(e=>e.syncEngine)}function GS(t){return w(this,null,function*(){let e=yield zR(t),n=e.eventManager;return n.onListen=Cz.bind(null,e.syncEngine),n.onUnlisten=Rz.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Az.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Nz.bind(null,e.syncEngine),n})}function qR(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var WS=new Map;function GR(t,e,n){if(!n)throw new U(M.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function $z(t,e,n,r){if(e===!0&&r===!0)throw new U(M.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function KS(t){if(!G.isDocumentKey(t))throw new U(M.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function QS(t){if(G.isDocumentKey(t))throw new U(M.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function af(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Y()}function Gi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new U(M.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=af(t);throw new U(M.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var Wh=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new U(M.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new U(M.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}$z("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=qR((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new U(M.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new U(M.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new U(M.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Lo=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Wh({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new U(M.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new U(M.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Wh(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new xv;switch(r.type){case"firstParty":return new Fv(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new U(M.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=WS.get(n);r&&(j("ComponentProvider","Removing Datastore"),WS.delete(n),r.terminate())}(this),Promise.resolve()}};function WR(t,e,n,r={}){var i;let s=(t=Gi(t,Lo))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Ao("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,u;if(typeof r.mockUserToken=="string")a=r.mockUserToken,u=Je.MOCK_USER;else{a=J0(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new U(M.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Je(l)}t._authCredentials=new Pv(new Dh(a,u))}}var es=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},Rt=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ii(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},ii=class t extends es{constructor(e,n,r){super(e,n,II(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Rt(this.firestore,null,new G(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function KR(t,e,...n){if(t=rt(t),GR("collection","path",e),t instanceof Lo){let r=xe.fromString(e,...n);return QS(r),new ii(t,null,r)}{if(!(t instanceof Rt||t instanceof ii))throw new U(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(xe.fromString(e,...n));return QS(r),new ii(t.firestore,null,r)}}function NI(t,e,...n){if(t=rt(t),arguments.length===1&&(e=Th.newId()),GR("doc","path",e),t instanceof Lo){let r=xe.fromString(e,...n);return KS(r),new Rt(t,null,new G(r))}{if(!(t instanceof Rt||t instanceof ii))throw new U(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(xe.fromString(e,...n));return KS(r),new Rt(t.firestore,t instanceof ii?t.converter:null,new G(r))}}var iI=class{constructor(){this.au=Promise.resolve(),this.uu=[],this.cu=!1,this.lu=[],this.hu=null,this.Pu=!1,this.Iu=!1,this.Tu=[],this.t_=new Uh(this,"async_queue_retry"),this.Eu=()=>{let n=Nv();n&&j("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()};let e=Nv();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Eu)}get isShuttingDown(){return this.cu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.du(),this.Au(e)}enterRestrictedMode(e){if(!this.cu){this.cu=!0,this.Iu=e||!1;let n=Nv();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Eu)}}enqueue(e){if(this.du(),this.cu)return new Promise(()=>{});let n=new ur;return this.Au(()=>this.cu&&this.Iu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.uu.push(e),this.Ru()))}Ru(){return w(this,null,function*(){if(this.uu.length!==0){try{yield this.uu[0](),this.uu.shift(),this.t_.reset()}catch(e){if(!zc(e))throw e;j("AsyncQueue","Operation failed with retryable error: "+e)}this.uu.length>0&&this.t_.Go(()=>this.Ru())}})}Au(e){let n=this.au.then(()=>(this.Pu=!0,e().catch(r=>{this.hu=r,this.Pu=!1;let i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw lr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Pu=!1,r))));return this.au=n,n}enqueueAfterDelay(e,n,r){this.du(),this.Tu.indexOf(e)>-1&&(n=0);let i=q_.createAndSchedule(this,e,n,r,s=>this.Vu(s));return this.lu.push(i),i}du(){this.hu&&Y()}verifyOperationInProgress(){}mu(){return w(this,null,function*(){let e;do e=this.au,yield e;while(e!==this.au)})}fu(e){for(let n of this.lu)if(n.timerId===e)return!0;return!1}gu(e){return this.mu().then(()=>{this.lu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.lu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.mu()})}pu(e){this.Tu.push(e)}Vu(e){let n=this.lu.indexOf(e);this.lu.splice(n,1)}};function YS(t){return function(n,r){if(typeof n!="object"||n===null)return!1;let i=n;for(let s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}var ts=class extends Lo{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new iI}(),this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||JR(this),this._firestoreClient.terminate()}};function QR(t,e){let n=typeof t=="object"?t:po(),r=typeof t=="string"?t:e||"(default)",i=hc(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let s=Y0("firestore");s&&WR(i,...s)}return i}function YR(t){return t._firestoreClient||JR(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function JR(t){var e,n,r;let i=t._freezeSettings(),s=function(a,u,l,h){return new Bv(a,u,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,qR(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new rI(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}var Vc=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(ft.fromBase64String(e))}catch(n){throw new U(M.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(ft.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Uc=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new U(M.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Lt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Kh=class{constructor(e){this._methodName=e}};var jc=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new U(M.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new U(M.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ye(this._lat,e._lat)||ye(this._long,e._long)}};var Bc=class{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}};var Hz=/^__.*__$/,sI=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new fr(e,this.data,this.fieldMask,n,this.fieldTransforms):new Xi(e,this.data,n,this.fieldTransforms)}};function ZR(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Y()}}var oI=class t{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.yu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get wu(){return this.settings.wu}Su(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}bu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Su({path:r,Du:!1});return i.vu(e),i}Cu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Su({path:r,Du:!1});return i.yu(),i}Fu(e){return this.Su({path:void 0,Du:!0})}Mu(e){return Qh(e,this.settings.methodName,this.settings.xu||!1,this.path,this.settings.Ou)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}yu(){if(this.path)for(let e=0;e<this.path.length;e++)this.vu(this.path.get(e))}vu(e){if(e.length===0)throw this.Mu("Document fields must not be empty");if(ZR(this.wu)&&Hz.test(e))throw this.Mu('Document fields cannot begin and end with "__"')}},aI=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||rf(e)}Nu(e,n,r,i=!1){return new oI({wu:e,methodName:n,Ou:r,path:Lt.emptyPath(),Du:!1,xu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function MI(t){let e=t._freezeSettings(),n=rf(t._databaseId);return new aI(t._databaseId,!!e.ignoreUndefinedProperties,n)}function XR(t,e,n,r,i,s={}){let o=t.Nu(s.merge||s.mergeFields?2:0,e,n,i);nN("Data must be an object, but it was:",o,r);let a=eN(r,o),u,l;if(s.merge)u=new bn(o.fieldMask),l=o.fieldTransforms;else if(s.mergeFields){let h=[];for(let p of s.mergeFields){let m=qz(e,p,n);if(!o.contains(m))throw new U(M.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);Wz(h,m)||h.push(m)}u=new bn(h),l=o.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=o.fieldTransforms;return new sI(new ln(a),u,l)}function zz(t,e,n,r=!1){return xI(n,t.Nu(r?4:3,e))}function xI(t,e){if(tN(t=rt(t)))return nN("Unsupported field value:",e,t),eN(t,e);if(t instanceof Kh)return function(r,i){if(!ZR(i.wu))throw i.Mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Mu(`${r._methodName}() is not currently supported inside arrays`);let s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Du&&e.wu!==4)throw e.Mu("Nested arrays are not supported");return function(r,i){let s=[],o=0;for(let a of r){let u=xI(a,i.Fu(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=rt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return MH(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let s=it.fromDate(r);return{timestampValue:kh(i.serializer,s)}}if(r instanceof it){let s=new it(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:kh(i.serializer,s)}}if(r instanceof jc)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Vc)return{bytesValue:DR(i.serializer,r._byteString)};if(r instanceof Rt){let s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:EI(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Bc)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw a.Mu("VectorValues must only contain numeric values.");return wI(a.serializer,u)})}}}}}}(r,i);throw i.Mu(`Unsupported field value: ${af(r)}`)}(t,e)}function eN(t,e){let n={};return eR(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Uo(t,(r,i)=>{let s=xI(i,e.bu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function tN(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof it||t instanceof jc||t instanceof Vc||t instanceof Rt||t instanceof Kh||t instanceof Bc)}function nN(t,e,n){if(!tN(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=af(n);throw r==="an object"?e.Mu(t+" a custom object"):e.Mu(t+" "+r)}}function qz(t,e,n){if((e=rt(e))instanceof Uc)return e._internalPath;if(typeof e=="string")return rN(t,e);throw Qh("Field path arguments must be of type string or ",t,!1,void 0,n)}var Gz=new RegExp("[~\\*/\\[\\]]");function rN(t,e,n){if(e.search(Gz)>=0)throw Qh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Uc(...e.split("."))._internalPath}catch{throw Qh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Qh(t,e,n,r,i){let s=r&&!r.isEmpty(),o=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new U(M.INVALID_ARGUMENT,a+t+u)}function Wz(t,e){return t.some(n=>n.isEqual(e))}var Yh=class{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Rt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new cI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(PI("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},cI=class extends Yh{data(){return super.data()}};function PI(t,e){return typeof e=="string"?rN(t,e):e instanceof Uc?e._internalPath:e._delegate._internalPath}function Kz(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new U(M.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var $c=class{},Jh=class extends $c{};function iN(t,e,...n){let r=[];e instanceof $c&&r.push(e),r=r.concat(n),function(s){let o=s.filter(u=>u instanceof lI).length,a=s.filter(u=>u instanceof uI).length;if(o>1||o>0&&a>0)throw new U(M.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)t=i._apply(t);return t}var uI=class t extends Jh{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=this._parse(e);return oN(e._query,n),new es(e.firestore,e.converter,e_(e._query,n))}_parse(e){let n=MI(e.firestore);return function(s,o,a,u,l,h,p){let m;if(l.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new U(M.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){ZS(p,h);let y=[];for(let C of p)y.push(JS(u,s,C));m={arrayValue:{values:y}}}else m=JS(u,s,p)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||ZS(p,h),m=zz(a,o,p,h==="in"||h==="not-in");return ze.create(l,h,m)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};var lI=class t extends $c{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:hn.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i,a=s.getFlattenedFilters();for(let u of a)oN(o,u),o=e_(o,u)}(e._query,n),new es(e.firestore,e.converter,e_(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var dI=class t extends Jh{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new t(e,n)}_apply(e){let n=function(i,s,o){if(i.startAt!==null)throw new U(M.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new U(M.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Yi(s,o)}(e._query,this._field,this._direction);return new es(e.firestore,e.converter,function(i,s){let o=i.explicitOrderBy.concat([s]);return new oi(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}};function sN(t,e="asc"){let n=e,r=PI("orderBy",t);return dI._create(r,n)}function JS(t,e,n){if(typeof(n=rt(n))=="string"){if(n==="")throw new U(M.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!uR(e)&&n.indexOf("/")!==-1)throw new U(M.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let r=e.path.child(xe.fromString(n));if(!G.isDocumentKey(r))throw new U(M.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return ES(t,new G(r))}if(n instanceof Rt)return ES(t,n._key);throw new U(M.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${af(n)}.`)}function ZS(t,e){if(!Array.isArray(t)||t.length===0)throw new U(M.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function oN(t,e){let n=function(i,s){for(let o of i)for(let a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new U(M.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new U(M.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}var hI=class{convertValue(e,n="none"){switch(Qi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Me(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(si(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Y()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return Uo(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;let s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>Me(o.doubleValue));return new Bc(s)}convertGeoPoint(e){return new jc(Me(e.latitude),Me(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=mI(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(xc(e));default:return null}}convertTimestamp(e){let n=dr(e);return new it(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=xe.fromString(e);Ce(RR(r));let i=new Sh(r.get(1),r.get(3)),s=new G(r.popFirst(5));return i.isEqual(n)||lr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}};function aN(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var qi=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Zh=class extends Yh{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new Co(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(PI("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},Co=class extends Zh{data(e={}){return super.data(e)}},fI=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new qi(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Co(this._firestore,this._userDataWriter,r.key,r,new qi(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new U(M.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{let u=new Co(i._firestore,i._userDataWriter,a.doc.key,a.doc,new qi(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{let u=new Co(i._firestore,i._userDataWriter,a.doc.key,a.doc,new qi(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,h=-1;return a.type!==0&&(l=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:Qz(a.type),doc:u,oldIndex:l,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function Qz(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Y()}}var Xh=class extends hI{constructor(e){super(),this.firestore=e}convertBytes(e){return new Vc(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new Rt(this.firestore,null,n)}};function cN(t,e,n){t=Gi(t,Rt);let r=Gi(t.firestore,ts),i=aN(t.converter,e,n);return lN(r,[XR(MI(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,ri.none())])}function uN(t,e){let n=Gi(t.firestore,ts),r=NI(t),i=aN(t.converter,e);return lN(n,[XR(MI(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,ri.exists(!1))]).then(()=>r)}function OI(t,...e){var n,r,i;t=rt(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||YS(e[o])||(s=e[o],o++);let a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(YS(e[o])){let p=e[o];e[o]=(n=p.next)===null||n===void 0?void 0:n.bind(p),e[o+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[o+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let u,l,h;if(t instanceof Rt)l=Gi(t.firestore,ts),h=II(t._key.path),u={next:p=>{e[o]&&e[o](Yz(l,t,p))},error:e[o+1],complete:e[o+2]};else{let p=Gi(t,es);l=Gi(p.firestore,ts),h=p._query;let m=new Xh(l);u={next:y=>{e[o]&&e[o](new fI(l,m,p,y))},error:e[o+1],complete:e[o+2]},Kz(t._query)}return function(m,y,C,N){let R=new nI(N),F=new Q_(y,R,C);return m.asyncQueue.enqueueAndForget(()=>w(this,null,function*(){return Ez(yield GS(m),F)})),()=>{R.za(),m.asyncQueue.enqueueAndForget(()=>w(this,null,function*(){return Dz(yield GS(m),F)}))}}(YR(l),h,a,u)}function lN(t,e){return function(r,i){let s=new ur;return r.asyncQueue.enqueueAndForget(()=>w(this,null,function*(){return Mz(yield Bz(r),i,s)})),s.promise}(YR(t),e)}function Yz(t,e,n){let r=n.docs.get(e._key),i=new Xh(t);return new Zh(t,i,e._key,r,new qi(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Vo=i})(Jr),Yr(new Yt("firestore",(r,{instanceIdentifier:i,options:s})=>{let o=r.getProvider("app").getImmediate(),a=new ts(new Ov(r.getProvider("auth-internal")),new Vv(r.getProvider("app-check-internal")),function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new U(M.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Sh(l.options.projectId,h)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),We(vS,"4.7.2",e),We(vS,"4.7.2","esm2017")})();var cf=function(){return cf=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},cf.apply(this,arguments)};var Xz={includeMetadataChanges:!1};function dN(t,e){return e===void 0&&(e=Xz),new ie(function(n){var r=OI(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function hN(t,e){var n;e===void 0&&(e={});var r=t.data(e);return!t.exists()||typeof r!="object"||r===null||!e.idField?r:cf(cf({},r),(n={},n[e.idField]=t.id,n))}function fN(t){return dN(t,{includeMetadataChanges:!0}).pipe(J(function(e){return e.docs}))}function pN(t,e){return e===void 0&&(e={}),fN(t).pipe(J(function(n){return n.map(function(r){return hN(r,e)})}))}var Wc=class{constructor(e){return e}},gN="firestore",kI=class{constructor(){return fc(gN)}};var FI=new L("angularfire2.firestore-instances");function eq(t,e){let n=Jd(gN,t,e);return n&&new Wc(n)}function tq(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Wc(r)}}var nq={provide:kI,deps:[[new ut,FI]]},rq={provide:Wc,useFactory:eq,deps:[[new ut,FI],ir]};function CY(t,...e){return We("angularfire",Li.full,"fst"),Bt([rq,nq,{provide:FI,useFactory:tq(t),multi:!0,deps:[me,Ke,yo,Vi,[new ut,Dc],[new ut,mo],...e]}])}var AY=lt(pN,!0);var SY=lt(uN,!0);var RY=lt(KR,!0);var NY=lt(NI,!0);var MY=lt(QR,!0);var xY=lt(sN,!0);var PY=lt(iN,!0);var OY=lt(cN,!0);export{k as a,ae as b,iq as c,sq as d,w as e,J as f,tp as g,B as h,rn as i,z as j,CD as k,sn as l,D6 as m,T6 as n,b6 as o,C6 as p,q,xk as r,Gk as s,vb as t,Ib as u,wb as v,Hg as w,N6 as x,Wn as y,M6 as z,x6 as A,f1 as B,Db as C,p1 as D,g1 as E,P6 as F,m1 as G,bb as H,O6 as I,k6 as J,F6 as K,L6 as L,V6 as M,U6 as N,a8 as O,c8 as P,u8 as Q,l8 as R,d8 as S,wF as T,xF as U,JF as V,b8 as W,J8 as X,QL as Y,Hr as Z,_5 as _,I5 as $,vU as aa,E0 as ba,h0 as ca,U5 as da,j5 as ea,$U as fa,GU as ga,$5 as ha,KU as ia,JU as ja,$0 as ka,H0 as la,nj as ma,sj as na,H5 as oa,z5 as pa,q5 as qa,OK as ra,kK as sa,Ec as ta,S7 as ua,R7 as va,N7 as wa,M7 as xa,x7 as ya,it as za,Wc as Aa,CY as Ba,AY as Ca,SY as Da,RY as Ea,NY as Fa,MY as Ga,xY as Ha,PY as Ia,OY as Ja};
