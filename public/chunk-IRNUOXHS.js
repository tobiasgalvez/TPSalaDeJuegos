var HN=Object.defineProperty,zN=Object.defineProperties;var qN=Object.getOwnPropertyDescriptors;var kw=Object.getOwnPropertySymbols,GN=Object.getPrototypeOf,WN=Object.prototype.hasOwnProperty,KN=Object.prototype.propertyIsEnumerable,QN=Reflect.get;var Fw=(t,e,n)=>e in t?HN(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,k=(t,e)=>{for(var n in e||={})WN.call(e,n)&&Fw(t,n,e[n]);if(kw)for(var n of kw(e))KN.call(e,n)&&Fw(t,n,e[n]);return t},ae=(t,e)=>zN(t,qN(e));var pr=(t,e,n)=>QN(GN(t),n,e);var w=(t,e,n)=>new Promise((r,i)=>{var s=u=>{try{a(n.next(u))}catch(l){i(l)}},o=u=>{try{a(n.throw(u))}catch(l){i(l)}},a=u=>u.done?r(u.value):Promise.resolve(u.value).then(s,o);a((n=n.apply(t,e)).next())});function Lw(t,e){return Object.is(t,e)}var qe=null,cu=!1,uu=1,Mn=Symbol("SIGNAL");function pe(t){let e=qe;return qe=t,e}function Vw(){return qe}var ra={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Of(t){if(cu)throw new Error("");if(qe===null)return;qe.consumerOnSignalRead(t);let e=qe.nextProducerIndex++;if(fu(qe),e<qe.producerNode.length&&qe.producerNode[e]!==t&&na(qe)){let n=qe.producerNode[e];hu(n,qe.producerIndexOfThis[e])}qe.producerNode[e]!==t&&(qe.producerNode[e]=t,qe.producerIndexOfThis[e]=na(qe)?$w(t,qe,e):0),qe.producerLastReadVersion[e]=t.version}function YN(){uu++}function Uw(t){if(!(na(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===uu)){if(!t.producerMustRecompute(t)&&!Ff(t)){t.dirty=!1,t.lastCleanEpoch=uu;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=uu}}function jw(t){if(t.liveConsumerNode===void 0)return;let e=cu;cu=!0;try{for(let n of t.liveConsumerNode)n.dirty||JN(n)}finally{cu=e}}function Bw(){return qe?.consumerAllowSignalWrites!==!1}function JN(t){t.dirty=!0,jw(t),t.consumerMarkedDirty?.(t)}function du(t){return t&&(t.nextProducerIndex=0),pe(t)}function kf(t,e){if(pe(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(na(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)hu(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Ff(t){fu(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(Uw(n),r!==n.version))return!0}return!1}function Lf(t){if(fu(t),na(t))for(let e=0;e<t.producerNode.length;e++)hu(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function $w(t,e,n){if(Hw(t),t.liveConsumerNode.length===0&&zw(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=$w(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function hu(t,e){if(Hw(t),t.liveConsumerNode.length===1&&zw(t))for(let r=0;r<t.producerNode.length;r++)hu(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];fu(i),i.producerIndexOfThis[r]=e}}function na(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function fu(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function Hw(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function zw(t){return t.producerNode!==void 0}function qw(t){let e=Object.create(ZN);e.computation=t;let n=()=>{if(Uw(e),Of(e),e.value===lu)throw e.error;return e.value};return n[Mn]=e,n}var xf=Symbol("UNSET"),Pf=Symbol("COMPUTING"),lu=Symbol("ERRORED"),ZN=ae(k({},ra),{value:xf,dirty:!0,error:null,equal:Lw,producerMustRecompute(t){return t.value===xf||t.value===Pf},producerRecomputeValue(t){if(t.value===Pf)throw new Error("Detected cycle in computations.");let e=t.value;t.value=Pf;let n=du(t),r;try{r=t.computation()}catch(i){r=lu,t.error=i}finally{kf(t,n)}if(e!==xf&&e!==lu&&r!==lu&&t.equal(e,r)){t.value=e;return}t.value=r,t.version++}});function XN(){throw new Error}var Gw=XN;function Ww(){Gw()}function Kw(t){Gw=t}var eM=null;function Qw(t){let e=Object.create(Jw);e.value=t;let n=()=>(Of(e),e.value);return n[Mn]=e,n}function Vf(t,e){Bw()||Ww(),t.equal(t.value,e)||(t.value=e,tM(t))}function Yw(t,e){Bw()||Ww(),Vf(t,e(t.value))}var Jw=ae(k({},ra),{equal:Lw,value:void 0});function tM(t){t.version++,YN(),jw(t),eM?.()}function ee(t){return typeof t=="function"}function os(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var pu=os(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function ui(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Pe=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let s of n)s.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(ee(r))try{r()}catch(s){e=s instanceof pu?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{Zw(s)}catch(o){e=e??[],o instanceof pu?e=[...e,...o.errors]:e.push(o)}}if(e)throw new pu(e)}}add(e){var n;if(e&&e!==this)if(this.closed)Zw(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&ui(n,e)}remove(e){let{_finalizers:n}=this;n&&ui(n,e),e instanceof t&&e._removeParent(this)}};Pe.EMPTY=(()=>{let t=new Pe;return t.closed=!0,t})();var Uf=Pe.EMPTY;function gu(t){return t instanceof Pe||t&&"closed"in t&&ee(t.remove)&&ee(t.add)&&ee(t.unsubscribe)}function Zw(t){ee(t)?t():t.unsubscribe()}var Qt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var as={setTimeout(t,e,...n){let{delegate:r}=as;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=as;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function mu(t){as.setTimeout(()=>{let{onUnhandledError:e}=Qt;if(e)e(t);else throw t})}function ia(){}var Xw=jf("C",void 0,void 0);function eE(t){return jf("E",void 0,t)}function tE(t){return jf("N",t,void 0)}function jf(t,e,n){return{kind:t,value:e,error:n}}var li=null;function cs(t){if(Qt.useDeprecatedSynchronousErrorHandling){let e=!li;if(e&&(li={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=li;if(li=null,n)throw r}}else t()}function nE(t){Qt.useDeprecatedSynchronousErrorHandling&&li&&(li.errorThrown=!0,li.error=t)}var di=class extends Pe{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,gu(e)&&e.add(this)):this.destination=iM}static create(e,n,r){return new us(e,n,r)}next(e){this.isStopped?$f(tE(e),this):this._next(e)}error(e){this.isStopped?$f(eE(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?$f(Xw,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},nM=Function.prototype.bind;function Bf(t,e){return nM.call(t,e)}var Hf=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){yu(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){yu(r)}else yu(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){yu(n)}}},us=class extends di{constructor(e,n,r){super();let i;if(ee(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&Qt.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Bf(e.next,s),error:e.error&&Bf(e.error,s),complete:e.complete&&Bf(e.complete,s)}):i=e}this.destination=new Hf(i)}};function yu(t){Qt.useDeprecatedSynchronousErrorHandling?nE(t):mu(t)}function rM(t){throw t}function $f(t,e){let{onStoppedNotification:n}=Qt;n&&as.setTimeout(()=>n(t,e))}var iM={closed:!0,next:ia,error:rM,complete:ia};var ls=typeof Symbol=="function"&&Symbol.observable||"@@observable";function St(t){return t}function vu(...t){return zf(t)}function zf(t){return t.length===0?St:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var ie=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let s=oM(n)?n:new us(n,r,i);return cs(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=rE(r),new r((i,s)=>{let o=new us({next:a=>{try{n(a)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[ls](){return this}pipe(...n){return zf(n)(this)}toPromise(n){return n=rE(n),new n((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function rE(t){var e;return(e=t??Qt.Promise)!==null&&e!==void 0?e:Promise}function sM(t){return t&&ee(t.next)&&ee(t.error)&&ee(t.complete)}function oM(t){return t&&t instanceof di||sM(t)&&gu(t)}function qf(t){return ee(t?.lift)}function he(t){return e=>{if(qf(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ue(t,e,n,r,i){return new Gf(t,e,n,r,i)}var Gf=class extends di{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function ds(){return he((t,e)=>{let n=null;t._refCount++;let r=ue(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var hs=class extends ie{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,qf(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Pe;let n=this.getSubject();e.add(this.source.subscribe(ue(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Pe.EMPTY)}return e}refCount(){return ds()(this)}};var iE=os(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ze=(()=>{class t extends ie{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new _u(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new iE}next(n){cs(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){cs(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){cs(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:s}=this;return r||i?Uf:(this.currentObservers=null,s.push(n),new Pe(()=>{this.currentObservers=null,ui(s,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){let n=new ie;return n.source=this,n}}return t.create=(e,n)=>new _u(e,n),t})(),_u=class extends Ze{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:Uf}};var Xe=class extends Ze{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Wf={now(){return(Wf.delegate||Date).now()},delegate:void 0};var Iu=class extends Pe{constructor(e,n){super()}schedule(e,n=0){return this}};var sa={setInterval(t,e,...n){let{delegate:r}=sa;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=sa;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var fs=class extends Iu{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return sa.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&sa.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,ui(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var ps=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};ps.now=Wf.now;var gs=class extends ps{constructor(e,n=ps.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var Kf=new gs(fs);var wu=class extends fs{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var Eu=class extends gs{};var Qf=new Eu(wu);var Rt=new ie(t=>t.complete());function sE(t){return t&&ee(t.schedule)}function oE(t){return t[t.length-1]}function Du(t){return ee(oE(t))?t.pop():void 0}function gr(t){return sE(oE(t))?t.pop():void 0}function Yf(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function cE(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(h){try{l(r.next(h))}catch(p){o(p)}}function u(h){try{l(r.throw(h))}catch(p){o(p)}}function l(h){h.done?s(h.value):i(h.value).then(a,u)}l((r=r.apply(t,e||[])).next())})}function aE(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function hi(t){return this instanceof hi?(this.v=t,this):new hi(t)}function uE(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(y){return function(C){return Promise.resolve(C).then(y,p)}}function a(y,C){r[y]&&(i[y]=function(N){return new Promise(function(R,F){s.push([y,N,R,F])>1||u(y,N)})},C&&(i[y]=C(i[y])))}function u(y,C){try{l(r[y](C))}catch(N){m(s[0][3],N)}}function l(y){y.value instanceof hi?Promise.resolve(y.value.v).then(h,p):m(s[0][2],y)}function h(y){u("next",y)}function p(y){u("throw",y)}function m(y,C){y(C),s.shift(),s.length&&u(s[0][0],s[0][1])}}function lE(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof aE=="function"?aE(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,u){o=t[s](o),i(a,u,o.done,o.value)})}}function i(s,o,a,u){Promise.resolve(u).then(function(l){s({value:l,done:a})},o)}}var Tu=t=>t&&typeof t.length=="number"&&typeof t!="function";function bu(t){return ee(t?.then)}function Cu(t){return ee(t[ls])}function Au(t){return Symbol.asyncIterator&&ee(t?.[Symbol.asyncIterator])}function Su(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function aM(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Ru=aM();function Nu(t){return ee(t?.[Ru])}function Mu(t){return uE(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield hi(n.read());if(i)return yield hi(void 0);yield yield hi(r)}}finally{n.releaseLock()}})}function xu(t){return ee(t?.getReader)}function Le(t){if(t instanceof ie)return t;if(t!=null){if(Cu(t))return cM(t);if(Tu(t))return uM(t);if(bu(t))return lM(t);if(Au(t))return dE(t);if(Nu(t))return dM(t);if(xu(t))return hM(t)}throw Su(t)}function cM(t){return new ie(e=>{let n=t[ls]();if(ee(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function uM(t){return new ie(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function lM(t){return new ie(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,mu)})}function dM(t){return new ie(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function dE(t){return new ie(e=>{fM(t,e).catch(n=>e.error(n))})}function hM(t){return dE(Mu(t))}function fM(t,e){var n,r,i,s;return cE(this,void 0,void 0,function*(){try{for(n=lE(t);r=yield n.next(),!r.done;){let o=r.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})}function wt(t,e,n,r=0,i=!1){let s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function mr(t,e=0){return he((n,r)=>{n.subscribe(ue(r,i=>wt(r,t,()=>r.next(i),e),()=>wt(r,t,()=>r.complete(),e),i=>wt(r,t,()=>r.error(i),e)))})}function yr(t,e=0){return he((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function hE(t,e){return Le(t).pipe(yr(e),mr(e))}function fE(t,e){return Le(t).pipe(yr(e),mr(e))}function pE(t,e){return new ie(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function gE(t,e){return new ie(n=>{let r;return wt(n,e,()=>{r=t[Ru](),wt(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){n.error(o);return}s?n.complete():n.next(i)},0,!0)}),()=>ee(r?.return)&&r.return()})}function Pu(t,e){if(!t)throw new Error("Iterable cannot be null");return new ie(n=>{wt(n,e,()=>{let r=t[Symbol.asyncIterator]();wt(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function mE(t,e){return Pu(Mu(t),e)}function yE(t,e){if(t!=null){if(Cu(t))return hE(t,e);if(Tu(t))return pE(t,e);if(bu(t))return fE(t,e);if(Au(t))return Pu(t,e);if(Nu(t))return gE(t,e);if(xu(t))return mE(t,e)}throw Su(t)}function Ae(t,e){return e?yE(t,e):Le(t)}function W(...t){let e=gr(t);return Ae(t,e)}function ms(t,e){let n=ee(t)?t:()=>t,r=i=>i.error(n());return new ie(e?i=>e.schedule(r,0,i):r)}function Jf(t){return!!t&&(t instanceof ie||ee(t.lift)&&ee(t.subscribe))}var xn=os(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function Y(t,e){return he((n,r)=>{let i=0;n.subscribe(ue(r,s=>{r.next(t.call(e,s,i++))}))})}var{isArray:pM}=Array;function gM(t,e){return pM(e)?t(...e):t(e)}function Ou(t){return Y(e=>gM(t,e))}var{isArray:mM}=Array,{getPrototypeOf:yM,prototype:vM,keys:_M}=Object;function ku(t){if(t.length===1){let e=t[0];if(mM(e))return{args:e,keys:null};if(IM(e)){let n=_M(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function IM(t){return t&&typeof t=="object"&&yM(t)===vM}function Fu(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function oa(...t){let e=gr(t),n=Du(t),{args:r,keys:i}=ku(t);if(r.length===0)return Ae([],e);let s=new ie(wM(r,e,i?o=>Fu(i,o):St));return n?s.pipe(Ou(n)):s}function wM(t,e,n=St){return r=>{vE(e,()=>{let{length:i}=t,s=new Array(i),o=i,a=i;for(let u=0;u<i;u++)vE(e,()=>{let l=Ae(t[u],e),h=!1;l.subscribe(ue(r,p=>{s[u]=p,h||(h=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}function vE(t,e,n){t?wt(n,t,e):e()}function _E(t,e,n,r,i,s,o,a){let u=[],l=0,h=0,p=!1,m=()=>{p&&!u.length&&!l&&e.complete()},y=N=>l<r?C(N):u.push(N),C=N=>{s&&e.next(N),l++;let R=!1;Le(n(N,h++)).subscribe(ue(e,F=>{i?.(F),s?y(F):e.next(F)},()=>{R=!0},void 0,()=>{if(R)try{for(l--;u.length&&l<r;){let F=u.shift();o?wt(e,o,()=>C(F)):C(F)}m()}catch(F){e.error(F)}}))};return t.subscribe(ue(e,y,()=>{p=!0,m()})),()=>{a?.()}}function Ve(t,e,n=1/0){return ee(e)?Ve((r,i)=>Y((s,o)=>e(r,s,i,o))(Le(t(r,i))),n):(typeof e=="number"&&(n=e),he((r,i)=>_E(r,i,t,n)))}function ys(t=1/0){return Ve(St,t)}function IE(){return ys(1)}function vs(...t){return IE()(Ae(t,gr(t)))}function Lu(t){return new ie(e=>{Le(t()).subscribe(e)})}function Zf(...t){let e=Du(t),{args:n,keys:r}=ku(t),i=new ie(s=>{let{length:o}=n;if(!o){s.complete();return}let a=new Array(o),u=o,l=o;for(let h=0;h<o;h++){let p=!1;Le(n[h]).subscribe(ue(s,m=>{p||(p=!0,l--),a[h]=m},()=>u--,void 0,()=>{(!u||!p)&&(l||s.next(r?Fu(r,a):a),s.complete())}))}});return e?i.pipe(Ou(e)):i}function gt(t,e){return he((n,r)=>{let i=0;n.subscribe(ue(r,s=>t.call(e,s,i++)&&r.next(s)))})}function vr(t){return he((e,n)=>{let r=null,i=!1,s;r=e.subscribe(ue(n,void 0,void 0,o=>{s=Le(t(o,vr(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function wE(t,e,n,r,i){return(s,o)=>{let a=n,u=e,l=0;s.subscribe(ue(o,h=>{let p=l++;u=a?t(u,h,p):(a=!0,h),r&&o.next(u)},i&&(()=>{a&&o.next(u),o.complete()})))}}function Pn(t,e){return ee(e)?Ve(t,e,1):Ve(t,1)}function _r(t){return he((e,n)=>{let r=!1;e.subscribe(ue(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function On(t){return t<=0?()=>Rt:he((e,n)=>{let r=0;e.subscribe(ue(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Xf(t){return Y(()=>t)}function Vu(t=EM){return he((e,n)=>{let r=!1;e.subscribe(ue(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function EM(){return new xn}function Ir(t){return he((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function ln(t,e){let n=arguments.length>=2;return r=>r.pipe(t?gt((i,s)=>t(i,s,r)):St,On(1),n?_r(e):Vu(()=>new xn))}function _s(t){return t<=0?()=>Rt:he((e,n)=>{let r=[];e.subscribe(ue(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function ep(t,e){let n=arguments.length>=2;return r=>r.pipe(t?gt((i,s)=>t(i,s,r)):St,_s(1),n?_r(e):Vu(()=>new xn))}function Uu(t,e){return he(wE(t,e,arguments.length>=2,!0))}function ju(...t){let e=gr(t);return he((n,r)=>{(e?vs(t,n,e):vs(t,n)).subscribe(r)})}function Et(t,e){return he((n,r)=>{let i=null,s=0,o=!1,a=()=>o&&!i&&r.complete();n.subscribe(ue(r,u=>{i?.unsubscribe();let l=0,h=s++;Le(t(u,h)).subscribe(i=ue(r,p=>r.next(e?e(u,p,h,l++):p),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function tp(t){return he((e,n)=>{Le(t).subscribe(ue(n,()=>n.complete(),ia)),!n.closed&&e.subscribe(n)})}function Ue(t,e,n){let r=ee(t)||e||n?{next:t,error:e,complete:n}:t;return r?he((i,s)=>{var o;(o=r.subscribe)===null||o===void 0||o.call(r);let a=!0;i.subscribe(ue(s,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),s.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),s.complete()},u=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,u),s.error(u)},()=>{var u,l;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):St}var oD="https://g.co/ng/security#xss",$=class extends Error{constructor(e,n){super(El(e,n)),this.code=e}};function El(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function ma(t){return{toString:t}.toString()}var Bu="__parameters__";function DM(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function aD(t,e,n){return ma(()=>{let r=DM(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;let o=new i(...s);return a.annotation=o,a;function a(u,l,h){let p=u.hasOwnProperty(Bu)?u[Bu]:Object.defineProperty(u,Bu,{value:[]})[Bu];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(o),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var aa=globalThis;function Te(t){for(let e in t)if(t[e]===Te)return e;throw Error("Could not find renamed property on target object.")}function TM(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function yt(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(yt).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function EE(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var bM=Te({__forward_ref__:Te});function yn(t){return t.__forward_ref__=yn,t.toString=function(){return yt(this())},t}function mt(t){return cD(t)?t():t}function cD(t){return typeof t=="function"&&t.hasOwnProperty(bM)&&t.__forward_ref__===yn}function B(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function en(t){return{providers:t.providers||[],imports:t.imports||[]}}function Dl(t){return DE(t,lD)||DE(t,dD)}function uD(t){return Dl(t)!==null}function DE(t,e){return t.hasOwnProperty(e)?t[e]:null}function CM(t){let e=t&&(t[lD]||t[dD]);return e||null}function TE(t){return t&&(t.hasOwnProperty(bE)||t.hasOwnProperty(AM))?t[bE]:null}var lD=Te({\u0275prov:Te}),bE=Te({\u0275inj:Te}),dD=Te({ngInjectableDef:Te}),AM=Te({ngInjectorDef:Te}),L=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=B({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function hD(t){return t&&!!t.\u0275providers}var SM=Te({\u0275cmp:Te}),RM=Te({\u0275dir:Te}),NM=Te({\u0275pipe:Te}),MM=Te({\u0275mod:Te}),Yu=Te({\u0275fac:Te}),ua=Te({__NG_ELEMENT_ID__:Te}),CE=Te({__NG_ENV_ID__:Te});function Cs(t){return typeof t=="string"?t:t==null?"":String(t)}function xM(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Cs(t)}function PM(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new $(-200,t)}function sg(t,e){throw new $(-201,!1)}var se=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(se||{}),mp;function fD(){return mp}function Dt(t){let e=mp;return mp=t,e}function pD(t,e,n){let r=Dl(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&se.Optional)return null;if(e!==void 0)return e;sg(t,"Injector")}var OM={},la=OM,yp="__NG_DI_FLAG__",Ju="ngTempTokenPath",kM="ngTokenPath",FM=/\n/gm,LM="\u0275",AE="__source",Ts;function VM(){return Ts}function wr(t){let e=Ts;return Ts=t,e}function UM(t,e=se.Default){if(Ts===void 0)throw new $(-203,!1);return Ts===null?pD(t,void 0,e):Ts.get(t,e&se.Optional?null:void 0,e)}function z(t,e=se.Default){return(fD()||UM)(mt(t),e)}function x(t,e=se.Default){return z(t,Tl(e))}function Tl(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function vp(t){let e=[];for(let n=0;n<t.length;n++){let r=mt(t[n]);if(Array.isArray(r)){if(r.length===0)throw new $(900,!1);let i,s=se.Default;for(let o=0;o<r.length;o++){let a=r[o],u=jM(a);typeof u=="number"?u===-1?i=a.token:s|=u:i=a}e.push(z(i,s))}else e.push(z(r))}return e}function gD(t,e){return t[yp]=e,t.prototype[yp]=e,t}function jM(t){return t[yp]}function BM(t,e,n,r){let i=t[Ju];throw e[AE]&&i.unshift(e[AE]),t.message=$M(`
`+t.message,i,n,r),t[kM]=i,t[Ju]=null,t}function $M(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==LM?t.slice(2):t;let i=yt(e);if(Array.isArray(e))i=e.map(yt).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):yt(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(FM,`
  `)}`}var ct=gD(aD("Optional"),8);var og=gD(aD("SkipSelf"),4);function gi(t,e){let n=t.hasOwnProperty(Yu);return n?t[Yu]:null}function ag(t,e){t.forEach(n=>Array.isArray(n)?ag(n,e):e(n))}function mD(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Zu(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function HM(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let s=i-2;t[i]=t[s],i--}t[e]=n,t[e+1]=r}}function zM(t,e,n){let r=ya(t,e);return r>=0?t[r|1]=n:(r=~r,HM(t,r,e,n)),r}function np(t,e){let n=ya(t,e);if(n>=0)return t[n|1]}function ya(t,e){return qM(t,e,1)}function qM(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}var As={},kt=[],Ss=new L(""),yD=new L("",-1),vD=new L(""),Xu=class{get(e,n=la){if(n===la){let r=new Error(`NullInjectorError: No provider for ${yt(e)}!`);throw r.name="NullInjectorError",r}return n}},_D=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(_D||{}),fn=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(fn||{}),Tr=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Tr||{});function GM(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function _p(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{let s=i,o=n[++r];KM(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function WM(t){return t===3||t===4||t===6}function KM(t){return t.charCodeAt(0)===64}function da(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?SE(t,n,i,null,e[++r]):SE(t,n,i,null,null))}}return t}function SE(t,e,n,r,i){let s=0,o=t.length;if(e===-1)o=-1;else for(;s<t.length;){let a=t[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<t.length;){let a=t[s];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[s+1]=i);return}else if(r===t[s+1]){t[s+2]=i;return}}s++,r!==null&&s++,i!==null&&s++}o!==-1&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),r!==null&&t.splice(s++,0,r),i!==null&&t.splice(s++,0,i)}var ID="ng-template";function QM(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&GM(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(cg(t))return!1;if(i=e.indexOf(1,i),i>-1){let s;for(;++i<e.length&&typeof(s=e[i])=="string";)if(s.toLowerCase()===n)return!0}return!1}function cg(t){return t.type===4&&t.value!==ID}function YM(t,e,n){let r=t.type===4&&!n?ID:t.value;return e===r}function JM(t,e,n){let r=4,i=t.attrs,s=i!==null?ex(i):0,o=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!o&&!Yt(r)&&!Yt(u))return!1;if(o&&Yt(u))continue;o=!1,r=u|r&1;continue}if(!o)if(r&4){if(r=2|r&1,u!==""&&!YM(t,u,n)||u===""&&e.length===1){if(Yt(r))return!1;o=!0}}else if(r&8){if(i===null||!QM(t,i,u,n)){if(Yt(r))return!1;o=!0}}else{let l=e[++a],h=ZM(u,i,cg(t),n);if(h===-1){if(Yt(r))return!1;o=!0;continue}if(l!==""){let p;if(h>s?p="":p=i[h+1].toLowerCase(),r&2&&l!==p){if(Yt(r))return!1;o=!0}}}}return Yt(r)||o}function Yt(t){return(t&1)===0}function ZM(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){let o=e[i];if(o===t)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return tx(e,t)}function XM(t,e,n=!1){for(let r=0;r<e.length;r++)if(JM(t,e[r],n))return!0;return!1}function ex(t){for(let e=0;e<t.length;e++){let n=t[e];if(WM(n))return e}return t.length}function tx(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function RE(t,e){return t?":not("+e.trim()+")":e}function nx(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if(typeof o=="string")if(r&2){let a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+o:r&4&&(i+=" "+o);else i!==""&&!Yt(o)&&(e+=RE(s,i),i=""),r=o,s=s||!Yt(r);n++}return i!==""&&(e+=RE(s,i)),e}function rx(t){return t.map(nx).join(",")}function ix(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let s=t[r];if(typeof s=="string")i===2?s!==""&&e.push(s,t[++r]):i===8&&n.push(s);else{if(!Yt(i))break;i=s}r++}return{attrs:e,classes:n}}function wD(t){return ma(()=>{let e=CD(t),n=ae(k({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===_D.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||fn.Emulated,styles:t.styles||kt,_:null,schemas:t.schemas||null,tView:null,id:""});AD(n);let r=t.dependencies;return n.directiveDefs=ME(r,!1),n.pipeDefs=ME(r,!0),n.id=ax(n),n})}function sx(t){return br(t)||ED(t)}function ox(t){return t!==null}function tn(t){return ma(()=>({type:t.type,bootstrap:t.bootstrap||kt,declarations:t.declarations||kt,imports:t.imports||kt,exports:t.exports||kt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function NE(t,e){if(t==null)return As;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],s,o,a=Tr.None;Array.isArray(i)?(a=i[0],s=i[1],o=i[2]??s):(s=i,o=i),e?(n[s]=a!==Tr.None?[r,a]:r,e[s]=o):n[s]=r}return n}function je(t){return ma(()=>{let e=CD(t);return AD(e),e})}function ug(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function br(t){return t[SM]||null}function ED(t){return t[RM]||null}function DD(t){return t[NM]||null}function TD(t){let e=br(t)||ED(t)||DD(t);return e!==null?e.standalone:!1}function bD(t,e){let n=t[MM]||null;if(!n&&e===!0)throw new Error(`Type ${yt(t)} does not have '\u0275mod' property.`);return n}function CD(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||As,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||kt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:NE(t.inputs,e),outputs:NE(t.outputs),debugInfo:null}}function AD(t){t.features?.forEach(e=>e(t))}function ME(t,e){if(!t)return null;let n=e?DD:sx;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(ox)}function ax(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function Vt(t){return{\u0275providers:t}}function cx(...t){return{\u0275providers:SD(!0,t),\u0275fromNgModule:!0}}function SD(t,...e){let n=[],r=new Set,i,s=o=>{n.push(o)};return ag(e,o=>{let a=o;Ip(a,s,[],r)&&(i||=[],i.push(a))}),i!==void 0&&RD(i,s),n}function RD(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];lg(i,s=>{e(s,r)})}}function Ip(t,e,n,r){if(t=mt(t),!t)return!1;let i=null,s=TE(t),o=!s&&br(t);if(!s&&!o){let u=t.ngModule;if(s=TE(u),s)i=u;else return!1}else{if(o&&!o.standalone)return!1;i=t}let a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){let u=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let l of u)Ip(l,e,n,r)}}else if(s){if(s.imports!=null&&!a){r.add(i);let l;try{ag(s.imports,h=>{Ip(h,e,n,r)&&(l||=[],l.push(h))})}finally{}l!==void 0&&RD(l,e)}if(!a){let l=gi(i)||(()=>new i);e({provide:i,useFactory:l,deps:kt},i),e({provide:vD,useValue:i,multi:!0},i),e({provide:Ss,useValue:()=>z(i),multi:!0},i)}let u=s.providers;if(u!=null&&!a){let l=t;lg(u,h=>{e(h,l)})}}else return!1;return i!==t&&t.providers!==void 0}function lg(t,e){for(let n of t)hD(n)&&(n=n.\u0275providers),Array.isArray(n)?lg(n,e):e(n)}var ux=Te({provide:String,useValue:Te});function ND(t){return t!==null&&typeof t=="object"&&ux in t}function lx(t){return!!(t&&t.useExisting)}function dx(t){return!!(t&&t.useFactory)}function Rs(t){return typeof t=="function"}function hx(t){return!!t.useClass}var bl=new L(""),qu={},fx={},rp;function dg(){return rp===void 0&&(rp=new Xu),rp}var vt=class{},ha=class extends vt{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Ep(e,o=>this.processProvider(o)),this.records.set(yD,Is(void 0,this)),i.has("environment")&&this.records.set(vt,Is(void 0,this));let s=this.records.get(bl);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(vD,kt,se.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=pe(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),pe(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=wr(this),r=Dt(void 0),i;try{return e()}finally{wr(n),Dt(r)}}get(e,n=la,r=se.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(CE))return e[CE](this);r=Tl(r);let i,s=wr(this),o=Dt(void 0);try{if(!(r&se.SkipSelf)){let u=this.records.get(e);if(u===void 0){let l=vx(e)&&Dl(e);l&&this.injectableDefInScope(l)?u=Is(wp(e),qu):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let a=r&se.Self?dg():this.parent;return n=r&se.Optional&&n===la?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[Ju]=a[Ju]||[]).unshift(yt(e)),s)throw a;return BM(a,e,"R3InjectorError",this.source)}else throw a}finally{Dt(o),wr(s)}}resolveInjectorInitializers(){let e=pe(null),n=wr(this),r=Dt(void 0),i;try{let s=this.get(Ss,kt,se.Self);for(let o of s)o()}finally{wr(n),Dt(r),pe(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(yt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new $(205,!1)}processProvider(e){e=mt(e);let n=Rs(e)?e:mt(e&&e.provide),r=gx(e);if(!Rs(e)&&e.multi===!0){let i=this.records.get(n);i||(i=Is(void 0,qu,!0),i.factory=()=>vp(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=pe(null);try{return n.value===qu&&(n.value=fx,n.value=n.factory()),typeof n.value=="object"&&n.value&&yx(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{pe(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=mt(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function wp(t){let e=Dl(t),n=e!==null?e.factory:gi(t);if(n!==null)return n;if(t instanceof L)throw new $(204,!1);if(t instanceof Function)return px(t);throw new $(204,!1)}function px(t){if(t.length>0)throw new $(204,!1);let n=CM(t);return n!==null?()=>n.factory(t):()=>new t}function gx(t){if(ND(t))return Is(void 0,t.useValue);{let e=MD(t);return Is(e,qu)}}function MD(t,e,n){let r;if(Rs(t)){let i=mt(t);return gi(i)||wp(i)}else if(ND(t))r=()=>mt(t.useValue);else if(dx(t))r=()=>t.useFactory(...vp(t.deps||[]));else if(lx(t))r=()=>z(mt(t.useExisting));else{let i=mt(t&&(t.useClass||t.provide));if(mx(t))r=()=>new i(...vp(t.deps));else return gi(i)||wp(i)}return r}function Is(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function mx(t){return!!t.deps}function yx(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function vx(t){return typeof t=="function"||typeof t=="object"&&t instanceof L}function Ep(t,e){for(let n of t)Array.isArray(n)?Ep(n,e):n&&hD(n)?Ep(n.\u0275providers,e):e(n)}function Ut(t,e){t instanceof ha&&t.assertNotDestroyed();let n,r=wr(t),i=Dt(void 0);try{return e()}finally{wr(r),Dt(i)}}function xD(){return fD()!==void 0||VM()!=null}function _x(t){if(!xD())throw new $(-203,!1)}function Ix(t){return typeof t=="function"}var Vn=0,ce=1,J=2,_t=3,Jt=4,nn=5,el=6,tl=7,Zt=8,Ns=9,pn=10,Ge=11,fa=12,xE=13,Us=14,gn=15,Ms=16,ws=17,xs=18,Cl=19,PD=20,Er=21,ip=22,Ft=23,Xt=25,OD=1;var mi=7,nl=8,rl=9,Lt=10,il=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(il||{});function Dr(t){return Array.isArray(t)&&typeof t[OD]=="object"}function Un(t){return Array.isArray(t)&&t[OD]===!0}function kD(t){return(t.flags&4)!==0}function Al(t){return t.componentOffset>-1}function hg(t){return(t.flags&1)===1}function Cr(t){return!!t.template}function Dp(t){return(t[J]&512)!==0}var Tp=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function FD(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function jn(){return LD}function LD(t){return t.type.prototype.ngOnChanges&&(t.setInput=Ex),wx}jn.ngInherit=!0;function wx(){let t=UD(this),e=t?.current;if(e){let n=t.previous;if(n===As)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function Ex(t,e,n,r,i){let s=this.declaredInputs[r],o=UD(t)||Dx(t,{previous:As,current:null}),a=o.current||(o.current={}),u=o.previous,l=u[s];a[s]=new Tp(l&&l.currentValue,n,u===As),FD(t,e,i,n)}var VD="__ngSimpleChanges__";function UD(t){return t[VD]||null}function Dx(t,e){return t[VD]=e}var PE=null;var dn=function(t,e,n){PE?.(t,e,n)},Tx="svg",bx="math";function mn(t){for(;Array.isArray(t);)t=t[Vn];return t}function jD(t,e){return mn(e[t])}function jt(t,e){return mn(e[t.index])}function BD(t,e){return t.data[e]}function $D(t,e){return t[e]}function Rr(t,e){let n=e[t];return Dr(n)?n:n[Vn]}function fg(t){return(t[J]&128)===128}function Cx(t){return Un(t[_t])}function sl(t,e){return e==null?null:t[e]}function HD(t){t[ws]=0}function zD(t){t[J]&1024||(t[J]|=1024,fg(t)&&Rl(t))}function Ax(t,e){for(;t>0;)e=e[Us],t--;return e}function Sl(t){return!!(t[J]&9216||t[Ft]?.dirty)}function bp(t){t[pn].changeDetectionScheduler?.notify(8),t[J]&64&&(t[J]|=1024),Sl(t)&&Rl(t)}function Rl(t){t[pn].changeDetectionScheduler?.notify(0);let e=yi(t);for(;e!==null&&!(e[J]&8192||(e[J]|=8192,!fg(e)));)e=yi(e)}function qD(t,e){if((t[J]&256)===256)throw new $(911,!1);t[Er]===null&&(t[Er]=[]),t[Er].push(e)}function Sx(t,e){if(t[Er]===null)return;let n=t[Er].indexOf(e);n!==-1&&t[Er].splice(n,1)}function yi(t){let e=t[_t];return Un(e)?e[_t]:e}var oe={lFrame:tT(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var GD=!1;function Rx(){return oe.lFrame.elementDepthCount}function Nx(){oe.lFrame.elementDepthCount++}function Mx(){oe.lFrame.elementDepthCount--}function WD(){return oe.bindingsEnabled}function xx(){return oe.skipHydrationRootTNode!==null}function Px(t){return oe.skipHydrationRootTNode===t}function Ox(){oe.skipHydrationRootTNode=null}function ve(){return oe.lFrame.lView}function Tt(){return oe.lFrame.tView}function o6(t){return oe.lFrame.contextLView=t,t[Zt]}function a6(t){return oe.lFrame.contextLView=null,t}function bt(){let t=KD();for(;t!==null&&t.type===64;)t=t.parent;return t}function KD(){return oe.lFrame.currentTNode}function kx(){let t=oe.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function va(t,e){let n=oe.lFrame;n.currentTNode=t,n.isParent=e}function QD(){return oe.lFrame.isParent}function Fx(){oe.lFrame.isParent=!1}function YD(){return GD}function OE(t){GD=t}function Nl(){let t=oe.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function Lx(){return oe.lFrame.bindingIndex}function Vx(t){return oe.lFrame.bindingIndex=t}function Ml(){return oe.lFrame.bindingIndex++}function JD(t){let e=oe.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function Ux(){return oe.lFrame.inI18n}function jx(t,e){let n=oe.lFrame;n.bindingIndex=n.bindingRootIndex=t,Cp(e)}function Bx(){return oe.lFrame.currentDirectiveIndex}function Cp(t){oe.lFrame.currentDirectiveIndex=t}function $x(t){let e=oe.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function ZD(t){oe.lFrame.currentQueryIndex=t}function Hx(t){let e=t[ce];return e.type===2?e.declTNode:e.type===1?t[nn]:null}function XD(t,e,n){if(n&se.SkipSelf){let i=e,s=t;for(;i=i.parent,i===null&&!(n&se.Host);)if(i=Hx(s),i===null||(s=s[Us],i.type&10))break;if(i===null)return!1;e=i,t=s}let r=oe.lFrame=eT();return r.currentTNode=e,r.lView=t,!0}function pg(t){let e=eT(),n=t[ce];oe.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function eT(){let t=oe.lFrame,e=t===null?null:t.child;return e===null?tT(t):e}function tT(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function nT(){let t=oe.lFrame;return oe.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var rT=nT;function gg(){let t=nT();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function zx(t){return(oe.lFrame.contextLView=Ax(t,oe.lFrame.contextLView))[Zt]}function Di(){return oe.lFrame.selectedIndex}function vi(t){oe.lFrame.selectedIndex=t}function mg(){let t=oe.lFrame;return BD(t.tView,t.selectedIndex)}function qx(){return oe.lFrame.currentNamespace}var iT=!0;function yg(){return iT}function vg(t){iT=t}function Gx(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let o=LD(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}function _g(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:h}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),h!=null&&(t.destroyHooks??=[]).push(n,h)}}function Gu(t,e,n){sT(t,e,3,n)}function Wu(t,e,n,r){(t[J]&3)===n&&sT(t,e,n,r)}function sp(t,e){let n=t[J];(n&3)===e&&(n&=16383,n+=1,t[J]=n)}function sT(t,e,n,r){let i=r!==void 0?t[ws]&65535:0,s=r??-1,o=e.length-1,a=0;for(let u=i;u<o;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(t[ws]+=65536),(a<s||s==-1)&&(Wx(t,n,e,u),t[ws]=(t[ws]&4294901760)+u+2),u++}function kE(t,e){dn(4,t,e);let n=pe(null);try{e.call(t)}finally{pe(n),dn(5,t,e)}}function Wx(t,e,n,r){let i=n[r]<0,s=n[r+1],o=i?-n[r]:n[r],a=t[o];i?t[J]>>14<t[ws]>>16&&(t[J]&3)===e&&(t[J]+=16384,kE(a,s)):kE(a,s)}var bs=-1,_i=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function Kx(t){return t instanceof _i}function Qx(t){return(t.flags&8)!==0}function Yx(t){return(t.flags&16)!==0}var op={},Ap=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Tl(r);let i=this.injector.get(e,op,r);return i!==op||n===op?i:this.parentInjector.get(e,n,r)}};function oT(t){return t!==bs}function ol(t){return t&32767}function Jx(t){return t>>16}function al(t,e){let n=Jx(t),r=e;for(;n>0;)r=r[Us],n--;return r}var Sp=!0;function cl(t){let e=Sp;return Sp=t,e}var Zx=256,aT=Zx-1,cT=5,Xx=0,hn={};function eP(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(ua)&&(r=n[ua]),r==null&&(r=n[ua]=Xx++);let i=r&aT,s=1<<i;e.data[t+(i>>cT)]|=s}function ul(t,e){let n=uT(t,e);if(n!==-1)return n;let r=e[ce];r.firstCreatePass&&(t.injectorIndex=e.length,ap(r.data,t),ap(e,null),ap(r.blueprint,null));let i=Ig(t,e),s=t.injectorIndex;if(oT(i)){let o=ol(i),a=al(i,e),u=a[ce].data;for(let l=0;l<8;l++)e[s+l]=a[o+l]|u[o+l]}return e[s+8]=i,s}function ap(t,e){t.push(0,0,0,0,0,0,0,0,e)}function uT(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Ig(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=pT(i),r===null)return bs;if(n++,i=i[Us],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return bs}function Rp(t,e,n){eP(t,e,n)}function lT(t,e,n){if(n&se.Optional||t!==void 0)return t;sg(e,"NodeInjector")}function dT(t,e,n,r){if(n&se.Optional&&r===void 0&&(r=null),!(n&(se.Self|se.Host))){let i=t[Ns],s=Dt(void 0);try{return i?i.get(e,r,n&se.Optional):pD(e,r,n&se.Optional)}finally{Dt(s)}}return lT(r,e,n)}function hT(t,e,n,r=se.Default,i){if(t!==null){if(e[J]&2048&&!(r&se.Self)){let o=sP(t,e,n,r,hn);if(o!==hn)return o}let s=fT(t,e,n,r,hn);if(s!==hn)return s}return dT(e,n,r,i)}function fT(t,e,n,r,i){let s=rP(n);if(typeof s=="function"){if(!XD(e,t,r))return r&se.Host?lT(i,n,r):dT(e,n,r,i);try{let o;if(o=s(r),o==null&&!(r&se.Optional))sg(n);else return o}finally{rT()}}else if(typeof s=="number"){let o=null,a=uT(t,e),u=bs,l=r&se.Host?e[gn][nn]:null;for((a===-1||r&se.SkipSelf)&&(u=a===-1?Ig(t,e):e[a+8],u===bs||!LE(r,!1)?a=-1:(o=e[ce],a=ol(u),e=al(u,e)));a!==-1;){let h=e[ce];if(FE(s,a,h.data)){let p=tP(a,e,n,o,r,l);if(p!==hn)return p}u=e[a+8],u!==bs&&LE(r,e[ce].data[a+8]===l)&&FE(s,a,e)?(o=h,a=ol(u),e=al(u,e)):a=-1}}return i}function tP(t,e,n,r,i,s){let o=e[ce],a=o.data[t+8],u=r==null?Al(a)&&Sp:r!=o&&(a.type&3)!==0,l=i&se.Host&&s===a,h=nP(a,o,n,u,l);return h!==null?Ps(e,o,h,a):hn}function nP(t,e,n,r,i){let s=t.providerIndexes,o=e.data,a=s&1048575,u=t.directiveStart,l=t.directiveEnd,h=s>>20,p=r?a:a+h,m=i?a+h:l;for(let y=p;y<m;y++){let C=o[y];if(y<u&&n===C||y>=u&&C.type===n)return y}if(i){let y=o[u];if(y&&Cr(y)&&y.type===n)return u}return null}function Ps(t,e,n,r){let i=t[n],s=e.data;if(Kx(i)){let o=i;o.resolving&&PM(xM(s[n]));let a=cl(o.canSeeViewProviders);o.resolving=!0;let u,l=o.injectImpl?Dt(o.injectImpl):null,h=XD(t,r,se.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&Gx(n,s[n],e)}finally{l!==null&&Dt(l),cl(a),o.resolving=!1,rT()}}return i}function rP(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(ua)?t[ua]:void 0;return typeof e=="number"?e>=0?e&aT:iP:e}function FE(t,e,n){let r=1<<t;return!!(n[e+(t>>cT)]&r)}function LE(t,e){return!(t&se.Self)&&!(t&se.Host&&e)}var pi=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return hT(this._tNode,this._lView,e,Tl(r),n)}};function iP(){return new pi(bt(),ve())}function Ti(t){return ma(()=>{let e=t.prototype.constructor,n=e[Yu]||Np(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let s=i[Yu]||Np(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function Np(t){return cD(t)?()=>{let e=Np(mt(t));return e&&e()}:gi(t)}function sP(t,e,n,r,i){let s=t,o=e;for(;s!==null&&o!==null&&o[J]&2048&&!(o[J]&512);){let a=fT(s,o,n,r|se.Self,hn);if(a!==hn)return a;let u=s.parent;if(!u){let l=o[PD];if(l){let h=l.get(n,hn,r);if(h!==hn)return h}u=pT(o),o=o[Us]}s=u}return i}function pT(t){let e=t[ce],n=e.type;return n===2?e.declTNode:n===1?t[nn]:null}function VE(t,e=null,n=null,r){let i=gT(t,e,n,r);return i.resolveInjectorInitializers(),i}function gT(t,e=null,n=null,r,i=new Set){let s=[n||kt,cx(t)];return r=r||(typeof t=="object"?void 0:yt(t)),new ha(s,e||dg(),r||null,i)}var et=class t{static{this.THROW_IF_NOT_FOUND=la}static{this.NULL=new Xu}static create(e,n){if(Array.isArray(e))return VE({name:""},n,e,"");{let r=e.name??"";return VE({name:r},e.parent,e.providers,r)}}static{this.\u0275prov=B({token:t,providedIn:"any",factory:()=>z(yD)})}static{this.__NG_ELEMENT_ID__=-1}};var oP=new L("");oP.__NG_ELEMENT_ID__=t=>{let e=bt();if(e===null)throw new $(204,!1);if(e.type&2)return e.value;if(t&se.Optional)return null;throw new $(204,!1)};var aP="ngOriginalError";function cp(t){return t[aP]}var mT=!0,wg=(()=>{class t{static{this.__NG_ELEMENT_ID__=cP}static{this.__NG_ENV_ID__=n=>n}}return t})(),Mp=class extends wg{constructor(e){super(),this._lView=e}onDestroy(e){return qD(this._lView,e),()=>Sx(this._lView,e)}};function cP(){return new Mp(ve())}var Bn=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Xe(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=B({token:t,providedIn:"root",factory:()=>new t})}}return t})();var xp=class extends Ze{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,xD()&&(this.destroyRef=x(wg,{optional:!0})??void 0,this.pendingTasks=x(Bn,{optional:!0})??void 0)}emit(e){let n=pe(null);try{super.next(e)}finally{pe(n)}}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=this.wrapInTimeout(s),i&&(i=this.wrapInTimeout(i)),o&&(o=this.wrapInTimeout(o)));let a=super.subscribe({next:i,error:s,complete:o});return e instanceof Pe&&e.add(a),a}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(n),r!==void 0&&this.pendingTasks?.remove(r)})}}},Oe=xp;function ll(...t){}function yT(t){let e,n;function r(){t=ll;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function UE(t){return queueMicrotask(()=>t()),()=>{t=ll}}var Eg="isAngularZone",dl=Eg+"_ID",uP=0,me=class t{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Oe(!1),this.onMicrotaskEmpty=new Oe(!1),this.onStable=new Oe(!1),this.onError=new Oe(!1);let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:s=mT}=e;if(typeof Zone>"u")throw new $(908,!1);Zone.assertZonePatched();let o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!i&&r,o.shouldCoalesceRunChangeDetection=i,o.callbackScheduled=!1,o.scheduleInRootZone=s,hP(o)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Eg)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new $(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new $(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,lP,ll,ll);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},lP={};function Dg(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function dP(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){yT(()=>{t.callbackScheduled=!1,Pp(t),t.isCheckStableRunning=!0,Dg(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),Pp(t)}function hP(t){let e=()=>{dP(t)},n=uP++;t._inner=t._inner.fork({name:"angular",properties:{[Eg]:!0,[dl]:n,[dl+n]:!0},onInvokeTask:(r,i,s,o,a,u)=>{if(fP(u))return r.invokeTask(s,o,a,u);try{return jE(t),r.invokeTask(s,o,a,u)}finally{(t.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),BE(t)}},onInvoke:(r,i,s,o,a,u,l)=>{try{return jE(t),r.invoke(s,o,a,u,l)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!pP(u)&&e(),BE(t)}},onHasTask:(r,i,s,o)=>{r.hasTask(s,o),i===s&&(o.change=="microTask"?(t._hasPendingMicrotasks=o.microTask,Pp(t),Dg(t)):o.change=="macroTask"&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(r,i,s,o)=>(r.handleError(s,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}function Pp(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function jE(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function BE(t){t._nesting--,Dg(t)}var Op=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Oe,this.onMicrotaskEmpty=new Oe,this.onStable=new Oe,this.onError=new Oe}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function fP(t){return vT(t,"__ignore_ng_zone__")}function pP(t){return vT(t,"__scheduler_tick__")}function vT(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var kn=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&cp(e);for(;n&&cp(n);)n=cp(n);return n||null}},gP=new L("",{providedIn:"root",factory:()=>{let t=x(me),e=x(kn);return n=>t.runOutsideAngular(()=>e.handleError(n))}});function mP(){return xl(bt(),ve())}function xl(t,e){return new Nr(jt(t,e))}var Nr=(()=>{class t{constructor(n){this.nativeElement=n}static{this.__NG_ELEMENT_ID__=mP}}return t})();function _T(t){return(t.flags&128)===128}var IT=new Map,yP=0;function vP(){return yP++}function _P(t){IT.set(t[Cl],t)}function kp(t){IT.delete(t[Cl])}var $E="__ngContext__";function Ii(t,e){Dr(e)?(t[$E]=e[Cl],_P(e)):t[$E]=e}function wT(t){return DT(t[fa])}function ET(t){return DT(t[Jt])}function DT(t){for(;t!==null&&!Un(t);)t=t[Jt];return t}var Fp;function TT(t){Fp=t}function IP(){if(Fp!==void 0)return Fp;if(typeof document<"u")return document;throw new $(210,!1)}var Tg=new L("",{providedIn:"root",factory:()=>wP}),wP="ng",bg=new L(""),Bt=new L("",{providedIn:"platform",factory:()=>"unknown"});var Cg=new L("",{providedIn:"root",factory:()=>IP().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var EP="h",DP="b";var TP=()=>null;function Ag(t,e,n=!1){return TP(t,e,n)}var bT=!1,bP=new L("",{providedIn:"root",factory:()=>bT});var hl=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${oD})`}};function Pl(t){return t instanceof hl?t.changingThisBreaksApplicationSecurity:t}function CT(t,e){let n=CP(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${oD})`)}return n===e}function CP(t){return t instanceof hl&&t.getTypeName()||null}var AP=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function AT(t){return t=String(t),t.match(AP)?t:"unsafe:"+t}var Sg=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Sg||{});function c6(t){let e=SP();return e?e.sanitize(Sg.URL,t)||"":CT(t,"URL")?Pl(t):AT(Cs(t))}function SP(){let t=ve();return t&&t[pn].sanitizer}function ST(t){return t instanceof Function?t():t}function RP(t){return(t??x(et)).get(Bt)==="browser"}var Fn=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Fn||{}),NP;function Rg(t,e){return NP(t,e)}function Es(t,e,n,r,i){if(r!=null){let s,o=!1;Un(r)?s=r:Dr(r)&&(o=!0,r=r[Vn]);let a=mn(r);t===0&&n!==null?i==null?PT(e,n,a):fl(e,n,a,i||null,!0):t===1&&n!==null?fl(e,n,a,i||null,!0):t===2?qP(e,a,o):t===3&&e.destroyNode(a),s!=null&&WP(e,t,s,n,i)}}function MP(t,e){return t.createText(e)}function xP(t,e,n){t.setValue(e,n)}function RT(t,e,n){return t.createElement(e,n)}function PP(t,e){NT(t,e),e[Vn]=null,e[nn]=null}function OP(t,e,n,r,i,s){r[Vn]=i,r[nn]=e,Ol(t,r,n,1,i,s)}function NT(t,e){e[pn].changeDetectionScheduler?.notify(9),Ol(t,e,e[Ge],2,null,null)}function kP(t){let e=t[fa];if(!e)return up(t[ce],t);for(;e;){let n=null;if(Dr(e))n=e[fa];else{let r=e[Lt];r&&(n=r)}if(!n){for(;e&&!e[Jt]&&e!==t;)Dr(e)&&up(e[ce],e),e=e[_t];e===null&&(e=t),Dr(e)&&up(e[ce],e),n=e&&e[Jt]}e=n}}function FP(t,e,n,r){let i=Lt+r,s=n.length;r>0&&(n[i-1][Jt]=e),r<s-Lt?(e[Jt]=n[i],mD(n,Lt+r,e)):(n.push(e),e[Jt]=null),e[_t]=n;let o=e[Ms];o!==null&&n!==o&&MT(o,e);let a=e[xs];a!==null&&a.insertView(t),bp(e),e[J]|=128}function MT(t,e){let n=t[rl],r=e[_t];if(Dr(r))t[J]|=il.HasTransplantedViews;else{let i=r[_t][gn];e[gn]!==i&&(t[J]|=il.HasTransplantedViews)}n===null?t[rl]=[e]:n.push(e)}function Ng(t,e){let n=t[rl],r=n.indexOf(e);n.splice(r,1)}function Lp(t,e){if(t.length<=Lt)return;let n=Lt+e,r=t[n];if(r){let i=r[Ms];i!==null&&i!==t&&Ng(i,r),e>0&&(t[n-1][Jt]=r[Jt]);let s=Zu(t,Lt+e);PP(r[ce],r);let o=s[xs];o!==null&&o.detachView(s[ce]),r[_t]=null,r[Jt]=null,r[J]&=-129}return r}function xT(t,e){if(!(e[J]&256)){let n=e[Ge];n.destroyNode&&Ol(t,e,n,3,null,null),kP(e)}}function up(t,e){if(e[J]&256)return;let n=pe(null);try{e[J]&=-129,e[J]|=256,e[Ft]&&Lf(e[Ft]),VP(t,e),LP(t,e),e[ce].type===1&&e[Ge].destroy();let r=e[Ms];if(r!==null&&Un(e[_t])){r!==e[_t]&&Ng(r,e);let i=e[xs];i!==null&&i.detachView(t)}kp(e)}finally{pe(n)}}function LP(t,e){let n=t.cleanup,r=e[tl];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else{let o=r[n[s+1]];n[s].call(o)}r!==null&&(e[tl]=null);let i=e[Er];if(i!==null){e[Er]=null;for(let s=0;s<i.length;s++){let o=i[s];o()}}}function VP(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof _i)){let s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=i[s[o]],u=s[o+1];dn(4,a,u);try{u.call(a)}finally{dn(5,a,u)}}else{dn(4,i,s);try{s.call(i)}finally{dn(5,i,s)}}}}}function UP(t,e,n){return jP(t,e.parent,n)}function jP(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[Vn];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:s}=t.data[r.directiveStart+i];if(s===fn.None||s===fn.Emulated)return null}return jt(r,n)}}function fl(t,e,n,r,i){t.insertBefore(e,n,r,i)}function PT(t,e,n){t.appendChild(e,n)}function HE(t,e,n,r,i){r!==null?fl(t,e,n,r,i):PT(t,e,n)}function OT(t,e){return t.parentNode(e)}function BP(t,e){return t.nextSibling(e)}function $P(t,e,n){return zP(t,e,n)}function HP(t,e,n){return t.type&40?jt(t,n):null}var zP=HP,zE;function Mg(t,e,n,r){let i=UP(t,r,e),s=e[Ge],o=r.parent||e[nn],a=$P(o,r,e);if(i!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)HE(s,i,n[u],a,!1);else HE(s,i,n,a,!1);zE!==void 0&&zE(s,r,e,n,i)}function ca(t,e){if(e!==null){let n=e.type;if(n&3)return jt(e,t);if(n&4)return Vp(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return ca(t,r);{let i=t[e.index];return Un(i)?Vp(-1,i):mn(i)}}else{if(n&128)return ca(t,e.next);if(n&32)return Rg(e,t)()||mn(t[e.index]);{let r=kT(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=yi(t[gn]);return ca(i,r)}else return ca(t,e.next)}}}return null}function kT(t,e){if(e!==null){let r=t[gn][nn],i=e.projection;return r.projection[i]}return null}function Vp(t,e){let n=Lt+t+1;if(n<e.length){let r=e[n],i=r[ce].firstChild;if(i!==null)return ca(r,i)}return e[mi]}function qP(t,e,n){t.removeChild(null,e,n)}function xg(t,e,n,r,i,s,o){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=r[n.index],u=n.type;if(o&&e===0&&(a&&Ii(mn(a),r),n.flags|=2),(n.flags&32)!==32)if(u&8)xg(t,e,n.child,r,i,s,!1),Es(e,t,i,a,s);else if(u&32){let l=Rg(n,r),h;for(;h=l();)Es(e,t,i,h,s);Es(e,t,i,a,s)}else u&16?GP(t,e,r,n,i,s):Es(e,t,i,a,s);n=o?n.projectionNext:n.next}}function Ol(t,e,n,r,i,s){xg(n,r,t.firstChild,e,i,s,!1)}function GP(t,e,n,r,i,s){let o=n[gn],u=o[nn].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let h=u[l];Es(e,t,i,h,s)}else{let l=u,h=o[_t];_T(r)&&(l.flags|=128),xg(t,e,l,h,i,s,!0)}}function WP(t,e,n,r,i){let s=n[mi],o=mn(n);s!==o&&Es(e,t,r,s,i);for(let a=Lt;a<n.length;a++){let u=n[a];Ol(u[ce],u,t,e,r,s)}}function KP(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=r.indexOf("-")===-1?void 0:Fn.DashCase;i==null?t.removeStyle(n,r,s):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=Fn.Important),t.setStyle(n,r,i,s))}}function QP(t,e,n){t.setAttribute(e,"style",n)}function FT(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function LT(t,e,n){let{mergedAttrs:r,classes:i,styles:s}=n;r!==null&&_p(t,e,r),i!==null&&FT(t,e,i),s!==null&&QP(t,e,s)}var $n={};function u6(t=1){VT(Tt(),ve(),Di()+t,!1)}function VT(t,e,n,r){if(!r)if((e[J]&3)===3){let s=t.preOrderCheckHooks;s!==null&&Gu(e,s,n)}else{let s=t.preOrderHooks;s!==null&&Wu(e,s,0,n)}vi(n)}function te(t,e=se.Default){let n=ve();if(n===null)return z(t,e);let r=bt();return hT(r,n,mt(t),e)}function UT(){let t="invalid";throw new Error(t)}function jT(t,e,n,r,i,s){let o=pe(null);try{let a=null;i&Tr.SignalBased&&(a=e[r][Mn]),a!==null&&a.transformFn!==void 0&&(s=a.transformFn(s)),i&Tr.HasDecoratorInputTransform&&(s=t.inputTransforms[r].call(e,s)),t.setInput!==null?t.setInput(e,a,s,n,r):FD(e,a,r,s)}finally{pe(o)}}function YP(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)vi(~i);else{let s=i,o=n[++r],a=n[++r];jx(o,s);let u=e[s];a(2,u)}}}finally{vi(-1)}}function kl(t,e,n,r,i,s,o,a,u,l,h){let p=e.blueprint.slice();return p[Vn]=i,p[J]=r|4|128|8|64,(l!==null||t&&t[J]&2048)&&(p[J]|=2048),HD(p),p[_t]=p[Us]=t,p[Zt]=n,p[pn]=o||t&&t[pn],p[Ge]=a||t&&t[Ge],p[Ns]=u||t&&t[Ns]||null,p[nn]=s,p[Cl]=vP(),p[el]=h,p[PD]=l,p[gn]=e.type==2?t[gn]:p,p}function Fl(t,e,n,r,i){let s=t.data[e];if(s===null)s=JP(t,e,n,r,i),Ux()&&(s.flags|=32);else if(s.type&64){s.type=n,s.value=r,s.attrs=i;let o=kx();s.injectorIndex=o===null?-1:o.injectorIndex}return va(s,!0),s}function JP(t,e,n,r,i){let s=KD(),o=QD(),a=o?s:s&&s.parent,u=t.data[e]=nO(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=u),s!==null&&(o?s.child==null&&u.parent!==null&&(s.child=u):s.next===null&&(s.next=u,u.prev=s)),u}function BT(t,e,n,r){if(n===0)return-1;let i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function $T(t,e,n,r,i){let s=Di(),o=r&2;try{vi(-1),o&&e.length>Xt&&VT(t,e,Xt,!1),dn(o?2:0,i),n(r,i)}finally{vi(s),dn(o?3:1,i)}}function HT(t,e,n){if(kD(e)){let r=pe(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){let a=t.data[o];if(a.contentQueries){let u=n[o];a.contentQueries(1,u,o)}}}finally{pe(r)}}}function zT(t,e,n){WD()&&(cO(t,e,n,jt(n,e)),(n.flags&64)===64&&YT(t,e,n))}function qT(t,e,n=jt){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let o=r[s+1],a=o===-1?n(e,t):t[o];t[i++]=a}}}function GT(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Pg(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Pg(t,e,n,r,i,s,o,a,u,l,h){let p=Xt+r,m=p+i,y=ZP(p,m),C=typeof l=="function"?l():l;return y[ce]={type:t,blueprint:y,template:n,queries:null,viewQuery:a,declTNode:e,data:y.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:u,consts:C,incompleteFirstPass:!1,ssrId:h}}function ZP(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:$n);return n}function XP(t,e,n,r){let s=r.get(bP,bT)||n===fn.ShadowDom,o=t.selectRootElement(e,s);return eO(o),o}function eO(t){tO(t)}var tO=()=>null;function nO(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return xx()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function qE(t,e,n,r,i){for(let s in e){if(!e.hasOwnProperty(s))continue;let o=e[s];if(o===void 0)continue;r??={};let a,u=Tr.None;Array.isArray(o)?(a=o[0],u=o[1]):a=o;let l=s;if(i!==null){if(!i.hasOwnProperty(s))continue;l=i[s]}t===0?GE(r,n,l,a,u):GE(r,n,l,a)}return r}function GE(t,e,n,r,i){let s;t.hasOwnProperty(n)?(s=t[n]).push(e,r):s=t[n]=[e,r],i!==void 0&&s.push(i)}function rO(t,e,n){let r=e.directiveStart,i=e.directiveEnd,s=t.data,o=e.attrs,a=[],u=null,l=null;for(let h=r;h<i;h++){let p=s[h],m=n?n.get(p):null,y=m?m.inputs:null,C=m?m.outputs:null;u=qE(0,p.inputs,h,u,y),l=qE(1,p.outputs,h,l,C);let N=u!==null&&o!==null&&!cg(e)?_O(u,h,o):null;a.push(N)}u!==null&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=l}function iO(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function WT(t,e,n,r,i,s,o,a){let u=jt(e,n),l=e.inputs,h;!a&&l!=null&&(h=l[r])?(Og(t,n,h,r,i),Al(e)&&sO(n,e.index)):e.type&3?(r=iO(r),i=o!=null?o(i,e.value||"",r):i,s.setProperty(u,r,i)):e.type&12}function sO(t,e){let n=Rr(e,t);n[J]&16||(n[J]|=64)}function KT(t,e,n,r){if(WD()){let i=r===null?null:{"":-1},s=lO(t,n),o,a;s===null?o=a=null:[o,a]=s,o!==null&&QT(t,e,n,o,i,a),i&&dO(n,r,i)}n.mergedAttrs=da(n.mergedAttrs,n.attrs)}function QT(t,e,n,r,i,s){for(let l=0;l<r.length;l++)Rp(ul(n,e),t,r[l].type);fO(n,t.data.length,r.length);for(let l=0;l<r.length;l++){let h=r[l];h.providersResolver&&h.providersResolver(h)}let o=!1,a=!1,u=BT(t,e,r.length,null);for(let l=0;l<r.length;l++){let h=r[l];n.mergedAttrs=da(n.mergedAttrs,h.hostAttrs),pO(t,n,e,u,h),hO(u,h,i),h.contentQueries!==null&&(n.flags|=4),(h.hostBindings!==null||h.hostAttrs!==null||h.hostVars!==0)&&(n.flags|=64);let p=h.type.prototype;!o&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(p.ngOnChanges||p.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),u++}rO(t,n,s)}function oO(t,e,n,r,i){let s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;o===null&&(o=t.hostBindingOpCodes=[]);let a=~e.index;aO(o)!=a&&o.push(a),o.push(n,r,s)}}function aO(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function cO(t,e,n,r){let i=n.directiveStart,s=n.directiveEnd;Al(n)&&gO(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||ul(n,e),Ii(r,e);let o=n.initialInputs;for(let a=i;a<s;a++){let u=t.data[a],l=Ps(e,t,a,n);if(Ii(l,e),o!==null&&vO(e,a-i,l,u,n,o),Cr(u)){let h=Rr(n.index,e);h[Zt]=Ps(e,t,a,n)}}}function YT(t,e,n){let r=n.directiveStart,i=n.directiveEnd,s=n.index,o=Bx();try{vi(s);for(let a=r;a<i;a++){let u=t.data[a],l=e[a];Cp(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&uO(u,l)}}finally{vi(-1),Cp(o)}}function uO(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function lO(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let s=0;s<n.length;s++){let o=n[s];if(XM(e,o.selectors,!1))if(r||(r=[]),Cr(o))if(o.findHostDirectiveDefs!==null){let a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o);let u=a.length;Up(t,e,u)}else r.unshift(o),Up(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return r===null?null:[r,i]}function Up(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function dO(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let s=n[e[i+1]];if(s==null)throw new $(-301,!1);r.push(e[i],s)}}}function hO(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Cr(e)&&(n[""]=t)}}function fO(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function pO(t,e,n,r,i){t.data[r]=i;let s=i.factory||(i.factory=gi(i.type,!0)),o=new _i(s,Cr(i),te);t.blueprint[r]=o,n[r]=o,oO(t,e,r,BT(t,n,i.hostVars,$n),i)}function gO(t,e,n){let r=jt(e,t),i=GT(n),s=t[pn].rendererFactory,o=16;n.signals?o=4096:n.onPush&&(o=64);let a=Ll(t,kl(t,i,null,o,r,e,null,s.createRenderer(r,n),null,null,null));t[e.index]=a}function mO(t,e,n,r,i,s){let o=jt(t,e);yO(e[Ge],o,s,t.value,n,r,i)}function yO(t,e,n,r,i,s,o){if(s==null)t.removeAttribute(e,i,n);else{let a=o==null?Cs(s):o(s,r||"",i);t.setAttribute(e,i,a,n)}}function vO(t,e,n,r,i,s){let o=s[e];if(o!==null)for(let a=0;a<o.length;){let u=o[a++],l=o[a++],h=o[a++],p=o[a++];jT(r,n,u,l,h,p)}}function _O(t,e,n){let r=null,i=0;for(;i<n.length;){let s=n[i];if(s===0){i+=4;continue}else if(s===5){i+=2;continue}if(typeof s=="number")break;if(t.hasOwnProperty(s)){r===null&&(r=[]);let o=t[s];for(let a=0;a<o.length;a+=3)if(o[a]===e){r.push(s,o[a+1],o[a+2],n[i+1]);break}}i+=2}return r}function JT(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function ZT(t,e){let n=t.contentQueries;if(n!==null){let r=pe(null);try{for(let i=0;i<n.length;i+=2){let s=n[i],o=n[i+1];if(o!==-1){let a=t.data[o];ZD(s),a.contentQueries(2,e[o],o)}}}finally{pe(r)}}}function Ll(t,e){return t[fa]?t[xE][Jt]=e:t[fa]=e,t[xE]=e,e}function jp(t,e,n){ZD(0);let r=pe(null);try{e(t,n)}finally{pe(r)}}function IO(t){return t[tl]??=[]}function wO(t){return t.cleanup??=[]}function XT(t,e){let n=t[Ns],r=n?n.get(kn,null):null;r&&r.handleError(e)}function Og(t,e,n,r,i){for(let s=0;s<n.length;){let o=n[s++],a=n[s++],u=n[s++],l=e[o],h=t.data[o];jT(h,l,r,a,u,i)}}function eb(t,e,n){let r=jD(e,t);xP(t[Ge],r,n)}function EO(t,e){let n=Rr(e,t),r=n[ce];DO(r,n);let i=n[Vn];i!==null&&n[el]===null&&(n[el]=Ag(i,n[Ns])),kg(r,n,n[Zt])}function DO(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function kg(t,e,n){pg(e);try{let r=t.viewQuery;r!==null&&jp(1,r,n);let i=t.template;i!==null&&$T(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[xs]?.finishViewCreation(t),t.staticContentQueries&&ZT(t,e),t.staticViewQueries&&jp(2,t.viewQuery,n);let s=t.components;s!==null&&TO(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[J]&=-5,gg()}}function TO(t,e){for(let n=0;n<e.length;n++)EO(t,e[n])}function bO(t,e,n,r){let i=pe(null);try{let s=e.tView,a=t[J]&4096?4096:16,u=kl(t,s,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];u[Ms]=l;let h=t[xs];return h!==null&&(u[xs]=h.createEmbeddedView(s)),kg(s,u,n),u}finally{pe(i)}}function WE(t,e){return!e||e.firstChild===null||_T(t)}function CO(t,e,n,r=!0){let i=e[ce];if(FP(i,e,t,n),r){let o=Vp(n,t),a=e[Ge],u=OT(a,t[mi]);u!==null&&OP(i,t[nn],a,e,u,o)}let s=e[el];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function pl(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let s=e[n.index];s!==null&&r.push(mn(s)),Un(s)&&AO(s,r);let o=n.type;if(o&8)pl(t,e,n.child,r);else if(o&32){let a=Rg(n,e),u;for(;u=a();)r.push(u)}else if(o&16){let a=kT(e,n);if(Array.isArray(a))r.push(...a);else{let u=yi(e[gn]);pl(u[ce],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function AO(t,e){for(let n=Lt;n<t.length;n++){let r=t[n],i=r[ce].firstChild;i!==null&&pl(r[ce],r,i,e)}t[mi]!==t[Vn]&&e.push(t[mi])}var tb=[];function SO(t){return t[Ft]??RO(t)}function RO(t){let e=tb.pop()??Object.create(MO);return e.lView=t,e}function NO(t){t.lView[Ft]!==t&&(t.lView=null,tb.push(t))}var MO=ae(k({},ra),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Rl(t.lView)},consumerOnSignalRead(){this.lView[Ft]=this}});function xO(t){let e=t[Ft]??Object.create(PO);return e.lView=t,e}var PO=ae(k({},ra),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{let e=yi(t.lView);for(;e&&!nb(e[ce]);)e=yi(e);e&&zD(e)},consumerOnSignalRead(){this.lView[Ft]=this}});function nb(t){return t.type!==2}var OO=100;function rb(t,e=!0,n=0){let r=t[pn],i=r.rendererFactory,s=!1;s||i.begin?.();try{kO(t,n)}catch(o){throw e&&XT(t,o),o}finally{s||(i.end?.(),r.inlineEffectRunner?.flush())}}function kO(t,e){let n=YD();try{OE(!0),Bp(t,e);let r=0;for(;Sl(t);){if(r===OO)throw new $(103,!1);r++,Bp(t,1)}}finally{OE(n)}}function FO(t,e,n,r){let i=e[J];if((i&256)===256)return;let s=!1,o=!1;!s&&e[pn].inlineEffectRunner?.flush(),pg(e);let a=!0,u=null,l=null;s||(nb(t)?(l=SO(e),u=du(l)):Vw()===null?(a=!1,l=xO(e),u=du(l)):e[Ft]&&(Lf(e[Ft]),e[Ft]=null));try{HD(e),Vx(t.bindingStartIndex),n!==null&&$T(t,e,n,2,r);let h=(i&3)===3;if(!s)if(h){let y=t.preOrderCheckHooks;y!==null&&Gu(e,y,null)}else{let y=t.preOrderHooks;y!==null&&Wu(e,y,0,null),sp(e,0)}if(o||LO(e),ib(e,0),t.contentQueries!==null&&ZT(t,e),!s)if(h){let y=t.contentCheckHooks;y!==null&&Gu(e,y)}else{let y=t.contentHooks;y!==null&&Wu(e,y,1),sp(e,1)}YP(t,e);let p=t.components;p!==null&&ob(e,p,0);let m=t.viewQuery;if(m!==null&&jp(2,m,r),!s)if(h){let y=t.viewCheckHooks;y!==null&&Gu(e,y)}else{let y=t.viewHooks;y!==null&&Wu(e,y,2),sp(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[ip]){for(let y of e[ip])y();e[ip]=null}s||(e[J]&=-73)}catch(h){throw s||Rl(e),h}finally{l!==null&&(kf(l,u),a&&NO(l)),gg()}}function ib(t,e){for(let n=wT(t);n!==null;n=ET(n))for(let r=Lt;r<n.length;r++){let i=n[r];sb(i,e)}}function LO(t){for(let e=wT(t);e!==null;e=ET(e)){if(!(e[J]&il.HasTransplantedViews))continue;let n=e[rl];for(let r=0;r<n.length;r++){let i=n[r];zD(i)}}}function VO(t,e,n){let r=Rr(e,t);sb(r,n)}function sb(t,e){fg(t)&&Bp(t,e)}function Bp(t,e){let r=t[ce],i=t[J],s=t[Ft],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(s?.dirty&&Ff(s)),o||=!1,s&&(s.dirty=!1),t[J]&=-9217,o)FO(r,t,r.template,t[Zt]);else if(i&8192){ib(t,1);let a=r.components;a!==null&&ob(t,a,1)}}function ob(t,e,n){for(let r=0;r<e.length;r++)VO(t,e[r],n)}function Fg(t,e){let n=YD()?64:1088;for(t[pn].changeDetectionScheduler?.notify(e);t;){t[J]|=n;let r=yi(t);if(Dp(t)&&!r)return t;t=r}return null}var wi=class{get rootNodes(){let e=this._lView,n=e[ce];return pl(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Zt]}set context(e){this._lView[Zt]=e}get destroyed(){return(this._lView[J]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[_t];if(Un(e)){let n=e[nl],r=n?n.indexOf(this):-1;r>-1&&(Lp(e,r),Zu(n,r))}this._attachedToViewContainer=!1}xT(this._lView[ce],this._lView)}onDestroy(e){qD(this._lView,e)}markForCheck(){Fg(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[J]&=-129}reattach(){bp(this._lView),this._lView[J]|=128}detectChanges(){this._lView[J]|=1024,rb(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new $(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Dp(this._lView),n=this._lView[Ms];n!==null&&!e&&Ng(n,this._lView),NT(this._lView[ce],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new $(902,!1);this._appRef=e;let n=Dp(this._lView),r=this._lView[Ms];r!==null&&!n&&MT(r,this._lView),bp(this._lView)}},Vl=(()=>{class t{static{this.__NG_ELEMENT_ID__=BO}}return t})(),UO=Vl,jO=class extends UO{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=bO(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new wi(i)}};function BO(){return $O(bt(),ve())}function $O(t,e){return t.type&4?new jO(e,t,xl(t,e)):null}var d6=new RegExp(`^(\\d+)*(${DP}|${EP})*(.*)`);var HO=()=>null;function KE(t,e){return HO(t,e)}var Os=class{},Lg=new L("",{providedIn:"root",factory:()=>!1});var ab=new L(""),cb=new L(""),$p=class{},gl=class{};function zO(t){let e=Error(`No component factory found for ${yt(t)}.`);return e[qO]=t,e}var qO="ngComponent";var Hp=class{resolveComponentFactory(e){throw zO(e)}},ks=class{static{this.NULL=new Hp}},Fs=class{},bi=(()=>{class t{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>GO()}}return t})();function GO(){let t=ve(),e=bt(),n=Rr(e.index,t);return(Dr(n)?n:t)[Ge]}var WO=(()=>{class t{static{this.\u0275prov=B({token:t,providedIn:"root",factory:()=>null})}}return t})();function zp(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")s=a;else if(s==1)i=EE(i,a);else if(s==2){let u=a,l=e[++o];r=EE(r,u+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var ml=class extends ks{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=br(e);return new Ls(n,this.ngModule)}};function QE(t,e){let n=[];for(let r in t){if(!t.hasOwnProperty(r))continue;let i=t[r];if(i===void 0)continue;let s=Array.isArray(i),o=s?i[0]:i,a=s?i[1]:Tr.None;e?n.push({propName:o,templateName:r,isSignal:(a&Tr.SignalBased)!==0}):n.push({propName:o,templateName:r})}return n}function KO(t){let e=t.toLowerCase();return e==="svg"?Tx:e==="math"?bx:null}var Ls=class extends gl{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=QE(e.inputs,!0);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return QE(this.componentDef.outputs,!1)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=rx(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=pe(null);try{i=i||this.ngModule;let o=i instanceof vt?i:i?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let a=o?new Ap(e,o):e,u=a.get(Fs,null);if(u===null)throw new $(407,!1);let l=a.get(WO,null),h=a.get(Os,null),p={rendererFactory:u,sanitizer:l,inlineEffectRunner:null,changeDetectionScheduler:h},m=u.createRenderer(null,this.componentDef),y=this.componentDef.selectors[0][0]||"div",C=r?XP(m,r,this.componentDef.encapsulation,a):RT(m,y,KO(y)),N=512;this.componentDef.signals?N|=4096:this.componentDef.onPush||(N|=16);let R=null;C!==null&&(R=Ag(C,a,!0));let F=Pg(0,null,null,1,0,null,null,null,null,null,null),H=kl(null,F,null,N,null,null,p,m,a,null,R);pg(H);let V,X,we=null;try{let G=this.componentDef,E,v=null;G.findHostDirectiveDefs?(E=[],v=new Map,G.findHostDirectiveDefs(G,E,v),E.push(G)):E=[G];let _=QO(H,C);we=YO(_,C,G,E,H,p,m),X=BD(F,Xt),C&&XO(m,G,C,r),n!==void 0&&ek(X,this.ngContentSelectors,n),V=ZO(we,G,E,v,H,[tk]),kg(F,H,null)}catch(G){throw we!==null&&kp(we),kp(H),G}finally{gg()}return new qp(this.componentType,V,xl(X,H),H,X)}finally{pe(s)}}},qp=class extends $p{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new wi(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let s=this._rootLView;Og(s[ce],s,i,e,n),this.previousInputValues.set(e,n);let o=Rr(this._tNode.index,s);Fg(o,1)}}get injector(){return new pi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function QO(t,e){let n=t[ce],r=Xt;return t[r]=e,Fl(n,r,2,"#host",null)}function YO(t,e,n,r,i,s,o){let a=i[ce];JO(r,t,e,o);let u=null;e!==null&&(u=Ag(e,i[Ns]));let l=s.rendererFactory.createRenderer(e,n),h=16;n.signals?h=4096:n.onPush&&(h=64);let p=kl(i,GT(n),null,h,i[t.index],t,s,l,null,null,u);return a.firstCreatePass&&Up(a,t,r.length-1),Ll(i,p),i[t.index]=p}function JO(t,e,n,r){for(let i of t)e.mergedAttrs=da(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(zp(e,e.mergedAttrs,!0),n!==null&&LT(r,n,e))}function ZO(t,e,n,r,i,s){let o=bt(),a=i[ce],u=jt(o,i);QT(a,i,o,n,null,r);for(let h=0;h<n.length;h++){let p=o.directiveStart+h,m=Ps(i,a,p,o);Ii(m,i)}YT(a,i,o),u&&Ii(u,i);let l=Ps(i,a,o.directiveStart+o.componentOffset,o);if(t[Zt]=i[Zt]=l,s!==null)for(let h of s)h(l,e);return HT(a,o,i),l}function XO(t,e,n,r){if(r)_p(t,n,["ng-version","18.2.5"]);else{let{attrs:i,classes:s}=ix(e.selectors[0]);i&&_p(t,n,i),s&&s.length>0&&FT(t,n,s.join(" "))}}function ek(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let s=n[i];r.push(s!=null?Array.from(s):null)}}function tk(){let t=bt();_g(ve()[ce],t)}var js=(()=>{class t{static{this.__NG_ELEMENT_ID__=nk}}return t})();function nk(){let t=bt();return ik(t,ve())}var rk=js,ub=class extends rk{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return xl(this._hostTNode,this._hostLView)}get injector(){return new pi(this._hostTNode,this._hostLView)}get parentInjector(){let e=Ig(this._hostTNode,this._hostLView);if(oT(e)){let n=al(e,this._hostLView),r=ol(e),i=n[ce].data[r+8];return new pi(i,n)}else return new pi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=YE(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Lt}createEmbeddedView(e,n,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let o=KE(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},s,o);return this.insertImpl(a,i,WE(this._hostTNode,o)),a}createComponent(e,n,r,i,s){let o=e&&!Ix(e),a;if(o)a=n;else{let C=n||{};a=C.index,r=C.injector,i=C.projectableNodes,s=C.environmentInjector||C.ngModuleRef}let u=o?e:new Ls(br(e)),l=r||this.parentInjector;if(!s&&u.ngModule==null){let N=(o?l:this.parentInjector).get(vt,null);N&&(s=N)}let h=br(u.componentType??{}),p=KE(this._lContainer,h?.id??null),m=p?.firstChild??null,y=u.create(l,i,m,s);return this.insertImpl(y.hostView,a,WE(this._hostTNode,p)),y}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(Cx(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[_t],l=new ub(u,u[nn],u[_t]);l.detach(l.indexOf(e))}}let s=this._adjustIndex(n),o=this._lContainer;return CO(o,i,s,r),e.attachToViewContainerRef(),mD(lp(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=YE(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=Lp(this._lContainer,n);r&&(Zu(lp(this._lContainer),n),xT(r[ce],r))}detach(e){let n=this._adjustIndex(e,-1),r=Lp(this._lContainer,n);return r&&Zu(lp(this._lContainer),n)!=null?new wi(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function YE(t){return t[nl]}function lp(t){return t[nl]||(t[nl]=[])}function ik(t,e){let n,r=e[t.index];return Un(r)?n=r:(n=JT(r,e,null,t),e[t.index]=n,Ll(e,n)),ok(n,e,t,r),new ub(n,t,e)}function sk(t,e){let n=t[Ge],r=n.createComment(""),i=jt(e,t),s=OT(n,i);return fl(n,s,r,BP(n,i),!1),r}var ok=uk,ak=()=>!1;function ck(t,e,n){return ak(t,e,n)}function uk(t,e,n,r){if(t[mi])return;let i;n.type&8?i=mn(r):i=sk(e,n),t[mi]=i}var JE=new Set;function Ci(t){JE.has(t)||(JE.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function lk(t){return typeof t=="function"&&t[Mn]!==void 0}function Bs(t,e){Ci("NgSignals");let n=Qw(t),r=n[Mn];return e?.equal&&(r.equal=e.equal),n.set=i=>Vf(r,i),n.update=i=>Yw(r,i),n.asReadonly=dk.bind(n),n}function dk(){let t=this[Mn];if(t.readonlyFn===void 0){let e=()=>this();e[Mn]=t,t.readonlyFn=e}return t.readonlyFn}function lb(t){return lk(t)&&typeof t.set=="function"}function hk(t){return Object.getPrototypeOf(t.prototype).constructor}function $t(t){let e=hk(t.type),n=!0,r=[t];for(;e;){let i;if(Cr(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new $(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let o=t;o.inputs=$u(t.inputs),o.inputTransforms=$u(t.inputTransforms),o.declaredInputs=$u(t.declaredInputs),o.outputs=$u(t.outputs);let a=i.hostBindings;a&&yk(t,a);let u=i.viewQuery,l=i.contentQueries;if(u&&gk(t,u),l&&mk(t,l),fk(t,i),TM(t.outputs,i.outputs),Cr(i)&&i.data.animation){let h=t.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let s=i.features;if(s)for(let o=0;o<s.length;o++){let a=s[o];a&&a.ngInherit&&a(t),a===$t&&(n=!1)}}e=Object.getPrototypeOf(e)}pk(r)}function fk(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function pk(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=da(i.hostAttrs,n=da(n,i.hostAttrs))}}function $u(t){return t===As?{}:t===kt?[]:t}function gk(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function mk(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,s)=>{e(r,i,s),n(r,i,s)}:t.contentQueries=e}function yk(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}var Ar=class{},pa=class{};var Gp=class extends Ar{constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new ml(this);let s=bD(e);this._bootstrapComponents=ST(s.bootstrap),this._r3Injector=gT(e,n,[{provide:Ar,useValue:this},{provide:ks,useValue:this.componentFactoryResolver},...r],yt(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Wp=class extends pa{constructor(e){super(),this.moduleType=e}create(e){return new Gp(this.moduleType,e,[])}};var yl=class extends Ar{constructor(e){super(),this.componentFactoryResolver=new ml(this),this.instance=null;let n=new ha([...e.providers,{provide:Ar,useValue:this},{provide:ks,useValue:this.componentFactoryResolver}],e.parent||dg(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Ul(t,e,n=null){return new yl({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}function db(t){return _k(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function vk(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function _k(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function Vg(t,e,n){return t[e]=n}function Sr(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function vl(t,e,n,r){let i=Sr(t,e,n);return Sr(t,e+1,r)||i}function Ik(t,e,n,r,i,s){let o=vl(t,e,n,r);return vl(t,e+2,i,s)||o}function wk(t){return(t.flags&32)===32}function Ek(t,e,n,r,i,s,o,a,u){let l=e.consts,h=Fl(e,t,4,o||null,a||null);KT(e,n,h,sl(l,u)),_g(e,h);let p=h.tView=Pg(2,h,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,h),p.queries=e.queries.embeddedTView(h)),h}function Dk(t,e,n,r,i,s,o,a,u,l){let h=n+Xt,p=e.firstCreatePass?Ek(h,e,t,r,i,s,o,a,u):e.data[h];va(p,!1);let m=bk(e,t,p,n);yg()&&Mg(e,t,m,p),Ii(m,t);let y=JT(m,t,m,p);return t[h]=y,Ll(t,y),ck(y,p,t),hg(p)&&zT(e,t,p),u!=null&&qT(t,p,l),p}function Tk(t,e,n,r,i,s,o,a){let u=ve(),l=Tt(),h=sl(l.consts,s);return Dk(u,l,t,e,n,r,i,h,o,a),Tk}var bk=Ck;function Ck(t,e,n,r){return vg(!0),e[Ge].createComment("")}var Ds=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(Ds||{}),hb=(()=>{class t{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=B({token:t,providedIn:"root",factory:()=>new t})}}return t})(),Kp=class t{constructor(){this.ngZone=x(me),this.scheduler=x(Os),this.errorHandler=x(kn,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[Ds.EarlyRead,Ds.Write,Ds.MixedReadWrite,Ds.Read]}execute(){this.executing=!0;for(let e of t.PHASES)for(let n of this.sequences)if(!(n.erroredOrDestroyed||!n.hooks[e]))try{n.pipelinedValue=this.ngZone.runOutsideAngular(()=>n.hooks[e](n.pipelinedValue))}catch(r){n.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&this.sequences.delete(e);for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}static{this.\u0275prov=B({token:t,providedIn:"root",factory:()=>new t})}},Qp=class{constructor(e,n,r,i){this.impl=e,this.hooks=n,this.once=r,this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.unregisterOnDestroy=i.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){this.impl.unregister(this),this.unregisterOnDestroy()}};function Ug(t,e){!e?.injector&&_x(Ug);let n=e?.injector??x(et);return RP(n)?(Ci("NgAfterNextRender"),Sk(t,n,e,!0)):Rk}function Ak(t,e){if(t instanceof Function){let n=[void 0,void 0,void 0,void 0];return n[e]=t,n}else return[t.earlyRead,t.write,t.mixedReadWrite,t.read]}function Sk(t,e,n,r){let i=e.get(hb);i.impl??=e.get(Kp);let s=n?.phase??Ds.MixedReadWrite,o=new Qp(i.impl,Ak(t,s),r,e.get(wg));return i.impl.register(o),o}var Rk={destroy(){}};function jl(t,e,n,r){let i=ve(),s=Ml();if(Sr(i,s,e)){let o=Tt(),a=mg();mO(a,i,t,e,n,r)}return jl}function Nk(t,e,n,r){return Sr(t,Ml(),n)?e+Cs(n)+r:$n}function Mk(t,e,n,r,i,s){let o=Lx(),a=vl(t,o,n,i);return JD(2),a?e+Cs(n)+r+Cs(i)+s:$n}function Hu(t,e){return t<<17|e<<2}function Ei(t){return t>>17&32767}function xk(t){return(t&2)==2}function Pk(t,e){return t&131071|e<<17}function Yp(t){return t|2}function Vs(t){return(t&131068)>>2}function dp(t,e){return t&-131069|e<<2}function Ok(t){return(t&1)===1}function Jp(t){return t|1}function kk(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=Ei(o),u=Vs(o);t[r]=n;let l=!1,h;if(Array.isArray(n)){let p=n;h=p[1],(h===null||ya(p,h)>0)&&(l=!0)}else h=n;if(i)if(u!==0){let m=Ei(t[a+1]);t[r+1]=Hu(m,a),m!==0&&(t[m+1]=dp(t[m+1],r)),t[a+1]=Pk(t[a+1],r)}else t[r+1]=Hu(a,0),a!==0&&(t[a+1]=dp(t[a+1],r)),a=r;else t[r+1]=Hu(u,0),a===0?a=r:t[u+1]=dp(t[u+1],r),u=r;l&&(t[r+1]=Yp(t[r+1])),ZE(t,h,r,!0),ZE(t,h,r,!1),Fk(e,h,t,r,s),o=Hu(a,u),s?e.classBindings=o:e.styleBindings=o}function Fk(t,e,n,r,i){let s=i?t.residualClasses:t.residualStyles;s!=null&&typeof e=="string"&&ya(s,e)>=0&&(n[r+1]=Jp(n[r+1]))}function ZE(t,e,n,r){let i=t[n+1],s=e===null,o=r?Ei(i):Vs(i),a=!1;for(;o!==0&&(a===!1||s);){let u=t[o],l=t[o+1];Lk(u,e)&&(a=!0,t[o+1]=r?Jp(l):Yp(l)),o=r?Ei(l):Vs(l)}a&&(t[n+1]=r?Yp(i):Jp(i))}function Lk(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?ya(t,e)>=0:!1}function Vk(t,e,n){let r=ve(),i=Ml();if(Sr(r,i,e)){let s=Tt(),o=mg();WT(s,o,r,t,e,r[Ge],n,!1)}return Vk}function XE(t,e,n,r,i){let s=e.inputs,o=i?"class":"style";Og(t,n,s[o],o,r)}function fb(t,e,n){return pb(t,e,n,!1),fb}function Bl(t,e){return pb(t,e,null,!0),Bl}function pb(t,e,n,r){let i=ve(),s=Tt(),o=JD(2);if(s.firstUpdatePass&&jk(s,t,o,r),e!==$n&&Sr(i,o,e)){let a=s.data[Di()];qk(s,a,i,i[Ge],t,i[o+1]=Gk(e,n),r,o)}}function Uk(t,e){return e>=t.expandoStartIndex}function jk(t,e,n,r){let i=t.data;if(i[n+1]===null){let s=i[Di()],o=Uk(t,n);Wk(s,r)&&e===null&&!o&&(e=!1),e=Bk(i,s,e,r),kk(i,s,e,n,o,r)}}function Bk(t,e,n,r){let i=$x(t),s=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=hp(null,t,e,n,r),n=ga(n,e.attrs,r),s=null);else{let o=e.directiveStylingLast;if(o===-1||t[o]!==i)if(n=hp(i,t,e,n,r),s===null){let u=$k(t,e,r);u!==void 0&&Array.isArray(u)&&(u=hp(null,t,e,u[1],r),u=ga(u,e.attrs,r),Hk(t,e,r,u))}else s=zk(t,e,r)}return s!==void 0&&(r?e.residualClasses=s:e.residualStyles=s),n}function $k(t,e,n){let r=n?e.classBindings:e.styleBindings;if(Vs(r)!==0)return t[Ei(r)]}function Hk(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[Ei(i)]=r}function zk(t,e,n){let r,i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++){let o=t[s].hostAttrs;r=ga(r,o,n)}return ga(r,e.attrs,n)}function hp(t,e,n,r,i){let s=null,o=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<o&&(s=e[a],r=ga(r,s.hostAttrs,i),s!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function ga(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?i=o:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),zM(t,o,n?!0:e[++s]))}return t===void 0?null:t}function qk(t,e,n,r,i,s,o,a){if(!(e.type&3))return;let u=t.data,l=u[a+1],h=Ok(l)?eD(u,e,n,i,Vs(l),o):void 0;if(!_l(h)){_l(s)||xk(l)&&(s=eD(u,null,n,i,a,o));let p=jD(Di(),n);KP(r,o,p,i,s)}}function eD(t,e,n,r,i,s){let o=e===null,a;for(;i>0;){let u=t[i],l=Array.isArray(u),h=l?u[1]:u,p=h===null,m=n[i+1];m===$n&&(m=p?kt:void 0);let y=p?np(m,r):h===r?m:void 0;if(l&&!_l(y)&&(y=np(u,r)),_l(y)&&(a=y,o))return a;let C=t[i+1];i=o?Ei(C):Vs(C)}if(e!==null){let u=s?e.residualClasses:e.residualStyles;u!=null&&(a=np(u,r))}return a}function _l(t){return t!==void 0}function Gk(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=yt(Pl(t)))),t}function Wk(t,e){return(t.flags&(e?8:16))!==0}function Kk(t,e,n,r,i,s){let o=e.consts,a=sl(o,i),u=Fl(e,t,2,r,a);return KT(e,n,u,sl(o,s)),u.attrs!==null&&zp(u,u.attrs,!1),u.mergedAttrs!==null&&zp(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function gb(t,e,n,r){let i=ve(),s=Tt(),o=Xt+t,a=i[Ge],u=s.firstCreatePass?Kk(o,s,i,e,n,r):s.data[o],l=Qk(s,i,u,a,e,t);i[o]=l;let h=hg(u);return va(u,!0),LT(a,l,u),!wk(u)&&yg()&&Mg(s,i,l,u),Rx()===0&&Ii(l,i),Nx(),h&&(zT(s,i,u),HT(s,u,i)),r!==null&&qT(i,u),gb}function mb(){let t=bt();QD()?Fx():(t=t.parent,va(t,!1));let e=t;Px(e)&&Ox(),Mx();let n=Tt();return n.firstCreatePass&&(_g(n,t),kD(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&Qx(e)&&XE(n,e,ve(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&Yx(e)&&XE(n,e,ve(),e.stylesWithoutHost,!1),mb}function jg(t,e,n,r){return gb(t,e,n,r),mb(),jg}var Qk=(t,e,n,r,i,s)=>(vg(!0),RT(r,i,qx()));function f6(){return ve()}var fi=void 0;function Yk(t){let e=t,n=Math.floor(Math.abs(t)),r=t.toString().replace(/^[^.]*\.?/,"").length;return n===1&&r===0?1:5}var Jk=["en",[["a","p"],["AM","PM"],fi],[["AM","PM"],fi,fi],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],fi,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],fi,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",fi,"{1} 'at' {0}",fi],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",Yk],fp={};function Ht(t){let e=Zk(t),n=tD(e);if(n)return n;let r=e.split("-")[0];if(n=tD(r),n)return n;if(r==="en")return Jk;throw new $(701,!1)}function tD(t){return t in fp||(fp[t]=aa.ng&&aa.ng.common&&aa.ng.common.locales&&aa.ng.common.locales[t]),fp[t]}var Fe=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(Fe||{});function Zk(t){return t.toLowerCase().replace(/_/g,"-")}var Il="en-US";var Xk=Il;function e1(t){typeof t=="string"&&(Xk=t.toLowerCase().replace(/_/g,"-"))}var t1=(t,e,n)=>{};function Ai(t,e,n,r){let i=ve(),s=Tt(),o=bt();return yb(s,i,i[Ge],o,t,e,r),Ai}function n1(t,e,n,r){let i=t.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let o=i[s];if(o===n&&i[s+1]===r){let a=e[tl],u=i[s+2];return a.length>u?a[u]:null}typeof o=="string"&&(s+=2)}return null}function yb(t,e,n,r,i,s,o){let a=hg(r),l=t.firstCreatePass&&wO(t),h=e[Zt],p=IO(e),m=!0;if(r.type&3||o){let N=jt(r,e),R=o?o(N):N,F=p.length,H=o?X=>o(mn(X[r.index])):r.index,V=null;if(!o&&a&&(V=n1(t,e,i,r.index)),V!==null){let X=V.__ngLastListenerFn__||V;X.__ngNextListenerFn__=s,V.__ngLastListenerFn__=s,m=!1}else{s=rD(r,e,h,s),t1(N,i,s);let X=n.listen(R,i,s);p.push(s,X),l&&l.push(i,H,F,F+1)}}else s=rD(r,e,h,s);let y=r.outputs,C;if(m&&y!==null&&(C=y[i])){let N=C.length;if(N)for(let R=0;R<N;R+=2){let F=C[R],H=C[R+1],we=e[F][H].subscribe(s),G=p.length;p.push(s,we),l&&l.push(i,r.index,G,-(G+1))}}}function nD(t,e,n,r){let i=pe(null);try{return dn(6,e,n),n(r)!==!1}catch(s){return XT(t,s),!1}finally{dn(7,e,n),pe(i)}}function rD(t,e,n,r){return function i(s){if(s===Function)return r;let o=t.componentOffset>-1?Rr(t.index,e):e;Fg(o,5);let a=nD(e,n,r,s),u=i.__ngNextListenerFn__;for(;u;)a=nD(e,n,u,s)&&a,u=u.__ngNextListenerFn__;return a}}function p6(t=1){return zx(t)}function r1(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function g6(t,e=""){let n=ve(),r=Tt(),i=t+Xt,s=r.firstCreatePass?Fl(r,i,1,e,null):r.data[i],o=i1(r,n,s,e,t);n[i]=o,yg()&&Mg(r,n,o,s),va(s,!1)}var i1=(t,e,n,r,i)=>(vg(!0),MP(e[Ge],r));function s1(t){return vb("",t,""),s1}function vb(t,e,n){let r=ve(),i=Nk(r,t,e,n);return i!==$n&&eb(r,Di(),i),vb}function o1(t,e,n,r,i){let s=ve(),o=Mk(s,t,e,n,r,i);return o!==$n&&eb(s,Di(),o),o1}function a1(t,e,n){lb(e)&&(e=e());let r=ve(),i=Ml();if(Sr(r,i,e)){let s=Tt(),o=mg();WT(s,o,r,t,e,r[Ge],n,!1)}return a1}function m6(t,e){let n=lb(t);return n&&t.set(e),n}function c1(t,e){let n=ve(),r=Tt(),i=bt();return yb(r,n,n[Ge],i,t,e),c1}function u1(t,e,n){let r=Tt();if(r.firstCreatePass){let i=Cr(t);Zp(n,r.data,r.blueprint,i,!0),Zp(e,r.data,r.blueprint,i,!1)}}function Zp(t,e,n,r,i){if(t=mt(t),Array.isArray(t))for(let s=0;s<t.length;s++)Zp(t[s],e,n,r,i);else{let s=Tt(),o=ve(),a=bt(),u=Rs(t)?t:mt(t.provide),l=MD(t),h=a.providerIndexes&1048575,p=a.directiveStart,m=a.providerIndexes>>20;if(Rs(t)||!t.multi){let y=new _i(l,i,te),C=gp(u,e,i?h:h+m,p);C===-1?(Rp(ul(a,o),s,u),pp(s,t,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(y),o.push(y)):(n[C]=y,o[C]=y)}else{let y=gp(u,e,h+m,p),C=gp(u,e,h,h+m),N=y>=0&&n[y],R=C>=0&&n[C];if(i&&!R||!i&&!N){Rp(ul(a,o),s,u);let F=h1(i?d1:l1,n.length,i,r,l);!i&&R&&(n[C].providerFactory=F),pp(s,t,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(F),o.push(F)}else{let F=_b(n[i?C:y],l,!i&&r);pp(s,t,y>-1?y:C,F)}!i&&r&&R&&n[C].componentProviders++}}}function pp(t,e,n,r){let i=Rs(e),s=hx(e);if(i||s){let u=(s?mt(e.useClass):e).prototype.ngOnDestroy;if(u){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let h=l.indexOf(n);h===-1?l.push(n,[r,u]):l[h+1].push(r,u)}else l.push(n,u)}}}function _b(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function gp(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function l1(t,e,n,r){return Xp(this.multi,[])}function d1(t,e,n,r){let i=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,a=Ps(n,n[ce],this.providerFactory.index,r);s=a.slice(0,o),Xp(i,s);for(let u=o;u<a.length;u++)s.push(a[u])}else s=[],Xp(i,s);return s}function Xp(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function h1(t,e,n,r,i){let s=new _i(t,n,te);return s.multi=[],s.index=e,s.componentProviders=0,_b(s,i,r&&!n),s}function Mr(t,e=[]){return n=>{n.providersResolver=(r,i)=>u1(r,i?i(t):t,e)}}var f1=(()=>{class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=SD(!1,n.type),i=r.length>0?Ul([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=B({token:t,providedIn:"environment",factory:()=>new t(z(vt))})}}return t})();function Ib(t){Ci("NgStandalone"),t.getStandaloneInjector=e=>e.get(f1).getOrCreateStandaloneInjector(t)}function y6(t,e,n,r,i){return wb(ve(),Nl(),t,e,n,r,i)}function v6(t,e,n,r,i,s,o){return g1(ve(),Nl(),t,e,n,r,i,s,o)}function Bg(t,e){let n=t[e];return n===$n?void 0:n}function p1(t,e,n,r,i,s){let o=e+n;return Sr(t,o,i)?Vg(t,o+1,s?r.call(s,i):r(i)):Bg(t,o+1)}function wb(t,e,n,r,i,s,o){let a=e+n;return vl(t,a,i,s)?Vg(t,a+2,o?r.call(o,i,s):r(i,s)):Bg(t,a+2)}function g1(t,e,n,r,i,s,o,a,u){let l=e+n;return Ik(t,l,i,s,o,a)?Vg(t,l+4,u?r.call(u,i,s,o,a):r(i,s,o,a)):Bg(t,l+4)}function _6(t,e){let n=Tt(),r,i=t+Xt;n.firstCreatePass?(r=m1(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let s=r.factory||(r.factory=gi(r.type,!0)),o,a=Dt(te);try{let u=cl(!1),l=s();return cl(u),r1(n,ve(),i,l),l}finally{Dt(a)}}function m1(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function I6(t,e,n){let r=t+Xt,i=ve(),s=$D(i,r);return Eb(i,r)?p1(i,Nl(),e,s.transform,n,s):s.transform(n)}function w6(t,e,n,r){let i=t+Xt,s=ve(),o=$D(s,i);return Eb(s,i)?wb(s,Nl(),e,o.transform,n,r,o):o.transform(n,r)}function Eb(t,e){return t[ce].data[e].pure}var Ln=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},Db=new Ln("18.2.5");var $l=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();var Tb=new L("");function xr(t){return!!t&&typeof t.then=="function"}function $g(t){return!!t&&typeof t.subscribe=="function"}var Hl=new L(""),bb=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=x(Hl,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let s=i();if(xr(s))n.push(s);else if($g(s)){let o=new Promise((a,u)=>{s.subscribe({complete:a,error:u})});n.push(o)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),_a=new L("");function y1(){Kw(()=>{throw new $(600,!1)})}function v1(t){return t.isBoundToModule}var _1=10;function I1(t,e,n){try{let r=n();return xr(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var Pr=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=x(gP),this.afterRenderManager=x(hb),this.zonelessEnabled=x(Lg),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new Ze,this.afterTick=new Ze,this.componentTypes=[],this.components=[],this.isStable=x(Bn).hasPendingTasks.pipe(Y(n=>!n)),this._injector=x(vt)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}get injector(){return this._injector}bootstrap(n,r){let i=n instanceof gl;if(!this._injector.get(bb).done){let m=!i&&TD(n),y=!1;throw new $(405,y)}let o;i?o=n:o=this._injector.get(ks).resolveComponentFactory(n),this.componentTypes.push(o.componentType);let a=v1(o)?void 0:this._injector.get(Ar),u=r||o.selector,l=o.create(et.NULL,[],u,a),h=l.location.nativeElement,p=l.injector.get(Tb,null);return p?.registerApplication(h),l.onDestroy(()=>{this.detachView(l.hostView),Ku(this.components,l),p?.unregisterApplication(h)}),this._loadComponent(l),l}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new $(101,!1);let n=pe(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,pe(n),this.afterTick.next()}}synchronize(){let n=null;this._injector.destroyed||(n=this._injector.get(Fs,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let r=0;for(;this.dirtyFlags!==0&&r++<_1;)this.synchronizeOnce(n)}synchronizeOnce(n){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(r);for(let{_lView:i,notifyErrorHandler:s}of this._views)w1(i,s,r,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else n?.begin?.(),n?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>Sl(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;Ku(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);let r=this._injector.get(_a,[]);[...this._bootstrapListeners,...r].forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Ku(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new $(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Ku(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function w1(t,e,n,r){if(!n&&!Sl(t))return;rb(t,e,n&&!r?0:1)}var eg=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},zl=(()=>{class t{compileModuleSync(n){return new Wp(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=bD(n),s=ST(i.declarations).reduce((o,a)=>{let u=br(a);return u&&o.push(new Ls(u)),o},[]);return new eg(r,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var E1=(()=>{class t{constructor(){this.zone=x(me),this.changeDetectionScheduler=x(Os),this.applicationRef=x(Pr)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),D1=new L("",{factory:()=>!1});function Cb({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new me(ae(k({},Ab()),{scheduleInRootZone:n})),[{provide:me,useFactory:t},{provide:Ss,multi:!0,useFactory:()=>{let r=x(E1,{optional:!0});return()=>r.initialize()}},{provide:Ss,multi:!0,useFactory:()=>{let r=x(T1);return()=>{r.initialize()}}},e===!0?{provide:ab,useValue:!0}:[],{provide:cb,useValue:n??mT}]}function E6(t){let e=t?.ignoreChangesOutsideZone,n=t?.scheduleInRootZone,r=Cb({ngZoneFactory:()=>{let i=Ab(t);return i.scheduleInRootZone=n,i.shouldCoalesceEventChangeDetection&&Ci("NgZone_CoalesceEvent"),new me(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:n});return Vt([{provide:D1,useValue:!0},{provide:Lg,useValue:!1},r])}function Ab(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var T1=(()=>{class t{constructor(){this.subscription=new Pe,this.initialized=!1,this.zone=x(me),this.pendingTasks=x(Bn)}initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{me.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{me.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var b1=(()=>{class t{constructor(){this.appRef=x(Pr),this.taskService=x(Bn),this.ngZone=x(me),this.zonelessEnabled=x(Lg),this.disableScheduling=x(ab,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Pe,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(dl):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(x(cb,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Op||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?UE:yT;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(dl+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(n),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,UE(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function C1(){return typeof $localize<"u"&&$localize.locale||Il}var ql=new L("",{providedIn:"root",factory:()=>x(ql,se.Optional|se.SkipSelf)||C1()});var Sb=new L("");function zu(t){return!!t.platformInjector}function A1(t){let e=zu(t)?t.r3Injector:t.moduleRef.injector,n=e.get(me);return n.run(()=>{zu(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(kn,null),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:s=>{r.handleError(s)}})}),zu(t)){let s=()=>e.destroy(),o=t.platformInjector.get(Sb);o.add(s),e.onDestroy(()=>{i.unsubscribe(),o.delete(s)})}else t.moduleRef.onDestroy(()=>{Ku(t.allPlatformModules,t.moduleRef),i.unsubscribe()});return I1(r,n,()=>{let s=e.get(bb);return s.runInitializers(),s.donePromise.then(()=>{let o=e.get(ql,Il);if(e1(o||Il),zu(t)){let a=e.get(Pr);return t.rootComponent!==void 0&&a.bootstrap(t.rootComponent),a}else return S1(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}function S1(t,e){let n=t.injector.get(Pr);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(n);else throw new $(-403,!1);e.push(t)}var Qu=null;function R1(t=[],e){return et.create({name:e,providers:[{provide:bl,useValue:"platform"},{provide:Sb,useValue:new Set([()=>Qu=null])},...t]})}function N1(t=[]){if(Qu)return Qu;let e=R1(t);return Qu=e,y1(),M1(e),e}function M1(t){t.get(bg,null)?.forEach(n=>n())}var Or=(()=>{class t{static{this.__NG_ELEMENT_ID__=x1}}return t})();function x1(t){return P1(bt(),ve(),(t&16)===16)}function P1(t,e,n){if(Al(t)&&!n){let r=Rr(t.index,e);return new wi(r,r)}else if(t.type&175){let r=e[gn];return new wi(r,e)}return null}var tg=class{constructor(){}supports(e){return db(e)}create(e){return new ng(e)}},O1=(t,e)=>e,ng=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||O1}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){let o=!r||n&&n.currentIndex<iD(r,i,s)?n:r,a=iD(o,i,s),u=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,o.previousIndex==null)i++;else{s||(s=[]);let l=a-i,h=u-i;if(l!=h){for(let m=0;m<l;m++){let y=m<s.length?s[m]:s[m]=0,C=y+m;h<=C&&C<l&&(s[m]=y+1)}let p=o.previousIndex;s[p]=h-l}}a!==u&&e(o,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!db(e))throw new $(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,s,o;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,s,o,a),r=!0):(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)),n=n._next}else i=0,vk(e,a=>{o=this._trackByFn(i,a),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,a,o,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return e===null?s=this._itTail:(s=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new rg(n,r),s,i)),e}_verifyReinsertion(e,n,r,i){let s=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return s!==null?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,s=e._nextRemoved;return i===null?this._removalsHead=s:i._nextRemoved=s,s===null?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new wl),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new wl),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},rg=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},ig=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},wl=class{constructor(){this.map=new Map}put(e){let n=e.trackById,r=this.map.get(n);r||(r=new ig,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function iD(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function sD(){return new Hg([new tg])}var Hg=(()=>{class t{static{this.\u0275prov=B({token:t,providedIn:"root",factory:sD})}constructor(n){this.factories=n}static create(n,r){if(r!=null){let i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||sD()),deps:[[t,new og,new ct]]}}find(n){let r=this.factories.find(i=>i.supports(n));if(r!=null)return r;throw new $(901,!1)}}return t})();function Rb(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=N1(r),s=[Cb({}),{provide:Os,useExisting:b1},...n||[]],o=new yl({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1});return A1({r3Injector:o.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}}var Nb=new L("");function Ia(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function $s(t,e){Ci("NgSignals");let n=qw(t);return e?.equal&&(n[Mn].equal=e.equal),n}function zt(t){let e=pe(null);try{return t()}finally{pe(e)}}function Mb(t){let e=br(t);if(!e)return null;let n=new Ls(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var Vb=null;function Gn(){return Vb}function Ub(t){Vb??=t}var ed=class{};var tt=new L(""),em=(()=>{class t{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:()=>x(V1),providedIn:"platform"})}}return t})(),jb=new L(""),V1=(()=>{class t extends em{constructor(){super(),this._doc=x(tt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Gn().getBaseHref(this._doc)}onPopState(n){let r=Gn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=Gn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:()=>new t,providedIn:"platform"})}}return t})();function tm(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function xb(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function zn(t){return t&&t[0]!=="?"?"?"+t:t}var Si=(()=>{class t{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:()=>x(nm),providedIn:"root"})}}return t})(),Bb=new L(""),nm=(()=>{class t extends Si{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??x(tt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return tm(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+zn(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,s){let o=this.prepareExternalUrl(i+zn(s));this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){let o=this.prepareExternalUrl(i+zn(s));this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(r){return new(r||t)(z(em),z(Bb,8))}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),$b=(()=>{class t extends Si{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(n){let r=tm(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,s){let o=this.prepareExternalUrl(i+zn(s));o.length==0&&(o=this._platformLocation.pathname),this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){let o=this.prepareExternalUrl(i+zn(s));o.length==0&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(r){return new(r||t)(z(em),z(Bb,8))}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac})}}return t})(),qs=(()=>{class t{constructor(n){this._subject=new Oe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=B1(xb(Pb(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+zn(r))}normalize(n){return t.stripTrailingSlash(j1(this._basePath,Pb(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+zn(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+zn(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}static{this.normalizeQueryParams=zn}static{this.joinWithSlash=tm}static{this.stripTrailingSlash=xb}static{this.\u0275fac=function(r){return new(r||t)(z(Si))}}static{this.\u0275prov=B({token:t,factory:()=>U1(),providedIn:"root"})}}return t})();function U1(){return new qs(z(Si))}function j1(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function Pb(t){return t.replace(/\/index.html$/,"")}function B1(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var It=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}(It||{}),be=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}(be||{}),Nt=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}(Nt||{}),kr={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function $1(t){return Ht(t)[Fe.LocaleId]}function H1(t,e,n){let r=Ht(t),i=[r[Fe.DayPeriodsFormat],r[Fe.DayPeriodsStandalone]],s=qt(i,e);return qt(s,n)}function z1(t,e,n){let r=Ht(t),i=[r[Fe.DaysFormat],r[Fe.DaysStandalone]],s=qt(i,e);return qt(s,n)}function q1(t,e,n){let r=Ht(t),i=[r[Fe.MonthsFormat],r[Fe.MonthsStandalone]],s=qt(i,e);return qt(s,n)}function G1(t,e){let r=Ht(t)[Fe.Eras];return qt(r,e)}function Gl(t,e){let n=Ht(t);return qt(n[Fe.DateFormat],e)}function Wl(t,e){let n=Ht(t);return qt(n[Fe.TimeFormat],e)}function Kl(t,e){let r=Ht(t)[Fe.DateTimeFormat];return qt(r,e)}function nd(t,e){let n=Ht(t),r=n[Fe.NumberSymbols][e];if(typeof r>"u"){if(e===kr.CurrencyDecimal)return n[Fe.NumberSymbols][kr.Decimal];if(e===kr.CurrencyGroup)return n[Fe.NumberSymbols][kr.Group]}return r}function Hb(t){if(!t[Fe.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[Fe.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function W1(t){let e=Ht(t);return Hb(e),(e[Fe.ExtraData][2]||[]).map(r=>typeof r=="string"?zg(r):[zg(r[0]),zg(r[1])])}function K1(t,e,n){let r=Ht(t);Hb(r);let i=[r[Fe.ExtraData][0],r[Fe.ExtraData][1]],s=qt(i,e)||[];return qt(s,n)||[]}function qt(t,e){for(let n=e;n>-1;n--)if(typeof t[n]<"u")return t[n];throw new Error("Locale data API: locale data undefined")}function zg(t){let[e,n]=t.split(":");return{hours:+e,minutes:+n}}var Q1=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Ql={},Y1=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,qn=function(t){return t[t.Short=0]="Short",t[t.ShortGMT=1]="ShortGMT",t[t.Long=2]="Long",t[t.Extended=3]="Extended",t}(qn||{}),Ie=function(t){return t[t.FullYear=0]="FullYear",t[t.Month=1]="Month",t[t.Date=2]="Date",t[t.Hours=3]="Hours",t[t.Minutes=4]="Minutes",t[t.Seconds=5]="Seconds",t[t.FractionalSeconds=6]="FractionalSeconds",t[t.Day=7]="Day",t}(Ie||{}),_e=function(t){return t[t.DayPeriods=0]="DayPeriods",t[t.Days=1]="Days",t[t.Months=2]="Months",t[t.Eras=3]="Eras",t}(_e||{});function J1(t,e,n,r){let i=oF(t);e=Hn(n,e)||e;let o=[],a;for(;e;)if(a=Y1.exec(e),a){o=o.concat(a.slice(1));let h=o.pop();if(!h)break;e=h}else{o.push(e);break}let u=i.getTimezoneOffset();r&&(u=qb(r,u),i=sF(i,r,!0));let l="";return o.forEach(h=>{let p=rF(h);l+=p?p(i,n,u):h==="''"?"'":h.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}function td(t,e,n){let r=new Date(0);return r.setFullYear(t,e,n),r.setHours(0,0,0),r}function Hn(t,e){let n=$1(t);if(Ql[n]??={},Ql[n][e])return Ql[n][e];let r="";switch(e){case"shortDate":r=Gl(t,Nt.Short);break;case"mediumDate":r=Gl(t,Nt.Medium);break;case"longDate":r=Gl(t,Nt.Long);break;case"fullDate":r=Gl(t,Nt.Full);break;case"shortTime":r=Wl(t,Nt.Short);break;case"mediumTime":r=Wl(t,Nt.Medium);break;case"longTime":r=Wl(t,Nt.Long);break;case"fullTime":r=Wl(t,Nt.Full);break;case"short":let i=Hn(t,"shortTime"),s=Hn(t,"shortDate");r=Yl(Kl(t,Nt.Short),[i,s]);break;case"medium":let o=Hn(t,"mediumTime"),a=Hn(t,"mediumDate");r=Yl(Kl(t,Nt.Medium),[o,a]);break;case"long":let u=Hn(t,"longTime"),l=Hn(t,"longDate");r=Yl(Kl(t,Nt.Long),[u,l]);break;case"full":let h=Hn(t,"fullTime"),p=Hn(t,"fullDate");r=Yl(Kl(t,Nt.Full),[h,p]);break}return r&&(Ql[n][e]=r),r}function Yl(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(n,r){return e!=null&&r in e?e[r]:n})),t}function rn(t,e,n="-",r,i){let s="";(t<0||i&&t<=0)&&(i?t=-t+1:(t=-t,s=n));let o=String(t);for(;o.length<e;)o="0"+o;return r&&(o=o.slice(o.length-e)),s+o}function Z1(t,e){return rn(t,3).substring(0,e)}function Be(t,e,n=0,r=!1,i=!1){return function(s,o){let a=X1(t,s);if((n>0||a>-n)&&(a+=n),t===Ie.Hours)a===0&&n===-12&&(a=12);else if(t===Ie.FractionalSeconds)return Z1(a,e);let u=nd(o,kr.MinusSign);return rn(a,e,u,r,i)}}function X1(t,e){switch(t){case Ie.FullYear:return e.getFullYear();case Ie.Month:return e.getMonth();case Ie.Date:return e.getDate();case Ie.Hours:return e.getHours();case Ie.Minutes:return e.getMinutes();case Ie.Seconds:return e.getSeconds();case Ie.FractionalSeconds:return e.getMilliseconds();case Ie.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}function Se(t,e,n=It.Format,r=!1){return function(i,s){return eF(i,s,t,e,n,r)}}function eF(t,e,n,r,i,s){switch(n){case _e.Months:return q1(e,i,r)[t.getMonth()];case _e.Days:return z1(e,i,r)[t.getDay()];case _e.DayPeriods:let o=t.getHours(),a=t.getMinutes();if(s){let l=W1(e),h=K1(e,i,r),p=l.findIndex(m=>{if(Array.isArray(m)){let[y,C]=m,N=o>=y.hours&&a>=y.minutes,R=o<C.hours||o===C.hours&&a<C.minutes;if(y.hours<C.hours){if(N&&R)return!0}else if(N||R)return!0}else if(m.hours===o&&m.minutes===a)return!0;return!1});if(p!==-1)return h[p]}return H1(e,i,r)[o<12?0:1];case _e.Eras:return G1(e,r)[t.getFullYear()<=0?0:1];default:let u=n;throw new Error(`unexpected translation type ${u}`)}}function Jl(t){return function(e,n,r){let i=-1*r,s=nd(n,kr.MinusSign),o=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case qn.Short:return(i>=0?"+":"")+rn(o,2,s)+rn(Math.abs(i%60),2,s);case qn.ShortGMT:return"GMT"+(i>=0?"+":"")+rn(o,1,s);case qn.Long:return"GMT"+(i>=0?"+":"")+rn(o,2,s)+":"+rn(Math.abs(i%60),2,s);case qn.Extended:return r===0?"Z":(i>=0?"+":"")+rn(o,2,s)+":"+rn(Math.abs(i%60),2,s);default:throw new Error(`Unknown zone width "${t}"`)}}}var tF=0,Xl=4;function nF(t){let e=td(t,tF,1).getDay();return td(t,0,1+(e<=Xl?Xl:Xl+7)-e)}function zb(t){let e=t.getDay(),n=e===0?-3:Xl-e;return td(t.getFullYear(),t.getMonth(),t.getDate()+n)}function qg(t,e=!1){return function(n,r){let i;if(e){let s=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,o=n.getDate();i=1+Math.floor((o+s)/7)}else{let s=zb(n),o=nF(s.getFullYear()),a=s.getTime()-o.getTime();i=1+Math.round(a/6048e5)}return rn(i,t,nd(r,kr.MinusSign))}}function Zl(t,e=!1){return function(n,r){let s=zb(n).getFullYear();return rn(s,t,nd(r,kr.MinusSign),e)}}var Gg={};function rF(t){if(Gg[t])return Gg[t];let e;switch(t){case"G":case"GG":case"GGG":e=Se(_e.Eras,be.Abbreviated);break;case"GGGG":e=Se(_e.Eras,be.Wide);break;case"GGGGG":e=Se(_e.Eras,be.Narrow);break;case"y":e=Be(Ie.FullYear,1,0,!1,!0);break;case"yy":e=Be(Ie.FullYear,2,0,!0,!0);break;case"yyy":e=Be(Ie.FullYear,3,0,!1,!0);break;case"yyyy":e=Be(Ie.FullYear,4,0,!1,!0);break;case"Y":e=Zl(1);break;case"YY":e=Zl(2,!0);break;case"YYY":e=Zl(3);break;case"YYYY":e=Zl(4);break;case"M":case"L":e=Be(Ie.Month,1,1);break;case"MM":case"LL":e=Be(Ie.Month,2,1);break;case"MMM":e=Se(_e.Months,be.Abbreviated);break;case"MMMM":e=Se(_e.Months,be.Wide);break;case"MMMMM":e=Se(_e.Months,be.Narrow);break;case"LLL":e=Se(_e.Months,be.Abbreviated,It.Standalone);break;case"LLLL":e=Se(_e.Months,be.Wide,It.Standalone);break;case"LLLLL":e=Se(_e.Months,be.Narrow,It.Standalone);break;case"w":e=qg(1);break;case"ww":e=qg(2);break;case"W":e=qg(1,!0);break;case"d":e=Be(Ie.Date,1);break;case"dd":e=Be(Ie.Date,2);break;case"c":case"cc":e=Be(Ie.Day,1);break;case"ccc":e=Se(_e.Days,be.Abbreviated,It.Standalone);break;case"cccc":e=Se(_e.Days,be.Wide,It.Standalone);break;case"ccccc":e=Se(_e.Days,be.Narrow,It.Standalone);break;case"cccccc":e=Se(_e.Days,be.Short,It.Standalone);break;case"E":case"EE":case"EEE":e=Se(_e.Days,be.Abbreviated);break;case"EEEE":e=Se(_e.Days,be.Wide);break;case"EEEEE":e=Se(_e.Days,be.Narrow);break;case"EEEEEE":e=Se(_e.Days,be.Short);break;case"a":case"aa":case"aaa":e=Se(_e.DayPeriods,be.Abbreviated);break;case"aaaa":e=Se(_e.DayPeriods,be.Wide);break;case"aaaaa":e=Se(_e.DayPeriods,be.Narrow);break;case"b":case"bb":case"bbb":e=Se(_e.DayPeriods,be.Abbreviated,It.Standalone,!0);break;case"bbbb":e=Se(_e.DayPeriods,be.Wide,It.Standalone,!0);break;case"bbbbb":e=Se(_e.DayPeriods,be.Narrow,It.Standalone,!0);break;case"B":case"BB":case"BBB":e=Se(_e.DayPeriods,be.Abbreviated,It.Format,!0);break;case"BBBB":e=Se(_e.DayPeriods,be.Wide,It.Format,!0);break;case"BBBBB":e=Se(_e.DayPeriods,be.Narrow,It.Format,!0);break;case"h":e=Be(Ie.Hours,1,-12);break;case"hh":e=Be(Ie.Hours,2,-12);break;case"H":e=Be(Ie.Hours,1);break;case"HH":e=Be(Ie.Hours,2);break;case"m":e=Be(Ie.Minutes,1);break;case"mm":e=Be(Ie.Minutes,2);break;case"s":e=Be(Ie.Seconds,1);break;case"ss":e=Be(Ie.Seconds,2);break;case"S":e=Be(Ie.FractionalSeconds,1);break;case"SS":e=Be(Ie.FractionalSeconds,2);break;case"SSS":e=Be(Ie.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=Jl(qn.Short);break;case"ZZZZZ":e=Jl(qn.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Jl(qn.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=Jl(qn.Long);break;default:return null}return Gg[t]=e,e}function qb(t,e){t=t.replace(/:/g,"");let n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function iF(t,e){return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+e),t}function sF(t,e,n){let r=n?-1:1,i=t.getTimezoneOffset(),s=qb(e,i);return iF(t,r*(s-i))}function oF(t){if(Ob(t))return t;if(typeof t=="number"&&!isNaN(t))return new Date(t);if(typeof t=="string"){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){let[i,s=1,o=1]=t.split("-").map(a=>+a);return td(i,s-1,o)}let n=parseFloat(t);if(!isNaN(t-n))return new Date(n);let r;if(r=t.match(Q1))return aF(r)}let e=new Date(t);if(!Ob(e))throw new Error(`Unable to convert "${t}" into a date`);return e}function aF(t){let e=new Date(0),n=0,r=0,i=t[8]?e.setUTCFullYear:e.setFullYear,s=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));let o=Number(t[4]||0)-n,a=Number(t[5]||0)-r,u=Number(t[6]||0),l=Math.floor(parseFloat("0."+(t[7]||0))*1e3);return s.call(e,o,a,u,l),e}function Ob(t){return t instanceof Date&&!isNaN(t.valueOf())}function rd(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,s]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var Wg=/\s+/,kb=[],z6=(()=>{class t{constructor(n,r){this._ngEl=n,this._renderer=r,this.initialClasses=kb,this.stateMap=new Map}set klass(n){this.initialClasses=n!=null?n.trim().split(Wg):kb}set ngClass(n){this.rawClass=typeof n=="string"?n.trim().split(Wg):n}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(let r of n)this._updateState(r,!0);else if(n!=null)for(let r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){let i=this.stateMap.get(n);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let n of this.stateMap){let r=n[0],i=n[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(n,r){n=n.trim(),n.length>0&&n.split(Wg).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static{this.\u0275fac=function(r){return new(r||t)(te(Nr),te(bi))}}static{this.\u0275dir=je({type:t,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0})}}return t})();var Kg=class{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},q6=(()=>{class t{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;if(!this._differ&&n)if(0)try{}catch{}else this._differ=this._differs.find(n).create(this.ngForTrackBy)}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let r=this._viewContainer;n.forEachOperation((i,s,o)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new Kg(i.item,this._ngForOf,-1,-1),o===null?void 0:o);else if(o==null)r.remove(s===null?void 0:s);else if(s!==null){let a=r.get(s);r.move(a,o),Fb(a,i)}});for(let i=0,s=r.length;i<s;i++){let a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{let s=r.get(i.currentIndex);Fb(s,i)})}static ngTemplateContextGuard(n,r){return!0}static{this.\u0275fac=function(r){return new(r||t)(te(js),te(Vl),te(Hg))}}static{this.\u0275dir=je({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return t})();function Fb(t,e){t.context.$implicit=e.item}var G6=(()=>{class t{constructor(n,r){this._viewContainer=n,this._context=new Qg,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){Lb("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){Lb("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}static{this.\u0275fac=function(r){return new(r||t)(te(js),te(Vl))}}static{this.\u0275dir=je({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return t})(),Qg=class{constructor(){this.$implicit=null,this.ngIf=null}};function Lb(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${yt(e)}'.`)}function Gb(t,e){return new $(2100,!1)}var Yg=class{createSubscription(e,n){return zt(()=>e.subscribe({next:n,error:r=>{throw r}}))}dispose(e){zt(()=>e.unsubscribe())}},Jg=class{createSubscription(e,n){return e.then(n,r=>{throw r})}dispose(e){}},cF=new Jg,uF=new Yg,W6=(()=>{class t{constructor(n){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=n}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(n){if(!this._obj){if(n)try{this.markForCheckOnValueUpdate=!1,this._subscribe(n)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return n!==this._obj?(this._dispose(),this.transform(n)):this._latestValue}_subscribe(n){this._obj=n,this._strategy=this._selectStrategy(n),this._subscription=this._strategy.createSubscription(n,r=>this._updateLatestValue(n,r))}_selectStrategy(n){if(xr(n))return cF;if($g(n))return uF;throw Gb(t,n)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(n,r){n===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static{this.\u0275fac=function(r){return new(r||t)(te(Or,16))}}static{this.\u0275pipe=ug({name:"async",type:t,pure:!1,standalone:!0})}}return t})();var lF="mediumDate",dF=new L(""),hF=new L(""),K6=(()=>{class t{constructor(n,r,i){this.locale=n,this.defaultTimezone=r,this.defaultOptions=i}transform(n,r,i,s){if(n==null||n===""||n!==n)return null;try{let o=r??this.defaultOptions?.dateFormat??lF,a=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return J1(n,o,s||this.locale,a)}catch(o){throw Gb(t,o.message)}}static{this.\u0275fac=function(r){return new(r||t)(te(ql,16),te(dF,24),te(hF,24))}}static{this.\u0275pipe=ug({name:"date",type:t,pure:!0,standalone:!0})}}return t})();var fF=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=tn({type:t})}static{this.\u0275inj=en({})}}return t})(),rm="browser",pF="server";function gF(t){return t===rm}function id(t){return t===pF}var Wb=(()=>{class t{static{this.\u0275prov=B({token:t,providedIn:"root",factory:()=>gF(x(Bt))?new Zg(x(tt),window):new Xg})}}return t})(),Zg=class{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let n=mF(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}};function mF(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let s=i.shadowRoot;if(s){let o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}var Xg=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},zs=class{};var Ea=class{},od=class{},Wn=class t{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),s=i.toLowerCase(),o=n.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,n);let i=(e.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let s=e.value;if(!s)this.headers.delete(n),this.normalizedNames.delete(n);else{let o=this.headers.get(n);if(!o)return;o=o.filter(a=>s.indexOf(a)===-1),o.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,o)}break}}setHeaderEntries(e,n){let r=(Array.isArray(n)?n:[n]).map(s=>s.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var sm=class{encodeKey(e){return Kb(e)}encodeValue(e){return Kb(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function vF(t,e){let n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{let s=i.indexOf("="),[o,a]=s==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],u=n.get(o)||[];u.push(a),n.set(o,u)}),n}var _F=/%(\d[a-f0-9])/gi,IF={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Kb(t){return encodeURIComponent(t).replace(_F,(e,n)=>IF[n]??e)}function sd(t){return`${t}`}var Lr=class t{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new sm,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=vF(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{let r=e.fromObject[n],i=Array.isArray(r)?r.map(sd):[sd(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){let n=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(s=>{n.push({param:r,value:s,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let n=(e.op==="a"?this.map.get(e.param):void 0)||[];n.push(sd(e.value)),this.map.set(e.param,n);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(sd(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var om=class{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function wF(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function Qb(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function Yb(t){return typeof Blob<"u"&&t instanceof Blob}function Jb(t){return typeof FormData<"u"&&t instanceof FormData}function EF(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var wa=class t{constructor(e,n,r,i){this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let s;if(wF(this.method)||i?(this.body=r!==void 0?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),this.transferCache=s.transferCache),this.headers??=new Wn,this.context??=new om,!this.params)this.params=new Lr,this.urlWithParams=n;else{let o=this.params.toString();if(o.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),u=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+u+o}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||Qb(this.body)||Yb(this.body)||Jb(this.body)||EF(this.body)?this.body:this.body instanceof Lr?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||Jb(this.body)?null:Yb(this.body)?this.body.type||null:Qb(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof Lr?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,s=e.transferCache??this.transferCache,o=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,u=e.reportProgress??this.reportProgress,l=e.headers||this.headers,h=e.params||this.params,p=e.context??this.context;return e.setHeaders!==void 0&&(l=Object.keys(e.setHeaders).reduce((m,y)=>m.set(y,e.setHeaders[y]),l)),e.setParams&&(h=Object.keys(e.setParams).reduce((m,y)=>m.set(y,e.setParams[y]),h)),new t(n,r,o,{params:h,headers:l,context:p,reportProgress:u,responseType:i,withCredentials:a,transferCache:s})}},Vr=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(Vr||{}),Da=class{constructor(e,n=200,r="OK"){this.headers=e.headers||new Wn,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},ad=class t extends Da{constructor(e={}){super(e),this.type=Vr.ResponseHeader}clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Ta=class t extends Da{constructor(e={}){super(e),this.type=Vr.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Fr=class extends Da{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},nC=200,DF=204;function im(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var TF=(()=>{class t{constructor(n){this.handler=n}request(n,r,i={}){let s;if(n instanceof wa)s=n;else{let u;i.headers instanceof Wn?u=i.headers:u=new Wn(i.headers);let l;i.params&&(i.params instanceof Lr?l=i.params:l=new Lr({fromObject:i.params})),s=new wa(n,r,i.body!==void 0?i.body:null,{headers:u,context:i.context,params:l,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}let o=W(s).pipe(Pn(u=>this.handler.handle(u)));if(n instanceof wa||i.observe==="events")return o;let a=o.pipe(gt(u=>u instanceof Ta));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return a.pipe(Y(u=>{if(u.body!==null&&!(u.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return u.body}));case"blob":return a.pipe(Y(u=>{if(u.body!==null&&!(u.body instanceof Blob))throw new Error("Response is not a Blob.");return u.body}));case"text":return a.pipe(Y(u=>{if(u.body!==null&&typeof u.body!="string")throw new Error("Response is not a string.");return u.body}));case"json":default:return a.pipe(Y(u=>u.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:new Lr().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,i={}){return this.request("PATCH",n,im(i,r))}post(n,r,i={}){return this.request("POST",n,im(i,r))}put(n,r,i={}){return this.request("PUT",n,im(i,r))}static{this.\u0275fac=function(r){return new(r||t)(z(Ea))}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac})}}return t})(),bF=/^\)\]\}',?\n/,CF="X-Request-URL";function Zb(t){if(t.url)return t.url;let e=CF.toLocaleLowerCase();return t.headers.get(e)}var AF=(()=>{class t{constructor(){this.fetchImpl=x(am,{optional:!0})?.fetch??((...n)=>globalThis.fetch(...n)),this.ngZone=x(me)}handle(n){return new ie(r=>{let i=new AbortController;return this.doRequest(n,i.signal,r).then(cm,s=>r.error(new Fr({error:s}))),()=>i.abort()})}doRequest(n,r,i){return w(this,null,function*(){let s=this.createRequestInit(n),o;try{let y=this.ngZone.runOutsideAngular(()=>this.fetchImpl(n.urlWithParams,k({signal:r},s)));SF(y),i.next({type:Vr.Sent}),o=yield y}catch(y){i.error(new Fr({error:y,status:y.status??0,statusText:y.statusText,url:n.urlWithParams,headers:y.headers}));return}let a=new Wn(o.headers),u=o.statusText,l=Zb(o)??n.urlWithParams,h=o.status,p=null;if(n.reportProgress&&i.next(new ad({headers:a,status:h,statusText:u,url:l})),o.body){let y=o.headers.get("content-length"),C=[],N=o.body.getReader(),R=0,F,H,V=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>w(this,null,function*(){for(;;){let{done:we,value:G}=yield N.read();if(we)break;if(C.push(G),R+=G.length,n.reportProgress){H=n.responseType==="text"?(H??"")+(F??=new TextDecoder).decode(G,{stream:!0}):void 0;let E=()=>i.next({type:Vr.DownloadProgress,total:y?+y:void 0,loaded:R,partialText:H});V?V.run(E):E()}}}));let X=this.concatChunks(C,R);try{let we=o.headers.get("Content-Type")??"";p=this.parseBody(n,X,we)}catch(we){i.error(new Fr({error:we,headers:new Wn(o.headers),status:o.status,statusText:o.statusText,url:Zb(o)??n.urlWithParams}));return}}h===0&&(h=p?nC:0),h>=200&&h<300?(i.next(new Ta({body:p,headers:a,status:h,statusText:u,url:l})),i.complete()):i.error(new Fr({error:p,headers:a,status:h,statusText:u,url:l}))})}parseBody(n,r,i){switch(n.responseType){case"json":let s=new TextDecoder().decode(r).replace(bF,"");return s===""?null:JSON.parse(s);case"text":return new TextDecoder().decode(r);case"blob":return new Blob([r],{type:i});case"arraybuffer":return r.buffer}}createRequestInit(n){let r={},i=n.withCredentials?"include":void 0;if(n.headers.forEach((s,o)=>r[s]=o.join(",")),n.headers.has("Accept")||(r.Accept="application/json, text/plain, */*"),!n.headers.has("Content-Type")){let s=n.detectContentTypeHeader();s!==null&&(r["Content-Type"]=s)}return{body:n.serializeBody(),method:n.method,headers:r,credentials:i}}concatChunks(n,r){let i=new Uint8Array(r),s=0;for(let o of n)i.set(o,s),s+=o.length;return i}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac})}}return t})(),am=class{};function cm(){}function SF(t){t.then(cm,cm)}function rC(t,e){return e(t)}function RF(t,e){return(n,r)=>e.intercept(n,{handle:i=>t(i,r)})}function NF(t,e,n){return(r,i)=>Ut(n,()=>e(r,s=>t(s,i)))}var MF=new L(""),um=new L(""),xF=new L(""),iC=new L("",{providedIn:"root",factory:()=>!0});function PF(){let t=null;return(e,n)=>{t===null&&(t=(x(MF,{optional:!0})??[]).reduceRight(RF,rC));let r=x(Bn);if(x(iC)){let s=r.add();return t(e,n).pipe(Ir(()=>r.remove(s)))}else return t(e,n)}}var Xb=(()=>{class t extends Ea{constructor(n,r){super(),this.backend=n,this.injector=r,this.chain=null,this.pendingTasks=x(Bn),this.contributeToStability=x(iC)}handle(n){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(um),...this.injector.get(xF,[])]));this.chain=r.reduceRight((i,s)=>NF(i,s,this.injector),rC)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(n,i=>this.backend.handle(i)).pipe(Ir(()=>this.pendingTasks.remove(r)))}else return this.chain(n,r=>this.backend.handle(r))}static{this.\u0275fac=function(r){return new(r||t)(z(od),z(vt))}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac})}}return t})();var OF=/^\)\]\}',?\n/;function kF(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}var eC=(()=>{class t{constructor(n){this.xhrFactory=n}handle(n){if(n.method==="JSONP")throw new $(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?Ae(r.\u0275loadImpl()):W(null)).pipe(Et(()=>new ie(s=>{let o=r.build();if(o.open(n.method,n.urlWithParams),n.withCredentials&&(o.withCredentials=!0),n.headers.forEach((N,R)=>o.setRequestHeader(N,R.join(","))),n.headers.has("Accept")||o.setRequestHeader("Accept","application/json, text/plain, */*"),!n.headers.has("Content-Type")){let N=n.detectContentTypeHeader();N!==null&&o.setRequestHeader("Content-Type",N)}if(n.responseType){let N=n.responseType.toLowerCase();o.responseType=N!=="json"?N:"text"}let a=n.serializeBody(),u=null,l=()=>{if(u!==null)return u;let N=o.statusText||"OK",R=new Wn(o.getAllResponseHeaders()),F=kF(o)||n.url;return u=new ad({headers:R,status:o.status,statusText:N,url:F}),u},h=()=>{let{headers:N,status:R,statusText:F,url:H}=l(),V=null;R!==DF&&(V=typeof o.response>"u"?o.responseText:o.response),R===0&&(R=V?nC:0);let X=R>=200&&R<300;if(n.responseType==="json"&&typeof V=="string"){let we=V;V=V.replace(OF,"");try{V=V!==""?JSON.parse(V):null}catch(G){V=we,X&&(X=!1,V={error:G,text:V})}}X?(s.next(new Ta({body:V,headers:N,status:R,statusText:F,url:H||void 0})),s.complete()):s.error(new Fr({error:V,headers:N,status:R,statusText:F,url:H||void 0}))},p=N=>{let{url:R}=l(),F=new Fr({error:N,status:o.status||0,statusText:o.statusText||"Unknown Error",url:R||void 0});s.error(F)},m=!1,y=N=>{m||(s.next(l()),m=!0);let R={type:Vr.DownloadProgress,loaded:N.loaded};N.lengthComputable&&(R.total=N.total),n.responseType==="text"&&o.responseText&&(R.partialText=o.responseText),s.next(R)},C=N=>{let R={type:Vr.UploadProgress,loaded:N.loaded};N.lengthComputable&&(R.total=N.total),s.next(R)};return o.addEventListener("load",h),o.addEventListener("error",p),o.addEventListener("timeout",p),o.addEventListener("abort",p),n.reportProgress&&(o.addEventListener("progress",y),a!==null&&o.upload&&o.upload.addEventListener("progress",C)),o.send(a),s.next({type:Vr.Sent}),()=>{o.removeEventListener("error",p),o.removeEventListener("abort",p),o.removeEventListener("load",h),o.removeEventListener("timeout",p),n.reportProgress&&(o.removeEventListener("progress",y),a!==null&&o.upload&&o.upload.removeEventListener("progress",C)),o.readyState!==o.DONE&&o.abort()}})))}static{this.\u0275fac=function(r){return new(r||t)(z(zs))}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac})}}return t})(),sC=new L(""),FF="XSRF-TOKEN",LF=new L("",{providedIn:"root",factory:()=>FF}),VF="X-XSRF-TOKEN",UF=new L("",{providedIn:"root",factory:()=>VF}),cd=class{},jF=(()=>{class t{constructor(n,r,i){this.doc=n,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=rd(n,this.cookieName),this.lastCookieString=n),this.lastToken}static{this.\u0275fac=function(r){return new(r||t)(z(tt),z(Bt),z(LF))}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac})}}return t})();function BF(t,e){let n=t.url.toLowerCase();if(!x(sC)||t.method==="GET"||t.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return e(t);let r=x(cd).getToken(),i=x(UF);return r!=null&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,r)})),e(t)}var oC=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(oC||{});function $F(t,e){return{\u0275kind:t,\u0275providers:e}}function HF(...t){let e=[TF,eC,Xb,{provide:Ea,useExisting:Xb},{provide:od,useFactory:()=>x(AF,{optional:!0})??x(eC)},{provide:um,useValue:BF,multi:!0},{provide:sC,useValue:!0},{provide:cd,useClass:jF}];for(let n of t)e.push(...n.\u0275providers);return Vt(e)}var tC=new L("");function zF(){return $F(oC.LegacyInterceptors,[{provide:tC,useFactory:PF},{provide:um,useExisting:tC,multi:!0}])}var c8=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=tn({type:t})}static{this.\u0275inj=en({providers:[HF(zF())]})}}return t})();var hm=class extends ed{constructor(){super(...arguments),this.supportsDOMEvents=!0}},fm=class t extends hm{static makeCurrent(){Ub(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=qF();return n==null?null:GF(n)}resetBaseElement(){ba=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return rd(document.cookie,e)}},ba=null;function qF(){return ba=ba||document.querySelector("base"),ba?ba.getAttribute("href"):null}function GF(t){return new URL(t,document.baseURI).pathname}var WF=(()=>{class t{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac})}}return t})(),ud=new L(""),lC=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(s=>s.supports(n)),!r)throw new $(5101,!1);return this._eventNameToPlugin.set(n,r),r}static{this.\u0275fac=function(r){return new(r||t)(z(ud),z(me))}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac})}}return t})(),Ca=class{constructor(e){this._doc=e}},lm="ng-app-id",dC=(()=>{class t{constructor(n,r,i,s={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=id(s),this.resetHostNodes()}addStyles(n){for(let r of n)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(n){for(let r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(let r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(let r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){let r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){let n=this.doc.head?.querySelectorAll(`style[${lm}="${this.appId}"]`);if(n?.length){let r=new Map;return n.forEach(i=>{i.textContent!=null&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){let i=this.styleRef;if(i.has(n)){let s=i.get(n);return s.usage+=r,s.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){let i=this.styleNodesInDOM,s=i?.get(r);if(s?.parentNode===n)return i.delete(r),s.removeAttribute(lm),s;{let o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=r,this.platformIsServer&&o.setAttribute(lm,this.appId),n.appendChild(o),o}}addStyleToHost(n,r){let i=this.getStyleElement(n,r),s=this.styleRef,o=s.get(r)?.elements;o?o.push(i):s.set(r,{elements:[i],usage:1})}resetHostNodes(){let n=this.hostNodes;n.clear(),n.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||t)(z(tt),z(Tg),z(Cg,8),z(Bt))}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac})}}return t})(),dm={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},gm=/%COMP%/g,hC="%COMP%",KF=`_nghost-${hC}`,QF=`_ngcontent-${hC}`,YF=!0,JF=new L("",{providedIn:"root",factory:()=>YF});function ZF(t){return QF.replace(gm,t)}function XF(t){return KF.replace(gm,t)}function fC(t,e){return e.map(n=>n.replace(gm,t))}var aC=(()=>{class t{constructor(n,r,i,s,o,a,u,l=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=a,this.ngZone=u,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=id(a),this.defaultRenderer=new Aa(n,o,u,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===fn.ShadowDom&&(r=ae(k({},r),{encapsulation:fn.Emulated}));let i=this.getOrCreateRenderer(n,r);return i instanceof ld?i.applyToHost(n):i instanceof Sa&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,s=i.get(r.id);if(!s){let o=this.doc,a=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,p=this.platformIsServer;switch(r.encapsulation){case fn.Emulated:s=new ld(u,l,r,this.appId,h,o,a,p);break;case fn.ShadowDom:return new pm(u,l,n,r,o,a,this.nonce,p);default:s=new Sa(u,l,r,h,o,a,p);break}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||t)(z(lC),z(dC),z(Tg),z(JF),z(tt),z(Bt),z(me),z(Cg))}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac})}}return t})(),Aa=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(dm[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(cC(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(cC(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new $(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let s=dm[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=dm[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Fn.DashCase|Fn.Important)?e.style.setProperty(n,r,i&Fn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Fn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=Gn().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function cC(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var pm=class extends Aa{constructor(e,n,r,i,s,o,a,u){super(e,s,o,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=fC(i.id,i.styles);for(let h of l){let p=document.createElement("style");a&&p.setAttribute("nonce",a),p.textContent=h,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Sa=class extends Aa{constructor(e,n,r,i,s,o,a,u){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?fC(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},ld=class extends Sa{constructor(e,n,r,i,s,o,a,u){let l=i+"-"+r.id;super(e,n,r,s,o,a,u,l),this.contentAttr=ZF(l),this.hostAttr=XF(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},eL=(()=>{class t extends Ca{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||t)(z(tt))}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac})}}return t})(),tL=(()=>{class t extends Ca{constructor(n){super(n),this.delegate=x(Nb,{optional:!0})}supports(n){return this.delegate?this.delegate.supports(n):!1}addEventListener(n,r,i){return this.delegate.addEventListener(n,r,i)}removeEventListener(n,r,i){return this.delegate.removeEventListener(n,r,i)}static{this.\u0275fac=function(r){return new(r||t)(z(tt))}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac})}}return t})(),uC=["alt","control","meta","shift"],nL={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},rL={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},iL=(()=>{class t extends Ca{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,r,i){let s=t.parseEventName(r),o=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Gn().onAndCancel(n,s.domEventName,o))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let s=t._normalizeKey(r.pop()),o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),uC.forEach(l=>{let h=r.indexOf(l);h>-1&&(r.splice(h,1),o+=l+".")}),o+=s,r.length!=0||s.length===0)return null;let u={};return u.domEventName=i,u.fullKey=o,u}static matchEventFullKeyCode(n,r){let i=nL[n.key]||n.key,s="";return r.indexOf("code.")>-1&&(i=n.code,s="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),uC.forEach(o=>{if(o!==i){let a=rL[o];a(n)&&(s+=o+".")}}),s+=i,s===r)}static eventCallback(n,r,i){return s=>{t.matchEventFullKeyCode(s,n)&&i.runGuarded(()=>r(s))}}static _normalizeKey(n){return n==="esc"?"escape":n}static{this.\u0275fac=function(r){return new(r||t)(z(tt))}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac})}}return t})();function O8(t,e){return Rb(k({rootComponent:t},sL(e)))}function sL(t){return{appProviders:[...lL,...t?.providers??[]],platformProviders:uL}}function oL(){fm.makeCurrent()}function aL(){return new kn}function cL(){return TT(document),document}var uL=[{provide:Bt,useValue:rm},{provide:bg,useValue:oL,multi:!0},{provide:tt,useFactory:cL,deps:[]}];var lL=[{provide:bl,useValue:"root"},{provide:kn,useFactory:aL,deps:[]},{provide:ud,useClass:eL,multi:!0,deps:[tt,me,Bt]},{provide:ud,useClass:iL,multi:!0,deps:[tt]},{provide:ud,useClass:tL,multi:!0},aC,dC,lC,{provide:Fs,useExisting:aC},{provide:zs,useClass:WF,deps:[]},[]];var pC=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static{this.\u0275fac=function(r){return new(r||t)(z(tt))}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var re="primary",za=Symbol("RouteTitle"),Im=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Js(t){return new Im(t)}function hL(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],a=t[s];if(o[0]===":")i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function fL(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!vn(t[n],e[n]))return!1;return!0}function vn(t,e){let n=t?wm(t):void 0,r=e?wm(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!bC(t[i],e[i]))return!1;return!0}function wm(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function bC(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}else return t===e}function CC(t){return t.length>0?t[t.length-1]:null}function Br(t){return Jf(t)?t:xr(t)?Ae(Promise.resolve(t)):W(t)}var pL={exact:SC,subset:RC},AC={exact:gL,subset:mL,ignored:()=>!0};function gC(t,e,n){return pL[n.paths](t.root,e.root,n.matrixParams)&&AC[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function gL(t,e){return vn(t,e)}function SC(t,e,n){if(!Ni(t.segments,e.segments)||!fd(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!SC(t.children[r],e.children[r],n))return!1;return!0}function mL(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>bC(t[n],e[n]))}function RC(t,e,n){return NC(t,e,e.segments,n)}function NC(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!Ni(i,n)||e.hasChildren()||!fd(i,n,r))}else if(t.segments.length===n.length){if(!Ni(t.segments,n)||!fd(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!RC(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!Ni(t.segments,i)||!fd(t.segments,i,r)||!t.children[re]?!1:NC(t.children[re],e,s,r)}}function fd(t,e,n){return e.every((r,i)=>AC[n](t[i].parameters,r.parameters))}var Qn=class{constructor(e=new Ee([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Js(this.queryParams),this._queryParamMap}toString(){return _L.serialize(this)}},Ee=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return pd(this)}},Ri=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Js(this.parameters),this._parameterMap}toString(){return xC(this)}};function yL(t,e){return Ni(t,e)&&t.every((n,r)=>vn(n.parameters,e[r].parameters))}function Ni(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function vL(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===re&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==re&&(n=n.concat(e(i,r)))}),n}var qa=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:()=>new Zs,providedIn:"root"})}}return t})(),Zs=class{parse(e){let n=new Dm(e);return new Qn(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${Ra(e.root,!0)}`,r=EL(e.queryParams),i=typeof e.fragment=="string"?`#${IL(e.fragment)}`:"";return`${n}${r}${i}`}},_L=new Zs;function pd(t){return t.segments.map(e=>xC(e)).join("/")}function Ra(t,e){if(!t.hasChildren())return pd(t);if(e){let n=t.children[re]?Ra(t.children[re],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==re&&r.push(`${i}:${Ra(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=vL(t,(r,i)=>i===re?[Ra(t.children[re],!1)]:[`${i}:${Ra(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[re]!=null?`${pd(t)}/${n[0]}`:`${pd(t)}/(${n.join("//")})`}}function MC(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function dd(t){return MC(t).replace(/%3B/gi,";")}function IL(t){return encodeURI(t)}function Em(t){return MC(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function gd(t){return decodeURIComponent(t)}function mC(t){return gd(t.replace(/\+/g,"%20"))}function xC(t){return`${Em(t.path)}${wL(t.parameters)}`}function wL(t){return Object.entries(t).map(([e,n])=>`;${Em(e)}=${Em(n)}`).join("")}function EL(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${dd(n)}=${dd(i)}`).join("&"):`${dd(n)}=${dd(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var DL=/^[^\/()?;#]+/;function mm(t){let e=t.match(DL);return e?e[0]:""}var TL=/^[^\/()?;=#]+/;function bL(t){let e=t.match(TL);return e?e[0]:""}var CL=/^[^=?&#]+/;function AL(t){let e=t.match(CL);return e?e[0]:""}var SL=/^[^&#]+/;function RL(t){let e=t.match(SL);return e?e[0]:""}var Dm=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ee([],{}):new Ee([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[re]=new Ee(e,n)),r}parseSegment(){let e=mm(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new $(4009,!1);return this.capture(e),new Ri(gd(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=bL(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=mm(this.remaining);i&&(r=i,this.capture(r))}e[gd(n)]=gd(r)}parseQueryParam(e){let n=AL(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=RL(this.remaining);o&&(r=o,this.capture(r))}let i=mC(n),s=mC(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=mm(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new $(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=re);let o=this.parseChildren();n[s]=Object.keys(o).length===1?o[re]:new Ee([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new $(4011,!1)}};function PC(t){return t.segments.length>0?new Ee([],{[re]:t}):t}function OC(t){let e={};for(let[r,i]of Object.entries(t.children)){let s=OC(i);if(r===re&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let n=new Ee(t.segments,e);return NL(n)}function NL(t){if(t.numberOfChildren===1&&t.children[re]){let e=t.children[re];return new Ee(t.segments.concat(e.segments),e.children)}return t}function ka(t){return t instanceof Qn}function ML(t,e,n=null,r=null){let i=kC(t);return FC(i,e,n,r)}function kC(t){let e;function n(s){let o={};for(let u of s.children){let l=n(u);o[u.outlet]=l}let a=new Ee(s.url,o);return s===t&&(e=a),a}let r=n(t.root),i=PC(r);return e??i}function FC(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return ym(i,i,i,n,r);let s=xL(e);if(s.toRoot())return ym(i,i,new Ee([],{}),n,r);let o=PL(s,i,t),a=o.processChildren?xa(o.segmentGroup,o.index,s.commands):VC(o.segmentGroup,o.index,s.commands);return ym(i,o.segmentGroup,a,n,r)}function md(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Fa(t){return typeof t=="object"&&t!=null&&t.outlets}function ym(t,e,n,r,i){let s={};r&&Object.entries(r).forEach(([u,l])=>{s[u]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`});let o;t===e?o=n:o=LC(t,e,n);let a=PC(OC(o));return new Qn(a,s,i)}function LC(t,e,n){let r={};return Object.entries(t.children).forEach(([i,s])=>{s===e?r[i]=n:r[i]=LC(s,e,n)}),new Ee(t.segments,r)}var yd=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&md(r[0]))throw new $(4003,!1);let i=r.find(Fa);if(i&&i!==CC(r))throw new $(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function xL(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new yd(!0,0,t);let e=0,n=!1,r=t.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([u,l])=>{a[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,s]},[]);return new yd(n,e,r)}var Ks=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function PL(t,e,n){if(t.isAbsolute)return new Ks(e,!0,0);if(!n)return new Ks(e,!1,NaN);if(n.parent===null)return new Ks(n,!0,0);let r=md(t.commands[0])?0:1,i=n.segments.length-1+r;return OL(n,i,t.numberOfDoubleDots)}function OL(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new $(4005,!1);i=r.segments.length}return new Ks(r,!1,i-s)}function kL(t){return Fa(t[0])?t[0].outlets:{[re]:t}}function VC(t,e,n){if(t??=new Ee([],{}),t.segments.length===0&&t.hasChildren())return xa(t,e,n);let r=FL(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let s=new Ee(t.segments.slice(0,r.pathIndex),{});return s.children[re]=new Ee(t.segments.slice(r.pathIndex),t.children),xa(s,0,i)}else return r.match&&i.length===0?new Ee(t.segments,{}):r.match&&!t.hasChildren()?Tm(t,e,n):r.match?xa(t,0,i):Tm(t,e,n)}function xa(t,e,n){if(n.length===0)return new Ee(t.segments,{});{let r=kL(n),i={};if(Object.keys(r).some(s=>s!==re)&&t.children[re]&&t.numberOfChildren===1&&t.children[re].segments.length===0){let s=xa(t.children[re],e,n);return new Ee(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=VC(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new Ee(t.segments,i)}}function FL(t,e,n){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;let o=t.segments[i],a=n[r];if(Fa(a))break;let u=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!vC(u,l,o))return s;r+=2}else{if(!vC(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Tm(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let s=n[i];if(Fa(s)){let u=LL(s.outlets);return new Ee(r,u)}if(i===0&&md(n[0])){let u=t.segments[e];r.push(new Ri(u.path,yC(n[0]))),i++;continue}let o=Fa(s)?s.outlets[re]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&md(a)?(r.push(new Ri(o,yC(a))),i+=2):(r.push(new Ri(o,{})),i++)}return new Ee(r,{})}function LL(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=Tm(new Ee([],{}),0,r))}),e}function yC(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function vC(t,e,n){return t==n.path&&vn(e,n.parameters)}var Pa="imperative",Ke=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Ke||{}),Gt=class{constructor(e,n){this.id=e,this.url=n}},Xs=class extends Gt{constructor(e,n,r="imperative",i=null){super(e,n),this.type=Ke.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Yn=class extends Gt{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=Ke.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},xt=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(xt||{}),vd=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(vd||{}),Kn=class extends Gt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Ke.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Ur=class extends Gt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Ke.NavigationSkipped}},La=class extends Gt{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=Ke.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},_d=class extends Gt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ke.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},bm=class extends Gt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ke.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Cm=class extends Gt{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=Ke.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Am=class extends Gt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ke.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Sm=class extends Gt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ke.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Rm=class{constructor(e){this.route=e,this.type=Ke.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Nm=class{constructor(e){this.route=e,this.type=Ke.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Mm=class{constructor(e){this.snapshot=e,this.type=Ke.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},xm=class{constructor(e){this.snapshot=e,this.type=Ke.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Pm=class{constructor(e){this.snapshot=e,this.type=Ke.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Om=class{constructor(e){this.snapshot=e,this.type=Ke.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Id=class{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=Ke.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},Va=class{},eo=class{constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function VL(t,e){return t.providers&&!t._injector&&(t._injector=Ul(t.providers,e,`Route: ${t.path}`)),t._injector??e}function sn(t){return t.outlet||re}function UL(t,e){let n=t.filter(r=>sn(r)===e);return n.push(...t.filter(r=>sn(r)!==e)),n}function Ga(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var km=class{get injector(){return Ga(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new Wa(this.rootInjector),this.attachRef=null}},Wa=(()=>{class t{constructor(n){this.rootInjector=n,this.contexts=new Map}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new km(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static{this.\u0275fac=function(r){return new(r||t)(z(vt))}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),wd=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=Fm(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=Fm(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=Lm(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Lm(e,this._root).map(n=>n.value)}};function Fm(t,e){if(t===e.value)return e;for(let n of e.children){let r=Fm(t,n);if(r)return r}return null}function Lm(t,e){if(t===e.value)return[e];for(let n of e.children){let r=Lm(t,n);if(r.length)return r.unshift(e),r}return[]}var Mt=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Ws(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var Ed=class extends wd{constructor(e,n){super(e),this.snapshot=n,Gm(this,e)}toString(){return this.snapshot.toString()}};function UC(t){let e=jL(t),n=new Xe([new Ri("",{})]),r=new Xe({}),i=new Xe({}),s=new Xe({}),o=new Xe(""),a=new Mi(n,r,s,o,i,re,t,e.root);return a.snapshot=e.root,new Ed(new Mt(a,[]),e)}function jL(t){let e={},n={},r={},i="",s=new Qs([],e,r,i,n,re,t,null,{});return new Td("",new Mt(s,[]))}var Mi=class{constructor(e,n,r,i,s,o,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(Y(l=>l[za]))??W(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Y(e=>Js(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Y(e=>Js(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Dd(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:k(k({},e.params),t.params),data:k(k({},e.data),t.data),resolve:k(k(k(k({},t.data),e.data),i?.data),t._resolvedData)}:r={params:k({},t.params),data:k({},t.data),resolve:k(k({},t.data),t._resolvedData??{})},i&&BC(i)&&(r.resolve[za]=i.title),r}var Qs=class{get title(){return this.data?.[za]}constructor(e,n,r,i,s,o,a,u,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Js(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Js(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},Td=class extends wd{constructor(e,n){super(n),this.url=e,Gm(this,n)}toString(){return jC(this._root)}};function Gm(t,e){e.value._routerState=t,e.children.forEach(n=>Gm(t,n))}function jC(t){let e=t.children.length>0?` { ${t.children.map(jC).join(", ")} } `:"";return`${t.value}${e}`}function vm(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,vn(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),vn(e.params,n.params)||t.paramsSubject.next(n.params),fL(e.url,n.url)||t.urlSubject.next(n.url),vn(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Vm(t,e){let n=vn(t.params,e.params)&&yL(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||Vm(t.parent,e.parent))}function BC(t){return typeof t.title=="string"||t.title===null}var BL=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=re,this.activateEvents=new Oe,this.deactivateEvents=new Oe,this.attachEvents=new Oe,this.detachEvents=new Oe,this.parentContexts=x(Wa),this.location=x(js),this.changeDetector=x(Or),this.inputBinder=x(Sd,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new $(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new $(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new $(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new $(4013,!1);this._activatedRoute=n;let i=this.location,o=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new Um(n,a,i.injector);this.activated=i.createComponent(o,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=je({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[jn]})}}return t})(),Um=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Mi?this.route:e===Wa?this.childContexts:this.parent.get(e,n)}},Sd=new L(""),_C=(()=>{class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){let{activatedRoute:r}=n,i=oa([r.queryParams,r.params,r.data]).pipe(Et(([s,o,a],u)=>(a=k(k(k({},s),o),a),u===0?W(a):Promise.resolve(a)))).subscribe(s=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(n);return}let o=Mb(r.component);if(!o){this.unsubscribeFromRouteData(n);return}for(let{templateName:a}of o.inputs)n.activatedComponentRef.setInput(a,s[a])});this.outletDataSubscriptions.set(n,i)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac})}}return t})();function $L(t,e,n){let r=Ua(t,e._root,n?n._root:void 0);return new Ed(r,e)}function Ua(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=HL(t,e,n);return new Mt(r,i)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Ua(t,a)),o}}let r=zL(e.value),i=e.children.map(s=>Ua(t,s));return new Mt(r,i)}}function HL(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Ua(t,r,i);return Ua(t,r)})}function zL(t){return new Mi(new Xe(t.url),new Xe(t.params),new Xe(t.queryParams),new Xe(t.fragment),new Xe(t.data),t.outlet,t.component,t)}var ja=class{constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},$C="ngNavigationCancelingError";function bd(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=ka(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=HC(!1,xt.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function HC(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[$C]=!0,n.cancellationCode=e,n}function qL(t){return zC(t)&&ka(t.url)}function zC(t){return!!t&&t[$C]}var GL=(t,e,n,r)=>Y(i=>(new jm(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),jm=class{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),vm(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=Ws(n);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Ws(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){let o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Ws(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=Ws(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new Om(s.value.snapshot))}),e.children.length&&this.forwardEvent(new xm(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(vm(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),vm(a.route.value),this.activateChildRoutes(e,null,o.children)}else o.attachRef=null,o.route=i,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}else this.activateChildRoutes(e,null,r)}},Cd=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Ys=class{constructor(e,n){this.component=e,this.route=n}};function WL(t,e,n){let r=t._root,i=e?e._root:null;return Na(r,i,n,[r.value])}function KL(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function no(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!uD(t)?t:e.get(t):r}function Na(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=Ws(e);return t.children.forEach(o=>{QL(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>Oa(a,n.getContext(o),i)),i}function QL(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let u=YL(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Cd(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?Na(t,e,a?a.children:null,r,i):Na(t,e,n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Ys(a.outlet.component,o))}else o&&Oa(e,a,i),i.canActivateChecks.push(new Cd(r)),s.component?Na(t,null,a?a.children:null,r,i):Na(t,null,n,r,i);return i}function YL(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!Ni(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Ni(t.url,e.url)||!vn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Vm(t,e)||!vn(t.queryParams,e.queryParams);case"paramsChange":default:return!Vm(t,e)}}function Oa(t,e,n){let r=Ws(t),i=t.value;Object.entries(r).forEach(([s,o])=>{i.component?e?Oa(o,e.children.getContext(s),n):Oa(o,null,n):Oa(o,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Ys(e.outlet.component,i)):n.canDeactivateChecks.push(new Ys(null,i)):n.canDeactivateChecks.push(new Ys(null,i))}function Ka(t){return typeof t=="function"}function JL(t){return typeof t=="boolean"}function ZL(t){return t&&Ka(t.canLoad)}function XL(t){return t&&Ka(t.canActivate)}function eV(t){return t&&Ka(t.canActivateChild)}function tV(t){return t&&Ka(t.canDeactivate)}function nV(t){return t&&Ka(t.canMatch)}function qC(t){return t instanceof xn||t?.name==="EmptyError"}var hd=Symbol("INITIAL_VALUE");function to(){return Et(t=>oa(t.map(e=>e.pipe(On(1),ju(hd)))).pipe(Y(e=>{for(let n of e)if(n!==!0){if(n===hd)return hd;if(n===!1||rV(n))return n}return!0}),gt(e=>e!==hd),On(1)))}function rV(t){return ka(t)||t instanceof ja}function iV(t,e){return Ve(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return o.length===0&&s.length===0?W(ae(k({},n),{guardsResult:!0})):sV(o,r,i,t).pipe(Ve(a=>a&&JL(a)?oV(r,s,t,e):W(a)),Y(a=>ae(k({},n),{guardsResult:a})))})}function sV(t,e,n,r){return Ae(t).pipe(Ve(i=>dV(i.component,i.route,n,e,r)),ln(i=>i!==!0,!0))}function oV(t,e,n,r){return Ae(e).pipe(Pn(i=>vs(cV(i.route.parent,r),aV(i.route,r),lV(t,i.path,n),uV(t,i.route,n))),ln(i=>i!==!0,!0))}function aV(t,e){return t!==null&&e&&e(new Pm(t)),W(!0)}function cV(t,e){return t!==null&&e&&e(new Mm(t)),W(!0)}function uV(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return W(!0);let i=r.map(s=>Lu(()=>{let o=Ga(e)??n,a=no(s,o),u=XL(a)?a.canActivate(e,t):Ut(o,()=>a(e,t));return Br(u).pipe(ln())}));return W(i).pipe(to())}function lV(t,e,n){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>KL(o)).filter(o=>o!==null).map(o=>Lu(()=>{let a=o.guards.map(u=>{let l=Ga(o.node)??n,h=no(u,l),p=eV(h)?h.canActivateChild(r,t):Ut(l,()=>h(r,t));return Br(p).pipe(ln())});return W(a).pipe(to())}));return W(s).pipe(to())}function dV(t,e,n,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return W(!0);let o=s.map(a=>{let u=Ga(e)??i,l=no(a,u),h=tV(l)?l.canDeactivate(t,e,n,r):Ut(u,()=>l(t,e,n,r));return Br(h).pipe(ln())});return W(o).pipe(to())}function hV(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return W(!0);let s=i.map(o=>{let a=no(o,t),u=ZL(a)?a.canLoad(e,n):Ut(t,()=>a(e,n));return Br(u)});return W(s).pipe(to(),GC(r))}function GC(t){return vu(Ue(e=>{if(typeof e!="boolean")throw bd(t,e)}),Y(e=>e===!0))}function fV(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return W(!0);let s=i.map(o=>{let a=no(o,t),u=nV(a)?a.canMatch(e,n):Ut(t,()=>a(e,n));return Br(u)});return W(s).pipe(to(),GC(r))}var Ba=class{constructor(e){this.segmentGroup=e||null}},$a=class extends Error{constructor(e){super(),this.urlTree=e}};function Gs(t){return ms(new Ba(t))}function pV(t){return ms(new $(4e3,!1))}function gV(t){return ms(HC(!1,xt.GuardRejected))}var Bm=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return W(r);if(i.numberOfChildren>1||!i.children[re])return pV(`${e.redirectTo}`);i=i.children[re]}}applyRedirectCommands(e,n,r,i,s){if(typeof n!="string"){let a=n,{queryParams:u,fragment:l,routeConfig:h,url:p,outlet:m,params:y,data:C,title:N}=i,R=Ut(s,()=>a({params:y,data:C,queryParams:u,fragment:l,routeConfig:h,url:p,outlet:m,title:N}));if(R instanceof Qn)throw new $a(R);n=R}let o=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n[0]==="/")throw new $a(o);return o}applyRedirectCreateUrlTree(e,n,r,i){let s=this.createSegmentGroup(e,n.root,r,i);return new Qn(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s[0]===":"){let a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){let s=this.createSegments(e,n.segments,r,i),o={};return Object.entries(n.children).forEach(([a,u])=>{o[a]=this.createSegmentGroup(e,u,r,i)}),new Ee(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path[0]===":"?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new $(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},$m={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function mV(t,e,n,r,i){let s=WC(t,e,n);return s.matched?(r=VL(e,r),fV(r,e,n,i).pipe(Y(o=>o===!0?s:k({},$m)))):W(s)}function WC(t,e,n){if(e.path==="**")return yV(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?k({},$m):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||hL)(n,t,e);if(!i)return k({},$m);let s={};Object.entries(i.posParams??{}).forEach(([a,u])=>{s[a]=u.path});let o=i.consumed.length>0?k(k({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function yV(t){return{matched:!0,parameters:t.length>0?CC(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function IC(t,e,n,r){return n.length>0&&IV(t,n,r)?{segmentGroup:new Ee(e,_V(r,new Ee(n,t.children))),slicedSegments:[]}:n.length===0&&wV(t,n,r)?{segmentGroup:new Ee(t.segments,vV(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new Ee(t.segments,t.children),slicedSegments:n}}function vV(t,e,n,r){let i={};for(let s of n)if(Rd(t,e,s)&&!r[sn(s)]){let o=new Ee([],{});i[sn(s)]=o}return k(k({},r),i)}function _V(t,e){let n={};n[re]=e;for(let r of t)if(r.path===""&&sn(r)!==re){let i=new Ee([],{});n[sn(r)]=i}return n}function IV(t,e,n){return n.some(r=>Rd(t,e,r)&&sn(r)!==re)}function wV(t,e,n){return n.some(r=>Rd(t,e,r))}function Rd(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function EV(t,e,n){return e.length===0&&!t.children[n]}var Hm=class{};function DV(t,e,n,r,i,s,o="emptyOnly"){return new zm(t,e,n,r,i,o,s).recognize()}var TV=31,zm=class{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new Bm(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new $(4002,`'${e.segmentGroup}'`)}recognize(){let e=IC(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(Y(({children:n,rootSnapshot:r})=>{let i=new Mt(r,n),s=new Td("",i),o=ML(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),{state:s,tree:o}}))}match(e){let n=new Qs([],Object.freeze({}),Object.freeze(k({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),re,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,re,n).pipe(Y(r=>({children:r,rootSnapshot:n})),vr(r=>{if(r instanceof $a)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Ba?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,s){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,s):this.processSegment(e,n,r,r.segments,i,!0,s).pipe(Y(o=>o instanceof Mt?[o]:[]))}processChildren(e,n,r,i){let s=[];for(let o of Object.keys(r.children))o==="primary"?s.unshift(o):s.push(o);return Ae(s).pipe(Pn(o=>{let a=r.children[o],u=UL(n,o);return this.processSegmentGroup(e,u,a,o,i)}),Uu((o,a)=>(o.push(...a),o)),_r(null),ep(),Ve(o=>{if(o===null)return Gs(r);let a=KC(o);return bV(a),W(a)}))}processSegment(e,n,r,i,s,o,a){return Ae(n).pipe(Pn(u=>this.processSegmentAgainstRoute(u._injector??e,n,u,r,i,s,o,a).pipe(vr(l=>{if(l instanceof Ba)return W(null);throw l}))),ln(u=>!!u),vr(u=>{if(qC(u))return EV(r,i,s)?W(new Hm):Gs(r);throw u}))}processSegmentAgainstRoute(e,n,r,i,s,o,a,u){return sn(r)!==o&&(o===re||!Rd(i,s,r))?Gs(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o,u):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o,u):Gs(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o,a){let{matched:u,parameters:l,consumedSegments:h,positionalParamSegments:p,remainingSegments:m}=WC(n,i,s);if(!u)return Gs(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>TV&&(this.allowRedirects=!1));let y=new Qs(s,l,Object.freeze(k({},this.urlTree.queryParams)),this.urlTree.fragment,wC(i),sn(i),i.component??i._loadedComponent??null,i,EC(i)),C=Dd(y,a,this.paramsInheritanceStrategy);y.params=Object.freeze(C.params),y.data=Object.freeze(C.data);let N=this.applyRedirects.applyRedirectCommands(h,i.redirectTo,p,y,e);return this.applyRedirects.lineralizeSegments(i,N).pipe(Ve(R=>this.processSegment(e,r,n,R.concat(m),o,!1,a)))}matchSegmentAgainstRoute(e,n,r,i,s,o){let a=mV(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(Et(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Et(({routes:l})=>{let h=r._loadedInjector??e,{parameters:p,consumedSegments:m,remainingSegments:y}=u,C=new Qs(m,p,Object.freeze(k({},this.urlTree.queryParams)),this.urlTree.fragment,wC(r),sn(r),r.component??r._loadedComponent??null,r,EC(r)),N=Dd(C,o,this.paramsInheritanceStrategy);C.params=Object.freeze(N.params),C.data=Object.freeze(N.data);let{segmentGroup:R,slicedSegments:F}=IC(n,m,y,l);if(F.length===0&&R.hasChildren())return this.processChildren(h,l,R,C).pipe(Y(V=>new Mt(C,V)));if(l.length===0&&F.length===0)return W(new Mt(C,[]));let H=sn(r)===s;return this.processSegment(h,l,R,F,H?re:s,!0,C).pipe(Y(V=>new Mt(C,V instanceof Mt?[V]:[])))}))):Gs(n)))}getChildConfig(e,n,r){return n.children?W({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?W({routes:n._loadedRoutes,injector:n._loadedInjector}):hV(e,n,r,this.urlSerializer).pipe(Ve(i=>i?this.configLoader.loadChildren(e,n).pipe(Ue(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):gV(n))):W({routes:[],injector:e})}};function bV(t){t.sort((e,n)=>e.value.outlet===re?-1:n.value.outlet===re?1:e.value.outlet.localeCompare(n.value.outlet))}function CV(t){let e=t.value.routeConfig;return e&&e.path===""}function KC(t){let e=[],n=new Set;for(let r of t){if(!CV(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=KC(r.children);e.push(new Mt(r.value,i))}return e.filter(r=>!n.has(r))}function wC(t){return t.data||{}}function EC(t){return t.resolve||{}}function AV(t,e,n,r,i,s){return Ve(o=>DV(t,e,n,r,o.extractedUrl,i,s).pipe(Y(({state:a,tree:u})=>ae(k({},o),{targetSnapshot:a,urlAfterRedirects:u}))))}function SV(t,e){return Ve(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return W(n);let s=new Set(i.map(u=>u.route)),o=new Set;for(let u of s)if(!o.has(u))for(let l of QC(u))o.add(l);let a=0;return Ae(o).pipe(Pn(u=>s.has(u)?RV(u,r,t,e):(u.data=Dd(u,u.parent,t).resolve,W(void 0))),Ue(()=>a++),_s(1),Ve(u=>a===o.size?W(n):Rt))})}function QC(t){let e=t.children.map(n=>QC(n)).flat();return[t,...e]}function RV(t,e,n,r){let i=t.routeConfig,s=t._resolve;return i?.title!==void 0&&!BC(i)&&(s[za]=i.title),NV(s,t,e,r).pipe(Y(o=>(t._resolvedData=o,t.data=Dd(t,t.parent,n).resolve,null)))}function NV(t,e,n,r){let i=wm(t);if(i.length===0)return W({});let s={};return Ae(i).pipe(Ve(o=>MV(t[o],e,n,r).pipe(ln(),Ue(a=>{if(a instanceof ja)throw bd(new Zs,a);s[o]=a}))),_s(1),Xf(s),vr(o=>qC(o)?Rt:ms(o)))}function MV(t,e,n,r){let i=Ga(e)??r,s=no(t,i),o=s.resolve?s.resolve(e,n):Ut(i,()=>s(e,n));return Br(o)}function _m(t){return Et(e=>{let n=t(e);return n?Ae(n).pipe(Y(()=>e)):W(e)})}var YC=(()=>{class t{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===re);return r}getResolvedTitleForRoute(n){return n.data[za]}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:()=>x(xV),providedIn:"root"})}}return t})(),xV=(()=>{class t extends YC{constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||t)(z(pC))}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Qa=new L("",{providedIn:"root",factory:()=>({})}),PV=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=wD({type:t,selectors:[["ng-component"]],standalone:!0,features:[Ib],decls:1,vars:0,template:function(r,i){r&1&&jg(0,"router-outlet")},dependencies:[BL],encapsulation:2})}}return t})();function Wm(t){let e=t.children&&t.children.map(Wm),n=e?ae(k({},t),{children:e}):k({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==re&&(n.component=PV),n}var Ha=new L(""),Km=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=x(zl)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return W(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let r=Br(n.loadComponent()).pipe(Y(JC),Ue(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),Ir(()=>{this.componentLoaders.delete(n)})),i=new hs(r,()=>new Ze).pipe(ds());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return W({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let s=OV(r,this.compiler,n,this.onLoadEndListener).pipe(Ir(()=>{this.childrenLoaders.delete(r)})),o=new hs(s,()=>new Ze).pipe(ds());return this.childrenLoaders.set(r,o),o}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function OV(t,e,n,r){return Br(t.loadChildren()).pipe(Y(JC),Ve(i=>i instanceof pa||Array.isArray(i)?W(i):Ae(e.compileModuleAsync(i))),Y(i=>{r&&r(t);let s,o,a=!1;return Array.isArray(i)?(o=i,a=!0):(s=i.create(n).injector,o=s.get(Ha,[],{optional:!0,self:!0}).flat()),{routes:o.map(Wm),injector:s}}))}function kV(t){return t&&typeof t=="object"&&"default"in t}function JC(t){return kV(t)?t.default:t}var Qm=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:()=>x(FV),providedIn:"root"})}}return t})(),FV=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),ZC=new L(""),XC=new L("");function LV(t,e,n){let r=t.get(XC),i=t.get(tt);return t.get(me).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(l=>setTimeout(l));let s,o=new Promise(l=>{s=l}),a=i.startViewTransition(()=>(s(),VV(t))),{onViewTransitionCreated:u}=r;return u&&Ut(t,()=>u({transition:a,from:e,to:n})),o})}function VV(t){return new Promise(e=>{Ug({read:()=>setTimeout(e)},{injector:t})})}var UV=new L(""),Ym=(()=>{class t{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Ze,this.transitionAbortSubject=new Ze,this.configLoader=x(Km),this.environmentInjector=x(vt),this.urlSerializer=x(qa),this.rootContexts=x(Wa),this.location=x(qs),this.inputBindingEnabled=x(Sd,{optional:!0})!==null,this.titleStrategy=x(YC),this.options=x(Qa,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=x(Qm),this.createViewTransition=x(ZC,{optional:!0}),this.navigationErrorHandler=x(UV,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>W(void 0),this.rootComponentType=null;let n=i=>this.events.next(new Rm(i)),r=i=>this.events.next(new Nm(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next(ae(k(k({},this.transitions.value),n),{id:r}))}setupNavigations(n,r,i){return this.transitions=new Xe({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Pa,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(gt(s=>s.id!==0),Y(s=>ae(k({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),Et(s=>{let o=!1,a=!1;return W(s).pipe(Et(u=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",xt.SupersededByNewNavigation),Rt;this.currentTransition=s,this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,targetBrowserUrl:typeof u.extras.browserUrl=="string"?this.urlSerializer.parse(u.extras.browserUrl):u.extras.browserUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?ae(k({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let l=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),h=u.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!l&&h!=="reload"){let p="";return this.events.next(new Ur(u.id,this.urlSerializer.serialize(u.rawUrl),p,vd.IgnoredSameUrlNavigation)),u.resolve(!1),Rt}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return W(u).pipe(Et(p=>{let m=this.transitions?.getValue();return this.events.next(new Xs(p.id,this.urlSerializer.serialize(p.extractedUrl),p.source,p.restoredState)),m!==this.transitions?.getValue()?Rt:Promise.resolve(p)}),AV(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),Ue(p=>{s.targetSnapshot=p.targetSnapshot,s.urlAfterRedirects=p.urlAfterRedirects,this.currentNavigation=ae(k({},this.currentNavigation),{finalUrl:p.urlAfterRedirects});let m=new _d(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(m)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){let{id:p,extractedUrl:m,source:y,restoredState:C,extras:N}=u,R=new Xs(p,this.urlSerializer.serialize(m),y,C);this.events.next(R);let F=UC(this.rootComponentType).snapshot;return this.currentTransition=s=ae(k({},u),{targetSnapshot:F,urlAfterRedirects:m,extras:ae(k({},N),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=m,W(s)}else{let p="";return this.events.next(new Ur(u.id,this.urlSerializer.serialize(u.extractedUrl),p,vd.IgnoredByUrlHandlingStrategy)),u.resolve(!1),Rt}}),Ue(u=>{let l=new bm(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}),Y(u=>(this.currentTransition=s=ae(k({},u),{guards:WL(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),s)),iV(this.environmentInjector,u=>this.events.next(u)),Ue(u=>{if(s.guardsResult=u.guardsResult,u.guardsResult&&typeof u.guardsResult!="boolean")throw bd(this.urlSerializer,u.guardsResult);let l=new Cm(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(l)}),gt(u=>u.guardsResult?!0:(this.cancelNavigationTransition(u,"",xt.GuardRejected),!1)),_m(u=>{if(u.guards.canActivateChecks.length)return W(u).pipe(Ue(l=>{let h=new Am(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}),Et(l=>{let h=!1;return W(l).pipe(SV(this.paramsInheritanceStrategy,this.environmentInjector),Ue({next:()=>h=!0,complete:()=>{h||this.cancelNavigationTransition(l,"",xt.NoDataFromResolver)}}))}),Ue(l=>{let h=new Sm(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}))}),_m(u=>{let l=h=>{let p=[];h.routeConfig?.loadComponent&&!h.routeConfig._loadedComponent&&p.push(this.configLoader.loadComponent(h.routeConfig).pipe(Ue(m=>{h.component=m}),Y(()=>{})));for(let m of h.children)p.push(...l(m));return p};return oa(l(u.targetSnapshot.root)).pipe(_r(null),On(1))}),_m(()=>this.afterPreactivation()),Et(()=>{let{currentSnapshot:u,targetSnapshot:l}=s,h=this.createViewTransition?.(this.environmentInjector,u.root,l.root);return h?Ae(h).pipe(Y(()=>s)):W(s)}),Y(u=>{let l=$L(n.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=s=ae(k({},u),{targetRouterState:l}),this.currentNavigation.targetRouterState=l,s}),Ue(()=>{this.events.next(new Va)}),GL(this.rootContexts,n.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),On(1),Ue({next:u=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Yn(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),this.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{o=!0}}),tp(this.transitionAbortSubject.pipe(Ue(u=>{throw u}))),Ir(()=>{!o&&!a&&this.cancelNavigationTransition(s,"",xt.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),vr(u=>{if(a=!0,zC(u))this.events.next(new Kn(s.id,this.urlSerializer.serialize(s.extractedUrl),u.message,u.cancellationCode)),qL(u)?this.events.next(new eo(u.url,u.navigationBehaviorOptions)):s.resolve(!1);else{let l=new La(s.id,this.urlSerializer.serialize(s.extractedUrl),u,s.targetSnapshot??void 0);try{let h=Ut(this.environmentInjector,()=>this.navigationErrorHandler?.(l));if(h instanceof ja){let{message:p,cancellationCode:m}=bd(this.urlSerializer,h);this.events.next(new Kn(s.id,this.urlSerializer.serialize(s.extractedUrl),p,m)),this.events.next(new eo(h.redirectTo,h.navigationBehaviorOptions))}else{this.events.next(l);let p=n.errorHandler(u);s.resolve(!!p)}}catch(h){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(h)}}return Rt}))}))}cancelNavigationTransition(n,r,i){let s=new Kn(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(s),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function jV(t){return t!==Pa}var BV=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:()=>x($V),providedIn:"root"})}}return t})(),qm=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},$V=(()=>{class t extends qm{static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Ti(t)))(i||t)}})()}static{this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),e0=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:()=>x(HV),providedIn:"root"})}}return t})(),HV=(()=>{class t extends e0{constructor(){super(...arguments),this.location=x(qs),this.urlSerializer=x(qa),this.options=x(Qa,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=x(Qm),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Qn,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=UC(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&n(r.url,r.state)})}handleRouterEvent(n,r){if(n instanceof Xs)this.stateMemento=this.createStateMemento();else if(n instanceof Ur)this.rawUrlTree=r.initialUrl;else if(n instanceof _d){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??i,r)}}else n instanceof Va?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):n instanceof Kn&&(n.code===xt.GuardRejected||n.code===xt.NoDataFromResolver)?this.restoreHistory(r):n instanceof La?this.restoreHistory(r,!0):n instanceof Yn&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,r){let i=n instanceof Qn?this.urlSerializer.serialize(n):n;if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let s=this.browserPageId,o=k(k({},r.extras.state),this.generateNgRouterState(r.id,s));this.location.replaceState(i,"",o)}else{let s=k(k({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",s)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,s=this.currentPageId-i;s!==0?this.location.historyGo(s):this.currentUrlTree===n.finalUrl&&s===0&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Ti(t)))(i||t)}})()}static{this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Ma=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Ma||{});function t0(t,e){t.events.pipe(gt(n=>n instanceof Yn||n instanceof Kn||n instanceof La||n instanceof Ur),Y(n=>n instanceof Yn||n instanceof Ur?Ma.COMPLETE:(n instanceof Kn?n.code===xt.Redirect||n.code===xt.SupersededByNewNavigation:!1)?Ma.REDIRECTING:Ma.FAILED),gt(n=>n!==Ma.REDIRECTING),On(1)).subscribe(()=>{e()})}function zV(t){throw t}var qV={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},GV={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},jr=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=x($l),this.stateManager=x(e0),this.options=x(Qa,{optional:!0})||{},this.pendingTasks=x(Bn),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=x(Ym),this.urlSerializer=x(qa),this.location=x(qs),this.urlHandlingStrategy=x(Qm),this._events=new Ze,this.errorHandler=this.options.errorHandler||zV,this.navigated=!1,this.routeReuseStrategy=x(BV),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=x(Ha,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!x(Sd,{optional:!0}),this.eventsSubscription=new Pe,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(i!==null&&s!==null){if(this.stateManager.handleRouterEvent(r,s),r instanceof Kn&&r.code!==xt.Redirect&&r.code!==xt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Yn)this.navigated=!0;else if(r instanceof eo){let o=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u=k({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||jV(i.source)},o);this.scheduleNavigation(a,Pa,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}KV(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Pa,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",r)},0)})}navigateToSyncWithBrowser(n,r,i){let s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){let u=k({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(s.state=u)}let a=this.parseUrl(n);this.scheduleNavigation(a,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(Wm),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:u}=r,l=u?this.currentUrlTree.fragment:o,h=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":h=k(k({},this.currentUrlTree.queryParams),s);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=s||null}h!==null&&(h=this.removeEmptyProps(h));let p;try{let m=i?i.snapshot:this.routerState.snapshot.root;p=kC(m)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),p=this.currentUrlTree.root}return FC(p,n,h,l??null)}navigateByUrl(n,r={skipLocationChange:!1}){let i=ka(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,Pa,null,r)}navigate(n,r={skipLocationChange:!1}){return WV(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=k({},qV):r===!1?i=k({},GV):i=r,ka(n))return gC(this.currentUrlTree,n,i);let s=this.parseUrl(n);return gC(this.currentUrlTree,s,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,s])=>(s!=null&&(r[i]=s),r),{})}scheduleNavigation(n,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,u,l;o?(a=o.resolve,u=o.reject,l=o.promise):l=new Promise((p,m)=>{a=p,u=m});let h=this.pendingTasks.add();return t0(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:s,resolve:a,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(p=>Promise.reject(p))}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function WV(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new $(4008,!1)}function KV(t){return!(t instanceof Va)&&!(t instanceof eo)}var Ad=class{};var QV=(()=>{class t{constructor(n,r,i,s,o){this.router=n,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(gt(n=>n instanceof Yn),Pn(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){let i=[];for(let s of r){s.providers&&!s._injector&&(s._injector=Ul(s.providers,n,`Route: ${s.path}`));let o=s._injector??n,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&s.canLoad===void 0||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return Ae(i).pipe(ys())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(n,r):i=W(null);let s=i.pipe(Ve(o=>o===null?W(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??n,o.routes))));if(r.loadComponent&&!r._loadedComponent){let o=this.loader.loadComponent(r);return Ae([s,o]).pipe(ys())}else return s})}static{this.\u0275fac=function(r){return new(r||t)(z(jr),z(zl),z(vt),z(Ad),z(Km))}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),n0=new L(""),YV=(()=>{class t{constructor(n,r,i,s,o={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration||="disabled",o.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Xs?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof Yn?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof Ur&&n.code===vd.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Id&&(n.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(n.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Id(n,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(r){UT()}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac})}}return t})();function n5(t,...e){return Vt([{provide:Ha,multi:!0,useValue:t},[],{provide:Mi,useFactory:r0,deps:[jr]},{provide:_a,multi:!0,useFactory:i0},e.map(n=>n.\u0275providers)])}function r0(t){return t.routerState.root}function Ya(t,e){return{\u0275kind:t,\u0275providers:e}}function i0(){let t=x(et);return e=>{let n=t.get(Pr);if(e!==n.components[0])return;let r=t.get(jr),i=t.get(s0);t.get(Jm)===1&&r.initialNavigation(),t.get(o0,null,se.Optional)?.setUpPreloading(),t.get(n0,null,se.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var s0=new L("",{factory:()=>new Ze}),Jm=new L("",{providedIn:"root",factory:()=>1});function JV(){return Ya(2,[{provide:Jm,useValue:0},{provide:Hl,multi:!0,deps:[et],useFactory:e=>{let n=e.get(jb,Promise.resolve());return()=>n.then(()=>new Promise(r=>{let i=e.get(jr),s=e.get(s0);t0(i,()=>{r(!0)}),e.get(Ym).afterPreactivation=()=>(r(!0),s.closed?W(void 0):s),i.initialNavigation()}))}}])}function ZV(){return Ya(3,[{provide:Hl,multi:!0,useFactory:()=>{let e=x(jr);return()=>{e.setUpLocationChangeListener()}}},{provide:Jm,useValue:2}])}var o0=new L("");function XV(t){return Ya(0,[{provide:o0,useExisting:QV},{provide:Ad,useExisting:t}])}function eU(){return Ya(8,[_C,{provide:Sd,useExisting:_C}])}function tU(t){let e=[{provide:ZC,useValue:LV},{provide:XC,useValue:k({skipNextTransition:!!t?.skipInitialTransition},t)}];return Ya(9,e)}var DC=new L("ROUTER_FORROOT_GUARD"),nU=[qs,{provide:qa,useClass:Zs},jr,Wa,{provide:Mi,useFactory:r0,deps:[jr]},Km,[]],r5=(()=>{class t{constructor(n){}static forRoot(n,r){return{ngModule:t,providers:[nU,[],{provide:Ha,multi:!0,useValue:n},{provide:DC,useFactory:oU,deps:[[jr,new ct,new og]]},{provide:Qa,useValue:r||{}},r?.useHash?iU():sU(),rU(),r?.preloadingStrategy?XV(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?aU(r):[],r?.bindToComponentInputs?eU().\u0275providers:[],r?.enableViewTransitions?tU().\u0275providers:[],cU()]}}static forChild(n){return{ngModule:t,providers:[{provide:Ha,multi:!0,useValue:n}]}}static{this.\u0275fac=function(r){return new(r||t)(z(DC,8))}}static{this.\u0275mod=tn({type:t})}static{this.\u0275inj=en({})}}return t})();function rU(){return{provide:n0,useFactory:()=>{let t=x(Wb),e=x(me),n=x(Qa),r=x(Ym),i=x(qa);return n.scrollOffset&&t.setOffset(n.scrollOffset),new YV(i,r,t,e,n)}}}function iU(){return{provide:Si,useClass:$b}}function sU(){return{provide:Si,useClass:nm}}function oU(t){return"guarded"}function aU(t){return[t.initialNavigation==="disabled"?ZV().\u0275providers:[],t.initialNavigation==="enabledBlocking"?JV().\u0275providers:[]]}var TC=new L("");function cU(){return[{provide:TC,useFactory:i0},{provide:_a,multi:!0,useExisting:TC}]}var m0=(()=>{class t{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static{this.\u0275fac=function(r){return new(r||t)(te(bi),te(Nr))}}static{this.\u0275dir=je({type:t})}}return t})(),y0=(()=>{class t extends m0{static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Ti(t)))(i||t)}})()}static{this.\u0275dir=je({type:t,features:[$t]})}}return t})(),Ud=new L("");var uU={provide:Ud,useExisting:yn(()=>v0),multi:!0};function lU(){let t=Gn()?Gn().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var dU=new L(""),v0=(()=>{class t extends m0{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!lU())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static{this.\u0275fac=function(r){return new(r||t)(te(bi),te(Nr),te(dU,8))}}static{this.\u0275dir=je({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&Ai("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[Mr([uU]),$t]})}}return t})();function $r(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}function _0(t){return t!=null&&typeof t.length=="number"}var rc=new L(""),jd=new L(""),hU=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,a0=class{static min(e){return fU(e)}static max(e){return pU(e)}static required(e){return I0(e)}static requiredTrue(e){return gU(e)}static email(e){return mU(e)}static minLength(e){return yU(e)}static maxLength(e){return vU(e)}static pattern(e){return _U(e)}static nullValidator(e){return Md(e)}static compose(e){return C0(e)}static composeAsync(e){return A0(e)}};function fU(t){return e=>{if($r(e.value)||$r(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}function pU(t){return e=>{if($r(e.value)||$r(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}function I0(t){return $r(t.value)?{required:!0}:null}function gU(t){return t.value===!0?null:{required:!0}}function mU(t){return $r(t.value)||hU.test(t.value)?null:{email:!0}}function yU(t){return e=>$r(e.value)||!_0(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}function vU(t){return e=>_0(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}function _U(t){if(!t)return Md;let e,n;return typeof t=="string"?(n="",t.charAt(0)!=="^"&&(n+="^"),n+=t,t.charAt(t.length-1)!=="$"&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if($r(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}function Md(t){return null}function w0(t){return t!=null}function E0(t){return xr(t)?Ae(t):t}function D0(t){let e={};return t.forEach(n=>{e=n!=null?k(k({},e),n):e}),Object.keys(e).length===0?null:e}function T0(t,e){return e.map(n=>n(t))}function IU(t){return!t.validate}function b0(t){return t.map(e=>IU(e)?e:n=>e.validate(n))}function C0(t){if(!t)return null;let e=t.filter(w0);return e.length==0?null:function(n){return D0(T0(n,e))}}function ry(t){return t!=null?C0(b0(t)):null}function A0(t){if(!t)return null;let e=t.filter(w0);return e.length==0?null:function(n){let r=T0(n,e).map(E0);return Zf(r).pipe(Y(D0))}}function iy(t){return t!=null?A0(b0(t)):null}function c0(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function S0(t){return t._rawValidators}function R0(t){return t._rawAsyncValidators}function Zm(t){return t?Array.isArray(t)?t:[t]:[]}function xd(t,e){return Array.isArray(t)?t.includes(e):t===e}function u0(t,e){let n=Zm(e);return Zm(t).forEach(i=>{xd(n,i)||n.push(i)}),n}function l0(t,e){return Zm(e).filter(n=>!xd(t,n))}var Pd=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=ry(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=iy(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},Jn=class extends Pd{get formDirective(){return null}get path(){return null}},xi=class extends Pd{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Od=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},wU={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},w5=ae(k({},wU),{"[class.ng-submitted]":"isSubmitted"}),E5=(()=>{class t extends Od{constructor(n){super(n)}static{this.\u0275fac=function(r){return new(r||t)(te(xi,2))}}static{this.\u0275dir=je({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&Bl("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[$t]})}}return t})(),D5=(()=>{class t extends Od{constructor(n){super(n)}static{this.\u0275fac=function(r){return new(r||t)(te(Jn,10))}}static{this.\u0275dir=je({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&Bl("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[$t]})}}return t})();var Ja="VALID",Nd="INVALID",ro="PENDING",Za="DISABLED",Hr=class{},kd=class extends Hr{constructor(e,n){super(),this.value=e,this.source=n}},ec=class extends Hr{constructor(e,n){super(),this.pristine=e,this.source=n}},tc=class extends Hr{constructor(e,n){super(),this.touched=e,this.source=n}},io=class extends Hr{constructor(e,n){super(),this.status=e,this.source=n}},Xm=class extends Hr{constructor(e){super(),this.source=e}},ey=class extends Hr{constructor(e){super(),this.source=e}};function sy(t){return(Bd(t)?t.validators:t)||null}function EU(t){return Array.isArray(t)?ry(t):t||null}function oy(t,e){return(Bd(e)?e.asyncValidators:t)||null}function DU(t){return Array.isArray(t)?iy(t):t||null}function Bd(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function N0(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new $(1e3,"");if(!r[n])throw new $(1001,"")}function M0(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new $(1002,"")})}var so=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=$s(()=>this.statusReactive()),this.statusReactive=Bs(void 0),this._pristine=$s(()=>this.pristineReactive()),this.pristineReactive=Bs(!0),this._touched=$s(()=>this.touchedReactive()),this.touchedReactive=Bs(!1),this._events=new Ze,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return zt(this.statusReactive)}set status(e){zt(()=>this.statusReactive.set(e))}get valid(){return this.status===Ja}get invalid(){return this.status===Nd}get pending(){return this.status==ro}get disabled(){return this.status===Za}get enabled(){return this.status!==Za}get pristine(){return zt(this.pristineReactive)}set pristine(e){zt(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return zt(this.touchedReactive)}set touched(e){zt(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(u0(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(u0(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(l0(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(l0(e,this._rawAsyncValidators))}hasValidator(e){return xd(this._rawValidators,e)}hasAsyncValidator(e){return xd(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(ae(k({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new tc(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new tc(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(ae(k({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new ec(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new ec(!0,r))}markAsPending(e={}){this.status=ro;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new io(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(ae(k({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Za,this.errors=null,this._forEachChild(i=>{i.disable(ae(k({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new kd(this.value,r)),this._events.next(new io(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ae(k({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Ja,this._forEachChild(r=>{r.enable(ae(k({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(ae(k({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ja||this.status===ro)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new kd(this.value,n)),this._events.next(new io(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(ae(k({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Za:Ja}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=ro,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let r=E0(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new io(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new Oe,this.statusChanges=new Oe}_calculateStatus(){return this._allControlsDisabled()?Za:this.errors?Nd:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ro)?ro:this._anyControlsHaveStatus(Nd)?Nd:Ja}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&this._events.next(new ec(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new tc(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Bd(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=EU(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=DU(this._rawAsyncValidators)}},oo=class extends so{constructor(e,n,r){super(sy(n),oy(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){M0(this,!0,e),Object.keys(e).forEach(r=>{N0(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,s)=>{r=n(r,i,s)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var ty=class extends oo{};var ic=new L("CallSetDisabledState",{providedIn:"root",factory:()=>$d}),$d="always";function x0(t,e){return[...e.path,t]}function Fd(t,e,n=$d){ay(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),bU(t,e),AU(t,e),CU(t,e),TU(t,e)}function d0(t,e,n=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Vd(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function Ld(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function TU(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function ay(t,e){let n=S0(t);e.validator!==null?t.setValidators(c0(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=R0(t);e.asyncValidator!==null?t.setAsyncValidators(c0(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();Ld(e._rawValidators,i),Ld(e._rawAsyncValidators,i)}function Vd(t,e){let n=!1;if(t!==null){if(e.validator!==null){let i=S0(t);if(Array.isArray(i)&&i.length>0){let s=i.filter(o=>o!==e.validator);s.length!==i.length&&(n=!0,t.setValidators(s))}}if(e.asyncValidator!==null){let i=R0(t);if(Array.isArray(i)&&i.length>0){let s=i.filter(o=>o!==e.asyncValidator);s.length!==i.length&&(n=!0,t.setAsyncValidators(s))}}}let r=()=>{};return Ld(e._rawValidators,r),Ld(e._rawAsyncValidators,r),n}function bU(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&P0(t,e)})}function CU(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&P0(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function P0(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function AU(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function O0(t,e){t==null,ay(t,e)}function SU(t,e){return Vd(t,e)}function k0(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function RU(t){return Object.getPrototypeOf(t.constructor)===y0}function F0(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function L0(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(s=>{s.constructor===v0?n=s:RU(s)?r=s:i=s}),i||r||n||null}function NU(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}var MU={provide:Jn,useExisting:yn(()=>xU)},Xa=Promise.resolve(),xU=(()=>{class t extends Jn{get submitted(){return zt(this.submittedReactive)}constructor(n,r,i){super(),this.callSetDisabledState=i,this._submitted=$s(()=>this.submittedReactive()),this.submittedReactive=Bs(!1),this._directives=new Set,this.ngSubmit=new Oe,this.form=new oo({},ry(n),iy(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){Xa.then(()=>{let r=this._findContainer(n.path);n.control=r.registerControl(n.name,n.control),Fd(n.control,n,this.callSetDisabledState),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){Xa.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){Xa.then(()=>{let r=this._findContainer(n.path),i=new oo({});O0(i,n),r.registerControl(n.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){Xa.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,r){Xa.then(()=>{this.form.get(n.path).setValue(r)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submittedReactive.set(!0),F0(this.form,this._directives),this.ngSubmit.emit(n),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}static{this.\u0275fac=function(r){return new(r||t)(te(rc,10),te(jd,10),te(ic,8))}}static{this.\u0275dir=je({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&Ai("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Mr([MU]),$t]})}}return t})();function h0(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function f0(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var nc=class extends so{constructor(e=null,n,r){super(sy(n),oy(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Bd(n)&&(n.nonNullable||n.initialValueIsDefault)&&(f0(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){h0(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){h0(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){f0(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var PU=t=>t instanceof nc;var OU={provide:xi,useExisting:yn(()=>kU)},p0=Promise.resolve(),kU=(()=>{class t extends xi{constructor(n,r,i,s,o,a){super(),this._changeDetectorRef=o,this.callSetDisabledState=a,this.control=new nc,this._registered=!1,this.name="",this.update=new Oe,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=L0(this,s)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),k0(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Fd(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){p0.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let r=n.isDisabled.currentValue,i=r!==0&&Ia(r);p0.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?x0(n,this._parent):[n]}static{this.\u0275fac=function(r){return new(r||t)(te(Jn,9),te(rc,10),te(jd,10),te(Ud,10),te(Or,8),te(ic,8))}}static{this.\u0275dir=je({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Mr([OU]),$t,jn]})}}return t})(),b5=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=je({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return t})(),FU={provide:Ud,useExisting:yn(()=>LU),multi:!0},LU=(()=>{class t extends y0{writeValue(n){let r=n??"";this.setProperty("value",r)}registerOnChange(n){this.onChange=r=>{n(r==""?null:parseFloat(r))}}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Ti(t)))(i||t)}})()}static{this.\u0275dir=je({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){r&1&&Ai("input",function(o){return i.onChange(o.target.value)})("blur",function(){return i.onTouched()})},features:[Mr([FU]),$t]})}}return t})();var V0=new L("");var VU={provide:Jn,useExisting:yn(()=>UU)},UU=(()=>{class t extends Jn{get submitted(){return zt(this._submittedReactive)}set submitted(n){this._submittedReactive.set(n)}constructor(n,r,i){super(),this.callSetDisabledState=i,this._submitted=$s(()=>this._submittedReactive()),this._submittedReactive=Bs(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Oe,this._setValidators(n),this._setAsyncValidators(r)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Vd(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){let r=this.form.get(n.path);return Fd(r,n,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),r}getControl(n){return this.form.get(n.path)}removeControl(n){d0(n.control||null,n,!1),NU(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,r){this.form.get(n.path).setValue(r)}onSubmit(n){return this._submittedReactive.set(!0),F0(this.form,this.directives),this.ngSubmit.emit(n),this.form._events.next(new Xm(this.control)),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this._submittedReactive.set(!1),this.form._events.next(new ey(this.form))}_updateDomValue(){this.directives.forEach(n=>{let r=n.control,i=this.form.get(n.path);r!==i&&(d0(r||null,n),PU(i)&&(Fd(i,n,this.callSetDisabledState),n.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){let r=this.form.get(n.path);O0(r,n),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){let r=this.form.get(n.path);r&&SU(r,n)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){ay(this.form,this),this._oldForm&&Vd(this._oldForm,this)}_checkFormPresent(){this.form}static{this.\u0275fac=function(r){return new(r||t)(te(rc,10),te(jd,10),te(ic,8))}}static{this.\u0275dir=je({type:t,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&Ai("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Mr([VU]),$t,jn]})}}return t})();var jU={provide:xi,useExisting:yn(()=>BU)},BU=(()=>{class t extends xi{set isDisabled(n){}static{this._ngModelWarningSentOnce=!1}constructor(n,r,i,s,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.name=null,this.update=new Oe,this._ngModelWarningSent=!1,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=L0(this,s)}ngOnChanges(n){this._added||this._setUpControl(),k0(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return x0(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(r){return new(r||t)(te(Jn,13),te(rc,10),te(jd,10),te(Ud,10),te(V0,8))}}static{this.\u0275dir=je({type:t,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[Mr([jU]),$t,jn]})}}return t})();var $U=(()=>{class t{constructor(){this._validator=Md}ngOnChanges(n){if(this.inputName in n){let r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Md,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return n!=null}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=je({type:t,features:[jn]})}}return t})();var HU={provide:rc,useExisting:yn(()=>zU),multi:!0};var zU=(()=>{class t extends $U{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=Ia,this.createValidator=n=>I0}enabled(n){return n}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Ti(t)))(i||t)}})()}static{this.\u0275dir=je({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&jl("required",i._enabled?"":null)},inputs:{required:"required"},features:[Mr([HU]),$t]})}}return t})();var U0=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=tn({type:t})}static{this.\u0275inj=en({})}}return t})(),ny=class extends so{constructor(e,n,r){super(sy(n),oy(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,r={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,n={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),n&&(this.controls.splice(i,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){M0(this,!1,e),e.forEach((r,i)=>{N0(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((n,r)=>r._syncPendingControls()?!0:n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,r)=>{e(n,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function g0(t){return!!t&&(t.asyncValidators!==void 0||t.validators!==void 0||t.updateOn!==void 0)}var C5=(()=>{class t{constructor(){this.useNonNullable=!1}get nonNullable(){let n=new t;return n.useNonNullable=!0,n}group(n,r=null){let i=this._reduceControls(n),s={};return g0(r)?s=r:r!==null&&(s.validators=r.validator,s.asyncValidators=r.asyncValidator),new oo(i,s)}record(n,r=null){let i=this._reduceControls(n);return new ty(i,r)}control(n,r,i){let s={};return this.useNonNullable?(g0(r)?s=r:(s.validators=r,s.asyncValidators=i),new nc(n,ae(k({},s),{nonNullable:!0}))):new nc(n,r,i)}array(n,r,i){let s=n.map(o=>this._createControl(o));return new ny(s,r,i)}_reduceControls(n){let r={};return Object.keys(n).forEach(i=>{r[i]=this._createControl(n[i])}),r}_createControl(n){if(n instanceof nc)return n;if(n instanceof so)return n;if(Array.isArray(n)){let r=n[0],i=n.length>1?n[1]:null,s=n.length>2?n[2]:null;return this.control(r,i,s)}else return this.control(n)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var A5=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:ic,useValue:n.callSetDisabledState??$d}]}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=tn({type:t})}static{this.\u0275inj=en({imports:[U0]})}}return t})(),S5=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:V0,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:ic,useValue:n.callSetDisabledState??$d}]}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=tn({type:t})}static{this.\u0275inj=en({imports:[U0]})}}return t})();var B0=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},qU=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=t[n++],o=t[n++],a=t[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},$0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,h=s>>2,p=(s&3)<<4|a>>4,m=(a&15)<<2|l>>6,y=l&63;u||(y=64,o||(m=64)),r.push(n[h],n[p],n[m],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(B0(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):qU(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let p=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||l==null||p==null)throw new uy;let m=s<<2|a>>4;if(r.push(m),l!==64){let y=a<<4&240|l>>2;if(r.push(y),p!==64){let C=l<<6&192|p;r.push(C)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},uy=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},GU=function(t){let e=B0(t);return $0.encodeByteArray(e,!0)},sc=function(t){return GU(t).replace(/\./g,"")},dy=function(t){try{return $0.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function WU(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var KU=()=>WU().__FIREBASE_DEFAULTS__,QU=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},YU=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&dy(t[1]);return e&&JSON.parse(e)},zd=()=>{try{return KU()||QU()||YU()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},hy=t=>{var e,n;return(n=(e=zd())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},H0=t=>{let e=hy(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},fy=()=>{var t;return(t=zd())===null||t===void 0?void 0:t.config},py=t=>{var e;return(e=zd())===null||e===void 0?void 0:e[`_${t}`]};var Hd=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function z0(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[sc(JSON.stringify(n)),sc(JSON.stringify(o)),""].join(".")}function Qe(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function q0(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Qe())}function JU(){var t;let e=(t=zd())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function G0(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function W0(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function K0(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Q0(){let t=Qe();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Y0(){return!JU()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function gy(){try{return typeof indexedDB=="object"}catch{return!1}}function J0(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}var ZU="FirebaseError",Pt=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=ZU,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Zn.prototype.create)}},Zn=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?XU(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Pt(i,a,r)}};function XU(t,e){return t.replace(ej,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var ej=/\{\$([^}]+)}/g;function Z0(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Pi(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let s=t[i],o=e[i];if(j0(s)&&j0(o)){if(!Pi(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function j0(t){return t!==null&&typeof t=="object"}function oc(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ao(t){let e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function co(t){let e=t.indexOf("?");if(!e)return"";let n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function X0(t,e){let n=new ly(t,e);return n.subscribe.bind(n)}var ly=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");tj(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=cy),i.error===void 0&&(i.error=cy),i.complete===void 0&&(i.complete=cy);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function tj(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function cy(){}var M5=4*60*60*1e3;function nt(t){return t&&t._delegate?t._delegate:t}var Wt=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Oi="[DEFAULT]";var my=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new Hd;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(rj(e))try{this.getOrInitializeService({instanceIdentifier:Oi})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Oi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return w(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Oi){return this.instances.has(e)}getOptions(e=Oi){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:nj(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Oi){return this.component?this.component.multipleInstances?e:Oi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function nj(t){return t===Oi?void 0:t}function rj(t){return t.instantiationMode==="EAGER"}var qd=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new my(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var ij=[],le=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(le||{}),sj={debug:le.DEBUG,verbose:le.VERBOSE,info:le.INFO,warn:le.WARN,error:le.ERROR,silent:le.SILENT},oj=le.INFO,aj={[le.DEBUG]:"log",[le.VERBOSE]:"log",[le.INFO]:"info",[le.WARN]:"warn",[le.ERROR]:"error"},cj=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=aj[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},zr=class{constructor(e){this.name=e,this._logLevel=oj,this._logHandler=cj,this._userLogHandler=null,ij.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?sj[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,le.DEBUG,...e),this._logHandler(this,le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,le.VERBOSE,...e),this._logHandler(this,le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,le.INFO,...e),this._logHandler(this,le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,le.WARN,...e),this._logHandler(this,le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,le.ERROR,...e),this._logHandler(this,le.ERROR,...e)}};var uj=(t,e)=>e.some(n=>t instanceof n),eA,tA;function lj(){return eA||(eA=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function dj(){return tA||(tA=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var nA=new WeakMap,vy=new WeakMap,rA=new WeakMap,yy=new WeakMap,Iy=new WeakMap;function hj(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(_n(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&nA.set(n,t)}).catch(()=>{}),Iy.set(e,t),e}function fj(t){if(vy.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});vy.set(t,e)}var _y={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return vy.get(t);if(e==="objectStoreNames")return t.objectStoreNames||rA.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return _n(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function iA(t){_y=t(_y)}function pj(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(Gd(this),e,...n);return rA.set(r,e.sort?e.sort():[e]),_n(r)}:dj().includes(t)?function(...e){return t.apply(Gd(this),e),_n(nA.get(this))}:function(...e){return _n(t.apply(Gd(this),e))}}function gj(t){return typeof t=="function"?pj(t):(t instanceof IDBTransaction&&fj(t),uj(t,lj())?new Proxy(t,_y):t)}function _n(t){if(t instanceof IDBRequest)return hj(t);if(yy.has(t))return yy.get(t);let e=gj(t);return e!==t&&(yy.set(t,e),Iy.set(e,t)),e}var Gd=t=>Iy.get(t);function oA(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(t,e),a=_n(o);return r&&o.addEventListener("upgradeneeded",u=>{r(_n(o.result),u.oldVersion,u.newVersion,_n(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var mj=["get","getKey","getAll","getAllKeys","count"],yj=["put","add","delete","clear"],wy=new Map;function sA(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(wy.get(e))return wy.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=yj.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||mj.includes(n)))return;let s=function(o,...a){return w(this,null,function*(){let u=this.transaction(o,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[n](...a),i&&u.done]))[0]})};return wy.set(e,s),s}iA(t=>ae(k({},t),{get:(e,n,r)=>sA(e,n)||t.get(e,n,r),has:(e,n)=>!!sA(e,n)||t.has(e,n)}));var Dy=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(vj(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function vj(t){let e=t.getComponent();return e?.type==="VERSION"}var Ty="@firebase/app",aA="0.10.11";var Xn=new zr("@firebase/app"),_j="@firebase/app-compat",Ij="@firebase/analytics-compat",wj="@firebase/analytics",Ej="@firebase/app-check-compat",Dj="@firebase/app-check",Tj="@firebase/auth",bj="@firebase/auth-compat",Cj="@firebase/database",Aj="@firebase/database-compat",Sj="@firebase/functions",Rj="@firebase/functions-compat",Nj="@firebase/installations",Mj="@firebase/installations-compat",xj="@firebase/messaging",Pj="@firebase/messaging-compat",Oj="@firebase/performance",kj="@firebase/performance-compat",Fj="@firebase/remote-config",Lj="@firebase/remote-config-compat",Vj="@firebase/storage",Uj="@firebase/storage-compat",jj="@firebase/firestore",Bj="@firebase/vertexai-preview",$j="@firebase/firestore-compat",Hj="firebase",zj="10.13.2";var by="[DEFAULT]",qj={[Ty]:"fire-core",[_j]:"fire-core-compat",[wj]:"fire-analytics",[Ij]:"fire-analytics-compat",[Dj]:"fire-app-check",[Ej]:"fire-app-check-compat",[Tj]:"fire-auth",[bj]:"fire-auth-compat",[Cj]:"fire-rtdb",[Aj]:"fire-rtdb-compat",[Sj]:"fire-fn",[Rj]:"fire-fn-compat",[Nj]:"fire-iid",[Mj]:"fire-iid-compat",[xj]:"fire-fcm",[Pj]:"fire-fcm-compat",[Oj]:"fire-perf",[kj]:"fire-perf-compat",[Fj]:"fire-rc",[Lj]:"fire-rc-compat",[Vj]:"fire-gcs",[Uj]:"fire-gcs-compat",[jj]:"fire-fst",[$j]:"fire-fst-compat",[Bj]:"fire-vertex","fire-js":"fire-js",[Hj]:"fire-js-all"};var ac=new Map,Gj=new Map,Cy=new Map;function cA(t,e){try{t.container.addComponent(e)}catch(n){Xn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Gr(t){let e=t.name;if(Cy.has(e))return Xn.debug(`There were multiple attempts to register component ${e}.`),!1;Cy.set(e,t);for(let n of ac.values())cA(n,t);for(let n of Gj.values())cA(n,t);return!0}function uc(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function on(t){return t.settings!==void 0}var Wj={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},qr=new Zn("app","Firebase",Wj);var Ay=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Wt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw qr.create("app-deleted",{appName:this._name})}};var Wr=zj;function Ny(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:by,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw qr.create("bad-app-name",{appName:String(i)});if(n||(n=fy()),!n)throw qr.create("no-options");let s=ac.get(i);if(s){if(Pi(n,s.options)&&Pi(r,s.config))return s;throw qr.create("duplicate-app",{appName:i})}let o=new qd(i);for(let u of Cy.values())o.addComponent(u);let a=new Ay(n,r,o);return ac.set(i,a),a}function uo(t=by){let e=ac.get(t);if(!e&&t===by&&fy())return Ny();if(!e)throw qr.create("no-app",{appName:t});return e}function Wd(){return Array.from(ac.values())}function We(t,e,n){var r;let i=(r=qj[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Xn.warn(a.join(" "));return}Gr(new Wt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var Kj="firebase-heartbeat-database",Qj=1,cc="firebase-heartbeat-store",Ey=null;function hA(){return Ey||(Ey=oA(Kj,Qj,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(cc)}catch(n){console.warn(n)}}}}).catch(t=>{throw qr.create("idb-open",{originalErrorMessage:t.message})})),Ey}function Yj(t){return w(this,null,function*(){try{let n=(yield hA()).transaction(cc),r=yield n.objectStore(cc).get(fA(t));return yield n.done,r}catch(e){if(e instanceof Pt)Xn.warn(e.message);else{let n=qr.create("idb-get",{originalErrorMessage:e?.message});Xn.warn(n.message)}}})}function uA(t,e){return w(this,null,function*(){try{let r=(yield hA()).transaction(cc,"readwrite");yield r.objectStore(cc).put(e,fA(t)),yield r.done}catch(n){if(n instanceof Pt)Xn.warn(n.message);else{let r=qr.create("idb-set",{originalErrorMessage:n?.message});Xn.warn(r.message)}}})}function fA(t){return`${t.name}!${t.options.appId}`}var Jj=1024,Zj=30*24*60*60*1e3,Sy=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new Ry(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return w(this,null,function*(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=lA();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let a=new Date(o.date).valueOf();return Date.now()-a<=Zj}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Xn.warn(r)}})}getHeartbeatsHeader(){return w(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=lA(),{heartbeatsToSend:r,unsentEntries:i}=Xj(this._heartbeatsCache.heartbeats),s=sc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Xn.warn(n),""}})}};function lA(){return new Date().toISOString().substring(0,10)}function Xj(t,e=Jj){let n=[],r=t.slice();for(let i of t){let s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),dA(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),dA(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var Ry=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return w(this,null,function*(){return gy()?J0().then(()=>!0).catch(()=>!1):!1})}read(){return w(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield Yj(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return w(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return uA(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return w(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return uA(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function dA(t){return sc(JSON.stringify({version:2,heartbeats:t})).length}function e2(t){Gr(new Wt("platform-logger",e=>new Dy(e),"PRIVATE")),Gr(new Wt("heartbeat",e=>new Sy(e),"PRIVATE")),We(Ty,aA,t),We(Ty,aA,"esm2017"),We("fire-js","")}e2("");var t2="firebase",n2="10.13.2";We(t2,n2,"app");var Fi=new Ln("ANGULARFIRE2_VERSION");function Qd(t,e,n){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===n);if(s.length===1)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var lc=(t,e)=>{let n=e?[e]:Wd(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},ho=class{constructor(){return lc(r2)}},r2="app-check";function lo(){}var Kd=class{zone;delegate;constructor(e,n=Qf){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,s=function(o){i.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,n,r)}},My=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",lo,{},lo,lo)),n.pipe(Ue({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},fo=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new Kd(Zone.current)),this.insideAngular=n.run(()=>new Kd(Zone.current,Kf)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(z(me))};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Yd(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function i2(t){return Yd().ngZone.runOutsideAngular(()=>t())}function ki(t){return Yd().ngZone.run(()=>t())}function s2(t){return o2(Yd())(t)}function o2(t){return function(n){return n=n.lift(new My(t.ngZone)),n.pipe(yr(t.outsideAngular),mr(t.insideAngular))}}var a2=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),ki(()=>t.apply(void 0,r))},ut=(t,e)=>function(){let n,r=arguments;for(let s=0;s<arguments.length;s++)typeof r[s]=="function"&&(e&&(n||=ki(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",lo,{},lo,lo))),r[s]=a2(r[s],n));let i=i2(()=>t.apply(this,r));if(!e)if(i instanceof ie){let s=Yd();return i.pipe(yr(s.outsideAngular),mr(s.insideAngular))}else return ki(()=>i);return i instanceof ie?i.pipe(s2):i instanceof Promise?ki(()=>new Promise((s,o)=>i.then(a=>ki(()=>s(a)),a=>ki(()=>o(a))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:ki(()=>i)};var er=class{constructor(e){return e}},Li=class{constructor(){return Wd()}};function c2(t){return t&&t.length===1?t[0]:new er(uo())}var xy=new L("angularfire2._apps"),u2={provide:er,useFactory:c2,deps:[[new ct,xy]]},l2={provide:Li,deps:[[new ct,xy]]};function d2(t){return(e,n)=>{let r=n.get(Bt);We("angularfire",Fi.full,"core"),We("angularfire",Fi.full,"app"),We("angular",Db.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new er(i)}}function yK(t,...e){return Vt([u2,l2,{provide:xy,useFactory:d2(t),multi:!0,deps:[me,et,fo,...e]}])}var vK=ut(Ny,!0);function NA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var MA=NA,xA=new Zn("auth","Firebase",NA());var nh=new zr("@firebase/auth");function h2(t,...e){nh.logLevel<=le.WARN&&nh.warn(`Auth (${Wr}): ${t}`,...e)}function Zd(t,...e){nh.logLevel<=le.ERROR&&nh.error(`Auth (${Wr}): ${t}`,...e)}function wn(t,...e){throw tv(t,...e)}function Vi(t,...e){return tv(t,...e)}function PA(t,e,n){let r=Object.assign(Object.assign({},MA()),{[e]:n});return new Zn("auth","Firebase",r).create(e,{appName:t.name})}function rr(t){return PA(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function tv(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return xA.create(t,...e)}function K(t,e,...n){if(!t)throw tv(e,...n)}function tr(t){let e="INTERNAL ASSERTION FAILED: "+t;throw Zd(e),new Error(e)}function Qr(t,e){t||tr(e)}function Fy(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function f2(){return pA()==="http:"||pA()==="https:"}function pA(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function p2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(f2()||W0()||"connection"in navigator)?navigator.onLine:!0}function g2(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var Ui=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Qr(n>e,"Short delay should be less than long delay!"),this.isMobile=q0()||K0()}get(){return p2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function nv(t,e){Qr(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var rh=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;tr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;tr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;tr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var m2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var y2=new Ui(3e4,6e4);function Yr(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Jr(s,o,a,u){return w(this,arguments,function*(t,e,n,r,i={}){return OA(t,i,()=>w(this,null,function*(){let l={},h={};r&&(e==="GET"?h=r:l={body:JSON.stringify(r)});let p=oc(Object.assign({key:t.config.apiKey},h)).slice(1),m=yield t._getAdditionalHeaders();m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode);let y=Object.assign({method:e,headers:m},l);return G0()||(y.referrerPolicy="no-referrer"),rh.fetch()(kA(t,t.config.apiHost,n,p),y)}))})}function OA(t,e,n){return w(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},m2),e);try{let i=new Ly(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw Jd(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Jd(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw Jd(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw Jd(t,"user-disabled",o);let h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw PA(t,h,l);wn(t,h)}}catch(i){if(i instanceof Pt)throw i;wn(t,"network-request-failed",{message:String(i)})}})}function vc(s,o,a,u){return w(this,arguments,function*(t,e,n,r,i={}){let l=yield Jr(t,e,n,r,i);return"mfaPendingCredential"in l&&wn(t,"multi-factor-auth-required",{_serverResponse:l}),l})}function kA(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?nv(t.config,i):`${t.config.apiScheme}://${i}`}function v2(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var Ly=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Vi(this.auth,"network-request-failed")),y2.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function Jd(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=Vi(t,e,r);return i.customData._tokenResponse=n,i}function gA(t){return t!==void 0&&t.enterprise!==void 0}var Vy=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return v2(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function _2(t,e){return w(this,null,function*(){return Jr(t,"GET","/v2/recaptchaConfig",Yr(t,e))})}function I2(t,e){return w(this,null,function*(){return Jr(t,"POST","/v1/accounts:delete",e)})}function FA(t,e){return w(this,null,function*(){return Jr(t,"POST","/v1/accounts:lookup",e)})}function dc(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function rv(t,e=!1){return w(this,null,function*(){let n=nt(t),r=yield n.getIdToken(e),i=iv(r);K(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:dc(Py(i.auth_time)),issuedAtTime:dc(Py(i.iat)),expirationTime:dc(Py(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function Py(t){return Number(t)*1e3}function iv(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Zd("JWT malformed, contained fewer than 3 sections"),null;try{let i=dy(n);return i?JSON.parse(i):(Zd("Failed to decode base64 JWT payload"),null)}catch(i){return Zd("Caught error parsing JWT payload as JSON",i?.toString()),null}}function mA(t){let e=iv(t);return K(e,"internal-error"),K(typeof e.exp<"u","internal-error"),K(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function fc(t,e,n=!1){return w(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof Pt&&w2(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function w2({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var Uy=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>w(this,null,function*(){yield this.iteration()}),n)}iteration(){return w(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var pc=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=dc(this.lastLoginAt),this.creationTime=dc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function ih(t){return w(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield fc(t,FA(n,{idToken:r}));K(i?.users.length,n,"internal-error");let s=i.users[0];t._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?LA(s.providerUserInfo):[],a=E2(t.providerData,o),u=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!a?.length,h=u?l:!1,p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new pc(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(t,p)})}function sv(t){return w(this,null,function*(){let e=nt(t);yield ih(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function E2(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function LA(t){return t.map(e=>{var{providerId:n}=e,r=Yf(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function D2(t,e){return w(this,null,function*(){let n=yield OA(t,{},()=>w(this,null,function*(){let r=oc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=kA(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",rh.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function T2(t,e){return w(this,null,function*(){return Jr(t,"POST","/v2/accounts:revokeToken",Yr(t,e))})}var hc=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){K(e.idToken,"internal-error"),K(typeof e.idToken<"u","internal-error"),K(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):mA(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){K(e.length!==0,"internal-error");let n=mA(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return w(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(K(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return w(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield D2(e,n);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new t;return r&&(K(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(K(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(K(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return tr("not implemented")}};function Kr(t,e){K(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var po=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Yf(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Uy(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new pc(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return w(this,null,function*(){let n=yield fc(this,this.stsTokenManager.getToken(this.auth,e));return K(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return rv(this,e)}reload(){return sv(this)}_assign(e){this!==e&&(K(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){K(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return w(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield ih(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return w(this,null,function*(){if(on(this.auth.app))return Promise.reject(rr(this.auth));let e=yield this.getIdToken();return yield fc(this,I2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,u,l,h;let p=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(i=n.email)!==null&&i!==void 0?i:void 0,y=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,C=(o=n.photoURL)!==null&&o!==void 0?o:void 0,N=(a=n.tenantId)!==null&&a!==void 0?a:void 0,R=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,F=(l=n.createdAt)!==null&&l!==void 0?l:void 0,H=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:V,emailVerified:X,isAnonymous:we,providerData:G,stsTokenManager:E}=n;K(V&&E,e,"internal-error");let v=hc.fromJSON(this.name,E);K(typeof V=="string",e,"internal-error"),Kr(p,e.name),Kr(m,e.name),K(typeof X=="boolean",e,"internal-error"),K(typeof we=="boolean",e,"internal-error"),Kr(y,e.name),Kr(C,e.name),Kr(N,e.name),Kr(R,e.name),Kr(F,e.name),Kr(H,e.name);let _=new t({uid:V,auth:e,email:m,emailVerified:X,displayName:p,isAnonymous:we,photoURL:C,phoneNumber:y,tenantId:N,stsTokenManager:v,createdAt:F,lastLoginAt:H});return G&&Array.isArray(G)&&(_.providerData=G.map(D=>Object.assign({},D))),R&&(_._redirectEventId=R),_}static _fromIdTokenResponse(e,n,r=!1){return w(this,null,function*(){let i=new hc;i.updateFromServerResponse(n);let s=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield ih(s),s})}static _fromGetAccountInfoResponse(e,n,r){return w(this,null,function*(){let i=n.users[0];K(i.localId!==void 0,"internal-error");let s=i.providerUserInfo!==void 0?LA(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,a=new hc;a.updateFromIdToken(r);let u=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new pc(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(u,l),u})}};var yA=new Map;function nr(t){Qr(t instanceof Function,"Expected a class definition");let e=yA.get(t);return e?(Qr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,yA.set(t,e),e)}var b2=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return w(this,null,function*(){return!0})}_set(n,r){return w(this,null,function*(){this.storage[n]=r})}_get(n){return w(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return w(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),jy=b2;function Xd(t,e,n){return`firebase:${t}:${e}:${n}`}var sh=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=Xd(this.userKey,i.apiKey,s),this.fullPersistenceKey=Xd("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return w(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?po._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return w(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return w(this,null,function*(){if(!n.length)return new t(nr(jy),e,r);let i=(yield Promise.all(n.map(l=>w(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),s=i[0]||nr(jy),o=Xd(r,e.config.apiKey,e.name),a=null;for(let l of n)try{let h=yield l._get(o);if(h){let p=po._fromJSON(e,h);l!==s&&(a=p),s=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new t(s,e,r):(s=u[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(l=>w(this,null,function*(){if(l!==s)try{yield l._remove(o)}catch{}}))),new t(s,e,r))})}};function vA(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(BA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(VA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(HA(e))return"Blackberry";if(zA(e))return"Webos";if(UA(e))return"Safari";if((e.includes("chrome/")||jA(e))&&!e.includes("edge/"))return"Chrome";if($A(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function VA(t=Qe()){return/firefox\//i.test(t)}function UA(t=Qe()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function jA(t=Qe()){return/crios\//i.test(t)}function BA(t=Qe()){return/iemobile/i.test(t)}function $A(t=Qe()){return/android/i.test(t)}function HA(t=Qe()){return/blackberry/i.test(t)}function zA(t=Qe()){return/webos/i.test(t)}function ov(t=Qe()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function C2(t=Qe()){var e;return ov(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function A2(){return Q0()&&document.documentMode===10}function qA(t=Qe()){return ov(t)||$A(t)||zA(t)||HA(t)||/windows phone/i.test(t)||BA(t)}function GA(t,e=[]){let n;switch(t){case"Browser":n=vA(Qe());break;case"Worker":n=`${vA(Qe())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Wr}/${r}`}var By=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=s=>new Promise((o,a)=>{try{let u=e(s);o(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return w(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function S2(n){return w(this,arguments,function*(t,e={}){return Jr(t,"GET","/v2/passwordPolicy",Yr(t,e))})}var R2=6,$y=class{constructor(e){var n,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:R2,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var Hy=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new oh(this),this.idTokenSubscription=new oh(this),this.beforeStateQueue=new By(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=xA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=nr(n)),this._initializationPromise=this.queue(()=>w(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield sh.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return w(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return w(this,null,function*(){try{let n=yield FA(this,{idToken:e}),r=yield po._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return w(this,null,function*(){var n;if(on(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!o||o===a)&&u?.user&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return K(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return w(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return w(this,null,function*(){try{yield ih(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=g2()}_delete(){return w(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return w(this,null,function*(){if(on(this.app))return Promise.reject(rr(this));let n=e?nt(e):null;return n&&K(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return w(this,null,function*(){if(!this._deleted)return e&&K(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>w(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return w(this,null,function*(){return on(this.app)?Promise.reject(rr(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return on(this.app)?Promise.reject(rr(this)):this.queue(()=>w(this,null,function*(){yield this.assertedPersistence.setPersistence(nr(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return w(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return w(this,null,function*(){let e=yield S2(this),n=new $y(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Zn("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return w(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield T2(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return w(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return w(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&nr(e)||this._popupRedirectResolver;K(n,this,"argument-error"),this.redirectPersistenceManager=yield sh.create(this,[nr(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return w(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>w(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return w(this,null,function*(){if(e===this.currentUser)return this.queue(()=>w(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let s=typeof n=="function"?n:n.next.bind(n),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(K(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){let u=e.addObserver(n,r,i);return()=>{o=!0,u()}}else{let u=e.addObserver(n);return()=>{o=!0,u()}}}directlySetCurrentUser(e){return w(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return K(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=GA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return w(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return w(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&h2(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function Bi(t){return nt(t)}var oh=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=X0(n=>this.observer=n)}get next(){return K(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var fh={loadJS(){return w(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function N2(t){fh=t}function WA(t){return fh.loadJS(t)}function M2(){return fh.recaptchaEnterpriseScript}function x2(){return fh.gapiScript}function KA(t){return`__${t}${Math.floor(Math.random()*1e6)}`}var P2="recaptcha-enterprise",O2="NO_RECAPTCHA",zy=class{constructor(e){this.type=P2,this.auth=Bi(e)}verify(e="verify",n=!1){return w(this,null,function*(){function r(s){return w(this,null,function*(){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise((o,a)=>w(this,null,function*(){_2(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let l=new Vy(u);return s.tenantId==null?s._agentRecaptchaConfig=l:s._tenantRecaptchaConfigs[s.tenantId]=l,o(l.siteKey)}}).catch(u=>{a(u)})}))})}function i(s,o,a){let u=window.grecaptcha;gA(u)?u.enterprise.ready(()=>{u.enterprise.execute(s,{action:e}).then(l=>{o(l)}).catch(()=>{o(O2)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&gA(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let u=M2();u.length!==0&&(u+=a),WA(u).then(()=>{i(a,s,o)}).catch(l=>{o(l)})}}).catch(a=>{o(a)})})})}};function _A(t,e,n,r=!1){return w(this,null,function*(){let i=new zy(t),s;try{s=yield i.verify(n)}catch{s=yield i.verify(n,!0)}let o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o})}function qy(t,e,n,r){return w(this,null,function*(){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let s=yield _A(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(s=>w(this,null,function*(){if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let o=yield _A(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)}))})}function av(t,e){let n=uc(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),s=n.getOptions();if(Pi(s,e??{}))return i;wn(i,"already-initialized")}return n.initialize({options:e})}function k2(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(nr);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function cv(t,e,n){let r=Bi(t);K(r._canInitEmulator,r,"emulator-config-failed"),K(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,s=QA(e),{host:o,port:a}=F2(e),u=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||L2()}function QA(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function F2(t){let e=QA(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let s=i[1];return{host:s,port:IA(r.substr(s.length+1))}}else{let[s,o]=r.split(":");return{host:s,port:IA(o)}}}function IA(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function L2(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var gc=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return tr("not implemented")}_getIdTokenResponse(e){return tr("not implemented")}_linkToIdToken(e,n){return tr("not implemented")}_getReauthenticationResolver(e){return tr("not implemented")}};function V2(t,e){return w(this,null,function*(){return Jr(t,"POST","/v1/accounts:signUp",e)})}function U2(t,e){return w(this,null,function*(){return vc(t,"POST","/v1/accounts:signInWithPassword",Yr(t,e))})}function j2(t,e){return w(this,null,function*(){return vc(t,"POST","/v1/accounts:signInWithEmailLink",Yr(t,e))})}function B2(t,e){return w(this,null,function*(){return vc(t,"POST","/v1/accounts:signInWithEmailLink",Yr(t,e))})}var mc=class t extends gc{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new t(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new t(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){return w(this,null,function*(){switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return qy(e,n,"signInWithPassword",U2);case"emailLink":return j2(e,{email:this._email,oobCode:this._password});default:wn(e,"internal-error")}})}_linkToIdToken(e,n){return w(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return qy(e,r,"signUpPassword",V2);case"emailLink":return B2(e,{idToken:n,email:this._email,oobCode:this._password});default:wn(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function Oy(t,e){return w(this,null,function*(){return vc(t,"POST","/v1/accounts:signInWithIdp",Yr(t,e))})}function $2(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function H2(t){let e=ao(co(t)).link,n=e?ao(co(e)).deep_link_id:null,r=ao(co(t)).deep_link_id;return(r?ao(co(r)).link:null)||r||n||e||t}var ah=class t{constructor(e){var n,r,i,s,o,a;let u=ao(co(e)),l=(n=u.apiKey)!==null&&n!==void 0?n:null,h=(r=u.oobCode)!==null&&r!==void 0?r:null,p=$2((i=u.mode)!==null&&i!==void 0?i:null);K(l&&h&&p,"argument-error"),this.apiKey=l,this.operation=p,this.code=h,this.continueUrl=(s=u.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=u.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=u.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let n=H2(e);try{return new t(n)}catch{return null}}};var YA=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return mc._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){let i=ah.parseLink(r);return K(i,"argument-error"),mc._fromEmailAndCode(n,i.code,i.tenantId)}}t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return t})(),ch=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var Gy=class extends ch{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function z2(t,e){return w(this,null,function*(){return vc(t,"POST","/v1/accounts:signUp",Yr(t,e))})}var go=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return w(this,null,function*(){let s=yield po._fromIdTokenResponse(e,r,i),o=wA(r);return new t({user:s,providerId:o,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return w(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=wA(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function wA(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var Wy=class t extends Pt{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function JA(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Wy._fromErrorAndOperation(t,s,e,r):s})}function q2(t,e,n=!1){return w(this,null,function*(){let r=yield fc(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return go._forOperation(t,"link",r)})}function G2(t,e,n=!1){return w(this,null,function*(){let{auth:r}=t;if(on(r.app))return Promise.reject(rr(r));let i="reauthenticate";try{let s=yield fc(t,JA(r,i,e,t),n);K(s.idToken,r,"internal-error");let o=iv(s.idToken);K(o,r,"internal-error");let{sub:a}=o;return K(t.uid===a,r,"user-mismatch"),go._forOperation(t,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&wn(r,"user-mismatch"),s}})}function ZA(t,e,n=!1){return w(this,null,function*(){if(on(t.app))return Promise.reject(rr(t));let r="signIn",i=yield JA(t,r,e),s=yield go._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})}function uv(t,e){return w(this,null,function*(){return ZA(Bi(t),e)})}function XA(t){return w(this,null,function*(){let e=Bi(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function lv(t,e,n){return w(this,null,function*(){if(on(t.app))return Promise.reject(rr(t));let r=Bi(t),o=yield qy(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",z2).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&XA(t),u}),a=yield go._fromIdTokenResponse(r,"signIn",o);return yield r._updateCurrentUser(a.user),a})}function dv(t,e,n){return on(t.app)?Promise.reject(rr(t)):uv(nt(t),YA.credential(e,n)).catch(r=>w(this,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&XA(t),r}))}function hv(t,e,n,r){return nt(t).onIdTokenChanged(e,n,r)}function fv(t,e,n){return nt(t).beforeAuthStateChanged(e,n)}function pv(t){return nt(t).signOut()}var uh="__sak";var lh=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(uh,"1"),this.storage.removeItem(uh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var W2=1e3,K2=10,Q2=(()=>{class t extends lh{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=qA(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,u,l)=>{this.notifyListeners(a,l)});return}let i=n.key;r?this.detachListener():this.stopPolling();let s=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);A2()&&o!==n.newValue&&n.newValue!==n.oldValue?setTimeout(s,K2):s()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},W2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return w(this,null,function*(){yield pr(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return w(this,null,function*(){let r=yield pr(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return w(this,null,function*(){yield pr(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),eS=Q2;var Y2=(()=>{class t extends lh{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),gv=Y2;function J2(t){return Promise.all(t.map(e=>w(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var Z2=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return w(this,null,function*(){let r=n,{eventId:i,eventType:s,data:o}=r.data,a=this.handlersMap[s];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:s});let u=Array.from(a).map(h=>w(this,null,function*(){return h(r.origin,o)})),l=yield J2(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:l})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function tS(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var Ky=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return w(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,u)=>{let l=tS("",20);i.port1.start();let h=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(p){let m=p;if(m.data.eventId===l)switch(m.data.status){case"ack":clearTimeout(h),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(m.data.response);break;default:clearTimeout(h),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})})}};function In(){return window}function X2(t){In().location.href=t}function nS(){return typeof In().WorkerGlobalScope<"u"&&typeof In().importScripts=="function"}function eB(){return w(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function tB(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function nB(){return nS()?self:null}var rS="firebaseLocalStorageDb",rB=1,dh="firebaseLocalStorage",iS="fbase_key",ji=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function ph(t,e){return t.transaction([dh],e?"readwrite":"readonly").objectStore(dh)}function iB(){let t=indexedDB.deleteDatabase(rS);return new ji(t).toPromise()}function Qy(){let t=indexedDB.open(rS,rB);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(dh,{keyPath:iS})}catch(i){n(i)}}),t.addEventListener("success",()=>w(this,null,function*(){let r=t.result;r.objectStoreNames.contains(dh)?e(r):(r.close(),yield iB(),e(yield Qy()))}))})}function EA(t,e,n){return w(this,null,function*(){let r=ph(t,!0).put({[iS]:e,value:n});return new ji(r).toPromise()})}function sB(t,e){return w(this,null,function*(){let n=ph(t,!1).get(e),r=yield new ji(n).toPromise();return r===void 0?null:r.value})}function DA(t,e){let n=ph(t,!0).delete(e);return new ji(n).toPromise()}var oB=800,aB=3,cB=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return w(this,null,function*(){return this.db?this.db:(this.db=yield Qy(),this.db)})}_withRetries(n){return w(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>aB)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return w(this,null,function*(){return nS()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return w(this,null,function*(){this.receiver=Z2._getInstance(nB()),this.receiver._subscribe("keyChanged",(n,r)=>w(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>w(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return w(this,null,function*(){var n,r;if(this.activeServiceWorker=yield eB(),!this.activeServiceWorker)return;this.sender=new Ky(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return w(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||tB()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return w(this,null,function*(){try{if(!indexedDB)return!1;let n=yield Qy();return yield EA(n,uh,"1"),yield DA(n,uh),!0}catch{}return!1})}_withPendingWrite(n){return w(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return w(this,null,function*(){return this._withPendingWrite(()=>w(this,null,function*(){return yield this._withRetries(i=>EA(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return w(this,null,function*(){let r=yield this._withRetries(i=>sB(i,n));return this.localCache[n]=r,r})}_remove(n){return w(this,null,function*(){return this._withPendingWrite(()=>w(this,null,function*(){return yield this._withRetries(r=>DA(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return w(this,null,function*(){let n=yield this._withRetries(s=>{let o=ph(s,!1).getAll();return new ji(o).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:s,value:o}of n)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),r.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),r.push(s));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>w(this,null,function*(){return this._poll()}),oB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),sS=cB;var CK=KA("rcb"),AK=new Ui(3e4,6e4);function uB(t,e){return e?nr(e):(K(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var yc=class extends gc{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Oy(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Oy(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Oy(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function lB(t){return ZA(t.auth,new yc(t),t.bypassAuthState)}function dB(t){let{auth:e,user:n}=t;return K(n,e,"internal-error"),G2(n,new yc(t),t.bypassAuthState)}function hB(t){return w(this,null,function*(){let{auth:e,user:n}=t;return K(n,e,"internal-error"),q2(n,new yc(t),t.bypassAuthState)})}var Yy=class{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>w(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return w(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}let u={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(u))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return lB;case"linkViaPopup":case"linkViaRedirect":return hB;case"reauthViaPopup":case"reauthViaRedirect":return dB;default:wn(this.auth,"internal-error")}}resolve(e){Qr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Qr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var SK=new Ui(2e3,1e4);var fB="pendingRedirect",eh=new Map,Jy=class t extends Yy{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return w(this,null,function*(){let e=eh.get(this.auth._key());if(!e){try{let r=(yield pB(this.resolver,this.auth))?yield pr(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}eh.set(this.auth._key(),e)}return this.bypassAuthState||eh.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return w(this,null,function*(){if(e.type==="signInViaRedirect")return pr(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,pr(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return w(this,null,function*(){})}cleanUp(){}};function pB(t,e){return w(this,null,function*(){let n=yB(e),r=mB(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function gB(t,e){eh.set(t._key(),e)}function mB(t){return nr(t._redirectPersistence)}function yB(t){return Xd(fB,t.config.apiKey,t.name)}function vB(t,e,n=!1){return w(this,null,function*(){if(on(t.app))return Promise.reject(rr(t));let r=Bi(t),i=uB(r,e),o=yield new Jy(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})}var _B=10*60*1e3,Zy=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!IB(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!oS(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Vi(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=_B&&this.cachedEventUids.clear(),this.cachedEventUids.has(TA(e))}saveEventToCache(e){this.cachedEventUids.add(TA(e)),this.lastProcessedEventTime=Date.now()}};function TA(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function oS({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function IB(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return oS(t);default:return!1}}function wB(n){return w(this,arguments,function*(t,e={}){return Jr(t,"GET","/v1/projects",e)})}var EB=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,DB=/^https?/;function TB(t){return w(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield wB(t);for(let n of e)try{if(bB(n))return}catch{}wn(t,"unauthorized-domain")})}function bB(t){let e=Fy(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!DB.test(n))return!1;if(EB.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var CB=new Ui(3e4,6e4);function bA(){let t=In().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function AB(t){return new Promise((e,n)=>{var r,i,s;function o(){bA(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{bA(),n(Vi(t,"network-request-failed"))},timeout:CB.get()})}if(!((i=(r=In().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=In().gapi)===null||s===void 0)&&s.load)o();else{let a=KA("iframefcb");return In()[a]=()=>{gapi.load?o():n(Vi(t,"network-request-failed"))},WA(`${x2()}?onload=${a}`).catch(u=>n(u))}}).catch(e=>{throw th=null,e})}var th=null;function SB(t){return th=th||AB(t),th}var RB=new Ui(5e3,15e3),NB="__/auth/iframe",MB="emulator/auth/iframe",xB={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},PB=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function OB(t){let e=t.config;K(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?nv(e,MB):`https://${t.config.authDomain}/${NB}`,r={apiKey:e.apiKey,appName:t.name,v:Wr},i=PB.get(t.config.apiHost);i&&(r.eid=i);let s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${oc(r).slice(1)}`}function kB(t){return w(this,null,function*(){let e=yield SB(t),n=In().gapi;return K(n,t,"internal-error"),e.open({where:document.body,url:OB(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:xB,dontclear:!0},r=>new Promise((i,s)=>w(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let o=Vi(t,"network-request-failed"),a=In().setTimeout(()=>{s(o)},RB.get());function u(){In().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{s(o)})})))})}var FB={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},LB=500,VB=600,UB="_blank",jB="http://localhost",hh=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function BB(t,e,n,r=LB,i=VB){let s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",u=Object.assign(Object.assign({},FB),{width:r.toString(),height:i.toString(),top:s,left:o}),l=Qe().toLowerCase();n&&(a=jA(l)?UB:n),VA(l)&&(e=e||jB,u.scrollbars="yes");let h=Object.entries(u).reduce((m,[y,C])=>`${m}${y}=${C},`,"");if(C2(l)&&a!=="_self")return $B(e||"",a),new hh(null);let p=window.open(e||"",a,h);K(p,t,"popup-blocked");try{p.focus()}catch{}return new hh(p)}function $B(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var HB="__/auth/handler",zB="emulator/auth/handler",qB=encodeURIComponent("fac");function CA(t,e,n,r,i,s){return w(this,null,function*(){K(t.config.authDomain,t,"auth-domain-config-required"),K(t.config.apiKey,t,"invalid-api-key");let o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Wr,eventId:i};if(e instanceof ch){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",Z0(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[h,p]of Object.entries(s||{}))o[h]=p}if(e instanceof Gy){let h=e.getScopes().filter(p=>p!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);let a=o;for(let h of Object.keys(a))a[h]===void 0&&delete a[h];let u=yield t._getAppCheckToken(),l=u?`#${qB}=${encodeURIComponent(u)}`:"";return`${GB(t)}?${oc(a).slice(1)}${l}`})}function GB({config:t}){return t.emulator?nv(t,zB):`https://${t.authDomain}/${HB}`}var ky="webStorageSupport",Xy=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=gv,this._completeRedirectFn=vB,this._overrideRedirectResult=gB}_openPopup(e,n,r,i){return w(this,null,function*(){var s;Qr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let o=yield CA(e,n,r,Fy(),i);return BB(e,o,tS())})}_openRedirect(e,n,r,i){return w(this,null,function*(){yield this._originValidation(e);let s=yield CA(e,n,r,Fy(),i);return X2(s),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Qr(s,"If manager is not set, promise should be"),s)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return w(this,null,function*(){let n=yield kB(e),r=new Zy(e);return n.register("authEvent",i=>(K(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(ky,{type:ky},i=>{var s;let o=(s=i?.[0])===null||s===void 0?void 0:s[ky];o!==void 0&&n(!!o),wn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=TB(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return qA()||UA()||ov()}},aS=Xy;var AA="@firebase/auth",SA="1.7.9";var ev=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return w(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){K(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function WB(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function KB(t){Gr(new Wt("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;K(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:GA(t)},l=new Hy(r,i,s,u);return k2(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Gr(new Wt("auth-internal",e=>{let n=Bi(e.getProvider("auth").getImmediate());return(r=>new ev(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),We(AA,SA,WB(t)),We(AA,SA,"esm2017")}var QB=5*60,YB=py("authIdTokenMaxAge")||QB,RA=null,JB=t=>e=>w(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>YB)return;let i=n?.token;RA!==i&&(RA=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function mv(t=uo()){let e=uc(t,"auth");if(e.isInitialized())return e.getImmediate();let n=av(t,{popupRedirectResolver:aS,persistence:[sS,eS,gv]}),r=py("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let s=new URL(r,location.origin);if(location.origin===s.origin){let o=JB(s.toString());fv(n,o,()=>o(n.currentUser)),hv(n,a=>o(a))}}let i=hy("auth");return i&&cv(n,`http://${i}`),n}function ZB(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}N2({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let s=Vi("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",ZB().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});KB("Browser");var cS="auth",_c=class{constructor(e){return e}},Ic=class{constructor(){return lc(cS)}};var yv=new L("angularfire2.auth-instances");function $$(t,e){let n=Qd(cS,t,e);return n&&new _c(n)}function H$(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new _c(r)}}var z$={provide:Ic,deps:[[new ct,yv]]},q$={provide:_c,useFactory:$$,deps:[[new ct,yv],er]};function d7(t,...e){return We("angularfire",Fi.full,"auth"),Vt([q$,z$,{provide:yv,useFactory:H$(t),multi:!0,deps:[me,et,fo,Li,[new ct,ho],...e]}])}var h7=ut(lv,!0);var f7=ut(mv,!0);var p7=ut(dv,!0);var g7=ut(pv,!0);var uS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},lS={};var Zr,vv;(function(){var t;function e(E,v){function _(){}_.prototype=v.prototype,E.D=v.prototype,E.prototype=new _,E.prototype.constructor=E,E.C=function(D,T,A){for(var I=Array(arguments.length-2),Sn=2;Sn<arguments.length;Sn++)I[Sn-2]=arguments[Sn];return v.prototype[T].apply(D,I)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(E,v,_){_||(_=0);var D=Array(16);if(typeof v=="string")for(var T=0;16>T;++T)D[T]=v.charCodeAt(_++)|v.charCodeAt(_++)<<8|v.charCodeAt(_++)<<16|v.charCodeAt(_++)<<24;else for(T=0;16>T;++T)D[T]=v[_++]|v[_++]<<8|v[_++]<<16|v[_++]<<24;v=E.g[0],_=E.g[1],T=E.g[2];var A=E.g[3],I=v+(A^_&(T^A))+D[0]+3614090360&4294967295;v=_+(I<<7&4294967295|I>>>25),I=A+(T^v&(_^T))+D[1]+3905402710&4294967295,A=v+(I<<12&4294967295|I>>>20),I=T+(_^A&(v^_))+D[2]+606105819&4294967295,T=A+(I<<17&4294967295|I>>>15),I=_+(v^T&(A^v))+D[3]+3250441966&4294967295,_=T+(I<<22&4294967295|I>>>10),I=v+(A^_&(T^A))+D[4]+4118548399&4294967295,v=_+(I<<7&4294967295|I>>>25),I=A+(T^v&(_^T))+D[5]+1200080426&4294967295,A=v+(I<<12&4294967295|I>>>20),I=T+(_^A&(v^_))+D[6]+2821735955&4294967295,T=A+(I<<17&4294967295|I>>>15),I=_+(v^T&(A^v))+D[7]+4249261313&4294967295,_=T+(I<<22&4294967295|I>>>10),I=v+(A^_&(T^A))+D[8]+1770035416&4294967295,v=_+(I<<7&4294967295|I>>>25),I=A+(T^v&(_^T))+D[9]+2336552879&4294967295,A=v+(I<<12&4294967295|I>>>20),I=T+(_^A&(v^_))+D[10]+4294925233&4294967295,T=A+(I<<17&4294967295|I>>>15),I=_+(v^T&(A^v))+D[11]+2304563134&4294967295,_=T+(I<<22&4294967295|I>>>10),I=v+(A^_&(T^A))+D[12]+1804603682&4294967295,v=_+(I<<7&4294967295|I>>>25),I=A+(T^v&(_^T))+D[13]+4254626195&4294967295,A=v+(I<<12&4294967295|I>>>20),I=T+(_^A&(v^_))+D[14]+2792965006&4294967295,T=A+(I<<17&4294967295|I>>>15),I=_+(v^T&(A^v))+D[15]+1236535329&4294967295,_=T+(I<<22&4294967295|I>>>10),I=v+(T^A&(_^T))+D[1]+4129170786&4294967295,v=_+(I<<5&4294967295|I>>>27),I=A+(_^T&(v^_))+D[6]+3225465664&4294967295,A=v+(I<<9&4294967295|I>>>23),I=T+(v^_&(A^v))+D[11]+643717713&4294967295,T=A+(I<<14&4294967295|I>>>18),I=_+(A^v&(T^A))+D[0]+3921069994&4294967295,_=T+(I<<20&4294967295|I>>>12),I=v+(T^A&(_^T))+D[5]+3593408605&4294967295,v=_+(I<<5&4294967295|I>>>27),I=A+(_^T&(v^_))+D[10]+38016083&4294967295,A=v+(I<<9&4294967295|I>>>23),I=T+(v^_&(A^v))+D[15]+3634488961&4294967295,T=A+(I<<14&4294967295|I>>>18),I=_+(A^v&(T^A))+D[4]+3889429448&4294967295,_=T+(I<<20&4294967295|I>>>12),I=v+(T^A&(_^T))+D[9]+568446438&4294967295,v=_+(I<<5&4294967295|I>>>27),I=A+(_^T&(v^_))+D[14]+3275163606&4294967295,A=v+(I<<9&4294967295|I>>>23),I=T+(v^_&(A^v))+D[3]+4107603335&4294967295,T=A+(I<<14&4294967295|I>>>18),I=_+(A^v&(T^A))+D[8]+1163531501&4294967295,_=T+(I<<20&4294967295|I>>>12),I=v+(T^A&(_^T))+D[13]+2850285829&4294967295,v=_+(I<<5&4294967295|I>>>27),I=A+(_^T&(v^_))+D[2]+4243563512&4294967295,A=v+(I<<9&4294967295|I>>>23),I=T+(v^_&(A^v))+D[7]+1735328473&4294967295,T=A+(I<<14&4294967295|I>>>18),I=_+(A^v&(T^A))+D[12]+2368359562&4294967295,_=T+(I<<20&4294967295|I>>>12),I=v+(_^T^A)+D[5]+4294588738&4294967295,v=_+(I<<4&4294967295|I>>>28),I=A+(v^_^T)+D[8]+2272392833&4294967295,A=v+(I<<11&4294967295|I>>>21),I=T+(A^v^_)+D[11]+1839030562&4294967295,T=A+(I<<16&4294967295|I>>>16),I=_+(T^A^v)+D[14]+4259657740&4294967295,_=T+(I<<23&4294967295|I>>>9),I=v+(_^T^A)+D[1]+2763975236&4294967295,v=_+(I<<4&4294967295|I>>>28),I=A+(v^_^T)+D[4]+1272893353&4294967295,A=v+(I<<11&4294967295|I>>>21),I=T+(A^v^_)+D[7]+4139469664&4294967295,T=A+(I<<16&4294967295|I>>>16),I=_+(T^A^v)+D[10]+3200236656&4294967295,_=T+(I<<23&4294967295|I>>>9),I=v+(_^T^A)+D[13]+681279174&4294967295,v=_+(I<<4&4294967295|I>>>28),I=A+(v^_^T)+D[0]+3936430074&4294967295,A=v+(I<<11&4294967295|I>>>21),I=T+(A^v^_)+D[3]+3572445317&4294967295,T=A+(I<<16&4294967295|I>>>16),I=_+(T^A^v)+D[6]+76029189&4294967295,_=T+(I<<23&4294967295|I>>>9),I=v+(_^T^A)+D[9]+3654602809&4294967295,v=_+(I<<4&4294967295|I>>>28),I=A+(v^_^T)+D[12]+3873151461&4294967295,A=v+(I<<11&4294967295|I>>>21),I=T+(A^v^_)+D[15]+530742520&4294967295,T=A+(I<<16&4294967295|I>>>16),I=_+(T^A^v)+D[2]+3299628645&4294967295,_=T+(I<<23&4294967295|I>>>9),I=v+(T^(_|~A))+D[0]+4096336452&4294967295,v=_+(I<<6&4294967295|I>>>26),I=A+(_^(v|~T))+D[7]+1126891415&4294967295,A=v+(I<<10&4294967295|I>>>22),I=T+(v^(A|~_))+D[14]+2878612391&4294967295,T=A+(I<<15&4294967295|I>>>17),I=_+(A^(T|~v))+D[5]+4237533241&4294967295,_=T+(I<<21&4294967295|I>>>11),I=v+(T^(_|~A))+D[12]+1700485571&4294967295,v=_+(I<<6&4294967295|I>>>26),I=A+(_^(v|~T))+D[3]+2399980690&4294967295,A=v+(I<<10&4294967295|I>>>22),I=T+(v^(A|~_))+D[10]+4293915773&4294967295,T=A+(I<<15&4294967295|I>>>17),I=_+(A^(T|~v))+D[1]+2240044497&4294967295,_=T+(I<<21&4294967295|I>>>11),I=v+(T^(_|~A))+D[8]+1873313359&4294967295,v=_+(I<<6&4294967295|I>>>26),I=A+(_^(v|~T))+D[15]+4264355552&4294967295,A=v+(I<<10&4294967295|I>>>22),I=T+(v^(A|~_))+D[6]+2734768916&4294967295,T=A+(I<<15&4294967295|I>>>17),I=_+(A^(T|~v))+D[13]+1309151649&4294967295,_=T+(I<<21&4294967295|I>>>11),I=v+(T^(_|~A))+D[4]+4149444226&4294967295,v=_+(I<<6&4294967295|I>>>26),I=A+(_^(v|~T))+D[11]+3174756917&4294967295,A=v+(I<<10&4294967295|I>>>22),I=T+(v^(A|~_))+D[2]+718787259&4294967295,T=A+(I<<15&4294967295|I>>>17),I=_+(A^(T|~v))+D[9]+3951481745&4294967295,E.g[0]=E.g[0]+v&4294967295,E.g[1]=E.g[1]+(T+(I<<21&4294967295|I>>>11))&4294967295,E.g[2]=E.g[2]+T&4294967295,E.g[3]=E.g[3]+A&4294967295}r.prototype.u=function(E,v){v===void 0&&(v=E.length);for(var _=v-this.blockSize,D=this.B,T=this.h,A=0;A<v;){if(T==0)for(;A<=_;)i(this,E,A),A+=this.blockSize;if(typeof E=="string"){for(;A<v;)if(D[T++]=E.charCodeAt(A++),T==this.blockSize){i(this,D),T=0;break}}else for(;A<v;)if(D[T++]=E[A++],T==this.blockSize){i(this,D),T=0;break}}this.h=T,this.o+=v},r.prototype.v=function(){var E=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);E[0]=128;for(var v=1;v<E.length-8;++v)E[v]=0;var _=8*this.o;for(v=E.length-8;v<E.length;++v)E[v]=_&255,_/=256;for(this.u(E),E=Array(16),v=_=0;4>v;++v)for(var D=0;32>D;D+=8)E[_++]=this.g[v]>>>D&255;return E};function s(E,v){var _=a;return Object.prototype.hasOwnProperty.call(_,E)?_[E]:_[E]=v(E)}function o(E,v){this.h=v;for(var _=[],D=!0,T=E.length-1;0<=T;T--){var A=E[T]|0;D&&A==v||(_[T]=A,D=!1)}this.g=_}var a={};function u(E){return-128<=E&&128>E?s(E,function(v){return new o([v|0],0>v?-1:0)}):new o([E|0],0>E?-1:0)}function l(E){if(isNaN(E)||!isFinite(E))return p;if(0>E)return R(l(-E));for(var v=[],_=1,D=0;E>=_;D++)v[D]=E/_|0,_*=4294967296;return new o(v,0)}function h(E,v){if(E.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(E.charAt(0)=="-")return R(h(E.substring(1),v));if(0<=E.indexOf("-"))throw Error('number format error: interior "-" character');for(var _=l(Math.pow(v,8)),D=p,T=0;T<E.length;T+=8){var A=Math.min(8,E.length-T),I=parseInt(E.substring(T,T+A),v);8>A?(A=l(Math.pow(v,A)),D=D.j(A).add(l(I))):(D=D.j(_),D=D.add(l(I)))}return D}var p=u(0),m=u(1),y=u(16777216);t=o.prototype,t.m=function(){if(N(this))return-R(this).m();for(var E=0,v=1,_=0;_<this.g.length;_++){var D=this.i(_);E+=(0<=D?D:4294967296+D)*v,v*=4294967296}return E},t.toString=function(E){if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(C(this))return"0";if(N(this))return"-"+R(this).toString(E);for(var v=l(Math.pow(E,6)),_=this,D="";;){var T=X(_,v).g;_=F(_,T.j(v));var A=((0<_.g.length?_.g[0]:_.h)>>>0).toString(E);if(_=T,C(_))return A+D;for(;6>A.length;)A="0"+A;D=A+D}},t.i=function(E){return 0>E?0:E<this.g.length?this.g[E]:this.h};function C(E){if(E.h!=0)return!1;for(var v=0;v<E.g.length;v++)if(E.g[v]!=0)return!1;return!0}function N(E){return E.h==-1}t.l=function(E){return E=F(this,E),N(E)?-1:C(E)?0:1};function R(E){for(var v=E.g.length,_=[],D=0;D<v;D++)_[D]=~E.g[D];return new o(_,~E.h).add(m)}t.abs=function(){return N(this)?R(this):this},t.add=function(E){for(var v=Math.max(this.g.length,E.g.length),_=[],D=0,T=0;T<=v;T++){var A=D+(this.i(T)&65535)+(E.i(T)&65535),I=(A>>>16)+(this.i(T)>>>16)+(E.i(T)>>>16);D=I>>>16,A&=65535,I&=65535,_[T]=I<<16|A}return new o(_,_[_.length-1]&-2147483648?-1:0)};function F(E,v){return E.add(R(v))}t.j=function(E){if(C(this)||C(E))return p;if(N(this))return N(E)?R(this).j(R(E)):R(R(this).j(E));if(N(E))return R(this.j(R(E)));if(0>this.l(y)&&0>E.l(y))return l(this.m()*E.m());for(var v=this.g.length+E.g.length,_=[],D=0;D<2*v;D++)_[D]=0;for(D=0;D<this.g.length;D++)for(var T=0;T<E.g.length;T++){var A=this.i(D)>>>16,I=this.i(D)&65535,Sn=E.i(T)>>>16,Lo=E.i(T)&65535;_[2*D+2*T]+=I*Lo,H(_,2*D+2*T),_[2*D+2*T+1]+=A*Lo,H(_,2*D+2*T+1),_[2*D+2*T+1]+=I*Sn,H(_,2*D+2*T+1),_[2*D+2*T+2]+=A*Sn,H(_,2*D+2*T+2)}for(D=0;D<v;D++)_[D]=_[2*D+1]<<16|_[2*D];for(D=v;D<2*v;D++)_[D]=0;return new o(_,0)};function H(E,v){for(;(E[v]&65535)!=E[v];)E[v+1]+=E[v]>>>16,E[v]&=65535,v++}function V(E,v){this.g=E,this.h=v}function X(E,v){if(C(v))throw Error("division by zero");if(C(E))return new V(p,p);if(N(E))return v=X(R(E),v),new V(R(v.g),R(v.h));if(N(v))return v=X(E,R(v)),new V(R(v.g),v.h);if(30<E.g.length){if(N(E)||N(v))throw Error("slowDivide_ only works with positive integers.");for(var _=m,D=v;0>=D.l(E);)_=we(_),D=we(D);var T=G(_,1),A=G(D,1);for(D=G(D,2),_=G(_,2);!C(D);){var I=A.add(D);0>=I.l(E)&&(T=T.add(_),A=I),D=G(D,1),_=G(_,1)}return v=F(E,T.j(v)),new V(T,v)}for(T=p;0<=E.l(v);){for(_=Math.max(1,Math.floor(E.m()/v.m())),D=Math.ceil(Math.log(_)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),A=l(_),I=A.j(v);N(I)||0<I.l(E);)_-=D,A=l(_),I=A.j(v);C(A)&&(A=m),T=T.add(A),E=F(E,I)}return new V(T,E)}t.A=function(E){return X(this,E).h},t.and=function(E){for(var v=Math.max(this.g.length,E.g.length),_=[],D=0;D<v;D++)_[D]=this.i(D)&E.i(D);return new o(_,this.h&E.h)},t.or=function(E){for(var v=Math.max(this.g.length,E.g.length),_=[],D=0;D<v;D++)_[D]=this.i(D)|E.i(D);return new o(_,this.h|E.h)},t.xor=function(E){for(var v=Math.max(this.g.length,E.g.length),_=[],D=0;D<v;D++)_[D]=this.i(D)^E.i(D);return new o(_,this.h^E.h)};function we(E){for(var v=E.g.length+1,_=[],D=0;D<v;D++)_[D]=E.i(D)<<1|E.i(D-1)>>>31;return new o(_,E.h)}function G(E,v){var _=v>>5;v%=32;for(var D=E.g.length-_,T=[],A=0;A<D;A++)T[A]=0<v?E.i(A+_)>>>v|E.i(A+_+1)<<32-v:E.i(A+_);return new o(T,E.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,vv=lS.Md5=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=l,o.fromString=h,Zr=lS.Integer=o}).apply(typeof uS<"u"?uS:typeof self<"u"?self:typeof window<"u"?window:{});var gh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ir={};var _v,Iv,mo,wv,wc,mh,Ev,Dv,Tv;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,d,f){return c==Array.prototype||c==Object.prototype||(c[d]=f.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof gh=="object"&&gh];for(var d=0;d<c.length;++d){var f=c[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=n(this);function i(c,d){if(d)e:{var f=r;c=c.split(".");for(var g=0;g<c.length-1;g++){var b=c[g];if(!(b in f))break e;f=f[b]}c=c[c.length-1],g=f[c],d=d(g),d!=g&&d!=null&&e(f,c,{configurable:!0,writable:!0,value:d})}}function s(c,d){c instanceof String&&(c+="");var f=0,g=!1,b={next:function(){if(!g&&f<c.length){var S=f++;return{value:d(S,c[S]),done:!1}}return g=!0,{done:!0,value:void 0}}};return b[Symbol.iterator]=function(){return b},b}i("Array.prototype.values",function(c){return c||function(){return s(this,function(d,f){return f})}});var o=o||{},a=this||self;function u(c){var d=typeof c;return d=d!="object"?d:c?Array.isArray(c)?"array":d:"null",d=="array"||d=="object"&&typeof c.length=="number"}function l(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function h(c,d,f){return c.call.apply(c.bind,arguments)}function p(c,d,f){if(!c)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var b=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(b,g),c.apply(d,b)}}return function(){return c.apply(d,arguments)}}function m(c,d,f){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,m.apply(null,arguments)}function y(c,d){var f=Array.prototype.slice.call(arguments,1);return function(){var g=f.slice();return g.push.apply(g,arguments),c.apply(this,g)}}function C(c,d){function f(){}f.prototype=d.prototype,c.aa=d.prototype,c.prototype=new f,c.prototype.constructor=c,c.Qb=function(g,b,S){for(var O=Array(arguments.length-2),De=2;De<arguments.length;De++)O[De-2]=arguments[De];return d.prototype[b].apply(g,O)}}function N(c){let d=c.length;if(0<d){let f=Array(d);for(let g=0;g<d;g++)f[g]=c[g];return f}return[]}function R(c,d){for(let f=1;f<arguments.length;f++){let g=arguments[f];if(u(g)){let b=c.length||0,S=g.length||0;c.length=b+S;for(let O=0;O<S;O++)c[b+O]=g[O]}else c.push(g)}}class F{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function H(c){return/^[\s\xa0]*$/.test(c)}function V(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function X(c){return X[" "](c),c}X[" "]=function(){};var we=V().indexOf("Gecko")!=-1&&!(V().toLowerCase().indexOf("webkit")!=-1&&V().indexOf("Edge")==-1)&&!(V().indexOf("Trident")!=-1||V().indexOf("MSIE")!=-1)&&V().indexOf("Edge")==-1;function G(c,d,f){for(let g in c)d.call(f,c[g],g,c)}function E(c,d){for(let f in c)d.call(void 0,c[f],f,c)}function v(c){let d={};for(let f in c)d[f]=c[f];return d}let _="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(c,d){let f,g;for(let b=1;b<arguments.length;b++){g=arguments[b];for(f in g)c[f]=g[f];for(let S=0;S<_.length;S++)f=_[S],Object.prototype.hasOwnProperty.call(g,f)&&(c[f]=g[f])}}function T(c){var d=1;c=c.split(":");let f=[];for(;0<d&&c.length;)f.push(c.shift()),d--;return c.length&&f.push(c.join(":")),f}function A(c){a.setTimeout(()=>{throw c},0)}function I(){var c=af;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class Sn{constructor(){this.h=this.g=null}add(d,f){let g=Lo.get();g.set(d,f),this.h?this.h.next=g:this.g=g,this.h=g}}var Lo=new F(()=>new uN,c=>c.reset());class uN{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let Vo,Uo=!1,af=new Sn,OI=()=>{let c=a.Promise.resolve(void 0);Vo=()=>{c.then(lN)}};var lN=()=>{for(var c;c=I();){try{c.h.call(c.g)}catch(f){A(f)}var d=Lo;d.j(c),100>d.h&&(d.h++,c.next=d.g,d.g=c)}Uo=!1};function lr(){this.s=this.s,this.C=this.C}lr.prototype.s=!1,lr.prototype.ma=function(){this.s||(this.s=!0,this.N())},lr.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function it(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}it.prototype.h=function(){this.defaultPrevented=!0};var dN=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let f=()=>{};a.addEventListener("test",f,d),a.removeEventListener("test",f,d)}catch{}return c}();function jo(c,d){if(it.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var f=this.type=c.type,g=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget){if(we){e:{try{X(d.nodeName);var b=!0;break e}catch{}b=!1}b||(d=null)}}else f=="mouseover"?d=c.fromElement:f=="mouseout"&&(d=c.toElement);this.relatedTarget=d,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:hN[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&jo.aa.h.call(this)}}C(jo,it);var hN={2:"touch",3:"pen",4:"mouse"};jo.prototype.h=function(){jo.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Bo="closure_listenable_"+(1e6*Math.random()|0),fN=0;function pN(c,d,f,g,b){this.listener=c,this.proxy=null,this.src=d,this.type=f,this.capture=!!g,this.ha=b,this.key=++fN,this.da=this.fa=!1}function qc(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Gc(c){this.src=c,this.g={},this.h=0}Gc.prototype.add=function(c,d,f,g,b){var S=c.toString();c=this.g[S],c||(c=this.g[S]=[],this.h++);var O=uf(c,d,g,b);return-1<O?(d=c[O],f||(d.fa=!1)):(d=new pN(d,this.src,S,!!g,b),d.fa=f,c.push(d)),d};function cf(c,d){var f=d.type;if(f in c.g){var g=c.g[f],b=Array.prototype.indexOf.call(g,d,void 0),S;(S=0<=b)&&Array.prototype.splice.call(g,b,1),S&&(qc(d),c.g[f].length==0&&(delete c.g[f],c.h--))}}function uf(c,d,f,g){for(var b=0;b<c.length;++b){var S=c[b];if(!S.da&&S.listener==d&&S.capture==!!f&&S.ha==g)return b}return-1}var lf="closure_lm_"+(1e6*Math.random()|0),df={};function kI(c,d,f,g,b){if(g&&g.once)return LI(c,d,f,g,b);if(Array.isArray(d)){for(var S=0;S<d.length;S++)kI(c,d[S],f,g,b);return null}return f=gf(f),c&&c[Bo]?c.K(d,f,l(g)?!!g.capture:!!g,b):FI(c,d,f,!1,g,b)}function FI(c,d,f,g,b,S){if(!d)throw Error("Invalid event type");var O=l(b)?!!b.capture:!!b,De=ff(c);if(De||(c[lf]=De=new Gc(c)),f=De.add(d,f,g,O,S),f.proxy)return f;if(g=gN(),f.proxy=g,g.src=c,g.listener=f,c.addEventListener)dN||(b=O),b===void 0&&(b=!1),c.addEventListener(d.toString(),g,b);else if(c.attachEvent)c.attachEvent(UI(d.toString()),g);else if(c.addListener&&c.removeListener)c.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return f}function gN(){function c(f){return d.call(c.src,c.listener,f)}let d=mN;return c}function LI(c,d,f,g,b){if(Array.isArray(d)){for(var S=0;S<d.length;S++)LI(c,d[S],f,g,b);return null}return f=gf(f),c&&c[Bo]?c.L(d,f,l(g)?!!g.capture:!!g,b):FI(c,d,f,!0,g,b)}function VI(c,d,f,g,b){if(Array.isArray(d))for(var S=0;S<d.length;S++)VI(c,d[S],f,g,b);else g=l(g)?!!g.capture:!!g,f=gf(f),c&&c[Bo]?(c=c.i,d=String(d).toString(),d in c.g&&(S=c.g[d],f=uf(S,f,g,b),-1<f&&(qc(S[f]),Array.prototype.splice.call(S,f,1),S.length==0&&(delete c.g[d],c.h--)))):c&&(c=ff(c))&&(d=c.g[d.toString()],c=-1,d&&(c=uf(d,f,g,b)),(f=-1<c?d[c]:null)&&hf(f))}function hf(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[Bo])cf(d.i,c);else{var f=c.type,g=c.proxy;d.removeEventListener?d.removeEventListener(f,g,c.capture):d.detachEvent?d.detachEvent(UI(f),g):d.addListener&&d.removeListener&&d.removeListener(g),(f=ff(d))?(cf(f,c),f.h==0&&(f.src=null,d[lf]=null)):qc(c)}}}function UI(c){return c in df?df[c]:df[c]="on"+c}function mN(c,d){if(c.da)c=!0;else{d=new jo(d,this);var f=c.listener,g=c.ha||c.src;c.fa&&hf(c),c=f.call(g,d)}return c}function ff(c){return c=c[lf],c instanceof Gc?c:null}var pf="__closure_events_fn_"+(1e9*Math.random()>>>0);function gf(c){return typeof c=="function"?c:(c[pf]||(c[pf]=function(d){return c.handleEvent(d)}),c[pf])}function st(){lr.call(this),this.i=new Gc(this),this.M=this,this.F=null}C(st,lr),st.prototype[Bo]=!0,st.prototype.removeEventListener=function(c,d,f,g){VI(this,c,d,f,g)};function ft(c,d){var f,g=c.F;if(g)for(f=[];g;g=g.F)f.push(g);if(c=c.M,g=d.type||d,typeof d=="string")d=new it(d,c);else if(d instanceof it)d.target=d.target||c;else{var b=d;d=new it(g,c),D(d,b)}if(b=!0,f)for(var S=f.length-1;0<=S;S--){var O=d.g=f[S];b=Wc(O,g,!0,d)&&b}if(O=d.g=c,b=Wc(O,g,!0,d)&&b,b=Wc(O,g,!1,d)&&b,f)for(S=0;S<f.length;S++)O=d.g=f[S],b=Wc(O,g,!1,d)&&b}st.prototype.N=function(){if(st.aa.N.call(this),this.i){var c=this.i,d;for(d in c.g){for(var f=c.g[d],g=0;g<f.length;g++)qc(f[g]);delete c.g[d],c.h--}}this.F=null},st.prototype.K=function(c,d,f,g){return this.i.add(String(c),d,!1,f,g)},st.prototype.L=function(c,d,f,g){return this.i.add(String(c),d,!0,f,g)};function Wc(c,d,f,g){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();for(var b=!0,S=0;S<d.length;++S){var O=d[S];if(O&&!O.da&&O.capture==f){var De=O.listener,Je=O.ha||O.src;O.fa&&cf(c.i,O),b=De.call(Je,g)!==!1&&b}}return b&&!g.defaultPrevented}function jI(c,d,f){if(typeof c=="function")f&&(c=m(c,f));else if(c&&typeof c.handleEvent=="function")c=m(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(c,d||0)}function BI(c){c.g=jI(()=>{c.g=null,c.i&&(c.i=!1,BI(c))},c.l);let d=c.h;c.h=null,c.m.apply(null,d)}class yN extends lr{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:BI(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function $o(c){lr.call(this),this.h=c,this.g={}}C($o,lr);var $I=[];function HI(c){G(c.g,function(d,f){this.g.hasOwnProperty(f)&&hf(d)},c),c.g={}}$o.prototype.N=function(){$o.aa.N.call(this),HI(this)},$o.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var mf=a.JSON.stringify,vN=a.JSON.parse,_N=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function yf(){}yf.prototype.h=null;function zI(c){return c.h||(c.h=c.i())}function qI(){}var Ho={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function vf(){it.call(this,"d")}C(vf,it);function _f(){it.call(this,"c")}C(_f,it);var si={},GI=null;function Kc(){return GI=GI||new st}si.La="serverreachability";function WI(c){it.call(this,si.La,c)}C(WI,it);function zo(c){let d=Kc();ft(d,new WI(d))}si.STAT_EVENT="statevent";function KI(c,d){it.call(this,si.STAT_EVENT,c),this.stat=d}C(KI,it);function pt(c){let d=Kc();ft(d,new KI(d,c))}si.Ma="timingevent";function QI(c,d){it.call(this,si.Ma,c),this.size=d}C(QI,it);function qo(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},d)}function Go(){this.g=!0}Go.prototype.xa=function(){this.g=!1};function IN(c,d,f,g,b,S){c.info(function(){if(c.g)if(S)for(var O="",De=S.split("&"),Je=0;Je<De.length;Je++){var ge=De[Je].split("=");if(1<ge.length){var ot=ge[0];ge=ge[1];var at=ot.split("_");O=2<=at.length&&at[1]=="type"?O+(ot+"="+ge+"&"):O+(ot+"=redacted&")}}else O=null;else O=S;return"XMLHTTP REQ ("+g+") [attempt "+b+"]: "+d+`
`+f+`
`+O})}function wN(c,d,f,g,b,S,O){c.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+b+"]: "+d+`
`+f+`
`+S+" "+O})}function ns(c,d,f,g){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+DN(c,f)+(g?" "+g:"")})}function EN(c,d){c.info(function(){return"TIMEOUT: "+d})}Go.prototype.info=function(){};function DN(c,d){if(!c.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(c=0;c<f.length;c++)if(Array.isArray(f[c])){var g=f[c];if(!(2>g.length)){var b=g[1];if(Array.isArray(b)&&!(1>b.length)){var S=b[0];if(S!="noop"&&S!="stop"&&S!="close")for(var O=1;O<b.length;O++)b[O]=""}}}}return mf(f)}catch{return d}}var Qc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},YI={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},If;function Yc(){}C(Yc,yf),Yc.prototype.g=function(){return new XMLHttpRequest},Yc.prototype.i=function(){return{}},If=new Yc;function dr(c,d,f,g){this.j=c,this.i=d,this.l=f,this.R=g||1,this.U=new $o(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new JI}function JI(){this.i=null,this.g="",this.h=!1}var ZI={},wf={};function Ef(c,d,f){c.L=1,c.v=eu(Rn(d)),c.m=f,c.P=!0,XI(c,null)}function XI(c,d){c.F=Date.now(),Jc(c),c.A=Rn(c.v);var f=c.A,g=c.R;Array.isArray(g)||(g=[String(g)]),fw(f.i,"t",g),c.C=0,f=c.j.J,c.h=new JI,c.g=Mw(c.j,f?d:null,!c.m),0<c.O&&(c.M=new yN(m(c.Y,c,c.g),c.O)),d=c.U,f=c.g,g=c.ca;var b="readystatechange";Array.isArray(b)||(b&&($I[0]=b.toString()),b=$I);for(var S=0;S<b.length;S++){var O=kI(f,b[S],g||d.handleEvent,!1,d.h||d);if(!O)break;d.g[O.key]=O}d=c.H?v(c.H):{},c.m?(c.u||(c.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,d)):(c.u="GET",c.g.ea(c.A,c.u,null,d)),zo(),IN(c.i,c.u,c.A,c.l,c.R,c.m)}dr.prototype.ca=function(c){c=c.target;let d=this.M;d&&Nn(c)==3?d.j():this.Y(c)},dr.prototype.Y=function(c){try{if(c==this.g)e:{let at=Nn(this.g);var d=this.g.Ba();let ss=this.g.Z();if(!(3>at)&&(at!=3||this.g&&(this.h.h||this.g.oa()||Iw(this.g)))){this.J||at!=4||d==7||(d==8||0>=ss?zo(3):zo(2)),Df(this);var f=this.g.Z();this.X=f;t:if(ew(this)){var g=Iw(this.g);c="";var b=g.length,S=Nn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){oi(this),Wo(this);var O="";break t}this.h.i=new a.TextDecoder}for(d=0;d<b;d++)this.h.h=!0,c+=this.h.i.decode(g[d],{stream:!(S&&d==b-1)});g.length=0,this.h.g+=c,this.C=0,O=this.h.g}else O=this.g.oa();if(this.o=f==200,wN(this.i,this.u,this.A,this.l,this.R,at,f),this.o){if(this.T&&!this.K){t:{if(this.g){var De,Je=this.g;if((De=Je.g?Je.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!H(De)){var ge=De;break t}}ge=null}if(f=ge)ns(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Tf(this,f);else{this.o=!1,this.s=3,pt(12),oi(this),Wo(this);break e}}if(this.P){f=!0;let Kt;for(;!this.J&&this.C<O.length;)if(Kt=TN(this,O),Kt==wf){at==4&&(this.s=4,pt(14),f=!1),ns(this.i,this.l,null,"[Incomplete Response]");break}else if(Kt==ZI){this.s=4,pt(15),ns(this.i,this.l,O,"[Invalid Chunk]"),f=!1;break}else ns(this.i,this.l,Kt,null),Tf(this,Kt);if(ew(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),at!=4||O.length!=0||this.h.h||(this.s=1,pt(16),f=!1),this.o=this.o&&f,!f)ns(this.i,this.l,O,"[Invalid Chunked Response]"),oi(this),Wo(this);else if(0<O.length&&!this.W){this.W=!0;var ot=this.j;ot.g==this&&ot.ba&&!ot.M&&(ot.j.info("Great, no buffering proxy detected. Bytes received: "+O.length),Nf(ot),ot.M=!0,pt(11))}}else ns(this.i,this.l,O,null),Tf(this,O);at==4&&oi(this),this.o&&!this.J&&(at==4?Aw(this.j,this):(this.o=!1,Jc(this)))}else BN(this.g),f==400&&0<O.indexOf("Unknown SID")?(this.s=3,pt(12)):(this.s=0,pt(13)),oi(this),Wo(this)}}}catch{}finally{}};function ew(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function TN(c,d){var f=c.C,g=d.indexOf(`
`,f);return g==-1?wf:(f=Number(d.substring(f,g)),isNaN(f)?ZI:(g+=1,g+f>d.length?wf:(d=d.slice(g,g+f),c.C=g+f,d)))}dr.prototype.cancel=function(){this.J=!0,oi(this)};function Jc(c){c.S=Date.now()+c.I,tw(c,c.I)}function tw(c,d){if(c.B!=null)throw Error("WatchDog timer not null");c.B=qo(m(c.ba,c),d)}function Df(c){c.B&&(a.clearTimeout(c.B),c.B=null)}dr.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(EN(this.i,this.A),this.L!=2&&(zo(),pt(17)),oi(this),this.s=2,Wo(this)):tw(this,this.S-c)};function Wo(c){c.j.G==0||c.J||Aw(c.j,c)}function oi(c){Df(c);var d=c.M;d&&typeof d.ma=="function"&&d.ma(),c.M=null,HI(c.U),c.g&&(d=c.g,c.g=null,d.abort(),d.ma())}function Tf(c,d){try{var f=c.j;if(f.G!=0&&(f.g==c||bf(f.h,c))){if(!c.K&&bf(f.h,c)&&f.G==3){try{var g=f.Da.g.parse(d)}catch{g=null}if(Array.isArray(g)&&g.length==3){var b=g;if(b[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<c.F)su(f),ru(f);else break e;Rf(f),pt(18)}}else f.za=b[1],0<f.za-f.T&&37500>b[2]&&f.F&&f.v==0&&!f.C&&(f.C=qo(m(f.Za,f),6e3));if(1>=iw(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else ci(f,11)}else if((c.K||f.g==c)&&su(f),!H(d))for(b=f.Da.g.parse(d),d=0;d<b.length;d++){let ge=b[d];if(f.T=ge[0],ge=ge[1],f.G==2)if(ge[0]=="c"){f.K=ge[1],f.ia=ge[2];let ot=ge[3];ot!=null&&(f.la=ot,f.j.info("VER="+f.la));let at=ge[4];at!=null&&(f.Aa=at,f.j.info("SVER="+f.Aa));let ss=ge[5];ss!=null&&typeof ss=="number"&&0<ss&&(g=1.5*ss,f.L=g,f.j.info("backChannelRequestTimeoutMs_="+g)),g=f;let Kt=c.g;if(Kt){let au=Kt.g?Kt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(au){var S=g.h;S.g||au.indexOf("spdy")==-1&&au.indexOf("quic")==-1&&au.indexOf("h2")==-1||(S.j=S.l,S.g=new Set,S.h&&(Cf(S,S.h),S.h=null))}if(g.D){let Mf=Kt.g?Kt.g.getResponseHeader("X-HTTP-Session-Id"):null;Mf&&(g.ya=Mf,Re(g.I,g.D,Mf))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-c.F,f.j.info("Handshake RTT: "+f.R+"ms")),g=f;var O=c;if(g.qa=Nw(g,g.J?g.ia:null,g.W),O.K){sw(g.h,O);var De=O,Je=g.L;Je&&(De.I=Je),De.B&&(Df(De),Jc(De)),g.g=O}else bw(g);0<f.i.length&&iu(f)}else ge[0]!="stop"&&ge[0]!="close"||ci(f,7);else f.G==3&&(ge[0]=="stop"||ge[0]=="close"?ge[0]=="stop"?ci(f,7):Sf(f):ge[0]!="noop"&&f.l&&f.l.ta(ge),f.v=0)}}zo(4)}catch{}}var bN=class{constructor(c,d){this.g=c,this.map=d}};function nw(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function rw(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function iw(c){return c.h?1:c.g?c.g.size:0}function bf(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function Cf(c,d){c.g?c.g.add(d):c.h=d}function sw(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}nw.prototype.cancel=function(){if(this.i=ow(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function ow(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let d=c.i;for(let f of c.g.values())d=d.concat(f.D);return d}return N(c.i)}function CN(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(u(c)){for(var d=[],f=c.length,g=0;g<f;g++)d.push(c[g]);return d}d=[],f=0;for(g in c)d[f++]=c[g];return d}function AN(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(u(c)||typeof c=="string"){var d=[];c=c.length;for(var f=0;f<c;f++)d.push(f);return d}d=[],f=0;for(let g in c)d[f++]=g;return d}}}function aw(c,d){if(c.forEach&&typeof c.forEach=="function")c.forEach(d,void 0);else if(u(c)||typeof c=="string")Array.prototype.forEach.call(c,d,void 0);else for(var f=AN(c),g=CN(c),b=g.length,S=0;S<b;S++)d.call(void 0,g[S],f&&f[S],c)}var cw=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function SN(c,d){if(c){c=c.split("&");for(var f=0;f<c.length;f++){var g=c[f].indexOf("="),b=null;if(0<=g){var S=c[f].substring(0,g);b=c[f].substring(g+1)}else S=c[f];d(S,b?decodeURIComponent(b.replace(/\+/g," ")):"")}}}function ai(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof ai){this.h=c.h,Zc(this,c.j),this.o=c.o,this.g=c.g,Xc(this,c.s),this.l=c.l;var d=c.i,f=new Yo;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),uw(this,f),this.m=c.m}else c&&(d=String(c).match(cw))?(this.h=!1,Zc(this,d[1]||"",!0),this.o=Ko(d[2]||""),this.g=Ko(d[3]||"",!0),Xc(this,d[4]),this.l=Ko(d[5]||"",!0),uw(this,d[6]||"",!0),this.m=Ko(d[7]||"")):(this.h=!1,this.i=new Yo(null,this.h))}ai.prototype.toString=function(){var c=[],d=this.j;d&&c.push(Qo(d,lw,!0),":");var f=this.g;return(f||d=="file")&&(c.push("//"),(d=this.o)&&c.push(Qo(d,lw,!0),"@"),c.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&c.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&c.push("/"),c.push(Qo(f,f.charAt(0)=="/"?MN:NN,!0))),(f=this.i.toString())&&c.push("?",f),(f=this.m)&&c.push("#",Qo(f,PN)),c.join("")};function Rn(c){return new ai(c)}function Zc(c,d,f){c.j=f?Ko(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function Xc(c,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);c.s=d}else c.s=null}function uw(c,d,f){d instanceof Yo?(c.i=d,ON(c.i,c.h)):(f||(d=Qo(d,xN)),c.i=new Yo(d,c.h))}function Re(c,d,f){c.i.set(d,f)}function eu(c){return Re(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Ko(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Qo(c,d,f){return typeof c=="string"?(c=encodeURI(c).replace(d,RN),f&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function RN(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var lw=/[#\/\?@]/g,NN=/[#\?:]/g,MN=/[#\?]/g,xN=/[#\?@]/g,PN=/#/g;function Yo(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function hr(c){c.g||(c.g=new Map,c.h=0,c.i&&SN(c.i,function(d,f){c.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}t=Yo.prototype,t.add=function(c,d){hr(this),this.i=null,c=rs(this,c);var f=this.g.get(c);return f||this.g.set(c,f=[]),f.push(d),this.h+=1,this};function dw(c,d){hr(c),d=rs(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function hw(c,d){return hr(c),d=rs(c,d),c.g.has(d)}t.forEach=function(c,d){hr(this),this.g.forEach(function(f,g){f.forEach(function(b){c.call(d,b,g,this)},this)},this)},t.na=function(){hr(this);let c=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let g=0;g<d.length;g++){let b=c[g];for(let S=0;S<b.length;S++)f.push(d[g])}return f},t.V=function(c){hr(this);let d=[];if(typeof c=="string")hw(this,c)&&(d=d.concat(this.g.get(rs(this,c))));else{c=Array.from(this.g.values());for(let f=0;f<c.length;f++)d=d.concat(c[f])}return d},t.set=function(c,d){return hr(this),this.i=null,c=rs(this,c),hw(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},t.get=function(c,d){return c?(c=this.V(c),0<c.length?String(c[0]):d):d};function fw(c,d,f){dw(c,d),0<f.length&&(c.i=null,c.g.set(rs(c,d),N(f)),c.h+=f.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var g=d[f];let S=encodeURIComponent(String(g)),O=this.V(g);for(g=0;g<O.length;g++){var b=S;O[g]!==""&&(b+="="+encodeURIComponent(String(O[g]))),c.push(b)}}return this.i=c.join("&")};function rs(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function ON(c,d){d&&!c.j&&(hr(c),c.i=null,c.g.forEach(function(f,g){var b=g.toLowerCase();g!=b&&(dw(this,g),fw(this,b,f))},c)),c.j=d}function kN(c,d){let f=new Go;if(a.Image){let g=new Image;g.onload=y(fr,f,"TestLoadImage: loaded",!0,d,g),g.onerror=y(fr,f,"TestLoadImage: error",!1,d,g),g.onabort=y(fr,f,"TestLoadImage: abort",!1,d,g),g.ontimeout=y(fr,f,"TestLoadImage: timeout",!1,d,g),a.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=c}else d(!1)}function FN(c,d){let f=new Go,g=new AbortController,b=setTimeout(()=>{g.abort(),fr(f,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:g.signal}).then(S=>{clearTimeout(b),S.ok?fr(f,"TestPingServer: ok",!0,d):fr(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(b),fr(f,"TestPingServer: error",!1,d)})}function fr(c,d,f,g,b){try{b&&(b.onload=null,b.onerror=null,b.onabort=null,b.ontimeout=null),g(f)}catch{}}function LN(){this.g=new _N}function VN(c,d,f){let g=f||"";try{aw(c,function(b,S){let O=b;l(b)&&(O=mf(b)),d.push(g+S+"="+encodeURIComponent(O))})}catch(b){throw d.push(g+"type="+encodeURIComponent("_badmap")),b}}function Jo(c){this.l=c.Ub||null,this.j=c.eb||!1}C(Jo,yf),Jo.prototype.g=function(){return new tu(this.l,this.j)},Jo.prototype.i=function(c){return function(){return c}}({});function tu(c,d){st.call(this),this.D=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(tu,st),t=tu.prototype,t.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=d,this.readyState=1,Xo(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(d.body=c),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Zo(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Xo(this)),this.g&&(this.readyState=3,Xo(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;pw(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function pw(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?Zo(this):Xo(this),this.readyState==3&&pw(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,Zo(this))},t.Qa=function(c){this.g&&(this.response=c,Zo(this))},t.ga=function(){this.g&&Zo(this)};function Zo(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Xo(c)}t.setRequestHeader=function(c,d){this.u.append(c,d)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,c.push(f[0]+": "+f[1]),f=d.next();return c.join(`\r
`)};function Xo(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(tu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function gw(c){let d="";return G(c,function(f,g){d+=g,d+=":",d+=f,d+=`\r
`}),d}function Af(c,d,f){e:{for(g in f){var g=!1;break e}g=!0}g||(f=gw(f),typeof c=="string"?f!=null&&encodeURIComponent(String(f)):Re(c,d,f))}function xe(c){st.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C(xe,st);var UN=/^https?$/i,jN=["POST","PUT"];t=xe.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,d,f,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():If.g(),this.v=this.o?zI(this.o):zI(If),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(S){mw(this,S);return}if(c=f||"",f=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var b in g)f.set(b,g[b]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let S of g.keys())f.set(S,g.get(S));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(f.keys()).find(S=>S.toLowerCase()=="content-type"),b=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(jN,d,void 0))||g||b||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[S,O]of f)this.g.setRequestHeader(S,O);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{_w(this),this.u=!0,this.g.send(c),this.u=!1}catch(S){mw(this,S)}};function mw(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.m=5,yw(c),nu(c)}function yw(c){c.A||(c.A=!0,ft(c,"complete"),ft(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,ft(this,"complete"),ft(this,"abort"),nu(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),nu(this,!0)),xe.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?vw(this):this.bb())},t.bb=function(){vw(this)};function vw(c){if(c.h&&typeof o<"u"&&(!c.v[1]||Nn(c)!=4||c.Z()!=2)){if(c.u&&Nn(c)==4)jI(c.Ea,0,c);else if(ft(c,"readystatechange"),Nn(c)==4){c.h=!1;try{let O=c.Z();e:switch(O){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var g;if(g=O===0){var b=String(c.D).match(cw)[1]||null;!b&&a.self&&a.self.location&&(b=a.self.location.protocol.slice(0,-1)),g=!UN.test(b?b.toLowerCase():"")}f=g}if(f)ft(c,"complete"),ft(c,"success");else{c.m=6;try{var S=2<Nn(c)?c.g.statusText:""}catch{S=""}c.l=S+" ["+c.Z()+"]",yw(c)}}finally{nu(c)}}}}function nu(c,d){if(c.g){_w(c);let f=c.g,g=c.v[0]?()=>{}:null;c.g=null,c.v=null,d||ft(c,"ready");try{f.onreadystatechange=g}catch{}}}function _w(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function Nn(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<Nn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),vN(d)}};function Iw(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function BN(c){let d={};c=(c.g&&2<=Nn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<c.length;g++){if(H(c[g]))continue;var f=T(c[g]);let b=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let S=d[b]||[];d[b]=S,S.push(f)}E(d,function(g){return g.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ea(c,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[c]||d}function ww(c){this.Aa=0,this.i=[],this.j=new Go,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ea("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ea("baseRetryDelayMs",5e3,c),this.cb=ea("retryDelaySeedMs",1e4,c),this.Wa=ea("forwardChannelMaxRetries",2,c),this.wa=ea("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new nw(c&&c.concurrentRequestLimit),this.Da=new LN,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=ww.prototype,t.la=8,t.G=1,t.connect=function(c,d,f,g){pt(0),this.W=c,this.H=d||{},f&&g!==void 0&&(this.H.OSID=f,this.H.OAID=g),this.F=this.X,this.I=Nw(this,null,this.W),iu(this)};function Sf(c){if(Ew(c),c.G==3){var d=c.U++,f=Rn(c.I);if(Re(f,"SID",c.K),Re(f,"RID",d),Re(f,"TYPE","terminate"),ta(c,f),d=new dr(c,c.j,d),d.L=2,d.v=eu(Rn(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=d.v,f=!0),f||(d.g=Mw(d.j,null),d.g.ea(d.v)),d.F=Date.now(),Jc(d)}Rw(c)}function ru(c){c.g&&(Nf(c),c.g.cancel(),c.g=null)}function Ew(c){ru(c),c.u&&(a.clearTimeout(c.u),c.u=null),su(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function iu(c){if(!rw(c.h)&&!c.s){c.s=!0;var d=c.Ga;Vo||OI(),Uo||(Vo(),Uo=!0),af.add(d,c),c.B=0}}function $N(c,d){return iw(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=d.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=qo(m(c.Ga,c,d),Sw(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let b=new dr(this,this.j,c),S=this.o;if(this.S&&(S?(S=v(S),D(S,this.S)):S=this.S),this.m!==null||this.O||(b.H=S,S=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var g=this.i[f];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(d+=g,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=Tw(this,b,d),f=Rn(this.I),Re(f,"RID",c),Re(f,"CVER",22),this.D&&Re(f,"X-HTTP-Session-Id",this.D),ta(this,f),S&&(this.O?d="headers="+encodeURIComponent(String(gw(S)))+"&"+d:this.m&&Af(f,this.m,S)),Cf(this.h,b),this.Ua&&Re(f,"TYPE","init"),this.P?(Re(f,"$req",d),Re(f,"SID","null"),b.T=!0,Ef(b,f,null)):Ef(b,f,d),this.G=2}}else this.G==3&&(c?Dw(this,c):this.i.length==0||rw(this.h)||Dw(this))};function Dw(c,d){var f;d?f=d.l:f=c.U++;let g=Rn(c.I);Re(g,"SID",c.K),Re(g,"RID",f),Re(g,"AID",c.T),ta(c,g),c.m&&c.o&&Af(g,c.m,c.o),f=new dr(c,c.j,f,c.B+1),c.m===null&&(f.H=c.o),d&&(c.i=d.D.concat(c.i)),d=Tw(c,f,1e3),f.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Cf(c.h,f),Ef(f,g,d)}function ta(c,d){c.H&&G(c.H,function(f,g){Re(d,g,f)}),c.l&&aw({},function(f,g){Re(d,g,f)})}function Tw(c,d,f){f=Math.min(c.i.length,f);var g=c.l?m(c.l.Na,c.l,c):null;e:{var b=c.i;let S=-1;for(;;){let O=["count="+f];S==-1?0<f?(S=b[0].g,O.push("ofs="+S)):S=0:O.push("ofs="+S);let De=!0;for(let Je=0;Je<f;Je++){let ge=b[Je].g,ot=b[Je].map;if(ge-=S,0>ge)S=Math.max(0,b[Je].g-100),De=!1;else try{VN(ot,O,"req"+ge+"_")}catch{g&&g(ot)}}if(De){g=O.join("&");break e}}}return c=c.i.splice(0,f),d.D=c,g}function bw(c){if(!c.g&&!c.u){c.Y=1;var d=c.Fa;Vo||OI(),Uo||(Vo(),Uo=!0),af.add(d,c),c.v=0}}function Rf(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=qo(m(c.Fa,c),Sw(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,Cw(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=qo(m(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,pt(10),ru(this),Cw(this))};function Nf(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function Cw(c){c.g=new dr(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var d=Rn(c.qa);Re(d,"RID","rpc"),Re(d,"SID",c.K),Re(d,"AID",c.T),Re(d,"CI",c.F?"0":"1"),!c.F&&c.ja&&Re(d,"TO",c.ja),Re(d,"TYPE","xmlhttp"),ta(c,d),c.m&&c.o&&Af(d,c.m,c.o),c.L&&(c.g.I=c.L);var f=c.g;c=c.ia,f.L=1,f.v=eu(Rn(d)),f.m=null,f.P=!0,XI(f,c)}t.Za=function(){this.C!=null&&(this.C=null,ru(this),Rf(this),pt(19))};function su(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function Aw(c,d){var f=null;if(c.g==d){su(c),Nf(c),c.g=null;var g=2}else if(bf(c.h,d))f=d.D,sw(c.h,d),g=1;else return;if(c.G!=0){if(d.o)if(g==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var b=c.B;g=Kc(),ft(g,new QI(g,f)),iu(c)}else bw(c);else if(b=d.s,b==3||b==0&&0<d.X||!(g==1&&$N(c,d)||g==2&&Rf(c)))switch(f&&0<f.length&&(d=c.h,d.i=d.i.concat(f)),b){case 1:ci(c,5);break;case 4:ci(c,10);break;case 3:ci(c,6);break;default:ci(c,2)}}}function Sw(c,d){let f=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(f*=2),f*d}function ci(c,d){if(c.j.info("Error code "+d),d==2){var f=m(c.fb,c),g=c.Xa;let b=!g;g=new ai(g||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Zc(g,"https"),eu(g),b?kN(g.toString(),f):FN(g.toString(),f)}else pt(2);c.G=0,c.l&&c.l.sa(d),Rw(c),Ew(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),pt(2)):(this.j.info("Failed to ping google.com"),pt(1))};function Rw(c){if(c.G=0,c.ka=[],c.l){let d=ow(c.h);(d.length!=0||c.i.length!=0)&&(R(c.ka,d),R(c.ka,c.i),c.h.i.length=0,N(c.i),c.i.length=0),c.l.ra()}}function Nw(c,d,f){var g=f instanceof ai?Rn(f):new ai(f);if(g.g!="")d&&(g.g=d+"."+g.g),Xc(g,g.s);else{var b=a.location;g=b.protocol,d=d?d+"."+b.hostname:b.hostname,b=+b.port;var S=new ai(null);g&&Zc(S,g),d&&(S.g=d),b&&Xc(S,b),f&&(S.l=f),g=S}return f=c.D,d=c.ya,f&&d&&Re(g,f,d),Re(g,"VER",c.la),ta(c,g),g}function Mw(c,d,f){if(d&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Ca&&!c.pa?new xe(new Jo({eb:f})):new xe(c.pa),d.Ha(c.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function xw(){}t=xw.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function ou(){}ou.prototype.g=function(c,d){return new At(c,d)};function At(c,d){st.call(this),this.g=new ww(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(c?c["X-WebChannel-Client-Profile"]=d.va:c={"X-WebChannel-Client-Profile":d.va}),this.g.S=c,(c=d&&d.Sb)&&!H(c)&&(this.g.m=c),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!H(d)&&(this.g.D=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new is(this)}C(At,st),At.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},At.prototype.close=function(){Sf(this.g)},At.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var f={};f.__data__=c,c=f}else this.u&&(f={},f.__data__=mf(c),c=f);d.i.push(new bN(d.Ya++,c)),d.G==3&&iu(d)},At.prototype.N=function(){this.g.l=null,delete this.j,Sf(this.g),delete this.g,At.aa.N.call(this)};function Pw(c){vf.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(let f in d){c=f;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}C(Pw,vf);function Ow(){_f.call(this),this.status=1}C(Ow,_f);function is(c){this.g=c}C(is,xw),is.prototype.ua=function(){ft(this.g,"a")},is.prototype.ta=function(c){ft(this.g,new Pw(c))},is.prototype.sa=function(c){ft(this.g,new Ow)},is.prototype.ra=function(){ft(this.g,"b")},ou.prototype.createWebChannel=ou.prototype.g,At.prototype.send=At.prototype.o,At.prototype.open=At.prototype.m,At.prototype.close=At.prototype.close,Tv=ir.createWebChannelTransport=function(){return new ou},Dv=ir.getStatEventTarget=function(){return Kc()},Ev=ir.Event=si,mh=ir.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Qc.NO_ERROR=0,Qc.TIMEOUT=8,Qc.HTTP_ERROR=6,wc=ir.ErrorCode=Qc,YI.COMPLETE="complete",wv=ir.EventType=YI,qI.EventType=Ho,Ho.OPEN="a",Ho.CLOSE="b",Ho.ERROR="c",Ho.MESSAGE="d",st.prototype.listen=st.prototype.K,mo=ir.WebChannel=qI,Iv=ir.FetchXmlHttpFactory=Jo,xe.prototype.listenOnce=xe.prototype.L,xe.prototype.getLastError=xe.prototype.Ka,xe.prototype.getLastErrorCode=xe.prototype.Ba,xe.prototype.getStatus=xe.prototype.Z,xe.prototype.getResponseJson=xe.prototype.Oa,xe.prototype.getResponseText=xe.prototype.oa,xe.prototype.send=xe.prototype.ea,xe.prototype.setWithCredentials=xe.prototype.Ha,_v=ir.XhrIo=xe}).apply(typeof gh<"u"?gh:typeof self<"u"?self:typeof window<"u"?window:{});var dS="@firebase/firestore";var Ye=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Ye.UNAUTHENTICATED=new Ye(null),Ye.GOOGLE_CREDENTIALS=new Ye("google-credentials-uid"),Ye.FIRST_PARTY=new Ye("first-party-uid"),Ye.MOCK_USER=new Ye("mock-user");var Oo="10.13.2";var Gi=new zr("@firebase/firestore");function Ec(){return Gi.logLevel}function j(t,...e){if(Gi.logLevel<=le.DEBUG){let n=e.map(dI);Gi.debug(`Firestore (${Oo}): ${t}`,...n)}}function or(t,...e){if(Gi.logLevel<=le.ERROR){let n=e.map(dI);Gi.error(`Firestore (${Oo}): ${t}`,...n)}}function Do(t,...e){if(Gi.logLevel<=le.WARN){let n=e.map(dI);Gi.warn(`Firestore (${Oo}): ${t}`,...n)}}function dI(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function Q(t="Unexpected state"){let e=`FIRESTORE (${Oo}) INTERNAL ASSERTION FAILED: `+t;throw or(e),new Error(e)}function Ce(t,e){t||Q()}function Z(t,e){return t}var M={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},U=class extends Pt{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var sr=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var wh=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Rv=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ye.UNAUTHENTICATED))}shutdown(){}},Nv=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},Mv=class{constructor(e){this.t=e,this.currentUser=Ye.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i,i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve(),s=new sr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new sr,e.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let u=s;e.enqueueRetryable(()=>w(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},a=u=>{j("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(j("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new sr)}},0),o()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(j("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ce(typeof r.accessToken=="string"),new wh(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return Ce(e===null||typeof e=="string"),new Ye(e)}},xv=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Ye.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},Pv=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new xv(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Ye.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Ov=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},kv=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){let r=s=>{s.error!=null&&j("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,j("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{j("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?i(s):j("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ce(typeof n.token=="string"),this.R=n.token,new Ov(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function G$(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Eh=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=G$(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}};function ye(t,e){return t<e?-1:t>e?1:0}function To(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var rt=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new U(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new U(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new U(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new U(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ye(this.nanoseconds,e.nanoseconds):ye(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var ne=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new rt(0,0))}static max(){return new t(new rt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Dh=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&Q(),r===void 0?r=e.length-n:r>e.length-n&&Q(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},Me=class t extends Dh{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new U(M.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},W$=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Ot=class t extends Dh{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return W$.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,s=()=>{if(r.length===0)throw new U(M.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},o=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new U(M.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new U(M.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new U(M.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var q=class t{constructor(e){this.path=e}static fromPath(e){return new t(Me.fromString(e))}static fromName(e){return new t(Me.fromString(e).popFirst(5))}static empty(){return new t(Me.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Me.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Me.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new Me(e.slice()))}};var Fv=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};Fv.UNKNOWN_ID=-1;function K$(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ne.fromTimestamp(r===1e9?new rt(n+1,0):new rt(n,r));return new Wi(i,q.empty(),e)}function Q$(t){return new Wi(t.readTime,t.key,-1)}var Wi=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(ne.min(),q.empty(),-1)}static max(){return new t(ne.max(),q.empty(),-1)}};function Y$(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=q.comparator(t.documentKey,e.documentKey),n!==0?n:ye(t.largestBatchId,e.largestBatchId))}var J$="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Lv=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function jc(t){return w(this,null,function*(){if(t.code!==M.FAILED_PRECONDITION||t.message!==J$)throw t;j("LocalStore","Unexpectedly lost primary lease")})}var P=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Q(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let s=e.length,o=new Array(s),a=0;for(let u=0;u<s;u++){let l=u;n(e[l]).next(h=>{o[l]=h,++a,a===s&&r(o)},h=>i(h))}})}static doWhile(e,n){return new t((r,i)=>{let s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}};function Z$(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Bc(t){return t.name==="IndexedDbTransactionError"}var GS=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.se&&this.se(n),n}}return t.oe=-1,t})();function Zh(t){return t==null}function Sc(t){return t===0&&1/t==-1/0}function X$(t){return typeof t=="number"&&Number.isInteger(t)&&!Sc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var eH=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],R7=[...eH,"documentOverlays"],tH=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],nH=tH,rH=[...nH,"indexConfiguration","indexState","indexEntries"];var N7=[...rH,"globals"];function hS(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ko(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function WS(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var ke=class t{constructor(e,n){this.comparator=e,this.root=n||Tn.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Tn.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Tn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Io(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Io(this.root,e,this.comparator,!1)}getReverseIterator(){return new Io(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Io(this.root,e,this.comparator,!0)}},Io=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Tn=class t{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=s??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new t(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Q();let e=this.left.check();if(e!==this.right.check())throw Q();return e+(this.isRed()?0:1)}};Tn.EMPTY=null,Tn.RED=!0,Tn.BLACK=!1;Tn.EMPTY=new class{constructor(){this.size=0}get key(){throw Q()}get value(){throw Q()}get color(){throw Q()}get left(){throw Q()}get right(){throw Q()}copy(e,n,r,i,s){return this}insert(e,n,r){return new Tn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var dt=class t{constructor(e){this.comparator=e,this.data=new ke(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Th(this.data.getIterator())}getIteratorFrom(e){return new Th(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},Th=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Dn=class t{constructor(e){this.fields=e,e.sort(Ot.comparator)}static empty(){return new t([])}unionWith(e){let n=new dt(Ot.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return To(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var bh=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var ht=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new bh("Invalid base64 string: "+s):s}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ye(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};ht.EMPTY_BYTE_STRING=new ht("");var iH=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ar(t){if(Ce(!!t),typeof t=="string"){let e=0,n=iH.exec(t);if(Ce(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ne(t.seconds),nanos:Ne(t.nanos)}}function Ne(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ti(t){return typeof t=="string"?ht.fromBase64String(t):ht.fromUint8Array(t)}function hI(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function fI(t){let e=t.mapValue.fields.__previous_value__;return hI(e)?fI(e):e}function Rc(t){let e=ar(t.mapValue.fields.__local_write_time__.timestampValue);return new rt(e.seconds,e.nanos)}var Vv=class{constructor(e,n,r,i,s,o,a,u,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l}},Ch=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var yh={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ki(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?hI(t)?4:QS(t)?9007199254740991:KS(t)?10:11:Q()}function An(t,e){if(t===e)return!0;let n=Ki(t);if(n!==Ki(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Rc(t).isEqual(Rc(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;let o=ar(i.timestampValue),a=ar(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return ti(i.bytesValue).isEqual(ti(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Ne(i.geoPointValue.latitude)===Ne(s.geoPointValue.latitude)&&Ne(i.geoPointValue.longitude)===Ne(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Ne(i.integerValue)===Ne(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){let o=Ne(i.doubleValue),a=Ne(s.doubleValue);return o===a?Sc(o)===Sc(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return To(t.arrayValue.values||[],e.arrayValue.values||[],An);case 10:case 11:return function(i,s){let o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(hS(o)!==hS(a))return!1;for(let u in o)if(o.hasOwnProperty(u)&&(a[u]===void 0||!An(o[u],a[u])))return!1;return!0}(t,e);default:return Q()}}function Nc(t,e){return(t.values||[]).find(n=>An(n,e))!==void 0}function bo(t,e){if(t===e)return 0;let n=Ki(t),r=Ki(e);if(n!==r)return ye(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ye(t.booleanValue,e.booleanValue);case 2:return function(s,o){let a=Ne(s.integerValue||s.doubleValue),u=Ne(o.integerValue||o.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return fS(t.timestampValue,e.timestampValue);case 4:return fS(Rc(t),Rc(e));case 5:return ye(t.stringValue,e.stringValue);case 6:return function(s,o){let a=ti(s),u=ti(o);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){let a=s.split("/"),u=o.split("/");for(let l=0;l<a.length&&l<u.length;l++){let h=ye(a[l],u[l]);if(h!==0)return h}return ye(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){let a=ye(Ne(s.latitude),Ne(o.latitude));return a!==0?a:ye(Ne(s.longitude),Ne(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return pS(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,u,l,h;let p=s.fields||{},m=o.fields||{},y=(a=p.value)===null||a===void 0?void 0:a.arrayValue,C=(u=m.value)===null||u===void 0?void 0:u.arrayValue,N=ye(((l=y?.values)===null||l===void 0?void 0:l.length)||0,((h=C?.values)===null||h===void 0?void 0:h.length)||0);return N!==0?N:pS(y,C)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===yh.mapValue&&o===yh.mapValue)return 0;if(s===yh.mapValue)return 1;if(o===yh.mapValue)return-1;let a=s.fields||{},u=Object.keys(a),l=o.fields||{},h=Object.keys(l);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){let m=ye(u[p],h[p]);if(m!==0)return m;let y=bo(a[u[p]],l[h[p]]);if(y!==0)return y}return ye(u.length,h.length)}(t.mapValue,e.mapValue);default:throw Q()}}function fS(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ye(t,e);let n=ar(t),r=ar(e),i=ye(n.seconds,r.seconds);return i!==0?i:ye(n.nanos,r.nanos)}function pS(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let s=bo(n[i],r[i]);if(s)return s}return ye(n.length,r.length)}function Co(t){return Uv(t)}function Uv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=ar(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ti(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return q.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let s of n.values||[])i?i=!1:r+=",",r+=Uv(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",s=!0;for(let o of r)s?s=!1:i+=",",i+=`${o}:${Uv(n.fields[o])}`;return i+"}"}(t.mapValue):Q()}function gS(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function jv(t){return!!t&&"integerValue"in t}function pI(t){return!!t&&"arrayValue"in t}function mS(t){return!!t&&"nullValue"in t}function yS(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function _h(t){return!!t&&"mapValue"in t}function KS(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Tc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return ko(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Tc(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Tc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function QS(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var an=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!_h(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Tc(n)}setAll(e){let n=Ot.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){let u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Tc(o):i.push(a.lastSegment())});let s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){let n=this.field(e.popLast());_h(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return An(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];_h(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ko(n,(i,s)=>e[i]=s);for(let i of r)delete e[i]}clone(){return new t(Tc(this.value))}};function YS(t){let e=[];return ko(t.fields,(n,r)=>{let i=new Ot([n]);if(_h(r)){let s=YS(r.mapValue).fields;if(s.length===0)e.push(i);else for(let o of s)e.push(i.child(o))}else e.push(i)}),new Dn(e)}var cn=class t{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new t(e,0,ne.min(),ne.min(),ne.min(),an.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,ne.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,ne.min(),ne.min(),an.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,ne.min(),ne.min(),an.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ne.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=an.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=an.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ne.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Ao=class{constructor(e,n){this.position=e,this.inclusive=n}};function vS(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let s=e[i],o=t.position[i];if(s.field.isKeyField()?r=q.comparator(q.fromName(o.referenceValue),n.key):r=bo(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function _S(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!An(t.position[n],e.position[n]))return!1;return!0}var Qi=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function sH(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var Ah=class{},ze=class t extends Ah{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new $v(e,n,r):n==="array-contains"?new qv(e,r):n==="in"?new Gv(e,r):n==="not-in"?new Wv(e,r):n==="array-contains-any"?new Kv(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Hv(e,r):new zv(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(bo(n,this.value)):n!==null&&Ki(this.value)===Ki(n)&&this.matchesComparison(bo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Q()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},un=class t extends Ah{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new t(e,n)}matches(e){return JS(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function JS(t){return t.op==="and"}function ZS(t){return oH(t)&&JS(t)}function oH(t){for(let e of t.filters)if(e instanceof un)return!1;return!0}function Bv(t){if(t instanceof ze)return t.field.canonicalString()+t.op.toString()+Co(t.value);if(ZS(t))return t.filters.map(e=>Bv(e)).join(",");{let e=t.filters.map(n=>Bv(n)).join(",");return`${t.op}(${e})`}}function XS(t,e){return t instanceof ze?function(r,i){return i instanceof ze&&r.op===i.op&&r.field.isEqual(i.field)&&An(r.value,i.value)}(t,e):t instanceof un?function(r,i){return i instanceof un&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&XS(o,i.filters[a]),!0):!1}(t,e):void Q()}function eR(t){return t instanceof ze?function(n){return`${n.field.canonicalString()} ${n.op} ${Co(n.value)}`}(t):t instanceof un?function(n){return n.op.toString()+" {"+n.getFilters().map(eR).join(" ,")+"}"}(t):"Filter"}var $v=class extends ze{constructor(e,n,r){super(e,n,r),this.key=q.fromName(r.referenceValue)}matches(e){let n=q.comparator(e.key,this.key);return this.matchesComparison(n)}},Hv=class extends ze{constructor(e,n){super(e,"in",n),this.keys=tR("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},zv=class extends ze{constructor(e,n){super(e,"not-in",n),this.keys=tR("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function tR(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>q.fromName(r.referenceValue))}var qv=class extends ze{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return pI(n)&&Nc(n.arrayValue,this.value)}},Gv=class extends ze{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&Nc(this.value.arrayValue,n)}},Wv=class extends ze{constructor(e,n){super(e,"not-in",n)}matches(e){if(Nc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!Nc(this.value.arrayValue,n)}},Kv=class extends ze{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!pI(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Nc(this.value.arrayValue,r))}};var Qv=class{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}};function IS(t,e=null,n=[],r=[],i=null,s=null,o=null){return new Qv(t,e,n,r,i,s,o)}function gI(t){let e=Z(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Bv(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Zh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Co(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Co(r)).join(",")),e.ue=n}return e.ue}function mI(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!sH(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!XS(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!_S(t.startAt,e.startAt)&&_S(t.endAt,e.endAt)}function Yv(t){return q.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var ni=class{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function aH(t,e,n,r,i,s,o,a){return new ni(t,e,n,r,i,s,o,a)}function yI(t){return new ni(t)}function wS(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function nR(t){return t.collectionGroup!==null}function bc(t){let e=Z(t);if(e.ce===null){e.ce=[];let n=new Set;for(let s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new dt(Ot.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Qi(s,r))}),n.has(Ot.keyField().canonicalString())||e.ce.push(new Qi(Ot.keyField(),r))}return e.ce}function bn(t){let e=Z(t);return e.le||(e.le=cH(e,bc(t))),e.le}function cH(t,e){if(t.limitType==="F")return IS(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let s=i.dir==="desc"?"asc":"desc";return new Qi(i.field,s)});let n=t.endAt?new Ao(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Ao(t.startAt.position,t.startAt.inclusive):null;return IS(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Jv(t,e){let n=t.filters.concat([e]);return new ni(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Zv(t,e,n){return new ni(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Xh(t,e){return mI(bn(t),bn(e))&&t.limitType===e.limitType}function rR(t){return`${gI(bn(t))}|lt:${t.limitType}`}function yo(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>eR(i)).join(", ")}]`),Zh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Co(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Co(i)).join(",")),`Target(${r})`}(bn(t))}; limitType=${t.limitType})`}function ef(t,e){return e.isFoundDocument()&&function(r,i){let s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):q.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(let s of bc(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,u){let l=vS(o,a,u);return o.inclusive?l<=0:l<0}(r.startAt,bc(r),i)||r.endAt&&!function(o,a,u){let l=vS(o,a,u);return o.inclusive?l>=0:l>0}(r.endAt,bc(r),i))}(t,e)}function uH(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function iR(t){return(e,n)=>{let r=!1;for(let i of bc(t)){let s=lH(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function lH(t,e,n){let r=t.field.isKeyField()?q.comparator(e.key,n.key):function(s,o,a){let u=o.data.field(s),l=a.data.field(s);return u!==null&&l!==null?bo(u,l):Q()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Q()}}var ri=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ko(this.inner,(n,r)=>{for(let[i,s]of r)e(i,s)})}isEmpty(){return WS(this.inner)}size(){return this.innerSize}};var dH=new ke(q.comparator);function cr(){return dH}var sR=new ke(q.comparator);function Dc(...t){let e=sR;for(let n of t)e=e.insert(n.key,n);return e}function oR(t){let e=sR;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function $i(){return Cc()}function aR(){return Cc()}function Cc(){return new ri(t=>t.toString(),(t,e)=>t.isEqual(e))}var hH=new ke(q.comparator),fH=new dt(q.comparator);function de(...t){let e=fH;for(let n of t)e=e.add(n);return e}var pH=new dt(ye);function gH(){return pH}function vI(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Sc(e)?"-0":e}}function cR(t){return{integerValue:""+t}}function mH(t,e){return X$(e)?cR(e):vI(t,e)}var So=class{constructor(){this._=void 0}};function yH(t,e,n){return t instanceof Ro?function(i,s){let o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&hI(s)&&(s=fI(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Yi?lR(t,e):t instanceof Ji?dR(t,e):function(i,s){let o=uR(i,s),a=ES(o)+ES(i.Pe);return jv(o)&&jv(i.Pe)?cR(a):vI(i.serializer,a)}(t,e)}function vH(t,e,n){return t instanceof Yi?lR(t,e):t instanceof Ji?dR(t,e):n}function uR(t,e){return t instanceof No?function(r){return jv(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}var Ro=class extends So{},Yi=class extends So{constructor(e){super(),this.elements=e}};function lR(t,e){let n=hR(e);for(let r of t.elements)n.some(i=>An(i,r))||n.push(r);return{arrayValue:{values:n}}}var Ji=class extends So{constructor(e){super(),this.elements=e}};function dR(t,e){let n=hR(e);for(let r of t.elements)n=n.filter(i=>!An(i,r));return{arrayValue:{values:n}}}var No=class extends So{constructor(e,n){super(),this.serializer=e,this.Pe=n}};function ES(t){return Ne(t.integerValue||t.doubleValue)}function hR(t){return pI(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function _H(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Yi&&i instanceof Yi||r instanceof Ji&&i instanceof Ji?To(r.elements,i.elements,An):r instanceof No&&i instanceof No?An(r.Pe,i.Pe):r instanceof Ro&&i instanceof Ro}(t.transform,e.transform)}var Xv=class{constructor(e,n){this.version=e,this.transformResults=n}},Xr=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Ih(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var Mo=class{};function fR(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Sh(t.key,Xr.none()):new Zi(t.key,t.data,Xr.none());{let n=t.data,r=an.empty(),i=new dt(Ot.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new ur(t.key,r,new Dn(i.toArray()),Xr.none())}}function IH(t,e,n){t instanceof Zi?function(i,s,o){let a=i.value.clone(),u=TS(i.fieldTransforms,s,o.transformResults);a.setAll(u),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof ur?function(i,s,o){if(!Ih(i.precondition,s))return void s.convertToUnknownDocument(o.version);let a=TS(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(pR(i)),u.setAll(a),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Ac(t,e,n,r){return t instanceof Zi?function(s,o,a,u){if(!Ih(s.precondition,o))return a;let l=s.value.clone(),h=bS(s.fieldTransforms,u,o);return l.setAll(h),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof ur?function(s,o,a,u){if(!Ih(s.precondition,o))return a;let l=bS(s.fieldTransforms,u,o),h=o.data;return h.setAll(pR(s)),h.setAll(l),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(s,o,a){return Ih(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function wH(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),s=uR(r.transform,i||null);s!=null&&(n===null&&(n=an.empty()),n.set(r.field,s))}return n||null}function DS(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&To(r,i,(s,o)=>_H(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var Zi=class extends Mo{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},ur=class extends Mo{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function pR(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function TS(t,e,n){let r=new Map;Ce(t.length===n.length);for(let i=0;i<n.length;i++){let s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,vH(o,a,n[i]))}return r}function bS(t,e,n){let r=new Map;for(let i of t){let s=i.transform,o=n.data.field(i.field);r.set(i.field,yH(s,o,e))}return r}var Sh=class extends Mo{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},e_=class extends Mo{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var t_=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let s=this.mutations[i];s.key.isEqual(e.key)&&IH(s,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ac(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=Ac(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=aR();return this.mutations.forEach(i=>{let s=e.get(i.key),o=s.overlayedDocument,a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;let u=fR(o,a);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(ne.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),de())}isEqual(e){return this.batchId===e.batchId&&To(this.mutations,e.mutations,(n,r)=>DS(n,r))&&To(this.baseMutations,e.baseMutations,(n,r)=>DS(n,r))}},n_=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ce(e.mutations.length===r.length);let i=function(){return hH}(),s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new t(e,n,r,i)}};var r_=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var i_=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var $e,fe;function EH(t){switch(t){default:return Q();case M.CANCELLED:case M.UNKNOWN:case M.DEADLINE_EXCEEDED:case M.RESOURCE_EXHAUSTED:case M.INTERNAL:case M.UNAVAILABLE:case M.UNAUTHENTICATED:return!1;case M.INVALID_ARGUMENT:case M.NOT_FOUND:case M.ALREADY_EXISTS:case M.PERMISSION_DENIED:case M.FAILED_PRECONDITION:case M.ABORTED:case M.OUT_OF_RANGE:case M.UNIMPLEMENTED:case M.DATA_LOSS:return!0}}function gR(t){if(t===void 0)return or("GRPC error has no .code"),M.UNKNOWN;switch(t){case $e.OK:return M.OK;case $e.CANCELLED:return M.CANCELLED;case $e.UNKNOWN:return M.UNKNOWN;case $e.DEADLINE_EXCEEDED:return M.DEADLINE_EXCEEDED;case $e.RESOURCE_EXHAUSTED:return M.RESOURCE_EXHAUSTED;case $e.INTERNAL:return M.INTERNAL;case $e.UNAVAILABLE:return M.UNAVAILABLE;case $e.UNAUTHENTICATED:return M.UNAUTHENTICATED;case $e.INVALID_ARGUMENT:return M.INVALID_ARGUMENT;case $e.NOT_FOUND:return M.NOT_FOUND;case $e.ALREADY_EXISTS:return M.ALREADY_EXISTS;case $e.PERMISSION_DENIED:return M.PERMISSION_DENIED;case $e.FAILED_PRECONDITION:return M.FAILED_PRECONDITION;case $e.ABORTED:return M.ABORTED;case $e.OUT_OF_RANGE:return M.OUT_OF_RANGE;case $e.UNIMPLEMENTED:return M.UNIMPLEMENTED;case $e.DATA_LOSS:return M.DATA_LOSS;default:return Q()}}(fe=$e||($e={}))[fe.OK=0]="OK",fe[fe.CANCELLED=1]="CANCELLED",fe[fe.UNKNOWN=2]="UNKNOWN",fe[fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",fe[fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",fe[fe.NOT_FOUND=5]="NOT_FOUND",fe[fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",fe[fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",fe[fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",fe[fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",fe[fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",fe[fe.ABORTED=10]="ABORTED",fe[fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",fe[fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",fe[fe.INTERNAL=13]="INTERNAL",fe[fe.UNAVAILABLE=14]="UNAVAILABLE",fe[fe.DATA_LOSS=15]="DATA_LOSS";var CS=null;function DH(){return new TextEncoder}var TH=new Zr([4294967295,4294967295],0);function AS(t){let e=DH().encode(t),n=new vv;return n.update(e),new Uint8Array(n.digest())}function SS(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Zr([n,r],0),new Zr([i,s],0)]}var s_=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Hi(`Invalid padding: ${n}`);if(r<0)throw new Hi(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Hi(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Hi(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Zr.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Zr.fromNumber(r)));return i.compare(TH)===1&&(i=new Zr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let n=AS(e),[r,i]=SS(n);for(let s=0;s<this.hashCount;s++){let o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new t(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;let n=AS(e),[r,i]=SS(n);for(let s=0;s<this.hashCount;s++){let o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},Hi=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Rh=class t{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,Mc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(ne.min(),i,new ke(ye),cr(),de())}},Mc=class t{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,de(),de(),de())}};var wo=class{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}},Nh=class{constructor(e,n){this.targetId=e,this.me=n}},Mh=class{constructor(e,n,r=ht.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},xh=class{constructor(){this.fe=0,this.ge=NS(),this.pe=ht.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=de(),n=de(),r=de();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Q()}}),new Mc(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=NS()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ce(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},o_=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=cr(),this.qe=RS(),this.Qe=new ke(ye)}Ke(e){for(let n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(let n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{let r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:Q()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){let n=e.targetId,r=e.me.count,i=this.Je(n);if(i){let s=i.target;if(Yv(s))if(r===0){let o=new q(s.path);this.Ue(n,o,cn.newNoDocument(o,ne.min()))}else Ce(r===1);else{let o=this.Ye(n);if(o!==r){let a=this.Ze(e),u=a?this.Xe(a,e,o):1;if(u!==0){this.je(n);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,l)}CS?.et(function(h,p,m,y,C){var N,R,F,H,V,X;let we={localCacheCount:h,existenceFilterCount:p.count,databaseId:m.database,projectId:m.projectId},G=p.unchangedNames;return G&&(we.bloomFilter={applied:C===0,hashCount:(N=G?.hashCount)!==null&&N!==void 0?N:0,bitmapLength:(H=(F=(R=G?.bits)===null||R===void 0?void 0:R.bitmap)===null||F===void 0?void 0:F.length)!==null&&H!==void 0?H:0,padding:(X=(V=G?.bits)===null||V===void 0?void 0:V.padding)!==null&&X!==void 0?X:0,mightContain:E=>{var v;return(v=y?.mightContain(E))!==null&&v!==void 0&&v}}),we}(o,e.me,this.Le.tt(),a,u))}}}}Ze(e){let n=e.me.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n,o,a;try{o=ti(r).toUint8Array()}catch(u){if(u instanceof bh)return Do("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new s_(o,i,s)}catch(u){return Do(u instanceof Hi?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){let r=this.Le.getRemoteKeysForTarget(n),i=0;return r.forEach(s=>{let o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(e){let n=new Map;this.Be.forEach((s,o)=>{let a=this.Je(o);if(a){if(s.current&&Yv(a.target)){let u=new q(a.target.path);this.ke.get(u)!==null||this.it(o,u)||this.Ue(o,u,cn.newNoDocument(u,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=de();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{let l=this.Je(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));let i=new Rh(e,n,this.Qe,this.ke,r);return this.ke=cr(),this.qe=RS(),this.Qe=new ke(ye),i}$e(e,n){if(!this.ze(e))return;let r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;let i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){let n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new xh,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new dt(ye),this.qe=this.qe.insert(e,n)),n}ze(e){let n=this.Je(e)!==null;return n||j("WatchChangeAggregator","Detected inactive target",e),n}Je(e){let n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new xh),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}};function RS(){return new ke(q.comparator)}function NS(){return new ke(q.comparator)}var bH={asc:"ASCENDING",desc:"DESCENDING"},CH={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},AH={and:"AND",or:"OR"},a_=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function c_(t,e){return t.useProto3Json||Zh(e)?e:{value:e}}function Ph(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function mR(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function SH(t,e){return Ph(t,e.toTimestamp())}function Cn(t){return Ce(!!t),ne.fromTimestamp(function(n){let r=ar(n);return new rt(r.seconds,r.nanos)}(t))}function _I(t,e){return u_(t,e).canonicalString()}function u_(t,e){let n=function(i){return new Me(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function yR(t){let e=Me.fromString(t);return Ce(ER(e)),e}function l_(t,e){return _I(t.databaseId,e.path)}function bv(t,e){let n=yR(e);if(n.get(1)!==t.databaseId.projectId)throw new U(M.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new U(M.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new q(_R(n))}function vR(t,e){return _I(t.databaseId,e)}function RH(t){let e=yR(t);return e.length===4?Me.emptyPath():_R(e)}function d_(t){return new Me(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function _R(t){return Ce(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function MS(t,e,n){return{name:l_(t,e),fields:n.value.mapValue.fields}}function NH(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:Q()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(l,h){return l.useProto3Json?(Ce(h===void 0||typeof h=="string"),ht.fromBase64String(h||"")):(Ce(h===void 0||h instanceof Buffer||h instanceof Uint8Array),ht.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){let h=l.code===void 0?M.UNKNOWN:gR(l.code);return new U(h,l.message||"")}(o);n=new Mh(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=bv(t,r.document.name),s=Cn(r.document.updateTime),o=r.document.createTime?Cn(r.document.createTime):ne.min(),a=new an({mapValue:{fields:r.document.fields}}),u=cn.newFoundDocument(i,s,o,a),l=r.targetIds||[],h=r.removedTargetIds||[];n=new wo(l,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=bv(t,r.document),s=r.readTime?Cn(r.readTime):ne.min(),o=cn.newNoDocument(i,s),a=r.removedTargetIds||[];n=new wo([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=bv(t,r.document),s=r.removedTargetIds||[];n=new wo([],s,i,null)}else{if(!("filter"in e))return Q();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:s}=r,o=new i_(i,s),a=r.targetId;n=new Nh(a,o)}}return n}function MH(t,e){let n;if(e instanceof Zi)n={update:MS(t,e.key,e.value)};else if(e instanceof Sh)n={delete:l_(t,e.key)};else if(e instanceof ur)n={update:MS(t,e.key,e.data),updateMask:jH(e.fieldMask)};else{if(!(e instanceof e_))return Q();n={verify:l_(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){let a=o.transform;if(a instanceof Ro)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Yi)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ji)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof No)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw Q()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:SH(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Q()}(t,e.precondition)),n}function xH(t,e){return t&&t.length>0?(Ce(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?Cn(i.updateTime):Cn(s);return o.isEqual(ne.min())&&(o=Cn(s)),new Xv(o,i.transformResults||[])}(n,e))):[]}function PH(t,e){return{documents:[vR(t,e.path)]}}function OH(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=vR(t,i);let s=function(l){if(l.length!==0)return wR(un.create(l,"and"))}(e.filters);s&&(n.structuredQuery.where=s);let o=function(l){if(l.length!==0)return l.map(h=>function(m){return{field:vo(m.field),direction:LH(m.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);let a=c_(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{_t:n,parent:i}}function kH(t){let e=RH(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Ce(r===1);let h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let s=[];n.where&&(s=function(p){let m=IR(p);return m instanceof un&&ZS(m)?m.getFilters():[m]}(n.where));let o=[];n.orderBy&&(o=function(p){return p.map(m=>function(C){return new Qi(_o(C.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(m))}(n.orderBy));let a=null;n.limit&&(a=function(p){let m;return m=typeof p=="object"?p.value:p,Zh(m)?null:m}(n.limit));let u=null;n.startAt&&(u=function(p){let m=!!p.before,y=p.values||[];return new Ao(y,m)}(n.startAt));let l=null;return n.endAt&&(l=function(p){let m=!p.before,y=p.values||[];return new Ao(y,m)}(n.endAt)),aH(e,i,o,s,a,"F",u,l)}function FH(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Q()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function IR(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=_o(n.unaryFilter.field);return ze.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=_o(n.unaryFilter.field);return ze.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=_o(n.unaryFilter.field);return ze.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=_o(n.unaryFilter.field);return ze.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Q()}}(t):t.fieldFilter!==void 0?function(n){return ze.create(_o(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Q()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return un.create(n.compositeFilter.filters.map(r=>IR(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Q()}}(n.compositeFilter.op))}(t):Q()}function LH(t){return bH[t]}function VH(t){return CH[t]}function UH(t){return AH[t]}function vo(t){return{fieldPath:t.canonicalString()}}function _o(t){return Ot.fromServerFormat(t.fieldPath)}function wR(t){return t instanceof ze?function(n){if(n.op==="=="){if(yS(n.value))return{unaryFilter:{field:vo(n.field),op:"IS_NAN"}};if(mS(n.value))return{unaryFilter:{field:vo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(yS(n.value))return{unaryFilter:{field:vo(n.field),op:"IS_NOT_NAN"}};if(mS(n.value))return{unaryFilter:{field:vo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:vo(n.field),op:VH(n.op),value:n.value}}}(t):t instanceof un?function(n){let r=n.getFilters().map(i=>wR(i));return r.length===1?r[0]:{compositeFilter:{op:UH(n.op),filters:r}}}(t):Q()}function jH(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function ER(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var xc=class t{constructor(e,n,r,i,s=ne.min(),o=ne.min(),a=ht.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var h_=class{constructor(e){this.ct=e}};function BH(t){let e=kH({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Zv(e,e.limit,"L"):e}var Oh=class{constructor(){}It(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.dt(n,5);else if("booleanValue"in e)this.dt(n,10),n.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(n,15),n.At(Ne(e.integerValue));else if("doubleValue"in e){let r=Ne(e.doubleValue);isNaN(r)?this.dt(n,13):(this.dt(n,15),Sc(r)?n.At(0):n.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(n,20),typeof r=="string"&&(r=ar(r)),n.Rt(`${r.seconds||""}`),n.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,n),this.ft(n);else if("bytesValue"in e)this.dt(n,30),n.gt(ti(e.bytesValue)),this.ft(n);else if("referenceValue"in e)this.yt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(n,45),n.At(r.latitude||0),n.At(r.longitude||0)}else"mapValue"in e?QS(e)?this.dt(n,Number.MAX_SAFE_INTEGER):KS(e)?this.wt(e.mapValue,n):(this.St(e.mapValue,n),this.ft(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.ft(n)):Q()}Vt(e,n){this.dt(n,25),this.Dt(e,n)}Dt(e,n){n.Rt(e)}St(e,n){let r=e.fields||{};this.dt(n,55);for(let i of Object.keys(r))this.Vt(i,n),this.Tt(r[i],n)}wt(e,n){var r,i;let s=e.fields||{};this.dt(n,53);let o="value",a=((i=(r=s[o].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(n,15),n.At(Ne(a)),this.Vt(o,n),this.Tt(s[o],n)}bt(e,n){let r=e.values||[];this.dt(n,50);for(let i of r)this.Tt(i,n)}yt(e,n){this.dt(n,37),q.fromName(e).path.forEach(r=>{this.dt(n,60),this.Dt(r,n)})}dt(e,n){e.At(n)}ft(e){e.At(2)}};Oh.vt=new Oh;var f_=class{constructor(){this.un=new p_}addToCollectionParentIndex(e,n){return this.un.add(n),P.resolve()}getCollectionParents(e,n){return P.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return P.resolve()}deleteFieldIndex(e,n){return P.resolve()}deleteAllFieldIndexes(e){return P.resolve()}createTargetIndexes(e,n){return P.resolve()}getDocumentsMatchingTarget(e,n){return P.resolve(null)}getIndexType(e,n){return P.resolve(0)}getFieldIndexes(e,n){return P.resolve([])}getNextCollectionGroupToUpdate(e){return P.resolve(null)}getMinOffset(e,n){return P.resolve(Wi.min())}getMinOffsetFromCollectionGroup(e,n){return P.resolve(Wi.min())}updateCollectionGroup(e,n,r){return P.resolve()}updateIndexEntries(e,n){return P.resolve()}},p_=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new dt(Me.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new dt(Me.comparator)).toArray()}};var x7=new Uint8Array(0);var En=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};En.DEFAULT_COLLECTION_PERCENTILE=10,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,En.DEFAULT=new En(41943040,En.DEFAULT_COLLECTION_PERCENTILE,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),En.DISABLED=new En(-1,0,0);var Pc=class t{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new t(0)}static kn(){return new t(-1)}};var g_=class{constructor(){this.changes=new ri(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,cn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?P.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var m_=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var y_=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Ac(r.mutation,i,Dn.empty(),rt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,de()).next(()=>r))}getLocalViewOfDocuments(e,n,r=de()){let i=$i();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Dc();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){let r=$i();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,de()))}populateOverlays(e,n,r){let i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=cr(),o=Cc(),a=function(){return Cc()}();return n.forEach((u,l)=>{let h=r.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof ur)?s=s.insert(l.key,l):h!==void 0?(o.set(l.key,h.mutation.getFieldMask()),Ac(h.mutation,l,h.mutation.getFieldMask(),rt.now())):o.set(l.key,Dn.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((l,h)=>o.set(l,h)),n.forEach((l,h)=>{var p;return a.set(l,new m_(h,(p=o.get(l))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,n){let r=Cc(),i=new ke((o,a)=>o-a),s=de();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(let a of o)a.keys().forEach(u=>{let l=n.get(u);if(l===null)return;let h=r.get(u)||Dn.empty();h=a.applyToLocalView(l,h),r.set(u,h);let p=(i.get(a.batchId)||de()).add(u);i=i.insert(a.batchId,p)})}).next(()=>{let o=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),l=u.key,h=u.value,p=aR();h.forEach(m=>{if(!s.has(m)){let y=fR(n.get(m),r.get(m));y!==null&&p.set(m,y),s=s.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,l,p))}return P.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return q.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):nR(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{let o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):P.resolve($i()),a=-1,u=s;return o.next(l=>P.forEach(l,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),s.get(h)?P.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{u=u.insert(h,m)}))).next(()=>this.populateOverlays(e,l,s)).next(()=>this.computeViews(e,u,l,de())).next(h=>({batchId:a,changes:oR(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new q(n)).next(r=>{let i=Dc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let s=n.collectionGroup,o=Dc();return this.indexManager.getCollectionParents(e,s).next(a=>P.forEach(a,u=>{let l=function(p,m){return new ni(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((p,m)=>{o=o.insert(p,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((u,l)=>{let h=l.getKey();o.get(h)===null&&(o=o.insert(h,cn.newInvalidDocument(h)))});let a=Dc();return o.forEach((u,l)=>{let h=s.get(u);h!==void 0&&Ac(h.mutation,l,Dn.empty(),rt.now()),ef(n,l)&&(a=a.insert(u,l))}),a})}};var v_=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return P.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Cn(i.createTime)}}(n)),P.resolve()}getNamedQuery(e,n){return P.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:BH(i.bundledQuery),readTime:Cn(i.readTime)}}(n)),P.resolve()}};var __=class{constructor(){this.overlays=new ke(q.comparator),this.Ir=new Map}getOverlay(e,n){return P.resolve(this.overlays.get(n))}getOverlays(e,n){let r=$i();return P.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),P.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),P.resolve()}getOverlaysForCollection(e,n,r){let i=$i(),s=n.length+1,o=new q(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){let u=a.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return P.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new ke((l,h)=>l-h),o=this.overlays.getIterator();for(;o.hasNext();){let l=o.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let h=s.get(l.largestBatchId);h===null&&(h=$i(),s=s.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let a=$i(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,h)=>a.set(l,h)),!(a.size()>=i)););return P.resolve(a)}ht(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new r_(n,r));let s=this.Ir.get(n);s===void 0&&(s=de(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}};var I_=class{constructor(){this.sessionToken=ht.EMPTY_BYTE_STRING}getSessionToken(e){return P.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,P.resolve()}};var Oc=class{constructor(){this.Tr=new dt(He.Er),this.dr=new dt(He.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){let r=new He(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new He(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){let n=new q(new Me([])),r=new He(n,e),i=new He(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let n=new q(new Me([])),r=new He(n,e),i=new He(n,e+1),s=de();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){let n=new He(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},He=class{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return q.comparator(e.key,n.key)||ye(e.wr,n.wr)}static Ar(e,n){return ye(e.wr,n.wr)||q.comparator(e.key,n.key)}};var w_=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new dt(He.Er)}checkEmpty(e){return P.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new t_(s,n,r,i);this.mutationQueue.push(o);for(let a of i)this.br=this.br.add(new He(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return P.resolve(o)}lookupMutationBatch(e,n){return P.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.vr(r),s=i<0?0:i;return P.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return P.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return P.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new He(n,0),i=new He(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{let a=this.Dr(o.wr);s.push(a)}),P.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new dt(ye);return n.forEach(i=>{let s=new He(i,0),o=new He(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{r=r.add(a.wr)})}),P.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,s=r;q.isDocumentKey(s)||(s=s.child(""));let o=new He(new q(s),0),a=new dt(ye);return this.br.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.wr)),!0)},o),P.resolve(this.Cr(a))}Cr(e){let n=[];return e.forEach(r=>{let i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ce(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return P.forEach(n.mutations,i=>{let s=new He(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){let r=new He(n,0),i=this.br.firstAfterOrEqual(r);return P.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,P.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var E_=class{constructor(e){this.Mr=e,this.docs=function(){return new ke(q.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return P.resolve(r?r.document.mutableCopy():cn.newInvalidDocument(n))}getEntries(e,n){let r=cr();return n.forEach(i=>{let s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():cn.newInvalidDocument(i))}),P.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=cr(),o=n.path,a=new q(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:l,value:{document:h}}=u.getNext();if(!o.isPrefixOf(l.path))break;l.path.length>o.length+1||Y$(Q$(h),r)<=0||(i.has(h.key)||ef(n,h))&&(s=s.insert(h.key,h.mutableCopy()))}return P.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Q()}Or(e,n){return P.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new D_(this)}getSize(e){return P.resolve(this.size)}},D_=class extends g_{constructor(e){super(),this.cr=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),P.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}};var T_=class{constructor(e){this.persistence=e,this.Nr=new ri(n=>gI(n),mI),this.lastRemoteSnapshotVersion=ne.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Oc,this.targetCount=0,this.kr=Pc.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),P.resolve()}getLastRemoteSnapshotVersion(e){return P.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return P.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),P.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),P.resolve()}Kn(e){this.Nr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.kr=new Pc(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,P.resolve()}updateTargetData(e,n){return this.Kn(n),P.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,P.resolve()}removeTargets(e,n,r){let i=0,s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),P.waitFor(s).next(()=>i)}getTargetCount(e){return P.resolve(this.targetCount)}getTargetData(e,n){let r=this.Nr.get(n)||null;return P.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),P.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);let i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),P.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),P.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Br.yr(n);return P.resolve(r)}containsKey(e,n){return P.resolve(this.Br.containsKey(n))}};var b_=class{constructor(e,n){this.qr={},this.overlays={},this.Qr=new GS(0),this.Kr=!1,this.Kr=!0,this.$r=new I_,this.referenceDelegate=e(this),this.Ur=new T_(this),this.indexManager=new f_,this.remoteDocumentCache=function(i){return new E_(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new h_(n),this.Gr=new v_(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new __,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new w_(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){j("MemoryPersistence","Starting transaction:",e);let i=new C_(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return P.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}},C_=class extends Lv{constructor(e){super(),this.currentSequenceNumber=e}},A_=class t{constructor(e){this.persistence=e,this.Jr=new Oc,this.Yr=null}static Zr(e){return new t(e)}get Xr(){if(this.Yr)return this.Yr;throw Q()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),P.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),P.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),P.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return P.forEach(this.Xr,r=>{let i=q.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,ne.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return P.or([()=>P.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}};var S_=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=de(),i=de();for(let s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new t(e,n.fromCache,r,i)}};var R_=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var N_=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return Y0()?8:Z$(Qe())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){let s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new R_;return this.Xi(e,n,o).next(a=>{if(s.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(Ec()<=le.DEBUG&&j("QueryEngine","SDK will not create cache indexes for query:",yo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),P.resolve()):(Ec()<=le.DEBUG&&j("QueryEngine","Query:",yo(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Ec()<=le.DEBUG&&j("QueryEngine","The SDK decides to create cache indexes for query:",yo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,bn(n))):P.resolve())}Yi(e,n){if(wS(n))return P.resolve(null);let r=bn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Zv(n,null,"F"),r=bn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{let o=de(...s);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.ts(n,a);return this.ns(n,l,o,u.readTime)?this.Yi(e,Zv(n,null,"F")):this.rs(e,l,n,u)}))})))}Zi(e,n,r,i){return wS(n)||i.isEqual(ne.min())?P.resolve(null):this.Ji.getDocuments(e,r).next(s=>{let o=this.ts(n,s);return this.ns(n,o,r,i)?P.resolve(null):(Ec()<=le.DEBUG&&j("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),yo(n)),this.rs(e,o,n,K$(i,-1)).next(a=>a))})}ts(e,n){let r=new dt(iR(e));return n.forEach((i,s)=>{ef(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return Ec()<=le.DEBUG&&j("QueryEngine","Using full collection scan to execute query:",yo(n)),this.Ji.getDocumentsMatchingQuery(e,n,Wi.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}};var M_=class{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new ke(ye),this._s=new ri(s=>gI(s),mI),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new y_(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}};function $H(t,e,n,r){return new M_(t,e,n,r)}function DR(t,e){return w(this,null,function*(){let n=Z(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{let o=[],a=[],u=de();for(let l of i){o.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}for(let l of s){a.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}return n.localDocuments.getDocuments(r,u).next(l=>({hs:l,removedBatchIds:o,addedBatchIds:a}))})})})}function HH(t,e){let n=Z(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,u,l,h){let p=l.batch,m=p.keys(),y=P.resolve();return m.forEach(C=>{y=y.next(()=>h.getEntry(u,C)).next(N=>{let R=l.docVersions.get(C);Ce(R!==null),N.version.compareTo(R)<0&&(p.applyToRemoteDocument(N,l),N.isValidDocument()&&(N.setReadTime(l.commitVersion),h.addEntry(N)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(u,p))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=de();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function TR(t){let e=Z(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function zH(t,e){let n=Z(t),r=e.snapshotVersion,i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{let o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;let a=[];e.targetChanges.forEach((h,p)=>{let m=i.get(p);if(!m)return;a.push(n.Ur.removeMatchingKeys(s,h.removedDocuments,p).next(()=>n.Ur.addMatchingKeys(s,h.addedDocuments,p)));let y=m.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(p)!==null?y=y.withResumeToken(ht.EMPTY_BYTE_STRING,ne.min()).withLastLimboFreeSnapshotVersion(ne.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,r)),i=i.insert(p,y),function(N,R,F){return N.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-N.snapshotVersion.toMicroseconds()>=3e8?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0}(m,y,h)&&a.push(n.Ur.updateTargetData(s,y))});let u=cr(),l=de();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,h))}),a.push(qH(s,o,e.documentUpdates).next(h=>{u=h.Ps,l=h.Is})),!r.isEqual(ne.min())){let h=n.Ur.getLastRemoteSnapshotVersion(s).next(p=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(h)}return P.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,l)).next(()=>u)}).then(s=>(n.os=i,s))}function qH(t,e,n){let r=de(),i=de();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=cr();return n.forEach((a,u)=>{let l=s.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(ne.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):j("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{Ps:o,Is:i}})}function GH(t,e){let n=Z(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function WH(t,e){let n=Z(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,P.resolve(i)):n.Ur.allocateTargetId(r).next(o=>(i=new xc(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}function x_(t,e,n){return w(this,null,function*(){let r=Z(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!Bc(o))throw o;j("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)})}function xS(t,e,n){let r=Z(t),i=ne.min(),s=de();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,l,h){let p=Z(u),m=p._s.get(h);return m!==void 0?P.resolve(p.os.get(m)):p.Ur.getTargetData(l,h)}(r,o,bn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?i:ne.min(),n?s:de())).next(a=>(KH(r,uH(e),a),{documents:a,Ts:s})))}function KH(t,e,n){let r=t.us.get(e)||ne.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}var kh=class{constructor(){this.activeTargetIds=gH()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var P_=class{constructor(){this.so=new kh,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new kh,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var O_=class{_o(e){}shutdown(){}};var Fh=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){j("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){j("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var vh=null;function Cv(){return vh===null?vh=function(){return 268435456+Math.round(2147483648*Math.random())}():vh++,"0x"+vh.toString(16)}var QH={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var k_=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var lt="WebChannelConnection",F_=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){let a=Cv(),u=this.xo(n,r.toUriEncodedString());j("RestConnection",`Sending RPC '${n}' ${a}:`,u,i);let l={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(l,s,o),this.No(n,u,l,i).then(h=>(j("RestConnection",`Received RPC '${n}' ${a}: `,h),h),h=>{throw Do("RestConnection",`RPC '${n}' ${a} failed with error: `,h,"url: ",u,"request:",i),h})}Lo(n,r,i,s,o,a){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Oo}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){let i=QH[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){let s=Cv();return new Promise((o,a)=>{let u=new _v;u.setWithCredentials(!0),u.listenOnce(wv.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case wc.NO_ERROR:let h=u.getResponseJson();j(lt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(h)),o(h);break;case wc.TIMEOUT:j(lt,`RPC '${e}' ${s} timed out`),a(new U(M.DEADLINE_EXCEEDED,"Request time out"));break;case wc.HTTP_ERROR:let p=u.getStatus();if(j(lt,`RPC '${e}' ${s} failed with status:`,p,"response text:",u.getResponseText()),p>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);let y=m?.error;if(y&&y.status&&y.message){let C=function(R){let F=R.toLowerCase().replace(/_/g,"-");return Object.values(M).indexOf(F)>=0?F:M.UNKNOWN}(y.status);a(new U(C,y.message))}else a(new U(M.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new U(M.UNAVAILABLE,"Connection failed."));break;default:Q()}}finally{j(lt,`RPC '${e}' ${s} completed.`)}});let l=JSON.stringify(i);j(lt,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",l,r,15)})}Bo(e,n,r){let i=Cv(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Tv(),a=Dv(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.xmlHttpFactory=new Iv({})),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;let h=s.join("");j(lt,`Creating RPC '${e}' stream ${i}: ${h}`,u);let p=o.createWebChannel(h,u),m=!1,y=!1,C=new k_({Io:R=>{y?j(lt,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(m||(j(lt,`Opening RPC '${e}' stream ${i} transport.`),p.open(),m=!0),j(lt,`RPC '${e}' stream ${i} sending:`,R),p.send(R))},To:()=>p.close()}),N=(R,F,H)=>{R.listen(F,V=>{try{H(V)}catch(X){setTimeout(()=>{throw X},0)}})};return N(p,mo.EventType.OPEN,()=>{y||(j(lt,`RPC '${e}' stream ${i} transport opened.`),C.yo())}),N(p,mo.EventType.CLOSE,()=>{y||(y=!0,j(lt,`RPC '${e}' stream ${i} transport closed`),C.So())}),N(p,mo.EventType.ERROR,R=>{y||(y=!0,Do(lt,`RPC '${e}' stream ${i} transport errored:`,R),C.So(new U(M.UNAVAILABLE,"The operation could not be completed")))}),N(p,mo.EventType.MESSAGE,R=>{var F;if(!y){let H=R.data[0];Ce(!!H);let V=H,X=V.error||((F=V[0])===null||F===void 0?void 0:F.error);if(X){j(lt,`RPC '${e}' stream ${i} received error:`,X);let we=X.status,G=function(_){let D=$e[_];if(D!==void 0)return gR(D)}(we),E=X.message;G===void 0&&(G=M.INTERNAL,E="Unknown error status: "+we+" with message "+X.message),y=!0,C.So(new U(G,E)),p.close()}else j(lt,`RPC '${e}' stream ${i} received:`,H),C.bo(H)}}),N(a,Ev.STAT_EVENT,R=>{R.stat===mh.PROXY?j(lt,`RPC '${e}' stream ${i} detected buffering proxy`):R.stat===mh.NOPROXY&&j(lt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{C.wo()},0),C}};function Av(){return typeof document<"u"?document:null}function tf(t){return new a_(t,!0)}var Lh=class{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&j("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var Vh=class{constructor(e,n,r,i,s,o,a,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Lh(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return w(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return w(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,n){return w(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===M.RESOURCE_EXHAUSTED?(or(n.toString()),or("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===M.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(n)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{let i=new U(M.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){let r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(()=>w(this,null,function*(){this.state=0,this.start()}))}I_(e){return j("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(j("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},L_=class extends Vh{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let n=NH(this.serializer,e),r=function(s){if(!("targetChange"in s))return ne.min();let o=s.targetChange;return o.targetIds&&o.targetIds.length?ne.min():o.readTime?Cn(o.readTime):ne.min()}(e);return this.listener.d_(n,r)}A_(e){let n={};n.database=d_(this.serializer),n.addTarget=function(s,o){let a,u=o.target;if(a=Yv(u)?{documents:PH(s,u)}:{query:OH(s,u)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=mR(s,o.resumeToken);let l=c_(s,o.expectedCount);l!==null&&(a.expectedCount=l)}else if(o.snapshotVersion.compareTo(ne.min())>0){a.readTime=Ph(s,o.snapshotVersion.toTimestamp());let l=c_(s,o.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);let r=FH(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){let n={};n.database=d_(this.serializer),n.removeTarget=e,this.a_(n)}},V_=class extends Vh{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Ce(!!e.streamToken),this.lastStreamToken=e.streamToken,Ce(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Ce(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let n=xH(e.writeResults,e.commitTime),r=Cn(e.commitTime);return this.listener.g_(r,n)}p_(){let e={};e.database=d_(this.serializer),this.a_(e)}m_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>MH(this.serializer,r))};this.a_(n)}};var U_=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new U(M.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,u_(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new U(M.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,u_(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new U(M.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},j_=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(or(n),this.D_=!1):j("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var B_=class{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(()=>w(this,null,function*(){ts(this)&&(j("RemoteStore","Restarting streams for network reachability change."),yield function(u){return w(this,null,function*(){let l=Z(u);l.L_.add(4),yield $c(l),l.q_.set("Unknown"),l.L_.delete(4),yield nf(l)})}(this))}))}),this.q_=new j_(r,i)}};function nf(t){return w(this,null,function*(){if(ts(t))for(let e of t.B_)yield e(!0)})}function $c(t){return w(this,null,function*(){for(let e of t.B_)yield e(!1)})}function bR(t,e){let n=Z(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),DI(n)?EI(n):Fo(n).r_()&&wI(n,e))}function II(t,e){let n=Z(t),r=Fo(n);n.N_.delete(e),r.r_()&&CR(n,e),n.N_.size===0&&(r.r_()?r.o_():ts(n)&&n.q_.set("Unknown"))}function wI(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ne.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Fo(t).A_(e)}function CR(t,e){t.Q_.xe(e),Fo(t).R_(e)}function EI(t){t.Q_=new o_({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Fo(t).start(),t.q_.v_()}function DI(t){return ts(t)&&!Fo(t).n_()&&t.N_.size>0}function ts(t){return Z(t).L_.size===0}function AR(t){t.Q_=void 0}function YH(t){return w(this,null,function*(){t.q_.set("Online")})}function JH(t){return w(this,null,function*(){t.N_.forEach((e,n)=>{wI(t,e)})})}function ZH(t,e){return w(this,null,function*(){AR(t),DI(t)?(t.q_.M_(e),EI(t)):t.q_.set("Unknown")})}function XH(t,e,n){return w(this,null,function*(){if(t.q_.set("Online"),e instanceof Mh&&e.state===2&&e.cause)try{yield function(i,s){return w(this,null,function*(){let o=s.cause;for(let a of s.targetIds)i.N_.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.N_.delete(a),i.Q_.removeTarget(a))})}(t,e)}catch(r){j("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Uh(t,r)}else if(e instanceof wo?t.Q_.Ke(e):e instanceof Nh?t.Q_.He(e):t.Q_.We(e),!n.isEqual(ne.min()))try{let r=yield TR(t.localStore);n.compareTo(r)>=0&&(yield function(s,o){let a=s.Q_.rt(o);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let h=s.N_.get(l);h&&s.N_.set(l,h.withResumeToken(u.resumeToken,o))}}),a.targetMismatches.forEach((u,l)=>{let h=s.N_.get(u);if(!h)return;s.N_.set(u,h.withResumeToken(ht.EMPTY_BYTE_STRING,h.snapshotVersion)),CR(s,u);let p=new xc(h.target,u,l,h.sequenceNumber);wI(s,p)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){j("RemoteStore","Failed to raise snapshot:",r),yield Uh(t,r)}})}function Uh(t,e,n){return w(this,null,function*(){if(!Bc(e))throw e;t.L_.add(1),yield $c(t),t.q_.set("Offline"),n||(n=()=>TR(t.localStore)),t.asyncQueue.enqueueRetryable(()=>w(this,null,function*(){j("RemoteStore","Retrying IndexedDB access"),yield n(),t.L_.delete(1),yield nf(t)}))})}function SR(t,e){return e().catch(n=>Uh(t,n,e))}function rf(t){return w(this,null,function*(){let e=Z(t),n=ii(e),r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;ez(e);)try{let i=yield GH(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,tz(e,i)}catch(i){yield Uh(e,i)}RR(e)&&NR(e)})}function ez(t){return ts(t)&&t.O_.length<10}function tz(t,e){t.O_.push(e);let n=ii(t);n.r_()&&n.V_&&n.m_(e.mutations)}function RR(t){return ts(t)&&!ii(t).n_()&&t.O_.length>0}function NR(t){ii(t).start()}function nz(t){return w(this,null,function*(){ii(t).p_()})}function rz(t){return w(this,null,function*(){let e=ii(t);for(let n of t.O_)e.m_(n.mutations)})}function iz(t,e,n){return w(this,null,function*(){let r=t.O_.shift(),i=n_.from(r,e,n);yield SR(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield rf(t)})}function sz(t,e){return w(this,null,function*(){e&&ii(t).V_&&(yield function(r,i){return w(this,null,function*(){if(function(o){return EH(o)&&o!==M.ABORTED}(i.code)){let s=r.O_.shift();ii(r).s_(),yield SR(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),yield rf(r)}})}(t,e)),RR(t)&&NR(t)})}function PS(t,e){return w(this,null,function*(){let n=Z(t);n.asyncQueue.verifyOperationInProgress(),j("RemoteStore","RemoteStore received new credentials");let r=ts(n);n.L_.add(3),yield $c(n),r&&n.q_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),yield nf(n)})}function oz(t,e){return w(this,null,function*(){let n=Z(t);e?(n.L_.delete(2),yield nf(n)):e||(n.L_.add(2),yield $c(n),n.q_.set("Unknown"))})}function Fo(t){return t.K_||(t.K_=function(n,r,i){let s=Z(n);return s.w_(),new L_(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:YH.bind(null,t),Ro:JH.bind(null,t),mo:ZH.bind(null,t),d_:XH.bind(null,t)}),t.B_.push(e=>w(this,null,function*(){e?(t.K_.s_(),DI(t)?EI(t):t.q_.set("Unknown")):(yield t.K_.stop(),AR(t))}))),t.K_}function ii(t){return t.U_||(t.U_=function(n,r,i){let s=Z(n);return s.w_(),new V_(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:nz.bind(null,t),mo:sz.bind(null,t),f_:rz.bind(null,t),g_:iz.bind(null,t)}),t.B_.push(e=>w(this,null,function*(){e?(t.U_.s_(),yield rf(t)):(yield t.U_.stop(),t.O_.length>0&&(j("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))}))),t.U_}var $_=class t{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new sr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){let o=Date.now()+r,a=new t(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new U(M.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function TI(t,e){if(or("AsyncQueue",`${e}: ${t}`),Bc(t))return new U(M.UNAVAILABLE,`${e}: ${t}`);throw t}var jh=class t{constructor(e){this.comparator=e?(n,r)=>e(n,r)||q.comparator(n.key,r.key):(n,r)=>q.comparator(n.key,r.key),this.keyedMap=Dc(),this.sortedSet=new ke(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var Bh=class{constructor(){this.W_=new ke(q.comparator)}track(e){let n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):Q():this.W_=this.W_.insert(n,e)}G_(){let e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}},xo=class t{constructor(e,n,r,i,s,o,a,u,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,s){let o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new t(e,n,jh.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Xh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var H_=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}},z_=class{constructor(){this.queries=OS(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){let i=Z(n),s=i.queries;i.queries=OS(),s.forEach((o,a)=>{for(let u of a.j_)u.onError(r)})})(this,new U(M.ABORTED,"Firestore shutting down"))}};function OS(){return new ri(t=>rR(t),Xh)}function az(t,e){return w(this,null,function*(){let n=Z(t),r=3,i=e.query,s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new H_,r=e.J_()?0:1);try{switch(r){case 0:s.z_=yield n.onListen(i,!0);break;case 1:s.z_=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(o){let a=TI(o,`Initialization of query '${yo(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&bI(n)})}function cz(t,e){return w(this,null,function*(){let n=Z(t),r=e.query,i=3,s=n.queries.get(r);if(s){let o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}})}function uz(t,e){let n=Z(t),r=!1;for(let i of e){let s=i.query,o=n.queries.get(s);if(o){for(let a of o.j_)a.X_(i)&&(r=!0);o.z_=i}}r&&bI(n)}function lz(t,e,n){let r=Z(t),i=r.queries.get(e);if(i)for(let s of i.j_)s.onError(n);r.queries.delete(e)}function bI(t){t.Y_.forEach(e=>{e.next()})}var q_,kS;(kS=q_||(q_={})).ea="default",kS.Cache="cache";var G_=class{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new xo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;let r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=xo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==q_.Cache}};var $h=class{constructor(e){this.key=e}},Hh=class{constructor(e){this.key=e}},W_=class{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=de(),this.mutatedKeys=de(),this.Aa=iR(e),this.Ra=new jh(this.Aa)}get Va(){return this.Ta}ma(e,n){let r=n?n.fa:new Bh,i=n?n.Ra:this.Ra,s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{let m=i.get(h),y=ef(this.query,p)?p:null,C=!!m&&this.mutatedKeys.has(m.key),N=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations),R=!1;m&&y?m.data.isEqual(y.data)?C!==N&&(r.track({type:3,doc:y}),R=!0):this.ga(m,y)||(r.track({type:2,doc:y}),R=!0,(u&&this.Aa(y,u)>0||l&&this.Aa(y,l)<0)&&(a=!0)):!m&&y?(r.track({type:0,doc:y}),R=!0):m&&!y&&(r.track({type:1,doc:m}),R=!0,(u||l)&&(a=!0)),R&&(y?(o=o.add(y),s=N?s.add(h):s.delete(h)):(o=o.delete(h),s=s.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){let h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),s=s.delete(h.key),r.track({type:1,doc:h})}return{Ra:o,fa:r,ns:a,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let o=e.fa.G_();o.sort((h,p)=>function(y,C){let N=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Q()}};return N(y)-N(C)}(h.type,p.type)||this.Aa(h.doc,p.doc)),this.pa(r),i=i!=null&&i;let a=n&&!i?this.ya():[],u=this.da.size===0&&this.current&&!i?1:0,l=u!==this.Ea;return this.Ea=u,o.length!==0||l?{snapshot:new xo(this.query,e.Ra,s,o,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Bh,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=de(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});let n=[];return e.forEach(r=>{this.da.has(r)||n.push(new Hh(r))}),this.da.forEach(r=>{e.has(r)||n.push(new $h(r))}),n}ba(e){this.Ta=e.Ts,this.da=de();let n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return xo.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},K_=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},Q_=class{constructor(e){this.key=e,this.va=!1}},Y_=class{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new ri(a=>rR(a),Xh),this.Ma=new Map,this.xa=new Set,this.Oa=new ke(q.comparator),this.Na=new Map,this.La=new Oc,this.Ba={},this.ka=new Map,this.qa=Pc.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function dz(t,e,n=!0){return w(this,null,function*(){let r=FR(t),i,s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=yield MR(r,e,n,!0),i})}function hz(t,e){return w(this,null,function*(){let n=FR(t);yield MR(n,e,!0,!1)})}function MR(t,e,n,r){return w(this,null,function*(){let i=yield WH(t.localStore,bn(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n),a;return r&&(a=yield fz(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&bR(t.remoteStore,i),a})}function fz(t,e,n,r,i){return w(this,null,function*(){t.Ka=(p,m,y)=>function(N,R,F,H){return w(this,null,function*(){let V=R.view.ma(F);V.ns&&(V=yield xS(N.localStore,R.query,!1).then(({documents:E})=>R.view.ma(E,V)));let X=H&&H.targetChanges.get(R.targetId),we=H&&H.targetMismatches.get(R.targetId)!=null,G=R.view.applyChanges(V,N.isPrimaryClient,X,we);return LS(N,R.targetId,G.wa),G.snapshot})}(t,p,m,y);let s=yield xS(t.localStore,e,!0),o=new W_(e,s.Ts),a=o.ma(s.documents),u=Mc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),l=o.applyChanges(a,t.isPrimaryClient,u);LS(t,n,l.wa);let h=new K_(e,n,o);return t.Fa.set(e,h),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),l.snapshot})}function pz(t,e,n){return w(this,null,function*(){let r=Z(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!Xh(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield x_(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&II(r.remoteStore,i.targetId),J_(r,i.targetId)}).catch(jc))):(J_(r,i.targetId),yield x_(r.localStore,i.targetId,!0))})}function gz(t,e){return w(this,null,function*(){let n=Z(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),II(n.remoteStore,r.targetId))})}function mz(t,e,n){return w(this,null,function*(){let r=Dz(t);try{let i=yield function(o,a){let u=Z(o),l=rt.now(),h=a.reduce((y,C)=>y.add(C.key),de()),p,m;return u.persistence.runTransaction("Locally write mutations","readwrite",y=>{let C=cr(),N=de();return u.cs.getEntries(y,h).next(R=>{C=R,C.forEach((F,H)=>{H.isValidDocument()||(N=N.add(F))})}).next(()=>u.localDocuments.getOverlayedDocuments(y,C)).next(R=>{p=R;let F=[];for(let H of a){let V=wH(H,p.get(H.key).overlayedDocument);V!=null&&F.push(new ur(H.key,V,YS(V.value.mapValue),Xr.exists(!0)))}return u.mutationQueue.addMutationBatch(y,l,F,a)}).next(R=>{m=R;let F=R.applyToLocalDocumentSet(p,N);return u.documentOverlayCache.saveOverlays(y,R.batchId,F)})}).then(()=>({batchId:m.batchId,changes:oR(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,u){let l=o.Ba[o.currentUser.toKey()];l||(l=new ke(ye)),l=l.insert(a,u),o.Ba[o.currentUser.toKey()]=l}(r,i.batchId,n),yield Hc(r,i.changes),yield rf(r.remoteStore)}catch(i){let s=TI(i,"Failed to persist write");n.reject(s)}})}function xR(t,e){return w(this,null,function*(){let n=Z(t);try{let r=yield zH(n.localStore,e);e.targetChanges.forEach((i,s)=>{let o=n.Na.get(s);o&&(Ce(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?Ce(o.va):i.removedDocuments.size>0&&(Ce(o.va),o.va=!1))}),yield Hc(n,r,e)}catch(r){yield jc(r)}})}function FS(t,e,n){let r=Z(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.Fa.forEach((s,o)=>{let a=o.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){let u=Z(o);u.onlineState=a;let l=!1;u.queries.forEach((h,p)=>{for(let m of p.j_)m.Z_(a)&&(l=!0)}),l&&bI(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function yz(t,e,n){return w(this,null,function*(){let r=Z(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Na.get(e),s=i&&i.key;if(s){let o=new ke(q.comparator);o=o.insert(s,cn.newNoDocument(s,ne.min()));let a=de().add(s),u=new Rh(ne.min(),new Map,new ke(ye),o,a);yield xR(r,u),r.Oa=r.Oa.remove(s),r.Na.delete(e),CI(r)}else yield x_(r.localStore,e,!1).then(()=>J_(r,e,n)).catch(jc)})}function vz(t,e){return w(this,null,function*(){let n=Z(t),r=e.batch.batchId;try{let i=yield HH(n.localStore,e);OR(n,r,null),PR(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield Hc(n,i)}catch(i){yield jc(i)}})}function _z(t,e,n){return w(this,null,function*(){let r=Z(t);try{let i=yield function(o,a){let u=Z(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return u.mutationQueue.lookupMutationBatch(l,a).next(p=>(Ce(p!==null),h=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,h,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>u.localDocuments.getDocuments(l,h))})}(r.localStore,e);OR(r,e,n),PR(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield Hc(r,i)}catch(i){yield jc(i)}})}function PR(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function OR(t,e,n){let r=Z(t),i=r.Ba[r.currentUser.toKey()];if(i){let s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function J_(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||kR(t,r)})}function kR(t,e){t.xa.delete(e.path.canonicalString());let n=t.Oa.get(e);n!==null&&(II(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),CI(t))}function LS(t,e,n){for(let r of n)r instanceof $h?(t.La.addReference(r.key,e),Iz(t,r)):r instanceof Hh?(j("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||kR(t,r.key)):Q()}function Iz(t,e){let n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(j("SyncEngine","New document in limbo: "+n),t.xa.add(r),CI(t))}function CI(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){let e=t.xa.values().next().value;t.xa.delete(e);let n=new q(Me.fromString(e)),r=t.qa.next();t.Na.set(r,new Q_(n)),t.Oa=t.Oa.insert(n,r),bR(t.remoteStore,new xc(bn(yI(n.path)),r,"TargetPurposeLimboResolution",GS.oe))}}function Hc(t,e,n){return w(this,null,function*(){let r=Z(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,u)=>{o.push(r.Ka(u,e,n).then(l=>{var h;if((l||n)&&r.isPrimaryClient){let p=l?!l.fromCache:(h=n?.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=S_.Wi(u.targetId,l);s.push(p)}}))}),yield Promise.all(o),r.Ca.d_(i),yield function(u,l){return w(this,null,function*(){let h=Z(u);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>P.forEach(l,m=>P.forEach(m.$i,y=>h.persistence.referenceDelegate.addReference(p,m.targetId,y)).next(()=>P.forEach(m.Ui,y=>h.persistence.referenceDelegate.removeReference(p,m.targetId,y)))))}catch(p){if(!Bc(p))throw p;j("LocalStore","Failed to update sequence numbers: "+p)}for(let p of l){let m=p.targetId;if(!p.fromCache){let y=h.os.get(m),C=y.snapshotVersion,N=y.withLastLimboFreeSnapshotVersion(C);h.os=h.os.insert(m,N)}}})}(r.localStore,s))})}function wz(t,e){return w(this,null,function*(){let n=Z(t);if(!n.currentUser.isEqual(e)){j("SyncEngine","User change. New user:",e.toKey());let r=yield DR(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(a=>{a.forEach(u=>{u.reject(new U(M.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Hc(n,r.hs)}})}function Ez(t,e){let n=Z(t),r=n.Na.get(e);if(r&&r.va)return de().add(r.key);{let i=de(),s=n.Ma.get(e);if(!s)return i;for(let o of s){let a=n.Fa.get(o);i=i.unionWith(a.view.Va)}return i}}function FR(t){let e=Z(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=xR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Ez.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=yz.bind(null,e),e.Ca.d_=uz.bind(null,e.eventManager),e.Ca.$a=lz.bind(null,e.eventManager),e}function Dz(t){let e=Z(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=vz.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=_z.bind(null,e),e}var zh=class{constructor(){this.synchronizeTabs=!1}initialize(e){return w(this,null,function*(){this.serializer=tf(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return $H(this.persistence,new N_,e.initialUser,this.serializer)}createPersistence(e){return new b_(A_.Zr,this.serializer)}createSharedClientState(e){return new P_}terminate(){return w(this,null,function*(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var Z_=class{initialize(e,n){return w(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>FS(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=wz.bind(null,this.syncEngine),yield oz(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new z_}()}createDatastore(e){let n=tf(e.databaseInfo.databaseId),r=function(s){return new F_(s)}(e.databaseInfo);return function(s,o,a,u){return new U_(s,o,a,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new B_(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>FS(this.syncEngine,n,0),function(){return Fh.D()?new Fh:new O_}())}createSyncEngine(e,n){return function(i,s,o,a,u,l,h){let p=new Y_(i,s,o,a,u,l);return h&&(p.Qa=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return w(this,null,function*(){var e,n;yield function(i){return w(this,null,function*(){let s=Z(i);j("RemoteStore","RemoteStore shutting down."),s.L_.add(5),yield $c(s),s.k_.shutdown(),s.q_.set("Unknown")})}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()})}};var X_=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ga(this.observer.next,e)}error(e){this.observer.error?this.Ga(this.observer.error,e):or("Uncaught Error in snapshot listener:",e.toString())}za(){this.muted=!0}Ga(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}};var eI=class{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ye.UNAUTHENTICATED,this.clientId=Eh.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,s=>w(this,null,function*(){j("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(j("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new U(M.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new sr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>w(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=TI(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function Sv(t,e){return w(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),j("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>w(this,null,function*(){r.isEqual(i)||(yield DR(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function VS(t,e){return w(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield bz(t);j("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>PS(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>PS(e.remoteStore,i)),t._onlineComponents=e})}function Tz(t){return t.name==="FirebaseError"?t.code===M.FAILED_PRECONDITION||t.code===M.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}function bz(t){return w(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){j("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Sv(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!Tz(n))throw n;Do("Error using user provided cache. Falling back to memory cache: "+n),yield Sv(t,new zh)}}else j("FirestoreClient","Using default OfflineComponentProvider"),yield Sv(t,new zh);return t._offlineComponents})}function LR(t){return w(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(j("FirestoreClient","Using user provided OnlineComponentProvider"),yield VS(t,t._uninitializedComponentsProvider._online)):(j("FirestoreClient","Using default OnlineComponentProvider"),yield VS(t,new Z_))),t._onlineComponents})}function Cz(t){return LR(t).then(e=>e.syncEngine)}function US(t){return w(this,null,function*(){let e=yield LR(t),n=e.eventManager;return n.onListen=dz.bind(null,e.syncEngine),n.onUnlisten=pz.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=hz.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=gz.bind(null,e.syncEngine),n})}function VR(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var jS=new Map;function UR(t,e,n){if(!n)throw new U(M.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Az(t,e,n,r){if(e===!0&&r===!0)throw new U(M.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function BS(t){if(!q.isDocumentKey(t))throw new U(M.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function $S(t){if(q.isDocumentKey(t))throw new U(M.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function sf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Q()}function qi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new U(M.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=sf(t);throw new U(M.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var qh=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new U(M.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new U(M.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Az("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=VR((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new U(M.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new U(M.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new U(M.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Po=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new qh({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new U(M.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new U(M.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new qh(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Rv;switch(r.type){case"firstParty":return new Pv(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new U(M.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=jS.get(n);r&&(j("ComponentProvider","Removing Datastore"),jS.delete(n),r.terminate())}(this),Promise.resolve()}};function jR(t,e,n,r={}){var i;let s=(t=qi(t,Po))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Do("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,u;if(typeof r.mockUserToken=="string")a=r.mockUserToken,u=Ye.MOCK_USER;else{a=z0(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new U(M.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Ye(l)}t._authCredentials=new Nv(new wh(a,u))}}var Xi=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},Ct=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ei(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},ei=class t extends Xi{constructor(e,n,r){super(e,n,yI(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Ct(this.firestore,null,new q(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function BR(t,e,...n){if(t=nt(t),UR("collection","path",e),t instanceof Po){let r=Me.fromString(e,...n);return $S(r),new ei(t,null,r)}{if(!(t instanceof Ct||t instanceof ei))throw new U(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Me.fromString(e,...n));return $S(r),new ei(t.firestore,null,r)}}function AI(t,e,...n){if(t=nt(t),arguments.length===1&&(e=Eh.newId()),UR("doc","path",e),t instanceof Po){let r=Me.fromString(e,...n);return BS(r),new Ct(t,null,new q(r))}{if(!(t instanceof Ct||t instanceof ei))throw new U(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Me.fromString(e,...n));return BS(r),new Ct(t.firestore,t instanceof ei?t.converter:null,new q(r))}}var tI=class{constructor(){this.au=Promise.resolve(),this.uu=[],this.cu=!1,this.lu=[],this.hu=null,this.Pu=!1,this.Iu=!1,this.Tu=[],this.t_=new Lh(this,"async_queue_retry"),this.Eu=()=>{let n=Av();n&&j("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()};let e=Av();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Eu)}get isShuttingDown(){return this.cu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.du(),this.Au(e)}enterRestrictedMode(e){if(!this.cu){this.cu=!0,this.Iu=e||!1;let n=Av();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Eu)}}enqueue(e){if(this.du(),this.cu)return new Promise(()=>{});let n=new sr;return this.Au(()=>this.cu&&this.Iu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.uu.push(e),this.Ru()))}Ru(){return w(this,null,function*(){if(this.uu.length!==0){try{yield this.uu[0](),this.uu.shift(),this.t_.reset()}catch(e){if(!Bc(e))throw e;j("AsyncQueue","Operation failed with retryable error: "+e)}this.uu.length>0&&this.t_.Go(()=>this.Ru())}})}Au(e){let n=this.au.then(()=>(this.Pu=!0,e().catch(r=>{this.hu=r,this.Pu=!1;let i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw or("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Pu=!1,r))));return this.au=n,n}enqueueAfterDelay(e,n,r){this.du(),this.Tu.indexOf(e)>-1&&(n=0);let i=$_.createAndSchedule(this,e,n,r,s=>this.Vu(s));return this.lu.push(i),i}du(){this.hu&&Q()}verifyOperationInProgress(){}mu(){return w(this,null,function*(){let e;do e=this.au,yield e;while(e!==this.au)})}fu(e){for(let n of this.lu)if(n.timerId===e)return!0;return!1}gu(e){return this.mu().then(()=>{this.lu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.lu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.mu()})}pu(e){this.Tu.push(e)}Vu(e){let n=this.lu.indexOf(e);this.lu.splice(n,1)}};function HS(t){return function(n,r){if(typeof n!="object"||n===null)return!1;let i=n;for(let s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}var es=class extends Po{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new tI}(),this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||zR(this),this._firestoreClient.terminate()}};function $R(t,e){let n=typeof t=="object"?t:uo(),r=typeof t=="string"?t:e||"(default)",i=uc(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let s=H0("firestore");s&&jR(i,...s)}return i}function HR(t){return t._firestoreClient||zR(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function zR(t){var e,n,r;let i=t._freezeSettings(),s=function(a,u,l,h){return new Vv(a,u,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,VR(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new eI(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}var kc=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(ht.fromBase64String(e))}catch(n){throw new U(M.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(ht.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Fc=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new U(M.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ot(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Gh=class{constructor(e){this._methodName=e}};var Lc=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new U(M.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new U(M.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ye(this._lat,e._lat)||ye(this._long,e._long)}};var Vc=class{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}};var Sz=/^__.*__$/,nI=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ur(e,this.data,this.fieldMask,n,this.fieldTransforms):new Zi(e,this.data,n,this.fieldTransforms)}};function qR(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Q()}}var rI=class t{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.yu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get wu(){return this.settings.wu}Su(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}bu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Su({path:r,Du:!1});return i.vu(e),i}Cu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Su({path:r,Du:!1});return i.yu(),i}Fu(e){return this.Su({path:void 0,Du:!0})}Mu(e){return Wh(e,this.settings.methodName,this.settings.xu||!1,this.path,this.settings.Ou)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}yu(){if(this.path)for(let e=0;e<this.path.length;e++)this.vu(this.path.get(e))}vu(e){if(e.length===0)throw this.Mu("Document fields must not be empty");if(qR(this.wu)&&Sz.test(e))throw this.Mu('Document fields cannot begin and end with "__"')}},iI=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||tf(e)}Nu(e,n,r,i=!1){return new rI({wu:e,methodName:n,Ou:r,path:Ot.emptyPath(),Du:!1,xu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function SI(t){let e=t._freezeSettings(),n=tf(t._databaseId);return new iI(t._databaseId,!!e.ignoreUndefinedProperties,n)}function GR(t,e,n,r,i,s={}){let o=t.Nu(s.merge||s.mergeFields?2:0,e,n,i);QR("Data must be an object, but it was:",o,r);let a=WR(r,o),u,l;if(s.merge)u=new Dn(o.fieldMask),l=o.fieldTransforms;else if(s.mergeFields){let h=[];for(let p of s.mergeFields){let m=Nz(e,p,n);if(!o.contains(m))throw new U(M.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);xz(h,m)||h.push(m)}u=new Dn(h),l=o.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=o.fieldTransforms;return new nI(new an(a),u,l)}function Rz(t,e,n,r=!1){return RI(n,t.Nu(r?4:3,e))}function RI(t,e){if(KR(t=nt(t)))return QR("Unsupported field value:",e,t),WR(t,e);if(t instanceof Gh)return function(r,i){if(!qR(i.wu))throw i.Mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Mu(`${r._methodName}() is not currently supported inside arrays`);let s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Du&&e.wu!==4)throw e.Mu("Nested arrays are not supported");return function(r,i){let s=[],o=0;for(let a of r){let u=RI(a,i.Fu(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=nt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return mH(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let s=rt.fromDate(r);return{timestampValue:Ph(i.serializer,s)}}if(r instanceof rt){let s=new rt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ph(i.serializer,s)}}if(r instanceof Lc)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof kc)return{bytesValue:mR(i.serializer,r._byteString)};if(r instanceof Ct){let s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:_I(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Vc)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw a.Mu("VectorValues must only contain numeric values.");return vI(a.serializer,u)})}}}}}}(r,i);throw i.Mu(`Unsupported field value: ${sf(r)}`)}(t,e)}function WR(t,e){let n={};return WS(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ko(t,(r,i)=>{let s=RI(i,e.bu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function KR(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof rt||t instanceof Lc||t instanceof kc||t instanceof Ct||t instanceof Gh||t instanceof Vc)}function QR(t,e,n){if(!KR(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=sf(n);throw r==="an object"?e.Mu(t+" a custom object"):e.Mu(t+" "+r)}}function Nz(t,e,n){if((e=nt(e))instanceof Fc)return e._internalPath;if(typeof e=="string")return YR(t,e);throw Wh("Field path arguments must be of type string or ",t,!1,void 0,n)}var Mz=new RegExp("[~\\*/\\[\\]]");function YR(t,e,n){if(e.search(Mz)>=0)throw Wh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Fc(...e.split("."))._internalPath}catch{throw Wh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Wh(t,e,n,r,i){let s=r&&!r.isEmpty(),o=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new U(M.INVALID_ARGUMENT,a+t+u)}function xz(t,e){return t.some(n=>n.isEqual(e))}var Kh=class{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Ct(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new sI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(NI("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},sI=class extends Kh{data(){return super.data()}};function NI(t,e){return typeof e=="string"?YR(t,e):e instanceof Fc?e._internalPath:e._delegate._internalPath}function Pz(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new U(M.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Uc=class{},Qh=class extends Uc{};function JR(t,e,...n){let r=[];e instanceof Uc&&r.push(e),r=r.concat(n),function(s){let o=s.filter(u=>u instanceof aI).length,a=s.filter(u=>u instanceof oI).length;if(o>1||o>0&&a>0)throw new U(M.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)t=i._apply(t);return t}var oI=class t extends Qh{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=this._parse(e);return XR(e._query,n),new Xi(e.firestore,e.converter,Jv(e._query,n))}_parse(e){let n=SI(e.firestore);return function(s,o,a,u,l,h,p){let m;if(l.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new U(M.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){qS(p,h);let y=[];for(let C of p)y.push(zS(u,s,C));m={arrayValue:{values:y}}}else m=zS(u,s,p)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||qS(p,h),m=Rz(a,o,p,h==="in"||h==="not-in");return ze.create(l,h,m)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};var aI=class t extends Uc{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:un.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i,a=s.getFlattenedFilters();for(let u of a)XR(o,u),o=Jv(o,u)}(e._query,n),new Xi(e.firestore,e.converter,Jv(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var cI=class t extends Qh{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new t(e,n)}_apply(e){let n=function(i,s,o){if(i.startAt!==null)throw new U(M.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new U(M.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Qi(s,o)}(e._query,this._field,this._direction);return new Xi(e.firestore,e.converter,function(i,s){let o=i.explicitOrderBy.concat([s]);return new ni(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}};function ZR(t,e="asc"){let n=e,r=NI("orderBy",t);return cI._create(r,n)}function zS(t,e,n){if(typeof(n=nt(n))=="string"){if(n==="")throw new U(M.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!nR(e)&&n.indexOf("/")!==-1)throw new U(M.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let r=e.path.child(Me.fromString(n));if(!q.isDocumentKey(r))throw new U(M.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return gS(t,new q(r))}if(n instanceof Ct)return gS(t,n._key);throw new U(M.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${sf(n)}.`)}function qS(t,e){if(!Array.isArray(t)||t.length===0)throw new U(M.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function XR(t,e){let n=function(i,s){for(let o of i)for(let a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new U(M.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new U(M.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}var uI=class{convertValue(e,n="none"){switch(Ki(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ne(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ti(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Q()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return ko(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;let s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>Ne(o.doubleValue));return new Vc(s)}convertGeoPoint(e){return new Lc(Ne(e.latitude),Ne(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=fI(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Rc(e));default:return null}}convertTimestamp(e){let n=ar(e);return new rt(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=Me.fromString(e);Ce(ER(r));let i=new Ch(r.get(1),r.get(3)),s=new q(r.popFirst(5));return i.isEqual(n)||or(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}};function eN(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var zi=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Yh=class extends Kh{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new Eo(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(NI("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},Eo=class extends Yh{data(e={}){return super.data(e)}},lI=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new zi(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Eo(this._firestore,this._userDataWriter,r.key,r,new zi(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new U(M.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{let u=new Eo(i._firestore,i._userDataWriter,a.doc.key,a.doc,new zi(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{let u=new Eo(i._firestore,i._userDataWriter,a.doc.key,a.doc,new zi(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,h=-1;return a.type!==0&&(l=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:Oz(a.type),doc:u,oldIndex:l,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function Oz(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Q()}}var Jh=class extends uI{constructor(e){super(),this.firestore=e}convertBytes(e){return new kc(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ct(this.firestore,null,n)}};function tN(t,e,n){t=qi(t,Ct);let r=qi(t.firestore,es),i=eN(t.converter,e,n);return rN(r,[GR(SI(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Xr.none())])}function nN(t,e){let n=qi(t.firestore,es),r=AI(t),i=eN(t.converter,e);return rN(n,[GR(SI(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Xr.exists(!1))]).then(()=>r)}function MI(t,...e){var n,r,i;t=nt(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||HS(e[o])||(s=e[o],o++);let a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(HS(e[o])){let p=e[o];e[o]=(n=p.next)===null||n===void 0?void 0:n.bind(p),e[o+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[o+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let u,l,h;if(t instanceof Ct)l=qi(t.firestore,es),h=yI(t._key.path),u={next:p=>{e[o]&&e[o](kz(l,t,p))},error:e[o+1],complete:e[o+2]};else{let p=qi(t,Xi);l=qi(p.firestore,es),h=p._query;let m=new Jh(l);u={next:y=>{e[o]&&e[o](new lI(l,m,p,y))},error:e[o+1],complete:e[o+2]},Pz(t._query)}return function(m,y,C,N){let R=new X_(N),F=new G_(y,R,C);return m.asyncQueue.enqueueAndForget(()=>w(this,null,function*(){return az(yield US(m),F)})),()=>{R.za(),m.asyncQueue.enqueueAndForget(()=>w(this,null,function*(){return cz(yield US(m),F)}))}}(HR(l),h,a,u)}function rN(t,e){return function(r,i){let s=new sr;return r.asyncQueue.enqueueAndForget(()=>w(this,null,function*(){return mz(yield Cz(r),i,s)})),s.promise}(HR(t),e)}function kz(t,e,n){let r=n.docs.get(e._key),i=new Jh(t);return new Yh(t,i,e._key,r,new zi(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Oo=i})(Wr),Gr(new Wt("firestore",(r,{instanceIdentifier:i,options:s})=>{let o=r.getProvider("app").getImmediate(),a=new es(new Mv(r.getProvider("auth-internal")),new kv(r.getProvider("app-check-internal")),function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new U(M.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ch(l.options.projectId,h)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),We(dS,"4.7.2",e),We(dS,"4.7.2","esm2017")})();var of=function(){return of=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},of.apply(this,arguments)};var Vz={includeMetadataChanges:!1};function iN(t,e){return e===void 0&&(e=Vz),new ie(function(n){var r=MI(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function sN(t,e){var n;e===void 0&&(e={});var r=t.data(e);return!t.exists()||typeof r!="object"||r===null||!e.idField?r:of(of({},r),(n={},n[e.idField]=t.id,n))}function oN(t){return iN(t,{includeMetadataChanges:!0}).pipe(Y(function(e){return e.docs}))}function aN(t,e){return e===void 0&&(e={}),oN(t).pipe(Y(function(n){return n.map(function(r){return sN(r,e)})}))}var zc=class{constructor(e){return e}},cN="firestore",xI=class{constructor(){return lc(cN)}};var PI=new L("angularfire2.firestore-instances");function Uz(t,e){let n=Qd(cN,t,e);return n&&new zc(n)}function jz(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new zc(r)}}var Bz={provide:xI,deps:[[new ct,PI]]},$z={provide:zc,useFactory:Uz,deps:[[new ct,PI],er]};function uY(t,...e){return We("angularfire",Fi.full,"fst"),Vt([$z,Bz,{provide:PI,useFactory:jz(t),multi:!0,deps:[me,et,fo,Li,[new ct,Ic],[new ct,ho],...e]}])}var lY=ut(aN,!0);var dY=ut(nN,!0);var hY=ut(BR,!0);var fY=ut(AI,!0);var pY=ut($R,!0);var gY=ut(ZR,!0);var mY=ut(JR,!0);var yY=ut(tN,!0);export{k as a,ae as b,w as c,Y as d,B as e,en as f,z as g,wD as h,tn as i,o6 as j,a6 as k,c6 as l,u6 as m,te as n,Tk as o,Vk as p,fb as q,gb as r,mb as s,jg as t,f6 as u,Ai as v,p6 as w,g6 as x,s1 as y,vb as z,o1 as A,a1 as B,m6 as C,c1 as D,Ib as E,y6 as F,v6 as G,_6 as H,I6 as I,w6 as J,E6 as K,z6 as L,q6 as M,G6 as N,W6 as O,K6 as P,fF as Q,TF as R,HF as S,c8 as T,O8 as U,BL as V,jr as W,n5 as X,r5 as Y,v0 as Z,a0 as _,E5 as $,D5 as aa,xU as ba,kU as ca,b5 as da,LU as ea,UU as fa,BU as ga,zU as ha,C5 as ia,A5 as ja,S5 as ka,yK as la,vK as ma,_c as na,d7 as oa,h7 as pa,f7 as qa,p7 as ra,g7 as sa,rt as ta,zc as ua,uY as va,lY as wa,dY as xa,hY as ya,fY as za,pY as Aa,gY as Ba,mY as Ca,yY as Da};
