var zS=Object.defineProperty,GS=Object.defineProperties;var WS=Object.getOwnPropertyDescriptors;var U_=Object.getOwnPropertySymbols,KS=Object.getPrototypeOf,QS=Object.prototype.hasOwnProperty,YS=Object.prototype.propertyIsEnumerable,ZS=Reflect.get;var B_=(t,e,n)=>e in t?zS(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,O=(t,e)=>{for(var n in e||={})QS.call(e,n)&&B_(t,n,e[n]);if(U_)for(var n of U_(e))YS.call(e,n)&&B_(t,n,e[n]);return t},oe=(t,e)=>GS(t,WS(e));var tr=(t,e,n)=>ZS(KS(t),n,e);var I=(t,e,n)=>new Promise((r,i)=>{var o=u=>{try{c(n.next(u))}catch(d){i(d)}},s=u=>{try{c(n.throw(u))}catch(d){i(d)}},c=u=>u.done?r(u.value):Promise.resolve(u.value).then(o,s);c((n=n.apply(t,e)).next())});function $_(t,e){return Object.is(t,e)}var Le=null,Nc=!1,xc=1,Dn=Symbol("SIGNAL");function fe(t){let e=Le;return Le=t,e}function H_(){return Le}var Os={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Eh(t){if(Nc)throw new Error("");if(Le===null)return;Le.consumerOnSignalRead(t);let e=Le.nextProducerIndex++;if(Fc(Le),e<Le.producerNode.length&&Le.producerNode[e]!==t&&Ps(Le)){let n=Le.producerNode[e];kc(n,Le.producerIndexOfThis[e])}Le.producerNode[e]!==t&&(Le.producerNode[e]=t,Le.producerIndexOfThis[e]=Ps(Le)?W_(t,Le,e):0),Le.producerLastReadVersion[e]=t.version}function JS(){xc++}function q_(t){if(!(Ps(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===xc)){if(!t.producerMustRecompute(t)&&!Ch(t)){t.dirty=!1,t.lastCleanEpoch=xc;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=xc}}function z_(t){if(t.liveConsumerNode===void 0)return;let e=Nc;Nc=!0;try{for(let n of t.liveConsumerNode)n.dirty||XS(n)}finally{Nc=e}}function G_(){return Le?.consumerAllowSignalWrites!==!1}function XS(t){t.dirty=!0,z_(t),t.consumerMarkedDirty?.(t)}function Oc(t){return t&&(t.nextProducerIndex=0),fe(t)}function Dh(t,e){if(fe(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Ps(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)kc(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Ch(t){Fc(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(q_(n),r!==n.version))return!0}return!1}function bh(t){if(Fc(t),Ps(t))for(let e=0;e<t.producerNode.length;e++)kc(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function W_(t,e,n){if(K_(t),t.liveConsumerNode.length===0&&Q_(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=W_(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function kc(t,e){if(K_(t),t.liveConsumerNode.length===1&&Q_(t))for(let r=0;r<t.producerNode.length;r++)kc(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Fc(i),i.producerIndexOfThis[r]=e}}function Ps(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Fc(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function K_(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function Q_(t){return t.producerNode!==void 0}function Y_(t){let e=Object.create(eA);e.computation=t;let n=()=>{if(q_(e),Eh(e),e.value===Pc)throw e.error;return e.value};return n[Dn]=e,n}var Ih=Symbol("UNSET"),wh=Symbol("COMPUTING"),Pc=Symbol("ERRORED"),eA=oe(O({},Os),{value:Ih,dirty:!0,error:null,equal:$_,producerMustRecompute(t){return t.value===Ih||t.value===wh},producerRecomputeValue(t){if(t.value===wh)throw new Error("Detected cycle in computations.");let e=t.value;t.value=wh;let n=Oc(t),r;try{r=t.computation()}catch(i){r=Pc,t.error=i}finally{Dh(t,n)}if(e!==Ih&&e!==Pc&&r!==Pc&&t.equal(e,r)){t.value=e;return}t.value=r,t.version++}});function tA(){throw new Error}var Z_=tA;function J_(){Z_()}function X_(t){Z_=t}var nA=null;function eI(t){let e=Object.create(nI);e.value=t;let n=()=>(Eh(e),e.value);return n[Dn]=e,n}function Th(t,e){G_()||J_(),t.equal(t.value,e)||(t.value=e,rA(t))}function tI(t,e){G_()||J_(),Th(t,e(t.value))}var nI=oe(O({},Os),{equal:$_,value:void 0});function rA(t){t.version++,JS(),z_(t),nA?.()}function K(t){return typeof t=="function"}function Ui(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Lc=Ui(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function jr(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Se=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(K(r))try{r()}catch(o){e=o instanceof Lc?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{rI(o)}catch(s){e=e??[],s instanceof Lc?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Lc(e)}}add(e){var n;if(e&&e!==this)if(this.closed)rI(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&jr(n,e)}remove(e){let{_finalizers:n}=this;n&&jr(n,e),e instanceof t&&e._removeParent(this)}};Se.EMPTY=(()=>{let t=new Se;return t.closed=!0,t})();var Sh=Se.EMPTY;function Vc(t){return t instanceof Se||t&&"closed"in t&&K(t.remove)&&K(t.add)&&K(t.unsubscribe)}function rI(t){K(t)?t():t.unsubscribe()}var Ht={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Bi={setTimeout(t,e,...n){let{delegate:r}=Bi;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Bi;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function jc(t){Bi.setTimeout(()=>{let{onUnhandledError:e}=Ht;if(e)e(t);else throw t})}function ks(){}var iI=Ah("C",void 0,void 0);function oI(t){return Ah("E",void 0,t)}function sI(t){return Ah("N",t,void 0)}function Ah(t,e,n){return{kind:t,value:e,error:n}}var Ur=null;function $i(t){if(Ht.useDeprecatedSynchronousErrorHandling){let e=!Ur;if(e&&(Ur={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=Ur;if(Ur=null,n)throw r}}else t()}function aI(t){Ht.useDeprecatedSynchronousErrorHandling&&Ur&&(Ur.errorThrown=!0,Ur.error=t)}var Br=class extends Se{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Vc(e)&&e.add(this)):this.destination=sA}static create(e,n,r){return new Hi(e,n,r)}next(e){this.isStopped?Mh(sI(e),this):this._next(e)}error(e){this.isStopped?Mh(oI(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Mh(iI,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},iA=Function.prototype.bind;function Rh(t,e){return iA.call(t,e)}var Nh=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Uc(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Uc(r)}else Uc(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Uc(n)}}},Hi=class extends Br{constructor(e,n,r){super();let i;if(K(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&Ht.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Rh(e.next,o),error:e.error&&Rh(e.error,o),complete:e.complete&&Rh(e.complete,o)}):i=e}this.destination=new Nh(i)}};function Uc(t){Ht.useDeprecatedSynchronousErrorHandling?aI(t):jc(t)}function oA(t){throw t}function Mh(t,e){let{onStoppedNotification:n}=Ht;n&&Bi.setTimeout(()=>n(t,e))}var sA={closed:!0,next:ks,error:oA,complete:ks};var qi=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Et(t){return t}function xh(...t){return Ph(t)}function Ph(t){return t.length===0?Et:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var ue=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=cA(n)?n:new Hi(n,r,i);return $i(()=>{let{operator:s,source:c}=this;o.add(s?s.call(o,c):c?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=cI(r),new r((i,o)=>{let s=new Hi({next:c=>{try{n(c)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[qi](){return this}pipe(...n){return Ph(n)(this)}toPromise(n){return n=cI(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function cI(t){var e;return(e=t??Ht.Promise)!==null&&e!==void 0?e:Promise}function aA(t){return t&&K(t.next)&&K(t.error)&&K(t.complete)}function cA(t){return t&&t instanceof Br||aA(t)&&Vc(t)}function Oh(t){return K(t?.lift)}function le(t){return e=>{if(Oh(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function se(t,e,n,r,i){return new kh(t,e,n,r,i)}var kh=class extends Br{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(c){try{n(c)}catch(u){e.error(u)}}:super._next,this._error=i?function(c){try{i(c)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function zi(){return le((t,e)=>{let n=null;t._refCount++;let r=se(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var Gi=class extends ue{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Oh(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Se;let n=this.getSubject();e.add(this.source.subscribe(se(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Se.EMPTY)}return e}refCount(){return zi()(this)}};var uI=Ui(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var He=(()=>{class t extends ue{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Bc(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new uI}next(n){$i(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){$i(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){$i(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Sh:(this.currentObservers=null,o.push(n),new Se(()=>{this.currentObservers=null,jr(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new ue;return n.source=this,n}}return t.create=(e,n)=>new Bc(e,n),t})(),Bc=class extends He{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:Sh}};var Ze=class extends He{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Fh={now(){return(Fh.delegate||Date).now()},delegate:void 0};var $c=class extends Se{constructor(e,n){super()}schedule(e,n=0){return this}};var Fs={setInterval(t,e,...n){let{delegate:r}=Fs;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=Fs;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var Wi=class extends $c{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return Fs.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&Fs.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,jr(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var Ki=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};Ki.now=Fh.now;var Qi=class extends Ki{constructor(e,n=Ki.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var Lh=new Qi(Wi);var Hc=class extends Wi{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var qc=class extends Qi{};var Vh=new qc(Hc);var Dt=new ue(t=>t.complete());function lI(t){return t&&K(t.schedule)}function dI(t){return t[t.length-1]}function zc(t){return K(dI(t))?t.pop():void 0}function nr(t){return lI(dI(t))?t.pop():void 0}function jh(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function fI(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function c(f){try{d(r.next(f))}catch(g){s(g)}}function u(f){try{d(r.throw(f))}catch(g){s(g)}}function d(f){f.done?o(f.value):i(f.value).then(c,u)}d((r=r.apply(t,e||[])).next())})}function hI(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function $r(t){return this instanceof $r?(this.v=t,this):new $r(t)}function pI(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(E){return function(A){return Promise.resolve(A).then(E,g)}}function c(E,A){r[E]&&(i[E]=function(x){return new Promise(function(N,F){o.push([E,x,N,F])>1||u(E,x)})},A&&(i[E]=A(i[E])))}function u(E,A){try{d(r[E](A))}catch(x){_(o[0][3],x)}}function d(E){E.value instanceof $r?Promise.resolve(E.value.v).then(f,g):_(o[0][2],E)}function f(E){u("next",E)}function g(E){u("throw",E)}function _(E,A){E(A),o.shift(),o.length&&u(o[0][0],o[0][1])}}function gI(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof hI=="function"?hI(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(c,u){s=t[o](s),i(c,u,s.done,s.value)})}}function i(o,s,c,u){Promise.resolve(u).then(function(d){o({value:d,done:c})},s)}}var Gc=t=>t&&typeof t.length=="number"&&typeof t!="function";function Wc(t){return K(t?.then)}function Kc(t){return K(t[qi])}function Qc(t){return Symbol.asyncIterator&&K(t?.[Symbol.asyncIterator])}function Yc(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function uA(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Zc=uA();function Jc(t){return K(t?.[Zc])}function Xc(t){return pI(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield $r(n.read());if(i)return yield $r(void 0);yield yield $r(r)}}finally{n.releaseLock()}})}function eu(t){return K(t?.getReader)}function Ne(t){if(t instanceof ue)return t;if(t!=null){if(Kc(t))return lA(t);if(Gc(t))return dA(t);if(Wc(t))return hA(t);if(Qc(t))return mI(t);if(Jc(t))return fA(t);if(eu(t))return pA(t)}throw Yc(t)}function lA(t){return new ue(e=>{let n=t[qi]();if(K(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function dA(t){return new ue(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function hA(t){return new ue(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,jc)})}function fA(t){return new ue(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function mI(t){return new ue(e=>{gA(t,e).catch(n=>e.error(n))})}function pA(t){return mI(Xc(t))}function gA(t,e){var n,r,i,o;return fI(this,void 0,void 0,function*(){try{for(n=gI(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function yt(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function rr(t,e=0){return le((n,r)=>{n.subscribe(se(r,i=>yt(r,t,()=>r.next(i),e),()=>yt(r,t,()=>r.complete(),e),i=>yt(r,t,()=>r.error(i),e)))})}function ir(t,e=0){return le((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function yI(t,e){return Ne(t).pipe(ir(e),rr(e))}function vI(t,e){return Ne(t).pipe(ir(e),rr(e))}function _I(t,e){return new ue(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function II(t,e){return new ue(n=>{let r;return yt(n,e,()=>{r=t[Zc](),yt(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>K(r?.return)&&r.return()})}function tu(t,e){if(!t)throw new Error("Iterable cannot be null");return new ue(n=>{yt(n,e,()=>{let r=t[Symbol.asyncIterator]();yt(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function wI(t,e){return tu(Xc(t),e)}function EI(t,e){if(t!=null){if(Kc(t))return yI(t,e);if(Gc(t))return _I(t,e);if(Wc(t))return vI(t,e);if(Qc(t))return tu(t,e);if(Jc(t))return II(t,e);if(eu(t))return wI(t,e)}throw Yc(t)}function Ae(t,e){return e?EI(t,e):Ne(t)}function W(...t){let e=nr(t);return Ae(t,e)}function Yi(t,e){let n=K(t)?t:()=>t,r=i=>i.error(n());return new ue(e?i=>e.schedule(r,0,i):r)}function Uh(t){return!!t&&(t instanceof ue||K(t.lift)&&K(t.subscribe))}var Cn=Ui(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function re(t,e){return le((n,r)=>{let i=0;n.subscribe(se(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:mA}=Array;function yA(t,e){return mA(e)?t(...e):t(e)}function nu(t){return re(e=>yA(t,e))}var{isArray:vA}=Array,{getPrototypeOf:_A,prototype:IA,keys:wA}=Object;function ru(t){if(t.length===1){let e=t[0];if(vA(e))return{args:e,keys:null};if(EA(e)){let n=wA(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function EA(t){return t&&typeof t=="object"&&_A(t)===IA}function iu(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function ou(...t){let e=nr(t),n=zc(t),{args:r,keys:i}=ru(t);if(r.length===0)return Ae([],e);let o=new ue(DA(r,e,i?s=>iu(i,s):Et));return n?o.pipe(nu(n)):o}function DA(t,e,n=Et){return r=>{DI(e,()=>{let{length:i}=t,o=new Array(i),s=i,c=i;for(let u=0;u<i;u++)DI(e,()=>{let d=Ae(t[u],e),f=!1;d.subscribe(se(r,g=>{o[u]=g,f||(f=!0,c--),c||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function DI(t,e,n){t?yt(n,t,e):e()}function CI(t,e,n,r,i,o,s,c){let u=[],d=0,f=0,g=!1,_=()=>{g&&!u.length&&!d&&e.complete()},E=x=>d<r?A(x):u.push(x),A=x=>{o&&e.next(x),d++;let N=!1;Ne(n(x,f++)).subscribe(se(e,F=>{i?.(F),o?E(F):e.next(F)},()=>{N=!0},void 0,()=>{if(N)try{for(d--;u.length&&d<r;){let F=u.shift();s?yt(e,s,()=>A(F)):A(F)}_()}catch(F){e.error(F)}}))};return t.subscribe(se(e,E,()=>{g=!0,_()})),()=>{c?.()}}function Ve(t,e,n=1/0){return K(e)?Ve((r,i)=>re((o,s)=>e(r,o,i,s))(Ne(t(r,i))),n):(typeof e=="number"&&(n=e),le((r,i)=>CI(r,i,t,n)))}function Zi(t=1/0){return Ve(Et,t)}function bI(){return Zi(1)}function Ji(...t){return bI()(Ae(t,nr(t)))}function su(t){return new ue(e=>{Ne(t()).subscribe(e)})}function Bh(...t){let e=zc(t),{args:n,keys:r}=ru(t),i=new ue(o=>{let{length:s}=n;if(!s){o.complete();return}let c=new Array(s),u=s,d=s;for(let f=0;f<s;f++){let g=!1;Ne(n[f]).subscribe(se(o,_=>{g||(g=!0,d--),c[f]=_},()=>u--,void 0,()=>{(!u||!g)&&(d||o.next(r?iu(r,c):c),o.complete())}))}});return e?i.pipe(nu(e)):i}function qt(t,e){return le((n,r)=>{let i=0;n.subscribe(se(r,o=>t.call(e,o,i++)&&r.next(o)))})}function or(t){return le((e,n)=>{let r=null,i=!1,o;r=e.subscribe(se(n,void 0,void 0,s=>{o=Ne(t(s,or(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function TI(t,e,n,r,i){return(o,s)=>{let c=n,u=e,d=0;o.subscribe(se(s,f=>{let g=d++;u=c?t(u,f,g):(c=!0,f),r&&s.next(u)},i&&(()=>{c&&s.next(u),s.complete()})))}}function Xi(t,e){return K(e)?Ve(t,e,1):Ve(t,1)}function sr(t){return le((e,n)=>{let r=!1;e.subscribe(se(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function bn(t){return t<=0?()=>Dt:le((e,n)=>{let r=0;e.subscribe(se(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function $h(t){return re(()=>t)}function au(t=CA){return le((e,n)=>{let r=!1;e.subscribe(se(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function CA(){return new Cn}function Ls(t){return le((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function en(t,e){let n=arguments.length>=2;return r=>r.pipe(t?qt((i,o)=>t(i,o,r)):Et,bn(1),n?sr(e):au(()=>new Cn))}function eo(t){return t<=0?()=>Dt:le((e,n)=>{let r=[];e.subscribe(se(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Hh(t,e){let n=arguments.length>=2;return r=>r.pipe(t?qt((i,o)=>t(i,o,r)):Et,eo(1),n?sr(e):au(()=>new Cn))}function qh(t,e){return le(TI(t,e,arguments.length>=2,!0))}function zh(...t){let e=nr(t);return le((n,r)=>{(e?Ji(t,n,e):Ji(t,n)).subscribe(r)})}function zt(t,e){return le((n,r)=>{let i=null,o=0,s=!1,c=()=>s&&!i&&r.complete();n.subscribe(se(r,u=>{i?.unsubscribe();let d=0,f=o++;Ne(t(u,f)).subscribe(i=se(r,g=>r.next(e?e(u,g,f,d++):g),()=>{i=null,c()}))},()=>{s=!0,c()}))})}function Gh(t){return le((e,n)=>{Ne(t).subscribe(se(n,()=>n.complete(),ks)),!n.closed&&e.subscribe(n)})}function je(t,e,n){let r=K(t)||e||n?{next:t,error:e,complete:n}:t;return r?le((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let c=!0;i.subscribe(se(o,u=>{var d;(d=r.next)===null||d===void 0||d.call(r,u),o.next(u)},()=>{var u;c=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var d;c=!1,(d=r.error)===null||d===void 0||d.call(r,u),o.error(u)},()=>{var u,d;c&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(d=r.finalize)===null||d===void 0||d.call(r)}))}):Et}var fw="https://g.co/ng/security#xss",V=class extends Error{constructor(e,n){super(np(e,n)),this.code=e}};function np(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function Ks(t){return{toString:t}.toString()}var cu="__parameters__";function bA(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function pw(t,e,n){return Ks(()=>{let r=bA(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return c.annotation=s,c;function c(u,d,f){let g=u.hasOwnProperty(cu)?u[cu]:Object.defineProperty(u,cu,{value:[]})[cu];for(;g.length<=f;)g.push(null);return(g[f]=g[f]||[]).push(s),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var af=globalThis;function we(t){for(let e in t)if(t[e]===we)return e;throw Error("Could not find renamed property on target object.")}function TA(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function dt(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(dt).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function SI(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var SA=we({__forward_ref__:we});function ti(t){return t.__forward_ref__=ti,t.toString=function(){return dt(this())},t}function lt(t){return gw(t)?t():t}function gw(t){return typeof t=="function"&&t.hasOwnProperty(SA)&&t.__forward_ref__===ti}function q(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function ni(t){return{providers:t.providers||[],imports:t.imports||[]}}function $u(t){return AI(t,yw)||AI(t,vw)}function mw(t){return $u(t)!==null}function AI(t,e){return t.hasOwnProperty(e)?t[e]:null}function AA(t){let e=t&&(t[yw]||t[vw]);return e||null}function RI(t){return t&&(t.hasOwnProperty(MI)||t.hasOwnProperty(RA))?t[MI]:null}var yw=we({\u0275prov:we}),MI=we({\u0275inj:we}),vw=we({ngInjectableDef:we}),RA=we({ngInjectorDef:we}),j=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=q({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function _w(t){return t&&!!t.\u0275providers}var MA=we({\u0275cmp:we}),NA=we({\u0275dir:we}),xA=we({\u0275pipe:we}),PA=we({\u0275mod:we}),_u=we({\u0275fac:we}),Us=we({__NG_ELEMENT_ID__:we}),NI=we({__NG_ENV_ID__:we});function Hu(t){return typeof t=="string"?t:t==null?"":String(t)}function OA(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Hu(t)}function kA(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new V(-200,t)}function rp(t,e){throw new V(-201,!1)}var ee=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(ee||{}),cf;function Iw(){return cf}function Nt(t){let e=cf;return cf=t,e}function ww(t,e,n){let r=$u(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&ee.Optional)return null;if(e!==void 0)return e;rp(t,"Injector")}var FA={},Bs=FA,uf="__NG_DI_FLAG__",Iu="ngTempTokenPath",LA="ngTokenPath",VA=/\n/gm,jA="\u0275",xI="__source",io;function UA(){return io}function ar(t){let e=io;return io=t,e}function BA(t,e=ee.Default){if(io===void 0)throw new V(-203,!1);return io===null?ww(t,void 0,e):io.get(t,e&ee.Optional?null:void 0,e)}function te(t,e=ee.Default){return(Iw()||BA)(lt(t),e)}function k(t,e=ee.Default){return te(t,qu(e))}function qu(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function lf(t){let e=[];for(let n=0;n<t.length;n++){let r=lt(t[n]);if(Array.isArray(r)){if(r.length===0)throw new V(900,!1);let i,o=ee.Default;for(let s=0;s<r.length;s++){let c=r[s],u=$A(c);typeof u=="number"?u===-1?i=c.token:o|=u:i=c}e.push(te(i,o))}else e.push(te(r))}return e}function Ew(t,e){return t[uf]=e,t.prototype[uf]=e,t}function $A(t){return t[uf]}function HA(t,e,n,r){let i=t[Iu];throw e[xI]&&i.unshift(e[xI]),t.message=qA(`
`+t.message,i,n,r),t[LA]=i,t[Iu]=null,t}function qA(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==jA?t.slice(2):t;let i=dt(e);if(Array.isArray(e))i=e.map(dt).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let c=e[s];o.push(s+":"+(typeof c=="string"?JSON.stringify(c):dt(c)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(VA,`
  `)}`}var ht=Ew(pw("Optional"),8);var Dw=Ew(pw("SkipSelf"),4);function so(t,e){let n=t.hasOwnProperty(_u);return n?t[_u]:null}function zA(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],o=e[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}function GA(t){return t.flat(Number.POSITIVE_INFINITY)}function ip(t,e){t.forEach(n=>Array.isArray(n)?ip(n,e):e(n))}function Cw(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function wu(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function WA(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function KA(t,e,n){let r=Qs(t,e);return r>=0?t[r|1]=n:(r=~r,WA(t,r,e,n)),r}function Wh(t,e){let n=Qs(t,e);if(n>=0)return t[n|1]}function Qs(t,e){return QA(t,e,1)}function QA(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}var ao={},xt=[],co=new j(""),bw=new j("",-1),Tw=new j(""),Eu=class{get(e,n=Bs){if(n===Bs){let r=new Error(`NullInjectorError: No provider for ${dt(e)}!`);throw r.name="NullInjectorError",r}return n}},Sw=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Sw||{}),rn=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(rn||{}),lr=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(lr||{});function YA(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function df(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],c=n[r++];t.setAttribute(e,s,c,o)}else{let o=i,s=n[++r];ZA(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function Aw(t){return t===3||t===4||t===6}function ZA(t){return t.charCodeAt(0)===64}function $s(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?PI(t,n,i,null,e[++r]):PI(t,n,i,null,null))}}return t}function PI(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let c=t[o++];if(typeof c=="number"){if(c===e){s=-1;break}else if(c>e){s=o-1;break}}}for(;o<t.length;){let c=t[o];if(typeof c=="number")break;if(c===n){if(r===null){i!==null&&(t[o+1]=i);return}else if(r===t[o+1]){t[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),r!==null&&t.splice(o++,0,r),i!==null&&t.splice(o++,0,i)}var Rw="ng-template";function JA(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&YA(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(op(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function op(t){return t.type===4&&t.value!==Rw}function XA(t,e,n){let r=t.type===4&&!n?Rw:t.value;return e===r}function eR(t,e,n){let r=4,i=t.attrs,o=i!==null?rR(i):0,s=!1;for(let c=0;c<e.length;c++){let u=e[c];if(typeof u=="number"){if(!s&&!Gt(r)&&!Gt(u))return!1;if(s&&Gt(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!XA(t,u,n)||u===""&&e.length===1){if(Gt(r))return!1;s=!0}}else if(r&8){if(i===null||!JA(t,i,u,n)){if(Gt(r))return!1;s=!0}}else{let d=e[++c],f=tR(u,i,op(t),n);if(f===-1){if(Gt(r))return!1;s=!0;continue}if(d!==""){let g;if(f>o?g="":g=i[f+1].toLowerCase(),r&2&&d!==g){if(Gt(r))return!1;s=!0}}}}return Gt(r)||s}function Gt(t){return(t&1)===0}function tR(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let c=e[++i];for(;typeof c=="string";)c=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return iR(e,t)}function nR(t,e,n=!1){for(let r=0;r<e.length;r++)if(eR(t,e[r],n))return!0;return!1}function rR(t){for(let e=0;e<t.length;e++){let n=t[e];if(Aw(n))return e}return t.length}function iR(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function OI(t,e){return t?":not("+e.trim()+")":e}function oR(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let c=t[++n];i+="["+s+(c.length>0?'="'+c+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Gt(s)&&(e+=OI(o,i),i=""),r=s,o=o||!Gt(r);n++}return i!==""&&(e+=OI(o,i)),e}function sR(t){return t.map(oR).join(",")}function aR(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!Gt(i))break;i=o}r++}return{attrs:e,classes:n}}function _t(t){return Ks(()=>{let e=Ow(t),n=oe(O({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Sw.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||rn.Emulated,styles:t.styles||xt,_:null,schemas:t.schemas||null,tView:null,id:""});kw(n);let r=t.dependencies;return n.directiveDefs=FI(r,!1),n.pipeDefs=FI(r,!0),n.id=lR(n),n})}function cR(t){return qr(t)||Mw(t)}function uR(t){return t!==null}function ri(t){return Ks(()=>({type:t.type,bootstrap:t.bootstrap||xt,declarations:t.declarations||xt,imports:t.imports||xt,exports:t.exports||xt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function kI(t,e){if(t==null)return ao;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,c=lr.None;Array.isArray(i)?(c=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(n[o]=c!==lr.None?[r,c]:r,e[o]=s):n[o]=r}return n}function qe(t){return Ks(()=>{let e=Ow(t);return kw(e),e})}function qr(t){return t[MA]||null}function Mw(t){return t[NA]||null}function Nw(t){return t[xA]||null}function xw(t){let e=qr(t)||Mw(t)||Nw(t);return e!==null?e.standalone:!1}function Pw(t,e){let n=t[PA]||null;if(!n&&e===!0)throw new Error(`Type ${dt(t)} does not have '\u0275mod' property.`);return n}function Ow(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||ao,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||xt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:kI(t.inputs,e),outputs:kI(t.outputs),debugInfo:null}}function kw(t){t.features?.forEach(e=>e(t))}function FI(t,e){if(!t)return null;let n=e?Nw:cR;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(uR)}function lR(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function cn(t){return{\u0275providers:t}}function dR(...t){return{\u0275providers:Fw(!0,t),\u0275fromNgModule:!0}}function Fw(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return ip(e,s=>{let c=s;hf(c,o,[],r)&&(i||=[],i.push(c))}),i!==void 0&&Lw(i,o),n}function Lw(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];sp(i,o=>{e(o,r)})}}function hf(t,e,n,r){if(t=lt(t),!t)return!1;let i=null,o=RI(t),s=!o&&qr(t);if(!o&&!s){let u=t.ngModule;if(o=RI(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=t}let c=r.has(i);if(s){if(c)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let d of u)hf(d,e,n,r)}}else if(o){if(o.imports!=null&&!c){r.add(i);let d;try{ip(o.imports,f=>{hf(f,e,n,r)&&(d||=[],d.push(f))})}finally{}d!==void 0&&Lw(d,e)}if(!c){let d=so(i)||(()=>new i);e({provide:i,useFactory:d,deps:xt},i),e({provide:Tw,useValue:i,multi:!0},i),e({provide:co,useValue:()=>te(i),multi:!0},i)}let u=o.providers;if(u!=null&&!c){let d=t;sp(u,f=>{e(f,d)})}}else return!1;return i!==t&&t.providers!==void 0}function sp(t,e){for(let n of t)_w(n)&&(n=n.\u0275providers),Array.isArray(n)?sp(n,e):e(n)}var hR=we({provide:String,useValue:we});function Vw(t){return t!==null&&typeof t=="object"&&hR in t}function fR(t){return!!(t&&t.useExisting)}function pR(t){return!!(t&&t.useFactory)}function uo(t){return typeof t=="function"}function gR(t){return!!t.useClass}var zu=new j(""),fu={},mR={},Kh;function ap(){return Kh===void 0&&(Kh=new Eu),Kh}var Ot=class{},Hs=class extends Ot{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,pf(e,s=>this.processProvider(s)),this.records.set(bw,to(void 0,this)),i.has("environment")&&this.records.set(Ot,to(void 0,this));let o=this.records.get(zu);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Tw,xt,ee.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=fe(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),fe(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=ar(this),r=Nt(void 0),i;try{return e()}finally{ar(n),Nt(r)}}get(e,n=Bs,r=ee.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(NI))return e[NI](this);r=qu(r);let i,o=ar(this),s=Nt(void 0);try{if(!(r&ee.SkipSelf)){let u=this.records.get(e);if(u===void 0){let d=wR(e)&&$u(e);d&&this.injectableDefInScope(d)?u=to(ff(e),fu):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let c=r&ee.Self?ap():this.parent;return n=r&ee.Optional&&n===Bs?null:n,c.get(e,n)}catch(c){if(c.name==="NullInjectorError"){if((c[Iu]=c[Iu]||[]).unshift(dt(e)),o)throw c;return HA(c,e,"R3InjectorError",this.source)}else throw c}finally{Nt(s),ar(o)}}resolveInjectorInitializers(){let e=fe(null),n=ar(this),r=Nt(void 0),i;try{let o=this.get(co,xt,ee.Self);for(let s of o)s()}finally{ar(n),Nt(r),fe(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(dt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new V(205,!1)}processProvider(e){e=lt(e);let n=uo(e)?e:lt(e&&e.provide),r=vR(e);if(!uo(e)&&e.multi===!0){let i=this.records.get(n);i||(i=to(void 0,fu,!0),i.factory=()=>lf(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=fe(null);try{return n.value===fu&&(n.value=mR,n.value=n.factory()),typeof n.value=="object"&&n.value&&IR(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{fe(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=lt(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function ff(t){let e=$u(t),n=e!==null?e.factory:so(t);if(n!==null)return n;if(t instanceof j)throw new V(204,!1);if(t instanceof Function)return yR(t);throw new V(204,!1)}function yR(t){if(t.length>0)throw new V(204,!1);let n=AA(t);return n!==null?()=>n.factory(t):()=>new t}function vR(t){if(Vw(t))return to(void 0,t.useValue);{let e=jw(t);return to(e,fu)}}function jw(t,e,n){let r;if(uo(t)){let i=lt(t);return so(i)||ff(i)}else if(Vw(t))r=()=>lt(t.useValue);else if(pR(t))r=()=>t.useFactory(...lf(t.deps||[]));else if(fR(t))r=()=>te(lt(t.useExisting));else{let i=lt(t&&(t.useClass||t.provide));if(_R(t))r=()=>new i(...lf(t.deps));else return so(i)||ff(i)}return r}function to(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function _R(t){return!!t.deps}function IR(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function wR(t){return typeof t=="function"||typeof t=="object"&&t instanceof j}function pf(t,e){for(let n of t)Array.isArray(n)?pf(n,e):n&&_w(n)?pf(n.\u0275providers,e):e(n)}function Mn(t,e){t instanceof Hs&&t.assertNotDestroyed();let n,r=ar(t),i=Nt(void 0);try{return e()}finally{ar(r),Nt(i)}}function ER(){return Iw()!==void 0||UA()!=null}function DR(t){return typeof t=="function"}var Nn=0,X=1,G=2,it=3,Wt=4,Qt=5,Du=6,Cu=7,Kt=8,lo=9,on=10,Ue=11,qs=12,LI=13,yo=14,sn=15,zr=16,no=17,Tn=18,Gu=19,Uw=20,cr=21,Qh=22,Pt=23,dr=25,Bw=1;var Gr=7,bu=8,ho=9,Ct=10,Tu=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Tu||{});function ur(t){return Array.isArray(t)&&typeof t[Bw]=="object"}function xn(t){return Array.isArray(t)&&t[Bw]===!0}function $w(t){return(t.flags&4)!==0}function Wu(t){return t.componentOffset>-1}function cp(t){return(t.flags&1)===1}function hr(t){return!!t.template}function gf(t){return(t[G]&512)!==0}var mf=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function Hw(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function Pn(){return qw}function qw(t){return t.type.prototype.ngOnChanges&&(t.setInput=bR),CR}Pn.ngInherit=!0;function CR(){let t=Gw(this),e=t?.current;if(e){let n=t.previous;if(n===ao)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function bR(t,e,n,r,i){let o=this.declaredInputs[r],s=Gw(t)||TR(t,{previous:ao,current:null}),c=s.current||(s.current={}),u=s.previous,d=u[o];c[o]=new mf(d&&d.currentValue,n,u===ao),Hw(t,e,i,n)}var zw="__ngSimpleChanges__";function Gw(t){return t[zw]||null}function TR(t,e){return t[zw]=e}var VI=null;var tn=function(t,e,n){VI?.(t,e,n)},SR="svg",AR="math";function an(t){for(;Array.isArray(t);)t=t[Nn];return t}function Ww(t,e){return an(e[t])}function kt(t,e){return an(e[t.index])}function Kw(t,e){return t.data[e]}function pr(t,e){let n=e[t];return ur(n)?n:n[Nn]}function RR(t){return(t[G]&4)===4}function up(t){return(t[G]&128)===128}function MR(t){return xn(t[it])}function Su(t,e){return e==null?null:t[e]}function Qw(t){t[no]=0}function Yw(t){t[G]&1024||(t[G]|=1024,up(t)&&Qu(t))}function NR(t,e){for(;t>0;)e=e[yo],t--;return e}function Ku(t){return!!(t[G]&9216||t[Pt]?.dirty)}function yf(t){t[on].changeDetectionScheduler?.notify(8),t[G]&64&&(t[G]|=1024),Ku(t)&&Qu(t)}function Qu(t){t[on].changeDetectionScheduler?.notify(0);let e=Wr(t);for(;e!==null&&!(e[G]&8192||(e[G]|=8192,!up(e)));)e=Wr(e)}function Zw(t,e){if((t[G]&256)===256)throw new V(911,!1);t[cr]===null&&(t[cr]=[]),t[cr].push(e)}function xR(t,e){if(t[cr]===null)return;let n=t[cr].indexOf(e);n!==-1&&t[cr].splice(n,1)}function Wr(t){let e=t[it];return xn(e)?e[it]:e}var ie={lFrame:sE(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Jw=!1;function PR(){return ie.lFrame.elementDepthCount}function OR(){ie.lFrame.elementDepthCount++}function kR(){ie.lFrame.elementDepthCount--}function Xw(){return ie.bindingsEnabled}function FR(){return ie.skipHydrationRootTNode!==null}function LR(t){return ie.skipHydrationRootTNode===t}function VR(){ie.skipHydrationRootTNode=null}function _e(){return ie.lFrame.lView}function ft(){return ie.lFrame.tView}function ii(t){return ie.lFrame.contextLView=t,t[Kt]}function oi(t){return ie.lFrame.contextLView=null,t}function ot(){let t=eE();for(;t!==null&&t.type===64;)t=t.parent;return t}function eE(){return ie.lFrame.currentTNode}function jR(){let t=ie.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Ys(t,e){let n=ie.lFrame;n.currentTNode=t,n.isParent=e}function tE(){return ie.lFrame.isParent}function UR(){ie.lFrame.isParent=!1}function nE(){return Jw}function jI(t){Jw=t}function BR(t){return ie.lFrame.bindingIndex=t}function Yu(){return ie.lFrame.bindingIndex++}function $R(t){let e=ie.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function HR(){return ie.lFrame.inI18n}function qR(t,e){let n=ie.lFrame;n.bindingIndex=n.bindingRootIndex=t,vf(e)}function zR(){return ie.lFrame.currentDirectiveIndex}function vf(t){ie.lFrame.currentDirectiveIndex=t}function GR(t){let e=ie.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function rE(){return ie.lFrame.currentQueryIndex}function lp(t){ie.lFrame.currentQueryIndex=t}function WR(t){let e=t[X];return e.type===2?e.declTNode:e.type===1?t[Qt]:null}function iE(t,e,n){if(n&ee.SkipSelf){let i=e,o=t;for(;i=i.parent,i===null&&!(n&ee.Host);)if(i=WR(o),i===null||(o=o[yo],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=ie.lFrame=oE();return r.currentTNode=e,r.lView=t,!0}function dp(t){let e=oE(),n=t[X];ie.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function oE(){let t=ie.lFrame,e=t===null?null:t.child;return e===null?sE(t):e}function sE(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function aE(){let t=ie.lFrame;return ie.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var cE=aE;function hp(){let t=aE();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function KR(t){return(ie.lFrame.contextLView=NR(t,ie.lFrame.contextLView))[Kt]}function vo(){return ie.lFrame.selectedIndex}function Kr(t){ie.lFrame.selectedIndex=t}function fp(){let t=ie.lFrame;return Kw(t.tView,t.selectedIndex)}function QR(){return ie.lFrame.currentNamespace}var uE=!0;function pp(){return uE}function gp(t){uE=t}function YR(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=qw(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function mp(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:c,ngAfterViewInit:u,ngAfterViewChecked:d,ngOnDestroy:f}=o;s&&(t.contentHooks??=[]).push(-n,s),c&&((t.contentHooks??=[]).push(n,c),(t.contentCheckHooks??=[]).push(n,c)),u&&(t.viewHooks??=[]).push(-n,u),d&&((t.viewHooks??=[]).push(n,d),(t.viewCheckHooks??=[]).push(n,d)),f!=null&&(t.destroyHooks??=[]).push(n,f)}}function pu(t,e,n){lE(t,e,3,n)}function gu(t,e,n,r){(t[G]&3)===n&&lE(t,e,n,r)}function Yh(t,e){let n=t[G];(n&3)===e&&(n&=16383,n+=1,t[G]=n)}function lE(t,e,n,r){let i=r!==void 0?t[no]&65535:0,o=r??-1,s=e.length-1,c=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(c=e[u],r!=null&&c>=r)break}else e[u]<0&&(t[no]+=65536),(c<o||o==-1)&&(ZR(t,n,e,u),t[no]=(t[no]&4294901760)+u+2),u++}function UI(t,e){tn(4,t,e);let n=fe(null);try{e.call(t)}finally{fe(n),tn(5,t,e)}}function ZR(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],c=t[s];i?t[G]>>14<t[no]>>16&&(t[G]&3)===e&&(t[G]+=16384,UI(c,o)):UI(c,o)}var oo=-1,Qr=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function JR(t){return t instanceof Qr}function XR(t){return(t.flags&8)!==0}function eM(t){return(t.flags&16)!==0}var Zh={},_f=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=qu(r);let i=this.injector.get(e,Zh,r);return i!==Zh||n===Zh?i:this.parentInjector.get(e,n,r)}};function dE(t){return t!==oo}function Au(t){return t&32767}function tM(t){return t>>16}function Ru(t,e){let n=tM(t),r=e;for(;n>0;)r=r[yo],n--;return r}var If=!0;function BI(t){let e=If;return If=t,e}var nM=256,hE=nM-1,fE=5,rM=0,nn={};function iM(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Us)&&(r=n[Us]),r==null&&(r=n[Us]=rM++);let i=r&hE,o=1<<i;e.data[t+(i>>fE)]|=o}function Mu(t,e){let n=pE(t,e);if(n!==-1)return n;let r=e[X];r.firstCreatePass&&(t.injectorIndex=e.length,Jh(r.data,t),Jh(e,null),Jh(r.blueprint,null));let i=yp(t,e),o=t.injectorIndex;if(dE(i)){let s=Au(i),c=Ru(i,e),u=c[X].data;for(let d=0;d<8;d++)e[o+d]=c[s+d]|u[s+d]}return e[o+8]=i,o}function Jh(t,e){t.push(0,0,0,0,0,0,0,0,e)}function pE(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function yp(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=_E(i),r===null)return oo;if(n++,i=i[yo],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return oo}function wf(t,e,n){iM(t,e,n)}function oM(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let o=n[i];if(Aw(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(o===e)return n[i+1];i=i+2}}}return null}function gE(t,e,n){if(n&ee.Optional||t!==void 0)return t;rp(e,"NodeInjector")}function mE(t,e,n,r){if(n&ee.Optional&&r===void 0&&(r=null),!(n&(ee.Self|ee.Host))){let i=t[lo],o=Nt(void 0);try{return i?i.get(e,r,n&ee.Optional):ww(e,r,n&ee.Optional)}finally{Nt(o)}}return gE(r,e,n)}function yE(t,e,n,r=ee.Default,i){if(t!==null){if(e[G]&2048&&!(r&ee.Self)){let s=uM(t,e,n,r,nn);if(s!==nn)return s}let o=vE(t,e,n,r,nn);if(o!==nn)return o}return mE(e,n,r,i)}function vE(t,e,n,r,i){let o=aM(n);if(typeof o=="function"){if(!iE(e,t,r))return r&ee.Host?gE(i,n,r):mE(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&ee.Optional))rp(n);else return s}finally{cE()}}else if(typeof o=="number"){let s=null,c=pE(t,e),u=oo,d=r&ee.Host?e[sn][Qt]:null;for((c===-1||r&ee.SkipSelf)&&(u=c===-1?yp(t,e):e[c+8],u===oo||!HI(r,!1)?c=-1:(s=e[X],c=Au(u),e=Ru(u,e)));c!==-1;){let f=e[X];if($I(o,c,f.data)){let g=sM(c,e,n,s,r,d);if(g!==nn)return g}u=e[c+8],u!==oo&&HI(r,e[X].data[c+8]===d)&&$I(o,c,e)?(s=f,c=Au(u),e=Ru(u,e)):c=-1}}return i}function sM(t,e,n,r,i,o){let s=e[X],c=s.data[t+8],u=r==null?Wu(c)&&If:r!=s&&(c.type&3)!==0,d=i&ee.Host&&o===c,f=mu(c,s,n,u,d);return f!==null?Yr(e,s,f,c):nn}function mu(t,e,n,r,i){let o=t.providerIndexes,s=e.data,c=o&1048575,u=t.directiveStart,d=t.directiveEnd,f=o>>20,g=r?c:c+f,_=i?c+f:d;for(let E=g;E<_;E++){let A=s[E];if(E<u&&n===A||E>=u&&A.type===n)return E}if(i){let E=s[u];if(E&&hr(E)&&E.type===n)return u}return null}function Yr(t,e,n,r){let i=t[n],o=e.data;if(JR(i)){let s=i;s.resolving&&kA(OA(o[n]));let c=BI(s.canSeeViewProviders);s.resolving=!0;let u,d=s.injectImpl?Nt(s.injectImpl):null,f=iE(t,r,ee.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&YR(n,o[n],e)}finally{d!==null&&Nt(d),BI(c),s.resolving=!1,cE()}}return i}function aM(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Us)?t[Us]:void 0;return typeof e=="number"?e>=0?e&hE:cM:e}function $I(t,e,n){let r=1<<t;return!!(n[e+(t>>fE)]&r)}function HI(t,e){return!(t&ee.Self)&&!(t&ee.Host&&e)}var Hr=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return yE(this._tNode,this._lView,e,qu(r),n)}};function cM(){return new Hr(ot(),_e())}function _o(t){return Ks(()=>{let e=t.prototype.constructor,n=e[_u]||Ef(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[_u]||Ef(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Ef(t){return gw(t)?()=>{let e=Ef(lt(t));return e&&e()}:so(t)}function uM(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[G]&2048&&!(s[G]&512);){let c=vE(o,s,n,r|ee.Self,nn);if(c!==nn)return c;let u=o.parent;if(!u){let d=s[Uw];if(d){let f=d.get(n,nn,r);if(f!==nn)return f}u=_E(s),s=s[yo]}o=u}return i}function _E(t){let e=t[X],n=e.type;return n===2?e.declTNode:n===1?t[Qt]:null}function vp(t){return oM(ot(),t)}function qI(t,e=null,n=null,r){let i=IE(t,e,n,r);return i.resolveInjectorInitializers(),i}function IE(t,e=null,n=null,r,i=new Set){let o=[n||xt,dR(t)];return r=r||(typeof t=="object"?void 0:dt(t)),new Hs(o,e||ap(),r||null,i)}var vt=class t{static{this.THROW_IF_NOT_FOUND=Bs}static{this.NULL=new Eu}static create(e,n){if(Array.isArray(e))return qI({name:""},n,e,"");{let r=e.name??"";return qI({name:r},e.parent,e.providers,r)}}static{this.\u0275prov=q({token:t,providedIn:"any",factory:()=>te(bw)})}static{this.__NG_ELEMENT_ID__=-1}};var lM=new j("");lM.__NG_ELEMENT_ID__=t=>{let e=ot();if(e===null)throw new V(204,!1);if(e.type&2)return e.value;if(t&ee.Optional)return null;throw new V(204,!1)};var dM="ngOriginalError";function Xh(t){return t[dM]}var wE=!0,EE=(()=>{class t{static{this.__NG_ELEMENT_ID__=hM}static{this.__NG_ENV_ID__=n=>n}}return t})(),Df=class extends EE{constructor(e){super(),this._lView=e}onDestroy(e){return Zw(this._lView,e),()=>xR(this._lView,e)}};function hM(){return new Df(_e())}var Io=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Ze(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=q({token:t,providedIn:"root",factory:()=>new t})}}return t})();var Cf=class extends He{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,ER()&&(this.destroyRef=k(EE,{optional:!0})??void 0,this.pendingTasks=k(Io,{optional:!0})??void 0)}emit(e){let n=fe(null);try{super.next(e)}finally{fe(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let c=super.subscribe({next:i,error:o,complete:s});return e instanceof Se&&e.add(c),c}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(n),r!==void 0&&this.pendingTasks?.remove(r)})}}},Re=Cf;function Nu(...t){}function DE(t){let e,n;function r(){t=Nu;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function zI(t){return queueMicrotask(()=>t()),()=>{t=Nu}}var _p="isAngularZone",xu=_p+"_ID",fM=0,ve=class t{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Re(!1),this.onMicrotaskEmpty=new Re(!1),this.onStable=new Re(!1),this.onError=new Re(!1);let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=wE}=e;if(typeof Zone>"u")throw new V(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,mM(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(_p)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new V(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new V(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,pM,Nu,Nu);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},pM={};function Ip(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function gM(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){DE(()=>{t.callbackScheduled=!1,bf(t),t.isCheckStableRunning=!0,Ip(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),bf(t)}function mM(t){let e=()=>{gM(t)},n=fM++;t._inner=t._inner.fork({name:"angular",properties:{[_p]:!0,[xu]:n,[xu+n]:!0},onInvokeTask:(r,i,o,s,c,u)=>{if(yM(u))return r.invokeTask(o,s,c,u);try{return GI(t),r.invokeTask(o,s,c,u)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),WI(t)}},onInvoke:(r,i,o,s,c,u,d)=>{try{return GI(t),r.invoke(o,s,c,u,d)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!vM(u)&&e(),WI(t)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,bf(t),Ip(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function bf(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function GI(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function WI(t){t._nesting--,Ip(t)}var Tf=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Re,this.onMicrotaskEmpty=new Re,this.onStable=new Re,this.onError=new Re}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function yM(t){return CE(t,"__ignore_ng_zone__")}function vM(t){return CE(t,"__scheduler_tick__")}function CE(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var Sn=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Xh(e);for(;n&&Xh(n);)n=Xh(n);return n||null}},_M=new j("",{providedIn:"root",factory:()=>{let t=k(ve),e=k(Sn);return n=>t.runOutsideAngular(()=>e.handleError(n))}});function IM(){return wo(ot(),_e())}function wo(t,e){return new Ft(kt(t,e))}var Ft=(()=>{class t{constructor(n){this.nativeElement=n}static{this.__NG_ELEMENT_ID__=IM}}return t})();function wM(t){return t instanceof Ft?t.nativeElement:t}function EM(){return this._results[Symbol.iterator]()}var Sf=class t{get changes(){return this._changes??=new Re}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let n=t.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=EM)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let r=GA(e);(this._changesDetected=!zA(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function bE(t){return(t.flags&128)===128}var TE=new Map,DM=0;function CM(){return DM++}function bM(t){TE.set(t[Gu],t)}function Af(t){TE.delete(t[Gu])}var KI="__ngContext__";function Zr(t,e){ur(e)?(t[KI]=e[Gu],bM(e)):t[KI]=e}function SE(t){return RE(t[qs])}function AE(t){return RE(t[Wt])}function RE(t){for(;t!==null&&!xn(t);)t=t[Wt];return t}var Rf;function ME(t){Rf=t}function TM(){if(Rf!==void 0)return Rf;if(typeof document<"u")return document;throw new V(210,!1)}var wp=new j("",{providedIn:"root",factory:()=>SM}),SM="ng",Ep=new j(""),gr=new j("",{providedIn:"platform",factory:()=>"unknown"});var Dp=new j("",{providedIn:"root",factory:()=>TM().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var AM="h",RM="b";var MM=()=>null;function Cp(t,e,n=!1){return MM(t,e,n)}var NE=!1,NM=new j("",{providedIn:"root",factory:()=>NE});var uu;function xM(){if(uu===void 0&&(uu=null,af.trustedTypes))try{uu=af.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return uu}function QI(t){return xM()?.createScriptURL(t)||t}var Pu=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${fw})`}};function Zs(t){return t instanceof Pu?t.changingThisBreaksApplicationSecurity:t}function bp(t,e){let n=PM(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${fw})`)}return n===e}function PM(t){return t instanceof Pu&&t.getTypeName()||null}var OM=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function xE(t){return t=String(t),t.match(OM)?t:"unsafe:"+t}var Zu=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Zu||{});function kM(t){let e=OE();return e?e.sanitize(Zu.URL,t)||"":bp(t,"URL")?Zs(t):xE(Hu(t))}function FM(t){let e=OE();if(e)return QI(e.sanitize(Zu.RESOURCE_URL,t)||"");if(bp(t,"ResourceURL"))return QI(Zs(t));throw new V(904,!1)}function LM(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?FM:kM}function PE(t,e,n){return LM(e,n)(t)}function OE(){let t=_e();return t&&t[on].sanitizer}function kE(t){return t instanceof Function?t():t}var An=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(An||{}),VM;function Tp(t,e){return VM(t,e)}function ro(t,e,n,r,i){if(r!=null){let o,s=!1;xn(r)?o=r:ur(r)&&(s=!0,r=r[Nn]);let c=an(r);t===0&&n!==null?i==null?UE(e,n,c):Ou(e,n,c,i||null,!0):t===1&&n!==null?Ou(e,n,c,i||null,!0):t===2?XM(e,c,s):t===3&&e.destroyNode(c),o!=null&&tN(e,t,o,n,i)}}function jM(t,e){return t.createText(e)}function UM(t,e,n){t.setValue(e,n)}function FE(t,e,n){return t.createElement(e,n)}function BM(t,e){LE(t,e),e[Nn]=null,e[Qt]=null}function $M(t,e,n,r,i,o){r[Nn]=i,r[Qt]=e,Ju(t,r,n,1,i,o)}function LE(t,e){e[on].changeDetectionScheduler?.notify(9),Ju(t,e,e[Ue],2,null,null)}function HM(t){let e=t[qs];if(!e)return ef(t[X],t);for(;e;){let n=null;if(ur(e))n=e[qs];else{let r=e[Ct];r&&(n=r)}if(!n){for(;e&&!e[Wt]&&e!==t;)ur(e)&&ef(e[X],e),e=e[it];e===null&&(e=t),ur(e)&&ef(e[X],e),n=e&&e[Wt]}e=n}}function qM(t,e,n,r){let i=Ct+r,o=n.length;r>0&&(n[i-1][Wt]=e),r<o-Ct?(e[Wt]=n[i],Cw(n,Ct+r,e)):(n.push(e),e[Wt]=null),e[it]=n;let s=e[zr];s!==null&&n!==s&&VE(s,e);let c=e[Tn];c!==null&&c.insertView(t),yf(e),e[G]|=128}function VE(t,e){let n=t[ho],r=e[it];if(ur(r))t[G]|=Tu.HasTransplantedViews;else{let i=r[it][sn];e[sn]!==i&&(t[G]|=Tu.HasTransplantedViews)}n===null?t[ho]=[e]:n.push(e)}function Sp(t,e){let n=t[ho],r=n.indexOf(e);n.splice(r,1)}function Mf(t,e){if(t.length<=Ct)return;let n=Ct+e,r=t[n];if(r){let i=r[zr];i!==null&&i!==t&&Sp(i,r),e>0&&(t[n-1][Wt]=r[Wt]);let o=wu(t,Ct+e);BM(r[X],r);let s=o[Tn];s!==null&&s.detachView(o[X]),r[it]=null,r[Wt]=null,r[G]&=-129}return r}function jE(t,e){if(!(e[G]&256)){let n=e[Ue];n.destroyNode&&Ju(t,e,n,3,null,null),HM(e)}}function ef(t,e){if(e[G]&256)return;let n=fe(null);try{e[G]&=-129,e[G]|=256,e[Pt]&&bh(e[Pt]),GM(t,e),zM(t,e),e[X].type===1&&e[Ue].destroy();let r=e[zr];if(r!==null&&xn(e[it])){r!==e[it]&&Sp(r,e);let i=e[Tn];i!==null&&i.detachView(t)}Af(e)}finally{fe(n)}}function zM(t,e){let n=t.cleanup,r=e[Cu];if(n!==null)for(let o=0;o<n.length-1;o+=2)if(typeof n[o]=="string"){let s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[n[o+1]];n[o].call(s)}r!==null&&(e[Cu]=null);let i=e[cr];if(i!==null){e[cr]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function GM(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof Qr)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let c=i[o[s]],u=o[s+1];tn(4,c,u);try{u.call(c)}finally{tn(5,c,u)}}else{tn(4,i,o);try{o.call(i)}finally{tn(5,i,o)}}}}}function WM(t,e,n){return KM(t,e.parent,n)}function KM(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[Nn];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=t.data[r.directiveStart+i];if(o===rn.None||o===rn.Emulated)return null}return kt(r,n)}}function Ou(t,e,n,r,i){t.insertBefore(e,n,r,i)}function UE(t,e,n){t.appendChild(e,n)}function YI(t,e,n,r,i){r!==null?Ou(t,e,n,r,i):UE(t,e,n)}function BE(t,e){return t.parentNode(e)}function QM(t,e){return t.nextSibling(e)}function YM(t,e,n){return JM(t,e,n)}function ZM(t,e,n){return t.type&40?kt(t,n):null}var JM=ZM,ZI;function Ap(t,e,n,r){let i=WM(t,r,e),o=e[Ue],s=r.parent||e[Qt],c=YM(s,r,e);if(i!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)YI(o,i,n[u],c,!1);else YI(o,i,n,c,!1);ZI!==void 0&&ZI(o,r,e,n,i)}function Vs(t,e){if(e!==null){let n=e.type;if(n&3)return kt(e,t);if(n&4)return Nf(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Vs(t,r);{let i=t[e.index];return xn(i)?Nf(-1,i):an(i)}}else{if(n&128)return Vs(t,e.next);if(n&32)return Tp(e,t)()||an(t[e.index]);{let r=$E(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Wr(t[sn]);return Vs(i,r)}else return Vs(t,e.next)}}}return null}function $E(t,e){if(e!==null){let r=t[sn][Qt],i=e.projection;return r.projection[i]}return null}function Nf(t,e){let n=Ct+t+1;if(n<e.length){let r=e[n],i=r[X].firstChild;if(i!==null)return Vs(r,i)}return e[Gr]}function XM(t,e,n){t.removeChild(null,e,n)}function Rp(t,e,n,r,i,o,s){for(;n!=null;){if(n.type===128){n=n.next;continue}let c=r[n.index],u=n.type;if(s&&e===0&&(c&&Zr(an(c),r),n.flags|=2),(n.flags&32)!==32)if(u&8)Rp(t,e,n.child,r,i,o,!1),ro(e,t,i,c,o);else if(u&32){let d=Tp(n,r),f;for(;f=d();)ro(e,t,i,f,o);ro(e,t,i,c,o)}else u&16?eN(t,e,r,n,i,o):ro(e,t,i,c,o);n=s?n.projectionNext:n.next}}function Ju(t,e,n,r,i,o){Rp(n,r,t.firstChild,e,i,o,!1)}function eN(t,e,n,r,i,o){let s=n[sn],u=s[Qt].projection[r.projection];if(Array.isArray(u))for(let d=0;d<u.length;d++){let f=u[d];ro(e,t,i,f,o)}else{let d=u,f=s[it];bE(r)&&(d.flags|=128),Rp(t,e,d,f,i,o,!0)}}function tN(t,e,n,r,i){let o=n[Gr],s=an(n);o!==s&&ro(e,t,r,o,i);for(let c=Ct;c<n.length;c++){let u=n[c];Ju(u[X],u,t,e,r,o)}}function nN(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:An.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=An.Important),t.setStyle(n,r,i,o))}}function rN(t,e,n){t.setAttribute(e,"style",n)}function HE(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function qE(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&df(t,e,r),i!==null&&HE(t,e,i),o!==null&&rN(t,e,o)}var Eo={};function de(t=1){zE(ft(),_e(),vo()+t,!1)}function zE(t,e,n,r){if(!r)if((e[G]&3)===3){let o=t.preOrderCheckHooks;o!==null&&pu(e,o,n)}else{let o=t.preOrderHooks;o!==null&&gu(e,o,0,n)}Kr(n)}function H(t,e=ee.Default){let n=_e();if(n===null)return te(t,e);let r=ot();return yE(r,n,lt(t),e)}function GE(t,e,n,r,i,o){let s=fe(null);try{let c=null;i&lr.SignalBased&&(c=e[r][Dn]),c!==null&&c.transformFn!==void 0&&(o=c.transformFn(o)),i&lr.HasDecoratorInputTransform&&(o=t.inputTransforms[r].call(e,o)),t.setInput!==null?t.setInput(e,c,o,n,r):Hw(e,c,r,o)}finally{fe(s)}}function iN(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)Kr(~i);else{let o=i,s=n[++r],c=n[++r];qR(s,o);let u=e[o];c(2,u)}}}finally{Kr(-1)}}function Xu(t,e,n,r,i,o,s,c,u,d,f){let g=e.blueprint.slice();return g[Nn]=i,g[G]=r|4|128|8|64,(d!==null||t&&t[G]&2048)&&(g[G]|=2048),Qw(g),g[it]=g[yo]=t,g[Kt]=n,g[on]=s||t&&t[on],g[Ue]=c||t&&t[Ue],g[lo]=u||t&&t[lo]||null,g[Qt]=o,g[Gu]=CM(),g[Du]=f,g[Uw]=d,g[sn]=e.type==2?t[sn]:g,g}function el(t,e,n,r,i){let o=t.data[e];if(o===null)o=oN(t,e,n,r,i),HR()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=jR();o.injectorIndex=s===null?-1:s.injectorIndex}return Ys(o,!0),o}function oN(t,e,n,r,i){let o=eE(),s=tE(),c=s?o:o&&o.parent,u=t.data[e]=dN(t,c,n,e,r,i);return t.firstChild===null&&(t.firstChild=u),o!==null&&(s?o.child==null&&u.parent!==null&&(o.child=u):o.next===null&&(o.next=u,u.prev=o)),u}function WE(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function KE(t,e,n,r,i){let o=vo(),s=r&2;try{Kr(-1),s&&e.length>dr&&zE(t,e,dr,!1),tn(s?2:0,i),n(r,i)}finally{Kr(o),tn(s?3:1,i)}}function QE(t,e,n){if($w(e)){let r=fe(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let c=t.data[s];if(c.contentQueries){let u=n[s];c.contentQueries(1,u,s)}}}finally{fe(r)}}}function YE(t,e,n){Xw()&&(yN(t,e,n,kt(n,e)),(n.flags&64)===64&&nD(t,e,n))}function ZE(t,e,n=kt){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],c=s===-1?n(e,t):t[s];t[i++]=c}}}function JE(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Mp(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Mp(t,e,n,r,i,o,s,c,u,d,f){let g=dr+r,_=g+i,E=sN(g,_),A=typeof d=="function"?d():d;return E[X]={type:t,blueprint:E,template:n,queries:null,viewQuery:c,declTNode:e,data:E.slice().fill(null,g),bindingStartIndex:g,expandoStartIndex:_,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:A,incompleteFirstPass:!1,ssrId:f}}function sN(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:Eo);return n}function aN(t,e,n,r){let o=r.get(NM,NE)||n===rn.ShadowDom,s=t.selectRootElement(e,o);return cN(s),s}function cN(t){uN(t)}var uN=()=>null;function lN(t,e,n,r){let i=oD(e);i.push(n),t.firstCreatePass&&sD(t).push(r,i.length-1)}function dN(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,c=0;return FR()&&(c|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:c,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function JI(t,e,n,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;r??={};let c,u=lr.None;Array.isArray(s)?(c=s[0],u=s[1]):c=s;let d=o;if(i!==null){if(!i.hasOwnProperty(o))continue;d=i[o]}t===0?XI(r,n,d,c,u):XI(r,n,d,c)}return r}function XI(t,e,n,r,i){let o;t.hasOwnProperty(n)?(o=t[n]).push(e,r):o=t[n]=[e,r],i!==void 0&&o.push(i)}function hN(t,e,n){let r=e.directiveStart,i=e.directiveEnd,o=t.data,s=e.attrs,c=[],u=null,d=null;for(let f=r;f<i;f++){let g=o[f],_=n?n.get(g):null,E=_?_.inputs:null,A=_?_.outputs:null;u=JI(0,g.inputs,f,u,E),d=JI(1,g.outputs,f,d,A);let x=u!==null&&s!==null&&!op(e)?AN(u,f,s):null;c.push(x)}u!==null&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=c,e.inputs=u,e.outputs=d}function fN(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function XE(t,e,n,r,i,o,s,c){let u=kt(e,n),d=e.inputs,f;!c&&d!=null&&(f=d[r])?(Np(t,n,f,r,i),Wu(e)&&pN(n,e.index)):e.type&3?(r=fN(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(u,r,i)):e.type&12}function pN(t,e){let n=pr(e,t);n[G]&16||(n[G]|=64)}function eD(t,e,n,r){if(Xw()){let i=r===null?null:{"":-1},o=_N(t,n),s,c;o===null?s=c=null:[s,c]=o,s!==null&&tD(t,e,n,s,i,c),i&&IN(n,r,i)}n.mergedAttrs=$s(n.mergedAttrs,n.attrs)}function tD(t,e,n,r,i,o){for(let d=0;d<r.length;d++)wf(Mu(n,e),t,r[d].type);EN(n,t.data.length,r.length);for(let d=0;d<r.length;d++){let f=r[d];f.providersResolver&&f.providersResolver(f)}let s=!1,c=!1,u=WE(t,e,r.length,null);for(let d=0;d<r.length;d++){let f=r[d];n.mergedAttrs=$s(n.mergedAttrs,f.hostAttrs),DN(t,n,e,u,f),wN(u,f,i),f.contentQueries!==null&&(n.flags|=4),(f.hostBindings!==null||f.hostAttrs!==null||f.hostVars!==0)&&(n.flags|=64);let g=f.type.prototype;!s&&(g.ngOnChanges||g.ngOnInit||g.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!c&&(g.ngOnChanges||g.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),c=!0),u++}hN(t,n,o)}function gN(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let c=~e.index;mN(s)!=c&&s.push(c),s.push(n,r,o)}}function mN(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function yN(t,e,n,r){let i=n.directiveStart,o=n.directiveEnd;Wu(n)&&CN(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||Mu(n,e),Zr(r,e);let s=n.initialInputs;for(let c=i;c<o;c++){let u=t.data[c],d=Yr(e,t,c,n);if(Zr(d,e),s!==null&&SN(e,c-i,d,u,n,s),hr(u)){let f=pr(n.index,e);f[Kt]=Yr(e,t,c,n)}}}function nD(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=zR();try{Kr(o);for(let c=r;c<i;c++){let u=t.data[c],d=e[c];vf(c),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&vN(u,d)}}finally{Kr(-1),vf(s)}}function vN(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function _N(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let o=0;o<n.length;o++){let s=n[o];if(nR(e,s.selectors,!1))if(r||(r=[]),hr(s))if(s.findHostDirectiveDefs!==null){let c=[];i=i||new Map,s.findHostDirectiveDefs(s,c,i),r.unshift(...c,s);let u=c.length;xf(t,e,u)}else r.unshift(s),xf(t,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function xf(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function IN(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new V(-301,!1);r.push(e[i],o)}}}function wN(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;hr(e)&&(n[""]=t)}}function EN(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function DN(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=so(i.type,!0)),s=new Qr(o,hr(i),H);t.blueprint[r]=s,n[r]=s,gN(t,e,r,WE(t,n,i.hostVars,Eo),i)}function CN(t,e,n){let r=kt(e,t),i=JE(n),o=t[on].rendererFactory,s=16;n.signals?s=4096:n.onPush&&(s=64);let c=tl(t,Xu(t,i,null,s,r,e,null,o.createRenderer(r,n),null,null,null));t[e.index]=c}function bN(t,e,n,r,i,o){let s=kt(t,e);TN(e[Ue],s,o,t.value,n,r,i)}function TN(t,e,n,r,i,o,s){if(o==null)t.removeAttribute(e,i,n);else{let c=s==null?Hu(o):s(o,r||"",i);t.setAttribute(e,i,c,n)}}function SN(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let c=0;c<s.length;){let u=s[c++],d=s[c++],f=s[c++],g=s[c++];GE(r,n,u,d,f,g)}}function AN(t,e,n){let r=null,i=0;for(;i<n.length;){let o=n[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(t.hasOwnProperty(o)){r===null&&(r=[]);let s=t[o];for(let c=0;c<s.length;c+=3)if(s[c]===e){r.push(o,s[c+1],s[c+2],n[i+1]);break}}i+=2}return r}function rD(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function iD(t,e){let n=t.contentQueries;if(n!==null){let r=fe(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let c=t.data[s];lp(o),c.contentQueries(2,e[s],s)}}}finally{fe(r)}}}function tl(t,e){return t[qs]?t[LI][Wt]=e:t[qs]=e,t[LI]=e,e}function Pf(t,e,n){lp(0);let r=fe(null);try{e(t,n)}finally{fe(r)}}function oD(t){return t[Cu]??=[]}function sD(t){return t.cleanup??=[]}function aD(t,e){let n=t[lo],r=n?n.get(Sn,null):null;r&&r.handleError(e)}function Np(t,e,n,r,i){for(let o=0;o<n.length;){let s=n[o++],c=n[o++],u=n[o++],d=e[s],f=t.data[s];GE(f,d,r,c,u,i)}}function RN(t,e,n){let r=Ww(e,t);UM(t[Ue],r,n)}function MN(t,e){let n=pr(e,t),r=n[X];NN(r,n);let i=n[Nn];i!==null&&n[Du]===null&&(n[Du]=Cp(i,n[lo])),xp(r,n,n[Kt])}function NN(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function xp(t,e,n){dp(e);try{let r=t.viewQuery;r!==null&&Pf(1,r,n);let i=t.template;i!==null&&KE(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Tn]?.finishViewCreation(t),t.staticContentQueries&&iD(t,e),t.staticViewQueries&&Pf(2,t.viewQuery,n);let o=t.components;o!==null&&xN(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[G]&=-5,hp()}}function xN(t,e){for(let n=0;n<e.length;n++)MN(t,e[n])}function PN(t,e,n,r){let i=fe(null);try{let o=e.tView,c=t[G]&4096?4096:16,u=Xu(t,o,n,c,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),d=t[e.index];u[zr]=d;let f=t[Tn];return f!==null&&(u[Tn]=f.createEmbeddedView(o)),xp(o,u,n),u}finally{fe(i)}}function ew(t,e){return!e||e.firstChild===null||bE(t)}function ON(t,e,n,r=!0){let i=e[X];if(qM(i,e,t,n),r){let s=Nf(n,t),c=e[Ue],u=BE(c,t[Gr]);u!==null&&$M(i,t[Qt],c,e,u,s)}let o=e[Du];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function ku(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=e[n.index];o!==null&&r.push(an(o)),xn(o)&&kN(o,r);let s=n.type;if(s&8)ku(t,e,n.child,r);else if(s&32){let c=Tp(n,e),u;for(;u=c();)r.push(u)}else if(s&16){let c=$E(e,n);if(Array.isArray(c))r.push(...c);else{let u=Wr(e[sn]);ku(u[X],u,c,r,!0)}}n=i?n.projectionNext:n.next}return r}function kN(t,e){for(let n=Ct;n<t.length;n++){let r=t[n],i=r[X].firstChild;i!==null&&ku(r[X],r,i,e)}t[Gr]!==t[Nn]&&e.push(t[Gr])}var cD=[];function FN(t){return t[Pt]??LN(t)}function LN(t){let e=cD.pop()??Object.create(jN);return e.lView=t,e}function VN(t){t.lView[Pt]!==t&&(t.lView=null,cD.push(t))}var jN=oe(O({},Os),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Qu(t.lView)},consumerOnSignalRead(){this.lView[Pt]=this}});function UN(t){let e=t[Pt]??Object.create(BN);return e.lView=t,e}var BN=oe(O({},Os),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{let e=Wr(t.lView);for(;e&&!uD(e[X]);)e=Wr(e);e&&Yw(e)},consumerOnSignalRead(){this.lView[Pt]=this}});function uD(t){return t.type!==2}var $N=100;function lD(t,e=!0,n=0){let r=t[on],i=r.rendererFactory,o=!1;o||i.begin?.();try{HN(t,n)}catch(s){throw e&&aD(t,s),s}finally{o||(i.end?.(),r.inlineEffectRunner?.flush())}}function HN(t,e){let n=nE();try{jI(!0),Of(t,e);let r=0;for(;Ku(t);){if(r===$N)throw new V(103,!1);r++,Of(t,1)}}finally{jI(n)}}function qN(t,e,n,r){let i=e[G];if((i&256)===256)return;let o=!1,s=!1;!o&&e[on].inlineEffectRunner?.flush(),dp(e);let c=!0,u=null,d=null;o||(uD(t)?(d=FN(e),u=Oc(d)):H_()===null?(c=!1,d=UN(e),u=Oc(d)):e[Pt]&&(bh(e[Pt]),e[Pt]=null));try{Qw(e),BR(t.bindingStartIndex),n!==null&&KE(t,e,n,2,r);let f=(i&3)===3;if(!o)if(f){let E=t.preOrderCheckHooks;E!==null&&pu(e,E,null)}else{let E=t.preOrderHooks;E!==null&&gu(e,E,0,null),Yh(e,0)}if(s||zN(e),dD(e,0),t.contentQueries!==null&&iD(t,e),!o)if(f){let E=t.contentCheckHooks;E!==null&&pu(e,E)}else{let E=t.contentHooks;E!==null&&gu(e,E,1),Yh(e,1)}iN(t,e);let g=t.components;g!==null&&fD(e,g,0);let _=t.viewQuery;if(_!==null&&Pf(2,_,r),!o)if(f){let E=t.viewCheckHooks;E!==null&&pu(e,E)}else{let E=t.viewHooks;E!==null&&gu(e,E,2),Yh(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Qh]){for(let E of e[Qh])E();e[Qh]=null}o||(e[G]&=-73)}catch(f){throw o||Qu(e),f}finally{d!==null&&(Dh(d,u),c&&VN(d)),hp()}}function dD(t,e){for(let n=SE(t);n!==null;n=AE(n))for(let r=Ct;r<n.length;r++){let i=n[r];hD(i,e)}}function zN(t){for(let e=SE(t);e!==null;e=AE(e)){if(!(e[G]&Tu.HasTransplantedViews))continue;let n=e[ho];for(let r=0;r<n.length;r++){let i=n[r];Yw(i)}}}function GN(t,e,n){let r=pr(e,t);hD(r,n)}function hD(t,e){up(t)&&Of(t,e)}function Of(t,e){let r=t[X],i=t[G],o=t[Pt],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&Ch(o)),s||=!1,o&&(o.dirty=!1),t[G]&=-9217,s)qN(r,t,r.template,t[Kt]);else if(i&8192){dD(t,1);let c=r.components;c!==null&&fD(t,c,1)}}function fD(t,e,n){for(let r=0;r<e.length;r++)GN(t,e[r],n)}function Pp(t,e){let n=nE()?64:1088;for(t[on].changeDetectionScheduler?.notify(e);t;){t[G]|=n;let r=Wr(t);if(gf(t)&&!r)return t;t=r}return null}var Jr=class{get rootNodes(){let e=this._lView,n=e[X];return ku(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Kt]}set context(e){this._lView[Kt]=e}get destroyed(){return(this._lView[G]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[it];if(xn(e)){let n=e[bu],r=n?n.indexOf(this):-1;r>-1&&(Mf(e,r),wu(n,r))}this._attachedToViewContainer=!1}jE(this._lView[X],this._lView)}onDestroy(e){Zw(this._lView,e)}markForCheck(){Pp(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[G]&=-129}reattach(){yf(this._lView),this._lView[G]|=128}detectChanges(){this._lView[G]|=1024,lD(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new V(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=gf(this._lView),n=this._lView[zr];n!==null&&!e&&Sp(n,this._lView),LE(this._lView[X],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new V(902,!1);this._appRef=e;let n=gf(this._lView),r=this._lView[zr];r!==null&&!n&&VE(r,this._lView),yf(this._lView)}},Xr=(()=>{class t{static{this.__NG_ELEMENT_ID__=QN}}return t})(),WN=Xr,KN=class extends WN{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=PN(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new Jr(i)}};function QN(){return Op(ot(),_e())}function Op(t,e){return t.type&4?new KN(e,t,wo(t,e)):null}var z4=new RegExp(`^(\\d+)*(${RM}|${AM})*(.*)`);var YN=()=>null;function tw(t,e){return YN(t,e)}var fo=class{},kp=new j("",{providedIn:"root",factory:()=>!1});var pD=new j(""),gD=new j(""),kf=class{},Fu=class{};function ZN(t){let e=Error(`No component factory found for ${dt(t)}.`);return e[JN]=t,e}var JN="ngComponent";var Ff=class{resolveComponentFactory(e){throw ZN(e)}},po=class{static{this.NULL=new Ff}},go=class{},mr=(()=>{class t{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>XN()}}return t})();function XN(){let t=_e(),e=ot(),n=pr(e.index,t);return(ur(n)?n:t)[Ue]}var ex=(()=>{class t{static{this.\u0275prov=q({token:t,providedIn:"root",factory:()=>null})}}return t})();function Lf(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let c=e[s];if(typeof c=="number")o=c;else if(o==1)i=SI(i,c);else if(o==2){let u=c,d=e[++s];r=SI(r,u+": "+d+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var Lu=class extends po{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=qr(e);return new zs(n,this.ngModule)}};function nw(t,e){let n=[];for(let r in t){if(!t.hasOwnProperty(r))continue;let i=t[r];if(i===void 0)continue;let o=Array.isArray(i),s=o?i[0]:i,c=o?i[1]:lr.None;e?n.push({propName:s,templateName:r,isSignal:(c&lr.SignalBased)!==0}):n.push({propName:s,templateName:r})}return n}function tx(t){let e=t.toLowerCase();return e==="svg"?SR:e==="math"?AR:null}var zs=class extends Fu{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=nw(e.inputs,!0);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return nw(this.componentDef.outputs,!1)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=sR(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let o=fe(null);try{i=i||this.ngModule;let s=i instanceof Ot?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let c=s?new _f(e,s):e,u=c.get(go,null);if(u===null)throw new V(407,!1);let d=c.get(ex,null),f=c.get(fo,null),g={rendererFactory:u,sanitizer:d,inlineEffectRunner:null,changeDetectionScheduler:f},_=u.createRenderer(null,this.componentDef),E=this.componentDef.selectors[0][0]||"div",A=r?aN(_,r,this.componentDef.encapsulation,c):FE(_,E,tx(E)),x=512;this.componentDef.signals?x|=4096:this.componentDef.onPush||(x|=16);let N=null;A!==null&&(N=Cp(A,c,!0));let F=Mp(0,null,null,1,0,null,null,null,null,null,null),Q=Xu(null,F,null,x,null,null,g,_,c,null,N);dp(Q);let J,me,Qe=null;try{let pe=this.componentDef,D,m=null;pe.findHostDirectiveDefs?(D=[],m=new Map,pe.findHostDirectiveDefs(pe,D,m),D.push(pe)):D=[pe];let y=nx(Q,A);Qe=rx(y,A,pe,D,Q,g,_),me=Kw(F,dr),A&&sx(_,pe,A,r),n!==void 0&&ax(me,this.ngContentSelectors,n),J=ox(Qe,pe,D,m,Q,[cx]),xp(F,Q,null)}catch(pe){throw Qe!==null&&Af(Qe),Af(Q),pe}finally{hp()}return new Vf(this.componentType,J,wo(me,Q),Q,me)}finally{fe(o)}}},Vf=class extends kf{constructor(e,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Jr(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let o=this._rootLView;Np(o[X],o,i,e,n),this.previousInputValues.set(e,n);let s=pr(this._tNode.index,o);Pp(s,1)}}get injector(){return new Hr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function nx(t,e){let n=t[X],r=dr;return t[r]=e,el(n,r,2,"#host",null)}function rx(t,e,n,r,i,o,s){let c=i[X];ix(r,t,e,s);let u=null;e!==null&&(u=Cp(e,i[lo]));let d=o.rendererFactory.createRenderer(e,n),f=16;n.signals?f=4096:n.onPush&&(f=64);let g=Xu(i,JE(n),null,f,i[t.index],t,o,d,null,null,u);return c.firstCreatePass&&xf(c,t,r.length-1),tl(i,g),i[t.index]=g}function ix(t,e,n,r){for(let i of t)e.mergedAttrs=$s(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(Lf(e,e.mergedAttrs,!0),n!==null&&qE(r,n,e))}function ox(t,e,n,r,i,o){let s=ot(),c=i[X],u=kt(s,i);tD(c,i,s,n,null,r);for(let f=0;f<n.length;f++){let g=s.directiveStart+f,_=Yr(i,c,g,s);Zr(_,i)}nD(c,i,s),u&&Zr(u,i);let d=Yr(i,c,s.directiveStart+s.componentOffset,s);if(t[Kt]=i[Kt]=d,o!==null)for(let f of o)f(d,e);return QE(c,s,i),d}function sx(t,e,n,r){if(r)df(t,n,["ng-version","18.2.5"]);else{let{attrs:i,classes:o}=aR(e.selectors[0]);i&&df(t,n,i),o&&o.length>0&&HE(t,n,o.join(" "))}}function ax(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null?Array.from(o):null)}}function cx(){let t=ot();mp(_e()[X],t)}var yr=(()=>{class t{static{this.__NG_ELEMENT_ID__=ux}}return t})();function ux(){let t=ot();return yD(t,_e())}var lx=yr,mD=class extends lx{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return wo(this._hostTNode,this._hostLView)}get injector(){return new Hr(this._hostTNode,this._hostLView)}get parentInjector(){let e=yp(this._hostTNode,this._hostLView);if(dE(e)){let n=Ru(e,this._hostLView),r=Au(e),i=n[X].data[r+8];return new Hr(i,n)}else return new Hr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=rw(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Ct}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=tw(this._lContainer,e.ssrId),c=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(c,i,ew(this._hostTNode,s)),c}createComponent(e,n,r,i,o){let s=e&&!DR(e),c;if(s)c=n;else{let A=n||{};c=A.index,r=A.injector,i=A.projectableNodes,o=A.environmentInjector||A.ngModuleRef}let u=s?e:new zs(qr(e)),d=r||this.parentInjector;if(!o&&u.ngModule==null){let x=(s?d:this.parentInjector).get(Ot,null);x&&(o=x)}let f=qr(u.componentType??{}),g=tw(this._lContainer,f?.id??null),_=g?.firstChild??null,E=u.create(d,i,_,o);return this.insertImpl(E.hostView,c,ew(this._hostTNode,g)),E}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(MR(i)){let c=this.indexOf(e);if(c!==-1)this.detach(c);else{let u=i[it],d=new mD(u,u[Qt],u[it]);d.detach(d.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return ON(s,i,o,r),e.attachToViewContainerRef(),Cw(tf(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=rw(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=Mf(this._lContainer,n);r&&(wu(tf(this._lContainer),n),jE(r[X],r))}detach(e){let n=this._adjustIndex(e,-1),r=Mf(this._lContainer,n);return r&&wu(tf(this._lContainer),n)!=null?new Jr(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function rw(t){return t[bu]}function tf(t){return t[bu]||(t[bu]=[])}function yD(t,e){let n,r=e[t.index];return xn(r)?n=r:(n=rD(r,e,null,t),e[t.index]=n,tl(e,n)),hx(n,e,t,r),new mD(n,t,e)}function dx(t,e){let n=t[Ue],r=n.createComment(""),i=kt(e,t),o=BE(n,i);return Ou(n,o,r,QM(n,i),!1),r}var hx=gx,fx=()=>!1;function px(t,e,n){return fx(t,e,n)}function gx(t,e,n,r){if(t[Gr])return;let i;n.type&8?i=an(r):i=dx(e,n),t[Gr]=i}var jf=class t{constructor(e){this.queryList=e,this.matches=null}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},Uf=class t{constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let r=e.contentQueries!==null?e.contentQueries[0]:n.length,i=[];for(let o=0;o<r;o++){let s=n.getByIndex(o),c=this.queries[s.indexInDeclarationView];i.push(c.clone())}return new t(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)Fp(e,n).matches!==null&&this.queries[n].setDirty()}},Bf=class{constructor(e,n,r=null){this.flags=n,this.read=r,typeof e=="string"?this.predicate=Dx(e):this.predicate=e}},$f=class t{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,n!==null?n.push(o):n=[o])}return n!==null?new t(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},Hf=class t{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,n,mx(n,o)),this.matchTNodeWithReadOption(e,n,mu(n,e,o,!1,!1))}else r===Xr?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,mu(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===Ft||i===yr||i===Xr&&n.type&4)this.addMatch(n.index,-2);else{let o=mu(n,e,i,!1,!1);o!==null&&this.addMatch(n.index,o)}else this.addMatch(n.index,r)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function mx(t,e){let n=t.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1]}return null}function yx(t,e){return t.type&11?wo(t,e):t.type&4?Op(t,e):null}function vx(t,e,n,r){return n===-1?yx(e,t):n===-2?_x(t,e,r):Yr(t,t[X],n,e)}function _x(t,e,n){if(n===Ft)return wo(e,t);if(n===Xr)return Op(e,t);if(n===yr)return yD(e,t)}function vD(t,e,n,r){let i=e[Tn].queries[r];if(i.matches===null){let o=t.data,s=n.matches,c=[];for(let u=0;s!==null&&u<s.length;u+=2){let d=s[u];if(d<0)c.push(null);else{let f=o[d];c.push(vx(e,f,s[u+1],n.metadata.read))}}i.matches=c}return i.matches}function qf(t,e,n,r){let i=t.queries.getByIndex(n),o=i.matches;if(o!==null){let s=vD(t,e,i,n);for(let c=0;c<o.length;c+=2){let u=o[c];if(u>0)r.push(s[c/2]);else{let d=o[c+1],f=e[-u];for(let g=Ct;g<f.length;g++){let _=f[g];_[zr]===_[it]&&qf(_[X],_,d,r)}if(f[ho]!==null){let g=f[ho];for(let _=0;_<g.length;_++){let E=g[_];qf(E[X],E,d,r)}}}}}return r}function Ix(t,e){return t[Tn].queries[e].queryList}function wx(t,e,n){let r=new Sf((n&4)===4);return lN(t,e,r,r.destroy),(e[Tn]??=new Uf).queries.push(new jf(r))-1}function Ex(t,e,n,r){let i=ft();if(i.firstCreatePass){let o=ot();Cx(i,new Bf(e,n,r),o.index),bx(i,t),(n&2)===2&&(i.staticContentQueries=!0)}return wx(i,_e(),n)}function Dx(t){return t.split(",").map(e=>e.trim())}function Cx(t,e,n){t.queries===null&&(t.queries=new $f),t.queries.track(new Hf(e,n))}function bx(t,e){let n=t.contentQueries||(t.contentQueries=[]),r=n.length?n[n.length-1]:-1;e!==r&&n.push(t.queries.length-1,e)}function Fp(t,e){return t.queries.getByIndex(e)}function Tx(t,e){let n=t[X],r=Fp(n,e);return r.crossesNgTemplate?qf(n,t,e,[]):vD(n,t,r,e)}var iw=new Set;function Js(t){iw.has(t)||(iw.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function Sx(t){return typeof t=="function"&&t[Dn]!==void 0}function Xs(t,e){Js("NgSignals");let n=eI(t),r=n[Dn];return e?.equal&&(r.equal=e.equal),n.set=i=>Th(r,i),n.update=i=>tI(r,i),n.asReadonly=Ax.bind(n),n}function Ax(){let t=this[Dn];if(t.readonlyFn===void 0){let e=()=>this();e[Dn]=t,t.readonlyFn=e}return t.readonlyFn}function _D(t){return Sx(t)&&typeof t.set=="function"}function Rx(t){return Object.getPrototypeOf(t.prototype).constructor}function On(t){let e=Rx(t.type),n=!0,r=[t];for(;e;){let i;if(hr(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new V(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let s=t;s.inputs=lu(t.inputs),s.inputTransforms=lu(t.inputTransforms),s.declaredInputs=lu(t.declaredInputs),s.outputs=lu(t.outputs);let c=i.hostBindings;c&&Ox(t,c);let u=i.viewQuery,d=i.contentQueries;if(u&&xx(t,u),d&&Px(t,d),Mx(t,i),TA(t.outputs,i.outputs),hr(i)&&i.data.animation){let f=t.data;f.animation=(f.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let c=o[s];c&&c.ngInherit&&c(t),c===On&&(n=!1)}}e=Object.getPrototypeOf(e)}Nx(r)}function Mx(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function Nx(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=$s(i.hostAttrs,n=$s(n,i.hostAttrs))}}function lu(t){return t===ao?{}:t===xt?[]:t}function xx(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function Px(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,o)=>{e(r,i,o),n(r,i,o)}:t.contentQueries=e}function Ox(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function Lp(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}var fr=class{},Gs=class{};var zf=class extends fr{constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Lu(this);let o=Pw(e);this._bootstrapComponents=kE(o.bootstrap),this._r3Injector=IE(e,n,[{provide:fr,useValue:this},{provide:po,useValue:this.componentFactoryResolver},...r],dt(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Gf=class extends Gs{constructor(e){super(),this.moduleType=e}create(e){return new zf(this.moduleType,e,[])}};var Vu=class extends fr{constructor(e){super(),this.componentFactoryResolver=new Lu(this),this.instance=null;let n=new Hs([...e.providers,{provide:fr,useValue:this},{provide:po,useValue:this.componentFactoryResolver}],e.parent||ap(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Vp(t,e,n=null){return new Vu({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}function ID(t){return Fx(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function kx(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function Fx(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function ea(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function Lx(t){return(t.flags&32)===32}function Vx(t,e,n,r,i,o,s,c,u){let d=e.consts,f=el(e,t,4,s||null,c||null);eD(e,n,f,Su(d,u)),mp(e,f);let g=f.tView=Mp(2,f,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,d,null);return e.queries!==null&&(e.queries.template(e,f),g.queries=e.queries.embeddedTView(f)),f}function jx(t,e,n,r,i,o,s,c,u,d){let f=n+dr,g=e.firstCreatePass?Vx(f,e,t,r,i,o,s,c,u):e.data[f];Ys(g,!1);let _=Ux(e,t,g,n);pp()&&Ap(e,t,_,g),Zr(_,t);let E=rD(_,t,_,g);return t[f]=E,tl(t,E),px(E,g,t),cp(g)&&YE(e,t,g),u!=null&&ZE(t,g,d),g}function Lt(t,e,n,r,i,o,s,c){let u=_e(),d=ft(),f=Su(d.consts,o);return jx(u,d,t,e,n,r,i,f,s,c),Lt}var Ux=Bx;function Bx(t,e,n,r){return gp(!0),e[Ue].createComment("")}var js=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(js||{}),$x=(()=>{class t{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=q({token:t,providedIn:"root",factory:()=>new t})}}return t})(),ow=class t{constructor(){this.ngZone=k(ve),this.scheduler=k(fo),this.errorHandler=k(Sn,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[js.EarlyRead,js.Write,js.MixedReadWrite,js.Read]}execute(){this.executing=!0;for(let e of t.PHASES)for(let n of this.sequences)if(!(n.erroredOrDestroyed||!n.hooks[e]))try{n.pipelinedValue=this.ngZone.runOutsideAngular(()=>n.hooks[e](n.pipelinedValue))}catch(r){n.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&this.sequences.delete(e);for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}static{this.\u0275prov=q({token:t,providedIn:"root",factory:()=>new t})}};function ta(t,e,n,r){let i=_e(),o=Yu();if(ea(i,o,e)){let s=ft(),c=fp();bN(c,i,t,e,n,r)}return ta}function Hx(t,e,n,r){return ea(t,Yu(),n)?e+Hu(n)+r:Eo}function du(t,e){return t<<17|e<<2}function ei(t){return t>>17&32767}function qx(t){return(t&2)==2}function zx(t,e){return t&131071|e<<17}function Wf(t){return t|2}function mo(t){return(t&131068)>>2}function nf(t,e){return t&-131069|e<<2}function Gx(t){return(t&1)===1}function Kf(t){return t|1}function Wx(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,c=ei(s),u=mo(s);t[r]=n;let d=!1,f;if(Array.isArray(n)){let g=n;f=g[1],(f===null||Qs(g,f)>0)&&(d=!0)}else f=n;if(i)if(u!==0){let _=ei(t[c+1]);t[r+1]=du(_,c),_!==0&&(t[_+1]=nf(t[_+1],r)),t[c+1]=zx(t[c+1],r)}else t[r+1]=du(c,0),c!==0&&(t[c+1]=nf(t[c+1],r)),c=r;else t[r+1]=du(u,0),c===0?c=r:t[u+1]=nf(t[u+1],r),u=r;d&&(t[r+1]=Wf(t[r+1])),sw(t,f,r,!0),sw(t,f,r,!1),Kx(e,f,t,r,o),s=du(c,u),o?e.classBindings=s:e.styleBindings=s}function Kx(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&Qs(o,e)>=0&&(n[r+1]=Kf(n[r+1]))}function sw(t,e,n,r){let i=t[n+1],o=e===null,s=r?ei(i):mo(i),c=!1;for(;s!==0&&(c===!1||o);){let u=t[s],d=t[s+1];Qx(u,e)&&(c=!0,t[s+1]=r?Kf(d):Wf(d)),s=r?ei(d):mo(d)}c&&(t[n+1]=r?Wf(i):Kf(i))}function Qx(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Qs(t,e)>=0:!1}function be(t,e,n){let r=_e(),i=Yu();if(ea(r,i,e)){let o=ft(),s=fp();XE(o,s,r,t,e,r[Ue],n,!1)}return be}function aw(t,e,n,r,i){let o=e.inputs,s=i?"class":"style";Np(t,n,o[s],s,r)}function nl(t,e){return Yx(t,e,null,!0),nl}function Yx(t,e,n,r){let i=_e(),o=ft(),s=$R(2);if(o.firstUpdatePass&&Jx(o,t,s,r),e!==Eo&&ea(i,s,e)){let c=o.data[vo()];rP(o,c,i,i[Ue],t,i[s+1]=iP(e,n),r,s)}}function Zx(t,e){return e>=t.expandoStartIndex}function Jx(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[vo()],s=Zx(t,n);oP(o,r)&&e===null&&!s&&(e=!1),e=Xx(i,o,e,r),Wx(i,o,e,n,s,r)}}function Xx(t,e,n,r){let i=GR(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=rf(null,t,e,n,r),n=Ws(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=rf(i,t,e,n,r),o===null){let u=eP(t,e,r);u!==void 0&&Array.isArray(u)&&(u=rf(null,t,e,u[1],r),u=Ws(u,e.attrs,r),tP(t,e,r,u))}else o=nP(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function eP(t,e,n){let r=n?e.classBindings:e.styleBindings;if(mo(r)!==0)return t[ei(r)]}function tP(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[ei(i)]=r}function nP(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=Ws(r,s,n)}return Ws(r,e.attrs,n)}function rf(t,e,n,r,i){let o=null,s=n.directiveEnd,c=n.directiveStylingLast;for(c===-1?c=n.directiveStart:c++;c<s&&(o=e[c],r=Ws(r,o.hostAttrs,i),o!==t);)c++;return t!==null&&(n.directiveStylingLast=c),r}function Ws(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),KA(t,s,n?!0:e[++o]))}return t===void 0?null:t}function rP(t,e,n,r,i,o,s,c){if(!(e.type&3))return;let u=t.data,d=u[c+1],f=Gx(d)?cw(u,e,n,i,mo(d),s):void 0;if(!ju(f)){ju(o)||qx(d)&&(o=cw(u,null,n,i,c,s));let g=Ww(vo(),n);nN(r,s,g,i,o)}}function cw(t,e,n,r,i,o){let s=e===null,c;for(;i>0;){let u=t[i],d=Array.isArray(u),f=d?u[1]:u,g=f===null,_=n[i+1];_===Eo&&(_=g?xt:void 0);let E=g?Wh(_,r):f===r?_:void 0;if(d&&!ju(E)&&(E=Wh(u,r)),ju(E)&&(c=E,s))return c;let A=t[i+1];i=s?ei(A):mo(A)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(c=Wh(u,r))}return c}function ju(t){return t!==void 0}function iP(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=dt(Zs(t)))),t}function oP(t,e){return(t.flags&(e?8:16))!==0}function sP(t,e,n,r,i,o){let s=e.consts,c=Su(s,i),u=el(e,t,2,r,c);return eD(e,n,u,Su(s,o)),u.attrs!==null&&Lf(u,u.attrs,!1),u.mergedAttrs!==null&&Lf(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function B(t,e,n,r){let i=_e(),o=ft(),s=dr+t,c=i[Ue],u=o.firstCreatePass?sP(s,o,i,e,n,r):o.data[s],d=aP(o,i,u,c,e,t);i[s]=d;let f=cp(u);return Ys(u,!0),qE(c,d,u),!Lx(u)&&pp()&&Ap(o,i,d,u),PR()===0&&Zr(d,i),OR(),f&&(YE(o,i,u),QE(o,u,i)),r!==null&&ZE(i,u),B}function U(){let t=ot();tE()?UR():(t=t.parent,Ys(t,!1));let e=t;LR(e)&&VR(),kR();let n=ft();return n.firstCreatePass&&(mp(n,t),$w(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&XR(e)&&aw(n,e,_e(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&eM(e)&&aw(n,e,_e(),e.stylesWithoutHost,!1),U}function Je(t,e,n,r){return B(t,e,n,r),U(),Je}var aP=(t,e,n,r,i,o)=>(gp(!0),FE(r,i,QR()));function Do(){return _e()}var Uu="en-US";var cP=Uu;function uP(t){typeof t=="string"&&(cP=t.toLowerCase().replace(/_/g,"-"))}var lP=(t,e,n)=>{};function xe(t,e,n,r){let i=_e(),o=ft(),s=ot();return wD(o,i,i[Ue],s,t,e,r),xe}function dP(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let c=e[Cu],u=i[o+2];return c.length>u?c[u]:null}typeof s=="string"&&(o+=2)}return null}function wD(t,e,n,r,i,o,s){let c=cp(r),d=t.firstCreatePass&&sD(t),f=e[Kt],g=oD(e),_=!0;if(r.type&3||s){let x=kt(r,e),N=s?s(x):x,F=g.length,Q=s?me=>s(an(me[r.index])):r.index,J=null;if(!s&&c&&(J=dP(t,e,i,r.index)),J!==null){let me=J.__ngLastListenerFn__||J;me.__ngNextListenerFn__=o,J.__ngLastListenerFn__=o,_=!1}else{o=lw(r,e,f,o),lP(x,i,o);let me=n.listen(N,i,o);g.push(o,me),d&&d.push(i,Q,F,F+1)}}else o=lw(r,e,f,o);let E=r.outputs,A;if(_&&E!==null&&(A=E[i])){let x=A.length;if(x)for(let N=0;N<x;N+=2){let F=A[N],Q=A[N+1],Qe=e[F][Q].subscribe(o),pe=g.length;g.push(o,Qe),d&&d.push(i,r.index,pe,-(pe+1))}}}function uw(t,e,n,r){let i=fe(null);try{return tn(6,e,n),n(r)!==!1}catch(o){return aD(t,o),!1}finally{tn(7,e,n),fe(i)}}function lw(t,e,n,r){return function i(o){if(o===Function)return r;let s=t.componentOffset>-1?pr(t.index,e):e;Pp(s,5);let c=uw(e,n,r,o),u=i.__ngNextListenerFn__;for(;u;)c=uw(e,n,u,o)&&c,u=u.__ngNextListenerFn__;return c}}function pt(t=1){return KR(t)}function ED(t,e,n,r){Ex(t,e,n,r)}function DD(t){let e=_e(),n=ft(),r=rE();lp(r+1);let i=Fp(n,r);if(t.dirty&&RR(e)===((i.metadata.flags&2)===2)){if(i.matches===null)t.reset([]);else{let o=Tx(e,r);t.reset(o,wM),t.notifyOnChanges()}return!0}return!1}function CD(){return Ix(_e(),rE())}function Y(t,e=""){let n=_e(),r=ft(),i=t+dr,o=r.firstCreatePass?el(r,i,1,e,null):r.data[i],s=hP(r,n,o,e,t);n[i]=s,pp()&&Ap(r,n,s,o),Ys(o,!1)}var hP=(t,e,n,r,i)=>(gp(!0),jM(e[Ue],r));function si(t){return un("",t,""),si}function un(t,e,n){let r=_e(),i=Hx(r,t,e,n);return i!==Eo&&RN(r,vo(),i),un}function ai(t,e,n){_D(e)&&(e=e());let r=_e(),i=Yu();if(ea(r,i,e)){let o=ft(),s=fp();XE(o,s,r,t,e,r[Ue],n,!1)}return ai}function Co(t,e){let n=_D(t);return n&&t.set(e),n}function ci(t,e){let n=_e(),r=ft(),i=ot();return wD(r,n,n[Ue],i,t,e),ci}function fP(t,e,n){let r=ft();if(r.firstCreatePass){let i=hr(t);Qf(n,r.data,r.blueprint,i,!0),Qf(e,r.data,r.blueprint,i,!1)}}function Qf(t,e,n,r,i){if(t=lt(t),Array.isArray(t))for(let o=0;o<t.length;o++)Qf(t[o],e,n,r,i);else{let o=ft(),s=_e(),c=ot(),u=uo(t)?t:lt(t.provide),d=jw(t),f=c.providerIndexes&1048575,g=c.directiveStart,_=c.providerIndexes>>20;if(uo(t)||!t.multi){let E=new Qr(d,i,H),A=sf(u,e,i?f:f+_,g);A===-1?(wf(Mu(c,s),o,u),of(o,t,e.length),e.push(u),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(E),s.push(E)):(n[A]=E,s[A]=E)}else{let E=sf(u,e,f+_,g),A=sf(u,e,f,f+_),x=E>=0&&n[E],N=A>=0&&n[A];if(i&&!N||!i&&!x){wf(Mu(c,s),o,u);let F=mP(i?gP:pP,n.length,i,r,d);!i&&N&&(n[A].providerFactory=F),of(o,t,e.length,0),e.push(u),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(F),s.push(F)}else{let F=bD(n[i?A:E],d,!i&&r);of(o,t,E>-1?E:A,F)}!i&&r&&N&&n[A].componentProviders++}}}function of(t,e,n,r){let i=uo(e),o=gR(e);if(i||o){let u=(o?lt(e.useClass):e).prototype.ngOnDestroy;if(u){let d=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let f=d.indexOf(n);f===-1?d.push(n,[r,u]):d[f+1].push(r,u)}else d.push(n,u)}}}function bD(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function sf(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function pP(t,e,n,r){return Yf(this.multi,[])}function gP(t,e,n,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,c=Yr(n,n[X],this.providerFactory.index,r);o=c.slice(0,s),Yf(i,o);for(let u=s;u<c.length;u++)o.push(c[u])}else o=[],Yf(i,o);return o}function Yf(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function mP(t,e,n,r,i){let o=new Qr(t,n,H);return o.multi=[],o.index=e,o.componentProviders=0,bD(o,i,r&&!n),o}function na(t,e=[]){return n=>{n.providersResolver=(r,i)=>fP(r,i?i(t):t,e)}}var yP=(()=>{class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=Fw(!1,n.type),i=r.length>0?Vp([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=q({token:t,providedIn:"environment",factory:()=>new t(te(Ot))})}}return t})();function It(t){Js("NgStandalone"),t.getStandaloneInjector=e=>e.get(yP).getOrCreateStandaloneInjector(t)}var Rn=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},TD=new Rn("18.2.5");var rl=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();var SD=new j("");function ui(t){return!!t&&typeof t.then=="function"}function AD(t){return!!t&&typeof t.subscribe=="function"}var RD=new j(""),MD=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=k(RD,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let o=i();if(ui(o))n.push(o);else if(AD(o)){let s=new Promise((c,u)=>{o.subscribe({complete:c,error:u})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),jp=new j("");function vP(){X_(()=>{throw new V(600,!1)})}function _P(t){return t.isBoundToModule}var IP=10;function wP(t,e,n){try{let r=n();return ui(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var li=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=k(_M),this.afterRenderManager=k($x),this.zonelessEnabled=k(kp),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new He,this.afterTick=new He,this.componentTypes=[],this.components=[],this.isStable=k(Io).hasPendingTasks.pipe(re(n=>!n)),this._injector=k(Ot)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}get injector(){return this._injector}bootstrap(n,r){let i=n instanceof Fu;if(!this._injector.get(MD).done){let _=!i&&xw(n),E=!1;throw new V(405,E)}let s;i?s=n:s=this._injector.get(po).resolveComponentFactory(n),this.componentTypes.push(s.componentType);let c=_P(s)?void 0:this._injector.get(fr),u=r||s.selector,d=s.create(vt.NULL,[],u,c),f=d.location.nativeElement,g=d.injector.get(SD,null);return g?.registerApplication(f),d.onDestroy(()=>{this.detachView(d.hostView),yu(this.components,d),g?.unregisterApplication(f)}),this._loadComponent(d),d}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new V(101,!1);let n=fe(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,fe(n),this.afterTick.next()}}synchronize(){let n=null;this._injector.destroyed||(n=this._injector.get(go,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let r=0;for(;this.dirtyFlags!==0&&r++<IP;)this.synchronizeOnce(n)}synchronizeOnce(n){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(r);for(let{_lView:i,notifyErrorHandler:o}of this._views)EP(i,o,r,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else n?.begin?.(),n?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>Ku(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;yu(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);let r=this._injector.get(jp,[]);[...this._bootstrapListeners,...r].forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>yu(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new V(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function yu(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function EP(t,e,n,r){if(!n&&!Ku(t))return;lD(t,e,n&&!r?0:1)}var Zf=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},Up=(()=>{class t{compileModuleSync(n){return new Gf(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=Pw(n),o=kE(i.declarations).reduce((s,c)=>{let u=qr(c);return u&&s.push(new zs(u)),s},[]);return new Zf(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var DP=(()=>{class t{constructor(){this.zone=k(ve),this.changeDetectionScheduler=k(fo),this.applicationRef=k(li)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),CP=new j("",{factory:()=>!1});function ND({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new ve(oe(O({},PD()),{scheduleInRootZone:n})),[{provide:ve,useFactory:t},{provide:co,multi:!0,useFactory:()=>{let r=k(DP,{optional:!0});return()=>r.initialize()}},{provide:co,multi:!0,useFactory:()=>{let r=k(bP);return()=>{r.initialize()}}},e===!0?{provide:pD,useValue:!0}:[],{provide:gD,useValue:n??wE}]}function xD(t){let e=t?.ignoreChangesOutsideZone,n=t?.scheduleInRootZone,r=ND({ngZoneFactory:()=>{let i=PD(t);return i.scheduleInRootZone=n,i.shouldCoalesceEventChangeDetection&&Js("NgZone_CoalesceEvent"),new ve(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:n});return cn([{provide:CP,useValue:!0},{provide:kp,useValue:!1},r])}function PD(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var bP=(()=>{class t{constructor(){this.subscription=new Se,this.initialized=!1,this.zone=k(ve),this.pendingTasks=k(Io)}initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ve.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ve.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var TP=(()=>{class t{constructor(){this.appRef=k(li),this.taskService=k(Io),this.ngZone=k(ve),this.zonelessEnabled=k(kp),this.disableScheduling=k(pD,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Se,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(xu):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(k(gD,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Tf||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?zI:DE;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(xu+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(n),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,zI(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function SP(){return typeof $localize<"u"&&$localize.locale||Uu}var Bp=new j("",{providedIn:"root",factory:()=>k(Bp,ee.Optional|ee.SkipSelf)||SP()});var OD=new j("");function hu(t){return!!t.platformInjector}function AP(t){let e=hu(t)?t.r3Injector:t.moduleRef.injector,n=e.get(ve);return n.run(()=>{hu(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(Sn,null),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:o=>{r.handleError(o)}})}),hu(t)){let o=()=>e.destroy(),s=t.platformInjector.get(OD);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else t.moduleRef.onDestroy(()=>{yu(t.allPlatformModules,t.moduleRef),i.unsubscribe()});return wP(r,n,()=>{let o=e.get(MD);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(Bp,Uu);if(uP(s||Uu),hu(t)){let c=e.get(li);return t.rootComponent!==void 0&&c.bootstrap(t.rootComponent),c}else return RP(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}function RP(t,e){let n=t.injector.get(li);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(n);else throw new V(-403,!1);e.push(t)}var vu=null;function MP(t=[],e){return vt.create({name:e,providers:[{provide:zu,useValue:"platform"},{provide:OD,useValue:new Set([()=>vu=null])},...t]})}function NP(t=[]){if(vu)return vu;let e=MP(t);return vu=e,vP(),xP(e),e}function xP(t){t.get(Ep,null)?.forEach(n=>n())}var vr=(()=>{class t{static{this.__NG_ELEMENT_ID__=PP}}return t})();function PP(t){return OP(ot(),_e(),(t&16)===16)}function OP(t,e,n){if(Wu(t)&&!n){let r=pr(t.index,e);return new Jr(r,r)}else if(t.type&175){let r=e[sn];return new Jr(r,e)}return null}var Jf=class{constructor(){}supports(e){return ID(e)}create(e){return new Xf(e)}},kP=(t,e)=>e,Xf=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||kP}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){let s=!r||n&&n.currentIndex<dw(r,i,o)?n:r,c=dw(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,s.previousIndex==null)i++;else{o||(o=[]);let d=c-i,f=u-i;if(d!=f){for(let _=0;_<d;_++){let E=_<o.length?o[_]:o[_]=0,A=E+_;f<=A&&A<d&&(o[_]=E+1)}let g=s.previousIndex;o[g]=f-d}}c!==u&&e(s,c,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!ID(e))throw new V(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let c=0;c<this.length;c++)o=e[c],s=this._trackByFn(c,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,c),r=!0):(r&&(n=this._verifyReinsertion(n,o,s,c)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else i=0,kx(e,c=>{s=this._trackByFn(i,c),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,c,s,i),r=!0):(r&&(n=this._verifyReinsertion(n,c,s,i)),Object.is(n.item,c)||this._addIdentityChange(n,c)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new ep(n,r),o,i)),e}_verifyReinsertion(e,n,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new Bu),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Bu),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},ep=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},tp=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},Bu=class{constructor(){this.map=new Map}put(e){let n=e.trackById,r=this.map.get(n);r||(r=new tp,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function dw(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function hw(){return new $p([new Jf])}var $p=(()=>{class t{static{this.\u0275prov=q({token:t,providedIn:"root",factory:hw})}constructor(n){this.factories=n}static create(n,r){if(r!=null){let i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||hw()),deps:[[t,new Dw,new ht]]}}find(n){let r=this.factories.find(i=>i.supports(n));if(r!=null)return r;throw new V(901,!1)}}return t})();function kD(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=NP(r),o=[ND({}),{provide:fo,useExisting:TP},...n||[]],s=new Vu({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return AP({r3Injector:s.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}}var FD=new j("");function _r(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function ra(t,e){Js("NgSignals");let n=Y_(t);return e?.equal&&(n[Dn].equal=e.equal),n}function kn(t){let e=fe(null);try{return t()}finally{fe(e)}}var BD=null;function Fn(){return BD}function $D(t){BD??=t}var il=class{};var bt=new j(""),HD=(()=>{class t{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=q({token:t,factory:()=>k(FP),providedIn:"platform"})}}return t})();var FP=(()=>{class t extends HD{constructor(){super(),this._doc=k(bt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Fn().getBaseHref(this._doc)}onPopState(n){let r=Fn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=Fn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=q({token:t,factory:()=>new t,providedIn:"platform"})}}return t})();function qD(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function LD(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function di(t){return t&&t[0]!=="?"?"?"+t:t}var bo=(()=>{class t{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=q({token:t,factory:()=>k(zD),providedIn:"root"})}}return t})(),LP=new j(""),zD=(()=>{class t extends bo{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??k(bt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return qD(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+di(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+di(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+di(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(r){return new(r||t)(te(HD),te(LP,8))}}static{this.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var ia=(()=>{class t{constructor(n){this._subject=new Re,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=UP(LD(VD(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+di(r))}normalize(n){return t.stripTrailingSlash(jP(this._basePath,VD(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+di(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+di(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}static{this.normalizeQueryParams=di}static{this.joinWithSlash=qD}static{this.stripTrailingSlash=LD}static{this.\u0275fac=function(r){return new(r||t)(te(bo))}}static{this.\u0275prov=q({token:t,factory:()=>VP(),providedIn:"root"})}}return t})();function VP(){return new ia(te(bo))}function jP(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function VD(t){return t.replace(/\/index.html$/,"")}function UP(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function GD(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var Hp=class{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},WD=(()=>{class t{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;if(!this._differ&&n)if(0)try{}catch{}else this._differ=this._differs.find(n).create(this.ngForTrackBy)}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let r=this._viewContainer;n.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new Hp(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let c=r.get(o);r.move(c,s),jD(c,i)}});for(let i=0,o=r.length;i<o;i++){let c=r.get(i).context;c.index=i,c.count=o,c.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);jD(o,i)})}static ngTemplateContextGuard(n,r){return!0}static{this.\u0275fac=function(r){return new(r||t)(H(yr),H(Xr),H($p))}}static{this.\u0275dir=qe({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return t})();function jD(t,e){t.context.$implicit=e.item}var Ir=(()=>{class t{constructor(n,r){this._viewContainer=n,this._context=new qp,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){UD("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){UD("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}static{this.\u0275fac=function(r){return new(r||t)(H(yr),H(Xr))}}static{this.\u0275dir=qe({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return t})(),qp=class{constructor(){this.$implicit=null,this.ngIf=null}};function UD(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${dt(e)}'.`)}var Ln=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=ri({type:t})}static{this.\u0275inj=ni({})}}return t})(),KD="browser",BP="server";function zp(t){return t===BP}var ol=class{};var Kp=class extends il{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Qp=class t extends Kp{static makeCurrent(){$D(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=$P();return n==null?null:HP(n)}resetBaseElement(){sa=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return GD(document.cookie,e)}},sa=null;function $P(){return sa=sa||document.querySelector("base"),sa?sa.getAttribute("href"):null}function HP(t){return new URL(t,document.baseURI).pathname}var qP=(()=>{class t{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=q({token:t,factory:t.\u0275fac})}}return t})(),sl=new j(""),JD=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new V(5101,!1);return this._eventNameToPlugin.set(n,r),r}static{this.\u0275fac=function(r){return new(r||t)(te(sl),te(ve))}}static{this.\u0275prov=q({token:t,factory:t.\u0275fac})}}return t})(),aa=class{constructor(e){this._doc=e}},Gp="ng-app-id",XD=(()=>{class t{constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=zp(o),this.resetHostNodes()}addStyles(n){for(let r of n)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(n){for(let r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(let r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(let r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){let r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){let n=this.doc.head?.querySelectorAll(`style[${Gp}="${this.appId}"]`);if(n?.length){let r=new Map;return n.forEach(i=>{i.textContent!=null&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){let i=this.styleRef;if(i.has(n)){let o=i.get(n);return o.usage+=r,o.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){let i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===n)return i.delete(r),o.removeAttribute(Gp),o;{let s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(Gp,this.appId),n.appendChild(s),s}}addStyleToHost(n,r){let i=this.getStyleElement(n,r),o=this.styleRef,s=o.get(r)?.elements;s?s.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){let n=this.hostNodes;n.clear(),n.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||t)(te(bt),te(wp),te(Dp,8),te(gr))}}static{this.\u0275prov=q({token:t,factory:t.\u0275fac})}}return t})(),Wp={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Zp=/%COMP%/g,eC="%COMP%",zP=`_nghost-${eC}`,GP=`_ngcontent-${eC}`,WP=!0,KP=new j("",{providedIn:"root",factory:()=>WP});function QP(t){return GP.replace(Zp,t)}function YP(t){return zP.replace(Zp,t)}function tC(t,e){return e.map(n=>n.replace(Zp,t))}var QD=(()=>{class t{constructor(n,r,i,o,s,c,u,d=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=c,this.ngZone=u,this.nonce=d,this.rendererByCompId=new Map,this.platformIsServer=zp(c),this.defaultRenderer=new ca(n,s,u,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===rn.ShadowDom&&(r=oe(O({},r),{encapsulation:rn.Emulated}));let i=this.getOrCreateRenderer(n,r);return i instanceof al?i.applyToHost(n):i instanceof ua&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,c=this.ngZone,u=this.eventManager,d=this.sharedStylesHost,f=this.removeStylesOnCompDestroy,g=this.platformIsServer;switch(r.encapsulation){case rn.Emulated:o=new al(u,d,r,this.appId,f,s,c,g);break;case rn.ShadowDom:return new Yp(u,d,n,r,s,c,this.nonce,g);default:o=new ua(u,d,r,f,s,c,g);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||t)(te(JD),te(XD),te(wp),te(KP),te(bt),te(gr),te(ve),te(Dp))}}static{this.\u0275prov=q({token:t,factory:t.\u0275fac})}}return t})(),ca=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(Wp[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(YD(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(YD(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new V(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=Wp[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=Wp[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(An.DashCase|An.Important)?e.style.setProperty(n,r,i&An.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&An.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=Fn().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function YD(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Yp=class extends ca{constructor(e,n,r,i,o,s,c,u){super(e,o,s,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let d=tC(i.id,i.styles);for(let f of d){let g=document.createElement("style");c&&g.setAttribute("nonce",c),g.textContent=f,this.shadowRoot.appendChild(g)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},ua=class extends ca{constructor(e,n,r,i,o,s,c,u){super(e,o,s,c),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?tC(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},al=class extends ua{constructor(e,n,r,i,o,s,c,u){let d=i+"-"+r.id;super(e,n,r,o,s,c,u,d),this.contentAttr=QP(d),this.hostAttr=YP(d)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},ZP=(()=>{class t extends aa{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||t)(te(bt))}}static{this.\u0275prov=q({token:t,factory:t.\u0275fac})}}return t})(),JP=(()=>{class t extends aa{constructor(n){super(n),this.delegate=k(FD,{optional:!0})}supports(n){return this.delegate?this.delegate.supports(n):!1}addEventListener(n,r,i){return this.delegate.addEventListener(n,r,i)}removeEventListener(n,r,i){return this.delegate.removeEventListener(n,r,i)}static{this.\u0275fac=function(r){return new(r||t)(te(bt))}}static{this.\u0275prov=q({token:t,factory:t.\u0275fac})}}return t})(),ZD=["alt","control","meta","shift"],XP={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},eO={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},tO=(()=>{class t extends aa{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,r,i){let o=t.parseEventName(r),s=t.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Fn().onAndCancel(n,o.domEventName,s))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=t._normalizeKey(r.pop()),s="",c=r.indexOf("code");if(c>-1&&(r.splice(c,1),s="code."),ZD.forEach(d=>{let f=r.indexOf(d);f>-1&&(r.splice(f,1),s+=d+".")}),s+=o,r.length!=0||o.length===0)return null;let u={};return u.domEventName=i,u.fullKey=s,u}static matchEventFullKeyCode(n,r){let i=XP[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),ZD.forEach(s=>{if(s!==i){let c=eO[s];c(n)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{t.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static{this.\u0275fac=function(r){return new(r||t)(te(bt))}}static{this.\u0275prov=q({token:t,factory:t.\u0275fac})}}return t})();function nC(t,e){return kD(O({rootComponent:t},nO(e)))}function nO(t){return{appProviders:[...aO,...t?.providers??[]],platformProviders:sO}}function rO(){Qp.makeCurrent()}function iO(){return new Sn}function oO(){return ME(document),document}var sO=[{provide:gr,useValue:KD},{provide:Ep,useValue:rO,multi:!0},{provide:bt,useFactory:oO,deps:[]}];var aO=[{provide:zu,useValue:"root"},{provide:Sn,useFactory:iO,deps:[]},{provide:sl,useClass:ZP,multi:!0,deps:[bt,ve,gr]},{provide:sl,useClass:tO,multi:!0,deps:[bt]},{provide:sl,useClass:JP,multi:!0},QD,XD,JD,{provide:go,useExisting:QD},{provide:ol,useClass:qP,deps:[]},[]];var rC=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static{this.\u0275fac=function(r){return new(r||t)(te(bt))}}static{this.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var Z="primary",ba=Symbol("RouteTitle"),ng=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function No(t){return new ng(t)}function uO(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],c=t[o];if(s[0]===":")i[s.substring(1)]=c;else if(s!==c.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function lO(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!ln(t[n],e[n]))return!1;return!0}function ln(t,e){let n=t?rg(t):void 0,r=e?rg(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!dC(t[i],e[i]))return!1;return!0}function rg(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function dC(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}else return t===e}function hC(t){return t.length>0?t[t.length-1]:null}function wr(t){return Uh(t)?t:ui(t)?Ae(Promise.resolve(t)):W(t)}var dO={exact:pC,subset:gC},fC={exact:hO,subset:fO,ignored:()=>!0};function iC(t,e,n){return dO[n.paths](t.root,e.root,n.matrixParams)&&fC[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function hO(t,e){return ln(t,e)}function pC(t,e,n){if(!fi(t.segments,e.segments)||!ll(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!pC(t.children[r],e.children[r],n))return!1;return!0}function fO(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>dC(t[n],e[n]))}function gC(t,e,n){return mC(t,e,e.segments,n)}function mC(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!fi(i,n)||e.hasChildren()||!ll(i,n,r))}else if(t.segments.length===n.length){if(!fi(t.segments,n)||!ll(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!gC(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!fi(t.segments,i)||!ll(t.segments,i,r)||!t.children[Z]?!1:mC(t.children[Z],e,o,r)}}function ll(t,e,n){return e.every((r,i)=>fC[n](t[i].parameters,r.parameters))}var jn=class{constructor(e=new ye([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=No(this.queryParams),this._queryParamMap}toString(){return mO.serialize(this)}},ye=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return dl(this)}},hi=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=No(this.parameters),this._parameterMap}toString(){return vC(this)}};function pO(t,e){return fi(t,e)&&t.every((n,r)=>ln(n.parameters,e[r].parameters))}function fi(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function gO(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===Z&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==Z&&(n=n.concat(e(i,r)))}),n}var Rg=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=q({token:t,factory:()=>new ma,providedIn:"root"})}}return t})(),ma=class{parse(e){let n=new og(e);return new jn(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${la(e.root,!0)}`,r=_O(e.queryParams),i=typeof e.fragment=="string"?`#${yO(e.fragment)}`:"";return`${n}${r}${i}`}},mO=new ma;function dl(t){return t.segments.map(e=>vC(e)).join("/")}function la(t,e){if(!t.hasChildren())return dl(t);if(e){let n=t.children[Z]?la(t.children[Z],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==Z&&r.push(`${i}:${la(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=gO(t,(r,i)=>i===Z?[la(t.children[Z],!1)]:[`${i}:${la(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[Z]!=null?`${dl(t)}/${n[0]}`:`${dl(t)}/(${n.join("//")})`}}function yC(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function cl(t){return yC(t).replace(/%3B/gi,";")}function yO(t){return encodeURI(t)}function ig(t){return yC(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function hl(t){return decodeURIComponent(t)}function oC(t){return hl(t.replace(/\+/g,"%20"))}function vC(t){return`${ig(t.path)}${vO(t.parameters)}`}function vO(t){return Object.entries(t).map(([e,n])=>`;${ig(e)}=${ig(n)}`).join("")}function _O(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${cl(n)}=${cl(i)}`).join("&"):`${cl(n)}=${cl(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var IO=/^[^\/()?;#]+/;function Jp(t){let e=t.match(IO);return e?e[0]:""}var wO=/^[^\/()?;=#]+/;function EO(t){let e=t.match(wO);return e?e[0]:""}var DO=/^[^=?&#]+/;function CO(t){let e=t.match(DO);return e?e[0]:""}var bO=/^[^&#]+/;function TO(t){let e=t.match(bO);return e?e[0]:""}var og=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ye([],{}):new ye([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[Z]=new ye(e,n)),r}parseSegment(){let e=Jp(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new V(4009,!1);return this.capture(e),new hi(hl(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=EO(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=Jp(this.remaining);i&&(r=i,this.capture(r))}e[hl(n)]=hl(r)}parseQueryParam(e){let n=CO(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=TO(this.remaining);s&&(r=s,this.capture(r))}let i=oC(n),o=oC(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Jp(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new V(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=Z);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[Z]:new ye([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new V(4011,!1)}};function _C(t){return t.segments.length>0?new ye([],{[Z]:t}):t}function IC(t){let e={};for(let[r,i]of Object.entries(t.children)){let o=IC(i);if(r===Z&&o.segments.length===0&&o.hasChildren())for(let[s,c]of Object.entries(o.children))e[s]=c;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let n=new ye(t.segments,e);return SO(n)}function SO(t){if(t.numberOfChildren===1&&t.children[Z]){let e=t.children[Z];return new ye(t.segments.concat(e.segments),e.children)}return t}function pi(t){return t instanceof jn}function AO(t,e,n=null,r=null){let i=wC(t);return EC(i,e,n,r)}function wC(t){let e;function n(o){let s={};for(let u of o.children){let d=n(u);s[u.outlet]=d}let c=new ye(o.url,s);return o===t&&(e=c),c}let r=n(t.root),i=_C(r);return e??i}function EC(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return Xp(i,i,i,n,r);let o=RO(e);if(o.toRoot())return Xp(i,i,new ye([],{}),n,r);let s=MO(o,i,t),c=s.processChildren?fa(s.segmentGroup,s.index,o.commands):CC(s.segmentGroup,s.index,o.commands);return Xp(i,s.segmentGroup,c,n,r)}function fl(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function ya(t){return typeof t=="object"&&t!=null&&t.outlets}function Xp(t,e,n,r,i){let o={};r&&Object.entries(r).forEach(([u,d])=>{o[u]=Array.isArray(d)?d.map(f=>`${f}`):`${d}`});let s;t===e?s=n:s=DC(t,e,n);let c=_C(IC(s));return new jn(c,o,i)}function DC(t,e,n){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===e?r[i]=n:r[i]=DC(o,e,n)}),new ye(t.segments,r)}var pl=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&fl(r[0]))throw new V(4003,!1);let i=r.find(ya);if(i&&i!==hC(r))throw new V(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function RO(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new pl(!0,0,t);let e=0,n=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let c={};return Object.entries(o.outlets).forEach(([u,d])=>{c[u]=typeof d=="string"?d.split("/"):d}),[...i,{outlets:c}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((c,u)=>{u==0&&c==="."||(u==0&&c===""?n=!0:c===".."?e++:c!=""&&i.push(c))}),i):[...i,o]},[]);return new pl(n,e,r)}var Ao=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function MO(t,e,n){if(t.isAbsolute)return new Ao(e,!0,0);if(!n)return new Ao(e,!1,NaN);if(n.parent===null)return new Ao(n,!0,0);let r=fl(t.commands[0])?0:1,i=n.segments.length-1+r;return NO(n,i,t.numberOfDoubleDots)}function NO(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new V(4005,!1);i=r.segments.length}return new Ao(r,!1,i-o)}function xO(t){return ya(t[0])?t[0].outlets:{[Z]:t}}function CC(t,e,n){if(t??=new ye([],{}),t.segments.length===0&&t.hasChildren())return fa(t,e,n);let r=PO(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new ye(t.segments.slice(0,r.pathIndex),{});return o.children[Z]=new ye(t.segments.slice(r.pathIndex),t.children),fa(o,0,i)}else return r.match&&i.length===0?new ye(t.segments,{}):r.match&&!t.hasChildren()?sg(t,e,n):r.match?fa(t,0,i):sg(t,e,n)}function fa(t,e,n){if(n.length===0)return new ye(t.segments,{});{let r=xO(n),i={};if(Object.keys(r).some(o=>o!==Z)&&t.children[Z]&&t.numberOfChildren===1&&t.children[Z].segments.length===0){let o=fa(t.children[Z],e,n);return new ye(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=CC(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new ye(t.segments,i)}}function PO(t,e,n){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;let s=t.segments[i],c=n[r];if(ya(c))break;let u=`${c}`,d=r<n.length-1?n[r+1]:null;if(i>0&&u===void 0)break;if(u&&d&&typeof d=="object"&&d.outlets===void 0){if(!aC(u,d,s))return o;r+=2}else{if(!aC(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function sg(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let o=n[i];if(ya(o)){let u=OO(o.outlets);return new ye(r,u)}if(i===0&&fl(n[0])){let u=t.segments[e];r.push(new hi(u.path,sC(n[0]))),i++;continue}let s=ya(o)?o.outlets[Z]:`${o}`,c=i<n.length-1?n[i+1]:null;s&&c&&fl(c)?(r.push(new hi(s,sC(c))),i+=2):(r.push(new hi(s,{})),i++)}return new ye(r,{})}function OO(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=sg(new ye([],{}),0,r))}),e}function sC(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function aC(t,e,n){return t==n.path&&ln(e,n.parameters)}var pa="imperative",Xe=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Xe||{}),Vt=class{constructor(e,n){this.id=e,this.url=n}},va=class extends Vt{constructor(e,n,r="imperative",i=null){super(e,n),this.type=Xe.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Un=class extends Vt{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=Xe.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},St=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(St||{}),ag=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(ag||{}),Vn=class extends Vt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Xe.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},gi=class extends Vt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Xe.NavigationSkipped}},_a=class extends Vt{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=Xe.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},gl=class extends Vt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Xe.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},cg=class extends Vt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Xe.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ug=class extends Vt{constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=Xe.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},lg=class extends Vt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Xe.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},dg=class extends Vt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Xe.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},hg=class{constructor(e){this.route=e,this.type=Xe.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},fg=class{constructor(e){this.route=e,this.type=Xe.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},pg=class{constructor(e){this.snapshot=e,this.type=Xe.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},gg=class{constructor(e){this.snapshot=e,this.type=Xe.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},mg=class{constructor(e){this.snapshot=e,this.type=Xe.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},yg=class{constructor(e){this.snapshot=e,this.type=Xe.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Ia=class{},xo=class{constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function kO(t,e){return t.providers&&!t._injector&&(t._injector=Vp(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Zt(t){return t.outlet||Z}function FO(t,e){let n=t.filter(r=>Zt(r)===e);return n.push(...t.filter(r=>Zt(r)!==e)),n}function Ta(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var vg=class{get injector(){return Ta(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new Dl(this.rootInjector),this.attachRef=null}},Dl=(()=>{class t{constructor(n){this.rootInjector=n,this.contexts=new Map}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new vg(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static{this.\u0275fac=function(r){return new(r||t)(te(Ot))}}static{this.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),ml=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=_g(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=_g(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=Ig(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Ig(e,this._root).map(n=>n.value)}};function _g(t,e){if(t===e.value)return e;for(let n of e.children){let r=_g(t,n);if(r)return r}return null}function Ig(t,e){if(t===e.value)return[e];for(let n of e.children){let r=Ig(t,n);if(r.length)return r.unshift(e),r}return[]}var Tt=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function So(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var yl=class extends ml{constructor(e,n){super(e),this.snapshot=n,Mg(this,e)}toString(){return this.snapshot.toString()}};function bC(t){let e=LO(t),n=new Ze([new hi("",{})]),r=new Ze({}),i=new Ze({}),o=new Ze({}),s=new Ze(""),c=new mi(n,r,o,s,i,Z,t,e.root);return c.snapshot=e.root,new yl(new Tt(c,[]),e)}function LO(t){let e={},n={},r={},i="",o=new Ro([],e,r,i,n,Z,t,null,{});return new _l("",new Tt(o,[]))}var mi=class{constructor(e,n,r,i,o,s,c,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=c,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(re(d=>d[ba]))??W(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(re(e=>No(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(re(e=>No(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function vl(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:O(O({},e.params),t.params),data:O(O({},e.data),t.data),resolve:O(O(O(O({},t.data),e.data),i?.data),t._resolvedData)}:r={params:O({},t.params),data:O({},t.data),resolve:O(O({},t.data),t._resolvedData??{})},i&&SC(i)&&(r.resolve[ba]=i.title),r}var Ro=class{get title(){return this.data?.[ba]}constructor(e,n,r,i,o,s,c,u,d){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=c,this.routeConfig=u,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=No(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=No(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},_l=class extends ml{constructor(e,n){super(n),this.url=e,Mg(this,n)}toString(){return TC(this._root)}};function Mg(t,e){e.value._routerState=t,e.children.forEach(n=>Mg(t,n))}function TC(t){let e=t.children.length>0?` { ${t.children.map(TC).join(", ")} } `:"";return`${t.value}${e}`}function eg(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,ln(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),ln(e.params,n.params)||t.paramsSubject.next(n.params),lO(e.url,n.url)||t.urlSubject.next(n.url),ln(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function wg(t,e){let n=ln(t.params,e.params)&&pO(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||wg(t.parent,e.parent))}function SC(t){return typeof t.title=="string"||t.title===null}var Sa=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=Z,this.activateEvents=new Re,this.deactivateEvents=new Re,this.attachEvents=new Re,this.detachEvents=new Re,this.parentContexts=k(Dl),this.location=k(yr),this.changeDetector=k(vr),this.inputBinder=k(Ng,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new V(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new V(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new V(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new V(4013,!1);this._activatedRoute=n;let i=this.location,s=n.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,u=new Eg(n,c,i.injector);this.activated=i.createComponent(s,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=qe({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Pn]})}}return t})(),Eg=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===mi?this.route:e===Dl?this.childContexts:this.parent.get(e,n)}},Ng=new j("");function VO(t,e,n){let r=wa(t,e._root,n?n._root:void 0);return new yl(r,e)}function wa(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=jO(t,e,n);return new Tt(r,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(c=>wa(t,c)),s}}let r=UO(e.value),i=e.children.map(o=>wa(t,o));return new Tt(r,i)}}function jO(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return wa(t,r,i);return wa(t,r)})}function UO(t){return new mi(new Ze(t.url),new Ze(t.params),new Ze(t.queryParams),new Ze(t.fragment),new Ze(t.data),t.outlet,t.component,t)}var Ea=class{constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},AC="ngNavigationCancelingError";function Il(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=pi(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=RC(!1,St.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function RC(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[AC]=!0,n.cancellationCode=e,n}function BO(t){return MC(t)&&pi(t.url)}function MC(t){return!!t&&t[AC]}var $O=(t,e,n,r)=>re(i=>(new Dg(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),Dg=class{constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),eg(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=So(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=So(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),c=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:c})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=So(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=So(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new yg(o.value.snapshot))}),e.children.length&&this.forwardEvent(new gg(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(eg(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let c=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(c.contexts),s.attachRef=c.componentRef,s.route=c.route.value,s.outlet&&s.outlet.attach(c.componentRef,c.route.value),eg(c.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},wl=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Mo=class{constructor(e,n){this.component=e,this.route=n}};function HO(t,e,n){let r=t._root,i=e?e._root:null;return da(r,i,n,[r.value])}function qO(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Oo(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!mw(t)?t:e.get(t):r}function da(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=So(e);return t.children.forEach(s=>{zO(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,c])=>ga(c,n.getContext(s),i)),i}function zO(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,c=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=GO(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new wl(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?da(t,e,c?c.children:null,r,i):da(t,e,n,r,i),u&&c&&c.outlet&&c.outlet.isActivated&&i.canDeactivateChecks.push(new Mo(c.outlet.component,s))}else s&&ga(e,c,i),i.canActivateChecks.push(new wl(r)),o.component?da(t,null,c?c.children:null,r,i):da(t,null,n,r,i);return i}function GO(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!fi(t.url,e.url);case"pathParamsOrQueryParamsChange":return!fi(t.url,e.url)||!ln(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!wg(t,e)||!ln(t.queryParams,e.queryParams);case"paramsChange":default:return!wg(t,e)}}function ga(t,e,n){let r=So(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?e?ga(s,e.children.getContext(o),n):ga(s,null,n):ga(s,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Mo(e.outlet.component,i)):n.canDeactivateChecks.push(new Mo(null,i)):n.canDeactivateChecks.push(new Mo(null,i))}function Aa(t){return typeof t=="function"}function WO(t){return typeof t=="boolean"}function KO(t){return t&&Aa(t.canLoad)}function QO(t){return t&&Aa(t.canActivate)}function YO(t){return t&&Aa(t.canActivateChild)}function ZO(t){return t&&Aa(t.canDeactivate)}function JO(t){return t&&Aa(t.canMatch)}function NC(t){return t instanceof Cn||t?.name==="EmptyError"}var ul=Symbol("INITIAL_VALUE");function Po(){return zt(t=>ou(t.map(e=>e.pipe(bn(1),zh(ul)))).pipe(re(e=>{for(let n of e)if(n!==!0){if(n===ul)return ul;if(n===!1||XO(n))return n}return!0}),qt(e=>e!==ul),bn(1)))}function XO(t){return pi(t)||t instanceof Ea}function ek(t,e){return Ve(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?W(oe(O({},n),{guardsResult:!0})):tk(s,r,i,t).pipe(Ve(c=>c&&WO(c)?nk(r,o,t,e):W(c)),re(c=>oe(O({},n),{guardsResult:c})))})}function tk(t,e,n,r){return Ae(t).pipe(Ve(i=>ak(i.component,i.route,n,e,r)),en(i=>i!==!0,!0))}function nk(t,e,n,r){return Ae(e).pipe(Xi(i=>Ji(ik(i.route.parent,r),rk(i.route,r),sk(t,i.path,n),ok(t,i.route,n))),en(i=>i!==!0,!0))}function rk(t,e){return t!==null&&e&&e(new mg(t)),W(!0)}function ik(t,e){return t!==null&&e&&e(new pg(t)),W(!0)}function ok(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return W(!0);let i=r.map(o=>su(()=>{let s=Ta(e)??n,c=Oo(o,s),u=QO(c)?c.canActivate(e,t):Mn(s,()=>c(e,t));return wr(u).pipe(en())}));return W(i).pipe(Po())}function sk(t,e,n){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>qO(s)).filter(s=>s!==null).map(s=>su(()=>{let c=s.guards.map(u=>{let d=Ta(s.node)??n,f=Oo(u,d),g=YO(f)?f.canActivateChild(r,t):Mn(d,()=>f(r,t));return wr(g).pipe(en())});return W(c).pipe(Po())}));return W(o).pipe(Po())}function ak(t,e,n,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return W(!0);let s=o.map(c=>{let u=Ta(e)??i,d=Oo(c,u),f=ZO(d)?d.canDeactivate(t,e,n,r):Mn(u,()=>d(t,e,n,r));return wr(f).pipe(en())});return W(s).pipe(Po())}function ck(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return W(!0);let o=i.map(s=>{let c=Oo(s,t),u=KO(c)?c.canLoad(e,n):Mn(t,()=>c(e,n));return wr(u)});return W(o).pipe(Po(),xC(r))}function xC(t){return xh(je(e=>{if(typeof e!="boolean")throw Il(t,e)}),re(e=>e===!0))}function uk(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return W(!0);let o=i.map(s=>{let c=Oo(s,t),u=JO(c)?c.canMatch(e,n):Mn(t,()=>c(e,n));return wr(u)});return W(o).pipe(Po(),xC(r))}var Da=class{constructor(e){this.segmentGroup=e||null}},Ca=class extends Error{constructor(e){super(),this.urlTree=e}};function To(t){return Yi(new Da(t))}function lk(t){return Yi(new V(4e3,!1))}function dk(t){return Yi(RC(!1,St.GuardRejected))}var Cg=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return W(r);if(i.numberOfChildren>1||!i.children[Z])return lk(`${e.redirectTo}`);i=i.children[Z]}}applyRedirectCommands(e,n,r,i,o){if(typeof n!="string"){let c=n,{queryParams:u,fragment:d,routeConfig:f,url:g,outlet:_,params:E,data:A,title:x}=i,N=Mn(o,()=>c({params:E,data:A,queryParams:u,fragment:d,routeConfig:f,url:g,outlet:_,title:x}));if(N instanceof jn)throw new Ca(N);n=N}let s=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n[0]==="/")throw new Ca(s);return s}applyRedirectCreateUrlTree(e,n,r,i){let o=this.createSegmentGroup(e,n.root,r,i);return new jn(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let c=o.substring(1);r[i]=n[c]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){let o=this.createSegments(e,n.segments,r,i),s={};return Object.entries(n.children).forEach(([c,u])=>{s[c]=this.createSegmentGroup(e,u,r,i)}),new ye(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new V(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},bg={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function hk(t,e,n,r,i){let o=PC(t,e,n);return o.matched?(r=kO(e,r),uk(r,e,n,i).pipe(re(s=>s===!0?o:O({},bg)))):W(o)}function PC(t,e,n){if(e.path==="**")return fk(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?O({},bg):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||uO)(n,t,e);if(!i)return O({},bg);let o={};Object.entries(i.posParams??{}).forEach(([c,u])=>{o[c]=u.path});let s=i.consumed.length>0?O(O({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function fk(t){return{matched:!0,parameters:t.length>0?hC(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function cC(t,e,n,r){return n.length>0&&mk(t,n,r)?{segmentGroup:new ye(e,gk(r,new ye(n,t.children))),slicedSegments:[]}:n.length===0&&yk(t,n,r)?{segmentGroup:new ye(t.segments,pk(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new ye(t.segments,t.children),slicedSegments:n}}function pk(t,e,n,r){let i={};for(let o of n)if(Cl(t,e,o)&&!r[Zt(o)]){let s=new ye([],{});i[Zt(o)]=s}return O(O({},r),i)}function gk(t,e){let n={};n[Z]=e;for(let r of t)if(r.path===""&&Zt(r)!==Z){let i=new ye([],{});n[Zt(r)]=i}return n}function mk(t,e,n){return n.some(r=>Cl(t,e,r)&&Zt(r)!==Z)}function yk(t,e,n){return n.some(r=>Cl(t,e,r))}function Cl(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function vk(t,e,n){return e.length===0&&!t.children[n]}var Tg=class{};function _k(t,e,n,r,i,o,s="emptyOnly"){return new Sg(t,e,n,r,i,s,o).recognize()}var Ik=31,Sg=class{constructor(e,n,r,i,o,s,c){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=c,this.applyRedirects=new Cg(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new V(4002,`'${e.segmentGroup}'`)}recognize(){let e=cC(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(re(({children:n,rootSnapshot:r})=>{let i=new Tt(r,n),o=new _l("",i),s=AO(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let n=new Ro([],Object.freeze({}),Object.freeze(O({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),Z,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,Z,n).pipe(re(r=>({children:r,rootSnapshot:n})),or(r=>{if(r instanceof Ca)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Da?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,o):this.processSegment(e,n,r,r.segments,i,!0,o).pipe(re(s=>s instanceof Tt?[s]:[]))}processChildren(e,n,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return Ae(o).pipe(Xi(s=>{let c=r.children[s],u=FO(n,s);return this.processSegmentGroup(e,u,c,s,i)}),qh((s,c)=>(s.push(...c),s)),sr(null),Hh(),Ve(s=>{if(s===null)return To(r);let c=OC(s);return wk(c),W(c)}))}processSegment(e,n,r,i,o,s,c){return Ae(n).pipe(Xi(u=>this.processSegmentAgainstRoute(u._injector??e,n,u,r,i,o,s,c).pipe(or(d=>{if(d instanceof Da)return W(null);throw d}))),en(u=>!!u),or(u=>{if(NC(u))return vk(r,i,o)?W(new Tg):To(r);throw u}))}processSegmentAgainstRoute(e,n,r,i,o,s,c,u){return Zt(r)!==s&&(s===Z||!Cl(i,o,r))?To(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,u):this.allowRedirects&&c?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s,u):To(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s,c){let{matched:u,parameters:d,consumedSegments:f,positionalParamSegments:g,remainingSegments:_}=PC(n,i,o);if(!u)return To(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>Ik&&(this.allowRedirects=!1));let E=new Ro(o,d,Object.freeze(O({},this.urlTree.queryParams)),this.urlTree.fragment,uC(i),Zt(i),i.component??i._loadedComponent??null,i,lC(i)),A=vl(E,c,this.paramsInheritanceStrategy);E.params=Object.freeze(A.params),E.data=Object.freeze(A.data);let x=this.applyRedirects.applyRedirectCommands(f,i.redirectTo,g,E,e);return this.applyRedirects.lineralizeSegments(i,x).pipe(Ve(N=>this.processSegment(e,r,n,N.concat(_),s,!1,c)))}matchSegmentAgainstRoute(e,n,r,i,o,s){let c=hk(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),c.pipe(zt(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(zt(({routes:d})=>{let f=r._loadedInjector??e,{parameters:g,consumedSegments:_,remainingSegments:E}=u,A=new Ro(_,g,Object.freeze(O({},this.urlTree.queryParams)),this.urlTree.fragment,uC(r),Zt(r),r.component??r._loadedComponent??null,r,lC(r)),x=vl(A,s,this.paramsInheritanceStrategy);A.params=Object.freeze(x.params),A.data=Object.freeze(x.data);let{segmentGroup:N,slicedSegments:F}=cC(n,_,E,d);if(F.length===0&&N.hasChildren())return this.processChildren(f,d,N,A).pipe(re(J=>new Tt(A,J)));if(d.length===0&&F.length===0)return W(new Tt(A,[]));let Q=Zt(r)===o;return this.processSegment(f,d,N,F,Q?Z:o,!0,A).pipe(re(J=>new Tt(A,J instanceof Tt?[J]:[])))}))):To(n)))}getChildConfig(e,n,r){return n.children?W({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?W({routes:n._loadedRoutes,injector:n._loadedInjector}):ck(e,n,r,this.urlSerializer).pipe(Ve(i=>i?this.configLoader.loadChildren(e,n).pipe(je(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):dk(n))):W({routes:[],injector:e})}};function wk(t){t.sort((e,n)=>e.value.outlet===Z?-1:n.value.outlet===Z?1:e.value.outlet.localeCompare(n.value.outlet))}function Ek(t){let e=t.value.routeConfig;return e&&e.path===""}function OC(t){let e=[],n=new Set;for(let r of t){if(!Ek(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=OC(r.children);e.push(new Tt(r.value,i))}return e.filter(r=>!n.has(r))}function uC(t){return t.data||{}}function lC(t){return t.resolve||{}}function Dk(t,e,n,r,i,o){return Ve(s=>_k(t,e,n,r,s.extractedUrl,i,o).pipe(re(({state:c,tree:u})=>oe(O({},s),{targetSnapshot:c,urlAfterRedirects:u}))))}function Ck(t,e){return Ve(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return W(n);let o=new Set(i.map(u=>u.route)),s=new Set;for(let u of o)if(!s.has(u))for(let d of kC(u))s.add(d);let c=0;return Ae(s).pipe(Xi(u=>o.has(u)?bk(u,r,t,e):(u.data=vl(u,u.parent,t).resolve,W(void 0))),je(()=>c++),eo(1),Ve(u=>c===s.size?W(n):Dt))})}function kC(t){let e=t.children.map(n=>kC(n)).flat();return[t,...e]}function bk(t,e,n,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!SC(i)&&(o[ba]=i.title),Tk(o,t,e,r).pipe(re(s=>(t._resolvedData=s,t.data=vl(t,t.parent,n).resolve,null)))}function Tk(t,e,n,r){let i=rg(t);if(i.length===0)return W({});let o={};return Ae(i).pipe(Ve(s=>Sk(t[s],e,n,r).pipe(en(),je(c=>{if(c instanceof Ea)throw Il(new ma,c);o[s]=c}))),eo(1),$h(o),or(s=>NC(s)?Dt:Yi(s)))}function Sk(t,e,n,r){let i=Ta(e)??r,o=Oo(t,i),s=o.resolve?o.resolve(e,n):Mn(i,()=>o(e,n));return wr(s)}function tg(t){return zt(e=>{let n=t(e);return n?Ae(n).pipe(re(()=>e)):W(e)})}var FC=(()=>{class t{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===Z);return r}getResolvedTitleForRoute(n){return n.data[ba]}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=q({token:t,factory:()=>k(Ak),providedIn:"root"})}}return t})(),Ak=(()=>{class t extends FC{constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||t)(te(rC))}}static{this.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),xg=new j("",{providedIn:"root",factory:()=>({})}),Rk=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=_t({type:t,selectors:[["ng-component"]],standalone:!0,features:[It],decls:1,vars:0,template:function(r,i){r&1&&Je(0,"router-outlet")},dependencies:[Sa],encapsulation:2})}}return t})();function Pg(t){let e=t.children&&t.children.map(Pg),n=e?oe(O({},t),{children:e}):O({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==Z&&(n.component=Rk),n}var Og=new j(""),Mk=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=k(Up)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return W(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let r=wr(n.loadComponent()).pipe(re(LC),je(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),Ls(()=>{this.componentLoaders.delete(n)})),i=new Gi(r,()=>new He).pipe(zi());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return W({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=Nk(r,this.compiler,n,this.onLoadEndListener).pipe(Ls(()=>{this.childrenLoaders.delete(r)})),s=new Gi(o,()=>new He).pipe(zi());return this.childrenLoaders.set(r,s),s}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Nk(t,e,n,r){return wr(t.loadChildren()).pipe(re(LC),Ve(i=>i instanceof Gs||Array.isArray(i)?W(i):Ae(e.compileModuleAsync(i))),re(i=>{r&&r(t);let o,s,c=!1;return Array.isArray(i)?(s=i,c=!0):(o=i.create(n).injector,s=o.get(Og,[],{optional:!0,self:!0}).flat()),{routes:s.map(Pg),injector:o}}))}function xk(t){return t&&typeof t=="object"&&"default"in t}function LC(t){return xk(t)?t.default:t}var kg=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=q({token:t,factory:()=>k(Pk),providedIn:"root"})}}return t})(),Pk=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Ok=new j("");var kk=new j(""),Fk=(()=>{class t{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new He,this.transitionAbortSubject=new He,this.configLoader=k(Mk),this.environmentInjector=k(Ot),this.urlSerializer=k(Rg),this.rootContexts=k(Dl),this.location=k(ia),this.inputBindingEnabled=k(Ng,{optional:!0})!==null,this.titleStrategy=k(FC),this.options=k(xg,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=k(kg),this.createViewTransition=k(Ok,{optional:!0}),this.navigationErrorHandler=k(kk,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>W(void 0),this.rootComponentType=null;let n=i=>this.events.next(new hg(i)),r=i=>this.events.next(new fg(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next(oe(O(O({},this.transitions.value),n),{id:r}))}setupNavigations(n,r,i){return this.transitions=new Ze({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:pa,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(qt(o=>o.id!==0),re(o=>oe(O({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),zt(o=>{let s=!1,c=!1;return W(o).pipe(zt(u=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",St.SupersededByNewNavigation),Dt;this.currentTransition=o,this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,targetBrowserUrl:typeof u.extras.browserUrl=="string"?this.urlSerializer.parse(u.extras.browserUrl):u.extras.browserUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?oe(O({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let d=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),f=u.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!d&&f!=="reload"){let g="";return this.events.next(new gi(u.id,this.urlSerializer.serialize(u.rawUrl),g,ag.IgnoredSameUrlNavigation)),u.resolve(!1),Dt}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return W(u).pipe(zt(g=>{let _=this.transitions?.getValue();return this.events.next(new va(g.id,this.urlSerializer.serialize(g.extractedUrl),g.source,g.restoredState)),_!==this.transitions?.getValue()?Dt:Promise.resolve(g)}),Dk(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),je(g=>{o.targetSnapshot=g.targetSnapshot,o.urlAfterRedirects=g.urlAfterRedirects,this.currentNavigation=oe(O({},this.currentNavigation),{finalUrl:g.urlAfterRedirects});let _=new gl(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects),g.targetSnapshot);this.events.next(_)}));if(d&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){let{id:g,extractedUrl:_,source:E,restoredState:A,extras:x}=u,N=new va(g,this.urlSerializer.serialize(_),E,A);this.events.next(N);let F=bC(this.rootComponentType).snapshot;return this.currentTransition=o=oe(O({},u),{targetSnapshot:F,urlAfterRedirects:_,extras:oe(O({},x),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=_,W(o)}else{let g="";return this.events.next(new gi(u.id,this.urlSerializer.serialize(u.extractedUrl),g,ag.IgnoredByUrlHandlingStrategy)),u.resolve(!1),Dt}}),je(u=>{let d=new cg(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}),re(u=>(this.currentTransition=o=oe(O({},u),{guards:HO(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),o)),ek(this.environmentInjector,u=>this.events.next(u)),je(u=>{if(o.guardsResult=u.guardsResult,u.guardsResult&&typeof u.guardsResult!="boolean")throw Il(this.urlSerializer,u.guardsResult);let d=new ug(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(d)}),qt(u=>u.guardsResult?!0:(this.cancelNavigationTransition(u,"",St.GuardRejected),!1)),tg(u=>{if(u.guards.canActivateChecks.length)return W(u).pipe(je(d=>{let f=new lg(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(f)}),zt(d=>{let f=!1;return W(d).pipe(Ck(this.paramsInheritanceStrategy,this.environmentInjector),je({next:()=>f=!0,complete:()=>{f||this.cancelNavigationTransition(d,"",St.NoDataFromResolver)}}))}),je(d=>{let f=new dg(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(f)}))}),tg(u=>{let d=f=>{let g=[];f.routeConfig?.loadComponent&&!f.routeConfig._loadedComponent&&g.push(this.configLoader.loadComponent(f.routeConfig).pipe(je(_=>{f.component=_}),re(()=>{})));for(let _ of f.children)g.push(...d(_));return g};return ou(d(u.targetSnapshot.root)).pipe(sr(null),bn(1))}),tg(()=>this.afterPreactivation()),zt(()=>{let{currentSnapshot:u,targetSnapshot:d}=o,f=this.createViewTransition?.(this.environmentInjector,u.root,d.root);return f?Ae(f).pipe(re(()=>o)):W(o)}),re(u=>{let d=VO(n.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=o=oe(O({},u),{targetRouterState:d}),this.currentNavigation.targetRouterState=d,o}),je(()=>{this.events.next(new Ia)}),$O(this.rootContexts,n.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),bn(1),je({next:u=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Un(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),this.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{s=!0}}),Gh(this.transitionAbortSubject.pipe(je(u=>{throw u}))),Ls(()=>{!s&&!c&&this.cancelNavigationTransition(o,"",St.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),or(u=>{if(c=!0,MC(u))this.events.next(new Vn(o.id,this.urlSerializer.serialize(o.extractedUrl),u.message,u.cancellationCode)),BO(u)?this.events.next(new xo(u.url,u.navigationBehaviorOptions)):o.resolve(!1);else{let d=new _a(o.id,this.urlSerializer.serialize(o.extractedUrl),u,o.targetSnapshot??void 0);try{let f=Mn(this.environmentInjector,()=>this.navigationErrorHandler?.(d));if(f instanceof Ea){let{message:g,cancellationCode:_}=Il(this.urlSerializer,f);this.events.next(new Vn(o.id,this.urlSerializer.serialize(o.extractedUrl),g,_)),this.events.next(new xo(f.redirectTo,f.navigationBehaviorOptions))}else{this.events.next(d);let g=n.errorHandler(u);o.resolve(!!g)}}catch(f){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(f)}}return Dt}))}))}cancelNavigationTransition(n,r,i){let o=new Vn(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Lk(t){return t!==pa}var Vk=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=q({token:t,factory:()=>k(jk),providedIn:"root"})}}return t})(),Ag=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},jk=(()=>{class t extends Ag{static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=_o(t)))(i||t)}})()}static{this.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),VC=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=q({token:t,factory:()=>k(Uk),providedIn:"root"})}}return t})(),Uk=(()=>{class t extends VC{constructor(){super(...arguments),this.location=k(ia),this.urlSerializer=k(Rg),this.options=k(xg,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=k(kg),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new jn,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=bC(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&n(r.url,r.state)})}handleRouterEvent(n,r){if(n instanceof va)this.stateMemento=this.createStateMemento();else if(n instanceof gi)this.rawUrlTree=r.initialUrl;else if(n instanceof gl){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??i,r)}}else n instanceof Ia?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):n instanceof Vn&&(n.code===St.GuardRejected||n.code===St.NoDataFromResolver)?this.restoreHistory(r):n instanceof _a?this.restoreHistory(r,!0):n instanceof Un&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,r){let i=n instanceof jn?this.urlSerializer.serialize(n):n;if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let o=this.browserPageId,s=O(O({},r.extras.state),this.generateNgRouterState(r.id,o));this.location.replaceState(i,"",s)}else{let o=O(O({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",o)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.currentUrlTree===n.finalUrl&&o===0&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=_o(t)))(i||t)}})()}static{this.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),ha=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(ha||{});function Bk(t,e){t.events.pipe(qt(n=>n instanceof Un||n instanceof Vn||n instanceof _a||n instanceof gi),re(n=>n instanceof Un||n instanceof gi?ha.COMPLETE:(n instanceof Vn?n.code===St.Redirect||n.code===St.SupersededByNewNavigation:!1)?ha.REDIRECTING:ha.FAILED),qt(n=>n!==ha.REDIRECTING),bn(1)).subscribe(()=>{e()})}function $k(t){throw t}var Hk={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},qk={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},jt=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=k(rl),this.stateManager=k(VC),this.options=k(xg,{optional:!0})||{},this.pendingTasks=k(Io),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=k(Fk),this.urlSerializer=k(Rg),this.location=k(ia),this.urlHandlingStrategy=k(kg),this._events=new He,this.errorHandler=this.options.errorHandler||$k,this.navigated=!1,this.routeReuseStrategy=k(Vk),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=k(Og,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!k(Ng,{optional:!0}),this.eventsSubscription=new Se,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof Vn&&r.code!==St.Redirect&&r.code!==St.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Un)this.navigated=!0;else if(r instanceof xo){let s=r.navigationBehaviorOptions,c=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u=O({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||Lk(i.source)},s);this.scheduleNavigation(c,pa,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}Gk(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),pa,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",r)},0)})}navigateToSyncWithBrowser(n,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let u=O({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let c=this.parseUrl(n);this.scheduleNavigation(c,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(Pg),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:c,preserveFragment:u}=r,d=u?this.currentUrlTree.fragment:s,f=null;switch(c??this.options.defaultQueryParamsHandling){case"merge":f=O(O({},this.currentUrlTree.queryParams),o);break;case"preserve":f=this.currentUrlTree.queryParams;break;default:f=o||null}f!==null&&(f=this.removeEmptyProps(f));let g;try{let _=i?i.snapshot:this.routerState.snapshot.root;g=wC(_)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),g=this.currentUrlTree.root}return EC(g,n,f,d??null)}navigateByUrl(n,r={skipLocationChange:!1}){let i=pi(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,pa,null,r)}navigate(n,r={skipLocationChange:!1}){return zk(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=O({},Hk):r===!1?i=O({},qk):i=r,pi(n))return iC(this.currentUrlTree,n,i);let o=this.parseUrl(n);return iC(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let c,u,d;s?(c=s.resolve,u=s.reject,d=s.promise):d=new Promise((g,_)=>{c=g,u=_});let f=this.pendingTasks.add();return Bk(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(f))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:c,reject:u,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(g=>Promise.reject(g))}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function zk(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new V(4008,!1)}function Gk(t){return!(t instanceof Ia)&&!(t instanceof xo)}var El=(()=>{class t{constructor(n,r,i,o,s,c){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=c,this.href=null,this.onChanges=new He,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;let u=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=u==="a"||u==="area",this.isAnchorElement?this.subscription=n.events.subscribe(d=>{d instanceof Un&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(n){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(n){n==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(pi(n)?this.routerLinkInput=n:this.routerLinkInput=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0"))}onClick(n,r,i,o,s){let c=this.urlTree;if(c===null||this.isAnchorElement&&(n!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let u={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(c,u),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let n=this.urlTree;this.href=n!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(n)):null;let r=this.href===null?null:PE(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(n,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,n,r):i.removeAttribute(o,n)}get urlTree(){return this.routerLinkInput===null?null:pi(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(r){return new(r||t)(H(jt),H(mi),vp("tabindex"),H(mr),H(Ft),H(bo))}}static{this.\u0275dir=qe({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&xe("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&ta("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",_r],skipLocationChange:[2,"skipLocationChange","skipLocationChange",_r],replaceUrl:[2,"replaceUrl","replaceUrl",_r],routerLink:"routerLink"},standalone:!0,features:[Lp,Pn]})}}return t})(),jC=(()=>{class t{get isActive(){return this._isActive}constructor(n,r,i,o,s){this.router=n,this.element=r,this.renderer=i,this.cdr=o,this.link=s,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new Re,this.routerEventsSubscription=n.events.subscribe(c=>{c instanceof Un&&this.update()})}ngAfterContentInit(){W(this.links.changes,W(null)).pipe(Zi()).subscribe(n=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let n=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=Ae(n).pipe(Zi()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(n){let r=Array.isArray(n)?n:n.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(n){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let n=this.hasActiveLinks();this.classes.forEach(r=>{n?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),n&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==n&&(this._isActive=n,this.cdr.markForCheck(),this.isActiveChange.emit(n))})}isLinkActive(n){let r=Wk(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>{let o=i.urlTree;return o?n.isActive(o,r):!1}}hasActiveLinks(){let n=this.isLinkActive(this.router);return this.link&&n(this.link)||this.links.some(n)}static{this.\u0275fac=function(r){return new(r||t)(H(jt),H(Ft),H(mr),H(vr),H(El,8))}}static{this.\u0275dir=qe({type:t,selectors:[["","routerLinkActive",""]],contentQueries:function(r,i,o){if(r&1&&ED(o,El,5),r&2){let s;DD(s=CD())&&(i.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[Pn]})}}return t})();function Wk(t){return!!t.paths}var Kk=new j("");function UC(t,...e){return cn([{provide:Og,multi:!0,useValue:t},[],{provide:mi,useFactory:Qk,deps:[jt]},{provide:jp,multi:!0,useFactory:Yk},e.map(n=>n.\u0275providers)])}function Qk(t){return t.routerState.root}function Yk(){let t=k(vt);return e=>{let n=t.get(li);if(e!==n.components[0])return;let r=t.get(jt),i=t.get(Zk);t.get(Jk)===1&&r.initialNavigation(),t.get(Xk,null,ee.Optional)?.setUpPreloading(),t.get(Kk,null,ee.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var Zk=new j("",{factory:()=>new He}),Jk=new j("",{providedIn:"root",factory:()=>1});var Xk=new j("");var QC=(()=>{class t{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static{this.\u0275fac=function(r){return new(r||t)(H(mr),H(Ft))}}static{this.\u0275dir=qe({type:t})}}return t})(),e1=(()=>{class t extends QC{static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=_o(t)))(i||t)}})()}static{this.\u0275dir=qe({type:t,features:[On]})}}return t})(),YC=new j("");var t1={provide:YC,useExisting:ti(()=>jo),multi:!0};function n1(){let t=Fn()?Fn().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var r1=new j(""),jo=(()=>{class t extends QC{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!n1())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static{this.\u0275fac=function(r){return new(r||t)(H(mr),H(Ft),H(r1,8))}}static{this.\u0275dir=qe({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&xe("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[na([t1]),On]})}}return t})();function i1(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}var Lg=new j(""),ZC=new j("");function o1(t){return i1(t.value)?{required:!0}:null}function BC(t){return null}function JC(t){return t!=null}function XC(t){return ui(t)?Ae(t):t}function eb(t){let e={};return t.forEach(n=>{e=n!=null?O(O({},e),n):e}),Object.keys(e).length===0?null:e}function tb(t,e){return e.map(n=>n(t))}function s1(t){return!t.validate}function nb(t){return t.map(e=>s1(e)?e:n=>e.validate(n))}function a1(t){if(!t)return null;let e=t.filter(JC);return e.length==0?null:function(n){return eb(tb(n,e))}}function Vg(t){return t!=null?a1(nb(t)):null}function c1(t){if(!t)return null;let e=t.filter(JC);return e.length==0?null:function(n){let r=tb(n,e).map(XC);return Bh(r).pipe(re(eb))}}function jg(t){return t!=null?c1(nb(t)):null}function $C(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function u1(t){return t._rawValidators}function l1(t){return t._rawAsyncValidators}function Fg(t){return t?Array.isArray(t)?t:[t]:[]}function Sl(t,e){return Array.isArray(t)?t.includes(e):t===e}function HC(t,e){let n=Fg(e);return Fg(t).forEach(i=>{Sl(n,i)||n.push(i)}),n}function qC(t,e){return Fg(e).filter(n=>!Sl(t,n))}var Al=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Vg(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=jg(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},Lo=class extends Al{get formDirective(){return null}get path(){return null}},Oa=class extends Al{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Rl=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},d1={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},A3=oe(O({},d1),{"[class.ng-submitted]":"isSubmitted"}),Pl=(()=>{class t extends Rl{constructor(n){super(n)}static{this.\u0275fac=function(r){return new(r||t)(H(Oa,2))}}static{this.\u0275dir=qe({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&nl("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[On]})}}return t})(),Ol=(()=>{class t extends Rl{constructor(n){super(n)}static{this.\u0275fac=function(r){return new(r||t)(H(Lo,10))}}static{this.\u0275dir=qe({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&nl("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[On]})}}return t})();var Ra="VALID",Tl="INVALID",ko="PENDING",Ma="DISABLED",Vo=class{},Ml=class extends Vo{constructor(e,n){super(),this.value=e,this.source=n}},xa=class extends Vo{constructor(e,n){super(),this.pristine=e,this.source=n}},Pa=class extends Vo{constructor(e,n){super(),this.touched=e,this.source=n}},Fo=class extends Vo{constructor(e,n){super(),this.status=e,this.source=n}};function rb(t){return(kl(t)?t.validators:t)||null}function h1(t){return Array.isArray(t)?Vg(t):t||null}function ib(t,e){return(kl(e)?e.asyncValidators:t)||null}function f1(t){return Array.isArray(t)?jg(t):t||null}function kl(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function p1(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new V(1e3,"");if(!r[n])throw new V(1001,"")}function g1(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new V(1002,"")})}var Nl=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=ra(()=>this.statusReactive()),this.statusReactive=Xs(void 0),this._pristine=ra(()=>this.pristineReactive()),this.pristineReactive=Xs(!0),this._touched=ra(()=>this.touchedReactive()),this.touchedReactive=Xs(!1),this._events=new He,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return kn(this.statusReactive)}set status(e){kn(()=>this.statusReactive.set(e))}get valid(){return this.status===Ra}get invalid(){return this.status===Tl}get pending(){return this.status==ko}get disabled(){return this.status===Ma}get enabled(){return this.status!==Ma}get pristine(){return kn(this.pristineReactive)}set pristine(e){kn(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return kn(this.touchedReactive)}set touched(e){kn(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(HC(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(HC(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(qC(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(qC(e,this._rawAsyncValidators))}hasValidator(e){return Sl(this._rawValidators,e)}hasAsyncValidator(e){return Sl(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(oe(O({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new Pa(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new Pa(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(oe(O({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new xa(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new xa(!0,r))}markAsPending(e={}){this.status=ko;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Fo(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(oe(O({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Ma,this.errors=null,this._forEachChild(i=>{i.disable(oe(O({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Ml(this.value,r)),this._events.next(new Fo(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(oe(O({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Ra,this._forEachChild(r=>{r.enable(oe(O({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(oe(O({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ra||this.status===ko)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Ml(this.value,n)),this._events.next(new Fo(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(oe(O({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ma:Ra}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=ko,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let r=XC(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Fo(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new Re,this.statusChanges=new Re}_calculateStatus(){return this._allControlsDisabled()?Ma:this.errors?Tl:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ko)?ko:this._anyControlsHaveStatus(Tl)?Tl:Ra}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&this._events.next(new xa(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new Pa(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){kl(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=h1(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=f1(this._rawAsyncValidators)}},xl=class extends Nl{constructor(e,n,r){super(rb(n),ib(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){g1(this,!0,e),Object.keys(e).forEach(r=>{p1(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Ug=new j("CallSetDisabledState",{providedIn:"root",factory:()=>Bg}),Bg="always";function m1(t,e){return[...e.path,t]}function ob(t,e,n=Bg){sb(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),v1(t,e),I1(t,e),_1(t,e),y1(t,e)}function zC(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function y1(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function sb(t,e){let n=u1(t);e.validator!==null?t.setValidators($C(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=l1(t);e.asyncValidator!==null?t.setAsyncValidators($C(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();zC(e._rawValidators,i),zC(e._rawAsyncValidators,i)}function v1(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&ab(t,e)})}function _1(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&ab(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function ab(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function I1(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function w1(t,e){t==null,sb(t,e)}function E1(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function D1(t){return Object.getPrototypeOf(t.constructor)===e1}function C1(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function b1(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(o=>{o.constructor===jo?n=o:D1(o)?r=o:i=o}),i||r||n||null}var T1={provide:Lo,useExisting:ti(()=>ka)},Na=Promise.resolve(),ka=(()=>{class t extends Lo{get submitted(){return kn(this.submittedReactive)}constructor(n,r,i){super(),this.callSetDisabledState=i,this._submitted=ra(()=>this.submittedReactive()),this.submittedReactive=Xs(!1),this._directives=new Set,this.ngSubmit=new Re,this.form=new xl({},Vg(n),jg(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){Na.then(()=>{let r=this._findContainer(n.path);n.control=r.registerControl(n.name,n.control),ob(n.control,n,this.callSetDisabledState),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){Na.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){Na.then(()=>{let r=this._findContainer(n.path),i=new xl({});w1(i,n),r.registerControl(n.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){Na.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,r){Na.then(()=>{this.form.get(n.path).setValue(r)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submittedReactive.set(!0),C1(this.form,this._directives),this.ngSubmit.emit(n),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}static{this.\u0275fac=function(r){return new(r||t)(H(Lg,10),H(ZC,10),H(Ug,8))}}static{this.\u0275dir=qe({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&xe("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[na([T1]),On]})}}return t})();function GC(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function WC(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var S1=class extends Nl{constructor(e=null,n,r){super(rb(n),ib(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),kl(n)&&(n.nonNullable||n.initialValueIsDefault)&&(WC(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){GC(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){GC(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){WC(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var A1={provide:Oa,useExisting:ti(()=>Fa)},KC=Promise.resolve(),Fa=(()=>{class t extends Oa{constructor(n,r,i,o,s,c){super(),this._changeDetectorRef=s,this.callSetDisabledState=c,this.control=new S1,this._registered=!1,this.name="",this.update=new Re,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=b1(this,o)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),E1(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){ob(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){KC.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let r=n.isDisabled.currentValue,i=r!==0&&_r(r);KC.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?m1(n,this._parent):[n]}static{this.\u0275fac=function(r){return new(r||t)(H(Lo,9),H(Lg,10),H(ZC,10),H(YC,10),H(vr,8),H(Ug,8))}}static{this.\u0275dir=qe({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[na([A1]),On,Pn]})}}return t})(),Fl=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=qe({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return t})();var R1=(()=>{class t{constructor(){this._validator=BC}ngOnChanges(n){if(this.inputName in n){let r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):BC,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return n!=null}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=qe({type:t,features:[Pn]})}}return t})();var M1={provide:Lg,useExisting:ti(()=>La),multi:!0};var La=(()=>{class t extends R1{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=_r,this.createValidator=n=>o1}enabled(n){return n}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=_o(t)))(i||t)}})()}static{this.\u0275dir=qe({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&ta("required",i._enabled?"":null)},inputs:{required:"required"},features:[na([M1]),On]})}}return t})();var N1=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=ri({type:t})}static{this.\u0275inj=ni({})}}return t})();var Uo=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:Ug,useValue:n.callSetDisabledState??Bg}]}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=ri({type:t})}static{this.\u0275inj=ni({imports:[N1]})}}return t})();var lb=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},x1=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=t[n++],s=t[n++],c=t[n++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},db={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let o=t[i],s=i+1<t.length,c=s?t[i+1]:0,u=i+2<t.length,d=u?t[i+2]:0,f=o>>2,g=(o&3)<<4|c>>4,_=(c&15)<<2|d>>6,E=d&63;u||(E=64,s||(_=64)),r.push(n[f],n[g],n[_],n[E])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(lb(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):x1(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let o=n[t.charAt(i++)],c=i<t.length?n[t.charAt(i)]:0;++i;let d=i<t.length?n[t.charAt(i)]:64;++i;let g=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||c==null||d==null||g==null)throw new Hg;let _=o<<2|c>>4;if(r.push(_),d!==64){let E=c<<4&240|d>>2;if(r.push(E),g!==64){let A=d<<6&192|g;r.push(A)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Hg=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},P1=function(t){let e=lb(t);return db.encodeByteArray(e,!0)},Va=function(t){return P1(t).replace(/\./g,"")},zg=function(t){try{return db.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function O1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var k1=()=>O1().__FIREBASE_DEFAULTS__,F1=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},L1=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&zg(t[1]);return e&&JSON.parse(e)},Vl=()=>{try{return k1()||F1()||L1()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Gg=t=>{var e,n;return(n=(e=Vl())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},hb=t=>{let e=Gg(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Wg=()=>{var t;return(t=Vl())===null||t===void 0?void 0:t.config},Kg=t=>{var e;return(e=Vl())===null||e===void 0?void 0:e[`_${t}`]};var Ll=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function fb(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Va(JSON.stringify(n)),Va(JSON.stringify(s)),""].join(".")}function ze(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function pb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ze())}function V1(){var t;let e=(t=Vl())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function gb(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function mb(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function yb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function vb(){let t=ze();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function _b(){return!V1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Qg(){try{return typeof indexedDB=="object"}catch{return!1}}function Ib(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}var j1="FirebaseError",At=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=j1,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Bn.prototype.create)}},Bn=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?U1(o,r):"Error",c=`${this.serviceName}: ${s} (${i}).`;return new At(i,c,r)}};function U1(t,e){return t.replace(B1,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var B1=/\{\$([^}]+)}/g;function wb(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function yi(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let o=t[i],s=e[i];if(ub(o)&&ub(s)){if(!yi(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function ub(t){return t!==null&&typeof t=="object"}function ja(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Bo(t){let e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function $o(t){let e=t.indexOf("?");if(!e)return"";let n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function Eb(t,e){let n=new qg(t,e);return n.subscribe.bind(n)}var qg=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");$1(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=$g),i.error===void 0&&(i.error=$g),i.complete===void 0&&(i.complete=$g);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function $1(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function $g(){}var N3=4*60*60*1e3;function gt(t){return t&&t._delegate?t._delegate:t}var Ut=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var vi="[DEFAULT]";var Yg=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new Ll;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(q1(e))try{this.getOrInitializeService({instanceIdentifier:vi})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=vi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return I(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=vi){return this.instances.has(e)}getOptions(e=vi){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,s]of this.instancesDeferred.entries()){let c=this.normalizeInstanceIdentifier(o);r===c&&s.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:H1(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=vi){return this.component?this.component.multipleInstances?e:vi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function H1(t){return t===vi?void 0:t}function q1(t){return t.instantiationMode==="EAGER"}var jl=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new Yg(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var z1=[],ae=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(ae||{}),G1={debug:ae.DEBUG,verbose:ae.VERBOSE,info:ae.INFO,warn:ae.WARN,error:ae.ERROR,silent:ae.SILENT},W1=ae.INFO,K1={[ae.DEBUG]:"log",[ae.VERBOSE]:"log",[ae.INFO]:"info",[ae.WARN]:"warn",[ae.ERROR]:"error"},Q1=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=K1[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Er=class{constructor(e){this.name=e,this._logLevel=W1,this._logHandler=Q1,this._userLogHandler=null,z1.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ae))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?G1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ae.DEBUG,...e),this._logHandler(this,ae.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ae.VERBOSE,...e),this._logHandler(this,ae.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ae.INFO,...e),this._logHandler(this,ae.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ae.WARN,...e),this._logHandler(this,ae.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ae.ERROR,...e),this._logHandler(this,ae.ERROR,...e)}};var Y1=(t,e)=>e.some(n=>t instanceof n),Db,Cb;function Z1(){return Db||(Db=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function J1(){return Cb||(Cb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var bb=new WeakMap,Jg=new WeakMap,Tb=new WeakMap,Zg=new WeakMap,em=new WeakMap;function X1(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(dn(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&bb.set(n,t)}).catch(()=>{}),em.set(e,t),e}function eF(t){if(Jg.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});Jg.set(t,e)}var Xg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Jg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Tb.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return dn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Sb(t){Xg=t(Xg)}function tF(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(Ul(this),e,...n);return Tb.set(r,e.sort?e.sort():[e]),dn(r)}:J1().includes(t)?function(...e){return t.apply(Ul(this),e),dn(bb.get(this))}:function(...e){return dn(t.apply(Ul(this),e))}}function nF(t){return typeof t=="function"?tF(t):(t instanceof IDBTransaction&&eF(t),Y1(t,Z1())?new Proxy(t,Xg):t)}function dn(t){if(t instanceof IDBRequest)return X1(t);if(Zg.has(t))return Zg.get(t);let e=nF(t);return e!==t&&(Zg.set(t,e),em.set(e,t)),e}var Ul=t=>em.get(t);function Rb(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(t,e),c=dn(s);return r&&s.addEventListener("upgradeneeded",u=>{r(dn(s.result),u.oldVersion,u.newVersion,dn(s.transaction),u)}),n&&s.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),c.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),c}var rF=["get","getKey","getAll","getAllKeys","count"],iF=["put","add","delete","clear"],tm=new Map;function Ab(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(tm.get(e))return tm.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=iF.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||rF.includes(n)))return;let o=function(s,...c){return I(this,null,function*(){let u=this.transaction(s,i?"readwrite":"readonly"),d=u.store;return r&&(d=d.index(c.shift())),(yield Promise.all([d[n](...c),i&&u.done]))[0]})};return tm.set(e,o),o}Sb(t=>oe(O({},t),{get:(e,n,r)=>Ab(e,n)||t.get(e,n,r),has:(e,n)=>!!Ab(e,n)||t.has(e,n)}));var rm=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(oF(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function oF(t){let e=t.getComponent();return e?.type==="VERSION"}var im="@firebase/app",Mb="0.10.11";var $n=new Er("@firebase/app"),sF="@firebase/app-compat",aF="@firebase/analytics-compat",cF="@firebase/analytics",uF="@firebase/app-check-compat",lF="@firebase/app-check",dF="@firebase/auth",hF="@firebase/auth-compat",fF="@firebase/database",pF="@firebase/database-compat",gF="@firebase/functions",mF="@firebase/functions-compat",yF="@firebase/installations",vF="@firebase/installations-compat",_F="@firebase/messaging",IF="@firebase/messaging-compat",wF="@firebase/performance",EF="@firebase/performance-compat",DF="@firebase/remote-config",CF="@firebase/remote-config-compat",bF="@firebase/storage",TF="@firebase/storage-compat",SF="@firebase/firestore",AF="@firebase/vertexai-preview",RF="@firebase/firestore-compat",MF="firebase",NF="10.13.2";var om="[DEFAULT]",xF={[im]:"fire-core",[sF]:"fire-core-compat",[cF]:"fire-analytics",[aF]:"fire-analytics-compat",[lF]:"fire-app-check",[uF]:"fire-app-check-compat",[dF]:"fire-auth",[hF]:"fire-auth-compat",[fF]:"fire-rtdb",[pF]:"fire-rtdb-compat",[gF]:"fire-fn",[mF]:"fire-fn-compat",[yF]:"fire-iid",[vF]:"fire-iid-compat",[_F]:"fire-fcm",[IF]:"fire-fcm-compat",[wF]:"fire-perf",[EF]:"fire-perf-compat",[DF]:"fire-rc",[CF]:"fire-rc-compat",[bF]:"fire-gcs",[TF]:"fire-gcs-compat",[SF]:"fire-fst",[RF]:"fire-fst-compat",[AF]:"fire-vertex","fire-js":"fire-js",[MF]:"fire-js-all"};var Ua=new Map,PF=new Map,sm=new Map;function Nb(t,e){try{t.container.addComponent(e)}catch(n){$n.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Cr(t){let e=t.name;if(sm.has(e))return $n.debug(`There were multiple attempts to register component ${e}.`),!1;sm.set(e,t);for(let n of Ua.values())Nb(n,t);for(let n of PF.values())Nb(n,t);return!0}function $a(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Jt(t){return t.settings!==void 0}var OF={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Dr=new Bn("app","Firebase",OF);var am=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ut("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Dr.create("app-deleted",{appName:this._name})}};var br=NF;function lm(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:om,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Dr.create("bad-app-name",{appName:String(i)});if(n||(n=Wg()),!n)throw Dr.create("no-options");let o=Ua.get(i);if(o){if(yi(n,o.options)&&yi(r,o.config))return o;throw Dr.create("duplicate-app",{appName:i})}let s=new jl(i);for(let u of sm.values())s.addComponent(u);let c=new am(n,r,s);return Ua.set(i,c),c}function Ho(t=om){let e=Ua.get(t);if(!e&&t===om&&Wg())return lm();if(!e)throw Dr.create("no-app",{appName:t});return e}function Bl(){return Array.from(Ua.values())}function Be(t,e,n){var r;let i=(r=xF[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let c=[`Unable to register library "${i}" with version "${e}":`];o&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&c.push("and"),s&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),$n.warn(c.join(" "));return}Cr(new Ut(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var kF="firebase-heartbeat-database",FF=1,Ba="firebase-heartbeat-store",nm=null;function kb(){return nm||(nm=Rb(kF,FF,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ba)}catch(n){console.warn(n)}}}}).catch(t=>{throw Dr.create("idb-open",{originalErrorMessage:t.message})})),nm}function LF(t){return I(this,null,function*(){try{let n=(yield kb()).transaction(Ba),r=yield n.objectStore(Ba).get(Fb(t));return yield n.done,r}catch(e){if(e instanceof At)$n.warn(e.message);else{let n=Dr.create("idb-get",{originalErrorMessage:e?.message});$n.warn(n.message)}}})}function xb(t,e){return I(this,null,function*(){try{let r=(yield kb()).transaction(Ba,"readwrite");yield r.objectStore(Ba).put(e,Fb(t)),yield r.done}catch(n){if(n instanceof At)$n.warn(n.message);else{let r=Dr.create("idb-set",{originalErrorMessage:n?.message});$n.warn(r.message)}}})}function Fb(t){return`${t.name}!${t.options.appId}`}var VF=1024,jF=30*24*60*60*1e3,cm=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new um(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return I(this,null,function*(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=Pb();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{let c=new Date(s.date).valueOf();return Date.now()-c<=jF}),this._storage.overwrite(this._heartbeatsCache))}catch(r){$n.warn(r)}})}getHeartbeatsHeader(){return I(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=Pb(),{heartbeatsToSend:r,unsentEntries:i}=UF(this._heartbeatsCache.heartbeats),o=Va(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return $n.warn(n),""}})}};function Pb(){return new Date().toISOString().substring(0,10)}function UF(t,e=VF){let n=[],r=t.slice();for(let i of t){let o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),Ob(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Ob(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var um=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return I(this,null,function*(){return Qg()?Ib().then(()=>!0).catch(()=>!1):!1})}read(){return I(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield LF(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return I(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return xb(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return I(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return xb(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function Ob(t){return Va(JSON.stringify({version:2,heartbeats:t})).length}function BF(t){Cr(new Ut("platform-logger",e=>new rm(e),"PRIVATE")),Cr(new Ut("heartbeat",e=>new cm(e),"PRIVATE")),Be(im,Mb,t),Be(im,Mb,"esm2017"),Be("fire-js","")}BF("");var $F="firebase",HF="10.13.2";Be($F,HF,"app");var Ii=new Rn("ANGULARFIRE2_VERSION");function Hl(t,e,n){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===n);if(o.length===1)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var Ha=(t,e)=>{let n=e?[e]:Bl(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},zo=class{constructor(){return Ha(qF)}},qF="app-check";function qo(){}var $l=class{zone;delegate;constructor(e,n=Vh){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,o=function(s){i.runGuarded(()=>{e.apply(this,[s])})};return this.delegate.schedule(o,n,r)}},dm=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",qo,{},qo,qo)),n.pipe(je({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},Go=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new $l(Zone.current)),this.insideAngular=n.run(()=>new $l(Zone.current,Lh)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(te(ve))};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function ql(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function zF(t){return ql().ngZone.runOutsideAngular(()=>t())}function _i(t){return ql().ngZone.run(()=>t())}function GF(t){return WF(ql())(t)}function WF(t){return function(n){return n=n.lift(new dm(t.ngZone)),n.pipe(ir(t.outsideAngular),rr(t.insideAngular))}}var KF=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),_i(()=>t.apply(void 0,r))},Bt=(t,e)=>function(){let n,r=arguments;for(let o=0;o<arguments.length;o++)typeof r[o]=="function"&&(e&&(n||=_i(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",qo,{},qo,qo))),r[o]=KF(r[o],n));let i=zF(()=>t.apply(this,r));if(!e)if(i instanceof ue){let o=ql();return i.pipe(ir(o.outsideAngular),rr(o.insideAngular))}else return _i(()=>i);return i instanceof ue?i.pipe(GF):i instanceof Promise?_i(()=>new Promise((o,s)=>i.then(c=>_i(()=>o(c)),c=>_i(()=>s(c))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:_i(()=>i)};var Hn=class{constructor(e){return e}},wi=class{constructor(){return Bl()}};function QF(t){return t&&t.length===1?t[0]:new Hn(Ho())}var hm=new j("angularfire2._apps"),YF={provide:Hn,useFactory:QF,deps:[[new ht,hm]]},ZF={provide:wi,deps:[[new ht,hm]]};function JF(t){return(e,n)=>{let r=n.get(gr);Be("angularfire",Ii.full,"core"),Be("angularfire",Ii.full,"app"),Be("angular",TD.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new Hn(i)}}function Lb(t,...e){return cn([YF,ZF,{provide:hm,useFactory:JF(t),multi:!0,deps:[ve,vt,Go,...e]}])}var Vb=Bt(lm,!0);function t0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var n0=t0,r0=new Bn("auth","Firebase",t0());var Yl=new Er("@firebase/auth");function XF(t,...e){Yl.logLevel<=ae.WARN&&Yl.warn(`Auth (${br}): ${t}`,...e)}function Gl(t,...e){Yl.logLevel<=ae.ERROR&&Yl.error(`Auth (${br}): ${t}`,...e)}function fn(t,...e){throw km(t,...e)}function Ei(t,...e){return km(t,...e)}function i0(t,e,n){let r=Object.assign(Object.assign({},n0()),{[e]:n});return new Bn("auth","Firebase",r).create(e,{appName:t.name})}function Gn(t){return i0(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function km(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return r0.create(t,...e)}function z(t,e,...n){if(!t)throw km(e,...n)}function qn(t){let e="INTERNAL ASSERTION FAILED: "+t;throw Gl(e),new Error(e)}function Sr(t,e){t||qn(e)}function mm(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function eL(){return jb()==="http:"||jb()==="https:"}function jb(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function tL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(eL()||mb()||"connection"in navigator)?navigator.onLine:!0}function nL(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var Di=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Sr(n>e,"Short delay should be less than long delay!"),this.isMobile=pb()||yb()}get(){return tL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function Fm(t,e){Sr(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var Zl=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;qn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;qn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;qn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var rL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var iL=new Di(3e4,6e4);function Ar(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Rr(o,s,c,u){return I(this,arguments,function*(t,e,n,r,i={}){return o0(t,i,()=>I(this,null,function*(){let d={},f={};r&&(e==="GET"?f=r:d={body:JSON.stringify(r)});let g=ja(Object.assign({key:t.config.apiKey},f)).slice(1),_=yield t._getAdditionalHeaders();_["Content-Type"]="application/json",t.languageCode&&(_["X-Firebase-Locale"]=t.languageCode);let E=Object.assign({method:e,headers:_},d);return gb()||(E.referrerPolicy="no-referrer"),Zl.fetch()(s0(t,t.config.apiHost,n,g),E)}))})}function o0(t,e,n){return I(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},rL),e);try{let i=new ym(t),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw zl(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let c=o.ok?s.errorMessage:s.error.message,[u,d]=c.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw zl(t,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw zl(t,"email-already-in-use",s);if(u==="USER_DISABLED")throw zl(t,"user-disabled",s);let f=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw i0(t,f,d);fn(t,f)}}catch(i){if(i instanceof At)throw i;fn(t,"network-request-failed",{message:String(i)})}})}function Za(o,s,c,u){return I(this,arguments,function*(t,e,n,r,i={}){let d=yield Rr(t,e,n,r,i);return"mfaPendingCredential"in d&&fn(t,"multi-factor-auth-required",{_serverResponse:d}),d})}function s0(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?Fm(t.config,i):`${t.config.apiScheme}://${i}`}function oL(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var ym=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ei(this.auth,"network-request-failed")),iL.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function zl(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=Ei(t,e,r);return i.customData._tokenResponse=n,i}function Ub(t){return t!==void 0&&t.enterprise!==void 0}var vm=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return oL(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function sL(t,e){return I(this,null,function*(){return Rr(t,"GET","/v2/recaptchaConfig",Ar(t,e))})}function aL(t,e){return I(this,null,function*(){return Rr(t,"POST","/v1/accounts:delete",e)})}function a0(t,e){return I(this,null,function*(){return Rr(t,"POST","/v1/accounts:lookup",e)})}function qa(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Lm(t,e=!1){return I(this,null,function*(){let n=gt(t),r=yield n.getIdToken(e),i=Vm(r);z(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:qa(fm(i.auth_time)),issuedAtTime:qa(fm(i.iat)),expirationTime:qa(fm(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function fm(t){return Number(t)*1e3}function Vm(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Gl("JWT malformed, contained fewer than 3 sections"),null;try{let i=zg(n);return i?JSON.parse(i):(Gl("Failed to decode base64 JWT payload"),null)}catch(i){return Gl("Caught error parsing JWT payload as JSON",i?.toString()),null}}function Bb(t){let e=Vm(t);return z(e,"internal-error"),z(typeof e.exp<"u","internal-error"),z(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Ga(t,e,n=!1){return I(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof At&&cL(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function cL({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var _m=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>I(this,null,function*(){yield this.iteration()}),n)}iteration(){return I(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Wa=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=qa(this.lastLoginAt),this.creationTime=qa(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Jl(t){return I(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield Ga(t,a0(n,{idToken:r}));z(i?.users.length,n,"internal-error");let o=i.users[0];t._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?c0(o.providerUserInfo):[],c=uL(t.providerData,s),u=t.isAnonymous,d=!(t.email&&o.passwordHash)&&!c?.length,f=u?d:!1,g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Wa(o.createdAt,o.lastLoginAt),isAnonymous:f};Object.assign(t,g)})}function jm(t){return I(this,null,function*(){let e=gt(t);yield Jl(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function uL(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function c0(t){return t.map(e=>{var{providerId:n}=e,r=jh(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function lL(t,e){return I(this,null,function*(){let n=yield o0(t,{},()=>I(this,null,function*(){let r=ja({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=s0(t,i,"/v1/token",`key=${o}`),c=yield t._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",Zl.fetch()(s,{method:"POST",headers:c,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function dL(t,e){return I(this,null,function*(){return Rr(t,"POST","/v2/accounts:revokeToken",Ar(t,e))})}var za=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){z(e.idToken,"internal-error"),z(typeof e.idToken<"u","internal-error"),z(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Bb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){z(e.length!==0,"internal-error");let n=Bb(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return I(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(z(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return I(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield lL(e,n);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new t;return r&&(z(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(z(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(z(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return qn("not implemented")}};function Tr(t,e){z(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var Wo=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=jh(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new _m(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Wa(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return I(this,null,function*(){let n=yield Ga(this,this.stsTokenManager.getToken(this.auth,e));return z(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return Lm(this,e)}reload(){return jm(this)}_assign(e){this!==e&&(z(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){z(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return I(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield Jl(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return I(this,null,function*(){if(Jt(this.auth.app))return Promise.reject(Gn(this.auth));let e=yield this.getIdToken();return yield Ga(this,aL(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,c,u,d,f;let g=(r=n.displayName)!==null&&r!==void 0?r:void 0,_=(i=n.email)!==null&&i!==void 0?i:void 0,E=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,A=(s=n.photoURL)!==null&&s!==void 0?s:void 0,x=(c=n.tenantId)!==null&&c!==void 0?c:void 0,N=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,F=(d=n.createdAt)!==null&&d!==void 0?d:void 0,Q=(f=n.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:J,emailVerified:me,isAnonymous:Qe,providerData:pe,stsTokenManager:D}=n;z(J&&D,e,"internal-error");let m=za.fromJSON(this.name,D);z(typeof J=="string",e,"internal-error"),Tr(g,e.name),Tr(_,e.name),z(typeof me=="boolean",e,"internal-error"),z(typeof Qe=="boolean",e,"internal-error"),Tr(E,e.name),Tr(A,e.name),Tr(x,e.name),Tr(N,e.name),Tr(F,e.name),Tr(Q,e.name);let y=new t({uid:J,auth:e,email:_,emailVerified:me,displayName:g,isAnonymous:Qe,photoURL:A,phoneNumber:E,tenantId:x,stsTokenManager:m,createdAt:F,lastLoginAt:Q});return pe&&Array.isArray(pe)&&(y.providerData=pe.map(w=>Object.assign({},w))),N&&(y._redirectEventId=N),y}static _fromIdTokenResponse(e,n,r=!1){return I(this,null,function*(){let i=new za;i.updateFromServerResponse(n);let o=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Jl(o),o})}static _fromGetAccountInfoResponse(e,n,r){return I(this,null,function*(){let i=n.users[0];z(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?c0(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,c=new za;c.updateFromIdToken(r);let u=new t({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:s}),d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Wa(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(u,d),u})}};var $b=new Map;function zn(t){Sr(t instanceof Function,"Expected a class definition");let e=$b.get(t);return e?(Sr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,$b.set(t,e),e)}var hL=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return I(this,null,function*(){return!0})}_set(n,r){return I(this,null,function*(){this.storage[n]=r})}_get(n){return I(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return I(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),Im=hL;function Wl(t,e,n){return`firebase:${t}:${e}:${n}`}var Xl=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=Wl(this.userKey,i.apiKey,o),this.fullPersistenceKey=Wl("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return I(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?Wo._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return I(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return I(this,null,function*(){if(!n.length)return new t(zn(Im),e,r);let i=(yield Promise.all(n.map(d=>I(this,null,function*(){if(yield d._isAvailable())return d})))).filter(d=>d),o=i[0]||zn(Im),s=Wl(r,e.config.apiKey,e.name),c=null;for(let d of n)try{let f=yield d._get(s);if(f){let g=Wo._fromJSON(e,f);d!==o&&(c=g),o=d;break}}catch{}let u=i.filter(d=>d._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new t(o,e,r):(o=u[0],c&&(yield o._set(s,c.toJSON())),yield Promise.all(n.map(d=>I(this,null,function*(){if(d!==o)try{yield d._remove(s)}catch{}}))),new t(o,e,r))})}};function Hb(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(h0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(u0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(p0(e))return"Blackberry";if(g0(e))return"Webos";if(l0(e))return"Safari";if((e.includes("chrome/")||d0(e))&&!e.includes("edge/"))return"Chrome";if(f0(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function u0(t=ze()){return/firefox\//i.test(t)}function l0(t=ze()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function d0(t=ze()){return/crios\//i.test(t)}function h0(t=ze()){return/iemobile/i.test(t)}function f0(t=ze()){return/android/i.test(t)}function p0(t=ze()){return/blackberry/i.test(t)}function g0(t=ze()){return/webos/i.test(t)}function Um(t=ze()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function fL(t=ze()){var e;return Um(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function pL(){return vb()&&document.documentMode===10}function m0(t=ze()){return Um(t)||f0(t)||g0(t)||p0(t)||/windows phone/i.test(t)||h0(t)}function y0(t,e=[]){let n;switch(t){case"Browser":n=Hb(ze());break;case"Worker":n=`${Hb(ze())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${br}/${r}`}var wm=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=o=>new Promise((s,c)=>{try{let u=e(o);s(u)}catch(u){c(u)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return I(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function gL(n){return I(this,arguments,function*(t,e={}){return Rr(t,"GET","/v2/passwordPolicy",Ar(t,e))})}var mL=6,Em=class{constructor(e){var n,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:mL,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,c;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(s=u.containsNumericCharacter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(c=u.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),u}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var Dm=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ed(this),this.idTokenSubscription=new ed(this),this.beforeStateQueue=new wm(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=r0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=zn(n)),this._initializationPromise=this.queue(()=>I(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield Xl.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return I(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return I(this,null,function*(){try{let n=yield a0(this,{idToken:e}),r=yield Wo._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return I(this,null,function*(){var n;if(Jt(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(c,c))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,c=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!s||s===c)&&u?.user&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return z(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return I(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return I(this,null,function*(){try{yield Jl(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=nL()}_delete(){return I(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return I(this,null,function*(){if(Jt(this.app))return Promise.reject(Gn(this));let n=e?gt(e):null;return n&&z(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return I(this,null,function*(){if(!this._deleted)return e&&z(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>I(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return I(this,null,function*(){return Jt(this.app)?Promise.reject(Gn(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Jt(this.app)?Promise.reject(Gn(this)):this.queue(()=>I(this,null,function*(){yield this.assertedPersistence.setPersistence(zn(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return I(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return I(this,null,function*(){let e=yield gL(this),n=new Em(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Bn("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return I(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield dL(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return I(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return I(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&zn(e)||this._popupRedirectResolver;z(n,this,"argument-error"),this.redirectPersistenceManager=yield Xl.create(this,[zn(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return I(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>I(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return I(this,null,function*(){if(e===this.currentUser)return this.queue(()=>I(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),s=!1,c=this._isInitialized?Promise.resolve():this._initializationPromise;if(z(c,this,"internal-error"),c.then(()=>{s||o(this.currentUser)}),typeof n=="function"){let u=e.addObserver(n,r,i);return()=>{s=!0,u()}}else{let u=e.addObserver(n);return()=>{s=!0,u()}}}directlySetCurrentUser(e){return I(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return z(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=y0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return I(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return I(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&XF(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function bi(t){return gt(t)}var ed=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=Eb(n=>this.observer=n)}get next(){return z(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var ad={loadJS(){return I(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function yL(t){ad=t}function v0(t){return ad.loadJS(t)}function vL(){return ad.recaptchaEnterpriseScript}function _L(){return ad.gapiScript}function _0(t){return`__${t}${Math.floor(Math.random()*1e6)}`}var IL="recaptcha-enterprise",wL="NO_RECAPTCHA",Cm=class{constructor(e){this.type=IL,this.auth=bi(e)}verify(e="verify",n=!1){return I(this,null,function*(){function r(o){return I(this,null,function*(){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise((s,c)=>I(this,null,function*(){sL(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{let d=new vm(u);return o.tenantId==null?o._agentRecaptchaConfig=d:o._tenantRecaptchaConfigs[o.tenantId]=d,s(d.siteKey)}}).catch(u=>{c(u)})}))})}function i(o,s,c){let u=window.grecaptcha;Ub(u)?u.enterprise.ready(()=>{u.enterprise.execute(o,{action:e}).then(d=>{s(d)}).catch(()=>{s(wL)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,s)=>{r(this.auth).then(c=>{if(!n&&Ub(window.grecaptcha))i(c,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let u=vL();u.length!==0&&(u+=c),v0(u).then(()=>{i(c,o,s)}).catch(d=>{s(d)})}}).catch(c=>{s(c)})})})}};function qb(t,e,n,r=!1){return I(this,null,function*(){let i=new Cm(t),o;try{o=yield i.verify(n)}catch{o=yield i.verify(n,!0)}let s=Object.assign({},e);return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s})}function bm(t,e,n,r){return I(this,null,function*(){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let o=yield qb(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(o=>I(this,null,function*(){if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let s=yield qb(t,e,n,n==="getOobCode");return r(t,s)}else return Promise.reject(o)}))})}function Bm(t,e){let n=$a(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),o=n.getOptions();if(yi(o,e??{}))return i;fn(i,"already-initialized")}return n.initialize({options:e})}function EL(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(zn);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function $m(t,e,n){let r=bi(t);z(r._canInitEmulator,r,"emulator-config-failed"),z(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,o=I0(e),{host:s,port:c}=DL(e),u=c===null?"":`:${c}`;r.config.emulator={url:`${o}//${s}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:c,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||CL()}function I0(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function DL(t){let e=I0(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:zb(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:zb(s)}}}function zb(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function CL(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var Ka=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return qn("not implemented")}_getIdTokenResponse(e){return qn("not implemented")}_linkToIdToken(e,n){return qn("not implemented")}_getReauthenticationResolver(e){return qn("not implemented")}};function bL(t,e){return I(this,null,function*(){return Rr(t,"POST","/v1/accounts:signUp",e)})}function TL(t,e){return I(this,null,function*(){return Za(t,"POST","/v1/accounts:signInWithPassword",Ar(t,e))})}function SL(t,e){return I(this,null,function*(){return Za(t,"POST","/v1/accounts:signInWithEmailLink",Ar(t,e))})}function AL(t,e){return I(this,null,function*(){return Za(t,"POST","/v1/accounts:signInWithEmailLink",Ar(t,e))})}var Qa=class t extends Ka{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new t(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new t(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){return I(this,null,function*(){switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return bm(e,n,"signInWithPassword",TL);case"emailLink":return SL(e,{email:this._email,oobCode:this._password});default:fn(e,"internal-error")}})}_linkToIdToken(e,n){return I(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return bm(e,r,"signUpPassword",bL);case"emailLink":return AL(e,{idToken:n,email:this._email,oobCode:this._password});default:fn(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function pm(t,e){return I(this,null,function*(){return Za(t,"POST","/v1/accounts:signInWithIdp",Ar(t,e))})}function RL(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function ML(t){let e=Bo($o(t)).link,n=e?Bo($o(e)).deep_link_id:null,r=Bo($o(t)).deep_link_id;return(r?Bo($o(r)).link:null)||r||n||e||t}var td=class t{constructor(e){var n,r,i,o,s,c;let u=Bo($o(e)),d=(n=u.apiKey)!==null&&n!==void 0?n:null,f=(r=u.oobCode)!==null&&r!==void 0?r:null,g=RL((i=u.mode)!==null&&i!==void 0?i:null);z(d&&f&&g,"argument-error"),this.apiKey=d,this.operation=g,this.code=f,this.continueUrl=(o=u.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=u.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(c=u.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){let n=ML(e);try{return new t(n)}catch{return null}}};var w0=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return Qa._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){let i=td.parseLink(r);return z(i,"argument-error"),Qa._fromEmailAndCode(n,i.code,i.tenantId)}}t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return t})(),nd=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var Tm=class extends nd{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function NL(t,e){return I(this,null,function*(){return Za(t,"POST","/v1/accounts:signUp",Ar(t,e))})}var Ko=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return I(this,null,function*(){let o=yield Wo._fromIdTokenResponse(e,r,i),s=Gb(r);return new t({user:o,providerId:s,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return I(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=Gb(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function Gb(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var Sm=class t extends At{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function E0(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Sm._fromErrorAndOperation(t,o,e,r):o})}function xL(t,e,n=!1){return I(this,null,function*(){let r=yield Ga(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return Ko._forOperation(t,"link",r)})}function PL(t,e,n=!1){return I(this,null,function*(){let{auth:r}=t;if(Jt(r.app))return Promise.reject(Gn(r));let i="reauthenticate";try{let o=yield Ga(t,E0(r,i,e,t),n);z(o.idToken,r,"internal-error");let s=Vm(o.idToken);z(s,r,"internal-error");let{sub:c}=s;return z(t.uid===c,r,"user-mismatch"),Ko._forOperation(t,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&fn(r,"user-mismatch"),o}})}function D0(t,e,n=!1){return I(this,null,function*(){if(Jt(t.app))return Promise.reject(Gn(t));let r="signIn",i=yield E0(t,r,e),o=yield Ko._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(o.user)),o})}function Hm(t,e){return I(this,null,function*(){return D0(bi(t),e)})}function C0(t){return I(this,null,function*(){let e=bi(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function qm(t,e,n){return I(this,null,function*(){if(Jt(t.app))return Promise.reject(Gn(t));let r=bi(t),s=yield bm(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",NL).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&C0(t),u}),c=yield Ko._fromIdTokenResponse(r,"signIn",s);return yield r._updateCurrentUser(c.user),c})}function zm(t,e,n){return Jt(t.app)?Promise.reject(Gn(t)):Hm(gt(t),w0.credential(e,n)).catch(r=>I(this,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&C0(t),r}))}function Gm(t,e,n,r){return gt(t).onIdTokenChanged(e,n,r)}function Wm(t,e,n){return gt(t).beforeAuthStateChanged(e,n)}function Km(t){return gt(t).signOut()}var rd="__sak";var id=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(rd,"1"),this.storage.removeItem(rd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var OL=1e3,kL=10,FL=(()=>{class t extends id{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=m0(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&n(r,o,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((c,u,d)=>{this.notifyListeners(c,d)});return}let i=n.key;r?this.detachListener():this.stopPolling();let o=()=>{let c=this.storage.getItem(i);!r&&this.localCache[i]===c||this.notifyListeners(i,c)},s=this.storage.getItem(i);pL()&&s!==n.newValue&&n.newValue!==n.oldValue?setTimeout(o,kL):o()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},OL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return I(this,null,function*(){yield tr(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return I(this,null,function*(){let r=yield tr(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return I(this,null,function*(){yield tr(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),b0=FL;var LL=(()=>{class t extends id{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),Qm=LL;function VL(t){return Promise.all(t.map(e=>I(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var jL=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(o=>o.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return I(this,null,function*(){let r=n,{eventId:i,eventType:o,data:s}=r.data,c=this.handlersMap[o];if(!c?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let u=Array.from(c).map(f=>I(this,null,function*(){return f(r.origin,s)})),d=yield VL(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:d})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function T0(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var Am=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return I(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((c,u)=>{let d=T0("",20);i.port1.start();let f=setTimeout(()=>{u(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(g){let _=g;if(_.data.eventId===d)switch(_.data.status){case"ack":clearTimeout(f),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),c(_.data.response);break;default:clearTimeout(f),clearTimeout(o),u(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function hn(){return window}function UL(t){hn().location.href=t}function S0(){return typeof hn().WorkerGlobalScope<"u"&&typeof hn().importScripts=="function"}function BL(){return I(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function $L(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function HL(){return S0()?self:null}var A0="firebaseLocalStorageDb",qL=1,od="firebaseLocalStorage",R0="fbase_key",Ci=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function cd(t,e){return t.transaction([od],e?"readwrite":"readonly").objectStore(od)}function zL(){let t=indexedDB.deleteDatabase(A0);return new Ci(t).toPromise()}function Rm(){let t=indexedDB.open(A0,qL);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(od,{keyPath:R0})}catch(i){n(i)}}),t.addEventListener("success",()=>I(this,null,function*(){let r=t.result;r.objectStoreNames.contains(od)?e(r):(r.close(),yield zL(),e(yield Rm()))}))})}function Wb(t,e,n){return I(this,null,function*(){let r=cd(t,!0).put({[R0]:e,value:n});return new Ci(r).toPromise()})}function GL(t,e){return I(this,null,function*(){let n=cd(t,!1).get(e),r=yield new Ci(n).toPromise();return r===void 0?null:r.value})}function Kb(t,e){let n=cd(t,!0).delete(e);return new Ci(n).toPromise()}var WL=800,KL=3,QL=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return I(this,null,function*(){return this.db?this.db:(this.db=yield Rm(),this.db)})}_withRetries(n){return I(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>KL)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return I(this,null,function*(){return S0()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return I(this,null,function*(){this.receiver=jL._getInstance(HL()),this.receiver._subscribe("keyChanged",(n,r)=>I(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>I(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return I(this,null,function*(){var n,r;if(this.activeServiceWorker=yield BL(),!this.activeServiceWorker)return;this.sender=new Am(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return I(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||$L()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return I(this,null,function*(){try{if(!indexedDB)return!1;let n=yield Rm();return yield Wb(n,rd,"1"),yield Kb(n,rd),!0}catch{}return!1})}_withPendingWrite(n){return I(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return I(this,null,function*(){return this._withPendingWrite(()=>I(this,null,function*(){return yield this._withRetries(i=>Wb(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return I(this,null,function*(){let r=yield this._withRetries(i=>GL(i,n));return this.localCache[n]=r,r})}_remove(n){return I(this,null,function*(){return this._withPendingWrite(()=>I(this,null,function*(){return yield this._withRetries(r=>Kb(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return I(this,null,function*(){let n=yield this._withRetries(o=>{let s=cd(o,!1).getAll();return new Ci(s).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:o,value:s}of n)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>I(this,null,function*(){return this._poll()}),WL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),M0=QL;var CW=_0("rcb"),bW=new Di(3e4,6e4);function YL(t,e){return e?zn(e):(z(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var Ya=class extends Ka{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return pm(e,this._buildIdpRequest())}_linkToIdToken(e,n){return pm(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return pm(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function ZL(t){return D0(t.auth,new Ya(t),t.bypassAuthState)}function JL(t){let{auth:e,user:n}=t;return z(n,e,"internal-error"),PL(n,new Ya(t),t.bypassAuthState)}function XL(t){return I(this,null,function*(){let{auth:e,user:n}=t;return z(n,e,"internal-error"),xL(n,new Ya(t),t.bypassAuthState)})}var Mm=class{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>I(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return I(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:c}=e;if(s){this.reject(s);return}let u={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(c)(u))}catch(d){this.reject(d)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ZL;case"linkViaPopup":case"linkViaRedirect":return XL;case"reauthViaPopup":case"reauthViaRedirect":return JL;default:fn(this.auth,"internal-error")}}resolve(e){Sr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Sr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var TW=new Di(2e3,1e4);var eV="pendingRedirect",Kl=new Map,Nm=class t extends Mm{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return I(this,null,function*(){let e=Kl.get(this.auth._key());if(!e){try{let r=(yield tV(this.resolver,this.auth))?yield tr(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Kl.set(this.auth._key(),e)}return this.bypassAuthState||Kl.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return I(this,null,function*(){if(e.type==="signInViaRedirect")return tr(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,tr(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return I(this,null,function*(){})}cleanUp(){}};function tV(t,e){return I(this,null,function*(){let n=iV(e),r=rV(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function nV(t,e){Kl.set(t._key(),e)}function rV(t){return zn(t._redirectPersistence)}function iV(t){return Wl(eV,t.config.apiKey,t.name)}function oV(t,e,n=!1){return I(this,null,function*(){if(Jt(t.app))return Promise.reject(Gn(t));let r=bi(t),i=YL(r,e),s=yield new Nm(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})}var sV=10*60*1e3,xm=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!aV(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!N0(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Ei(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=sV&&this.cachedEventUids.clear(),this.cachedEventUids.has(Qb(e))}saveEventToCache(e){this.cachedEventUids.add(Qb(e)),this.lastProcessedEventTime=Date.now()}};function Qb(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function N0({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function aV(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return N0(t);default:return!1}}function cV(n){return I(this,arguments,function*(t,e={}){return Rr(t,"GET","/v1/projects",e)})}var uV=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,lV=/^https?/;function dV(t){return I(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield cV(t);for(let n of e)try{if(hV(n))return}catch{}fn(t,"unauthorized-domain")})}function hV(t){let e=mm(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!lV.test(n))return!1;if(uV.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var fV=new Di(3e4,6e4);function Yb(){let t=hn().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function pV(t){return new Promise((e,n)=>{var r,i,o;function s(){Yb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Yb(),n(Ei(t,"network-request-failed"))},timeout:fV.get()})}if(!((i=(r=hn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=hn().gapi)===null||o===void 0)&&o.load)s();else{let c=_0("iframefcb");return hn()[c]=()=>{gapi.load?s():n(Ei(t,"network-request-failed"))},v0(`${_L()}?onload=${c}`).catch(u=>n(u))}}).catch(e=>{throw Ql=null,e})}var Ql=null;function gV(t){return Ql=Ql||pV(t),Ql}var mV=new Di(5e3,15e3),yV="__/auth/iframe",vV="emulator/auth/iframe",_V={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},IV=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function wV(t){let e=t.config;z(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?Fm(e,vV):`https://${t.config.authDomain}/${yV}`,r={apiKey:e.apiKey,appName:t.name,v:br},i=IV.get(t.config.apiHost);i&&(r.eid=i);let o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${ja(r).slice(1)}`}function EV(t){return I(this,null,function*(){let e=yield gV(t),n=hn().gapi;return z(n,t,"internal-error"),e.open({where:document.body,url:wV(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:_V,dontclear:!0},r=>new Promise((i,o)=>I(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=Ei(t,"network-request-failed"),c=hn().setTimeout(()=>{o(s)},mV.get());function u(){hn().clearTimeout(c),i(r)}r.ping(u).then(u,()=>{o(s)})})))})}var DV={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},CV=500,bV=600,TV="_blank",SV="http://localhost",sd=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function AV(t,e,n,r=CV,i=bV){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),c="",u=Object.assign(Object.assign({},DV),{width:r.toString(),height:i.toString(),top:o,left:s}),d=ze().toLowerCase();n&&(c=d0(d)?TV:n),u0(d)&&(e=e||SV,u.scrollbars="yes");let f=Object.entries(u).reduce((_,[E,A])=>`${_}${E}=${A},`,"");if(fL(d)&&c!=="_self")return RV(e||"",c),new sd(null);let g=window.open(e||"",c,f);z(g,t,"popup-blocked");try{g.focus()}catch{}return new sd(g)}function RV(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var MV="__/auth/handler",NV="emulator/auth/handler",xV=encodeURIComponent("fac");function Zb(t,e,n,r,i,o){return I(this,null,function*(){z(t.config.authDomain,t,"auth-domain-config-required"),z(t.config.apiKey,t,"invalid-api-key");let s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:br,eventId:i};if(e instanceof nd){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",wb(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[f,g]of Object.entries(o||{}))s[f]=g}if(e instanceof Tm){let f=e.getScopes().filter(g=>g!=="");f.length>0&&(s.scopes=f.join(","))}t.tenantId&&(s.tid=t.tenantId);let c=s;for(let f of Object.keys(c))c[f]===void 0&&delete c[f];let u=yield t._getAppCheckToken(),d=u?`#${xV}=${encodeURIComponent(u)}`:"";return`${PV(t)}?${ja(c).slice(1)}${d}`})}function PV({config:t}){return t.emulator?Fm(t,NV):`https://${t.authDomain}/${MV}`}var gm="webStorageSupport",Pm=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Qm,this._completeRedirectFn=oV,this._overrideRedirectResult=nV}_openPopup(e,n,r,i){return I(this,null,function*(){var o;Sr((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield Zb(e,n,r,mm(),i);return AV(e,s,T0())})}_openRedirect(e,n,r,i){return I(this,null,function*(){yield this._originValidation(e);let o=yield Zb(e,n,r,mm(),i);return UL(o),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Sr(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return I(this,null,function*(){let n=yield EV(e),r=new xm(e);return n.register("authEvent",i=>(z(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(gm,{type:gm},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[gm];s!==void 0&&n(!!s),fn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=dV(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return m0()||l0()||Um()}},x0=Pm;var Jb="@firebase/auth",Xb="1.7.9";var Om=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return I(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){z(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function OV(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function kV(t){Cr(new Ut("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:c}=r.options;z(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:s,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:y0(t)},d=new Dm(r,i,o,u);return EL(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Cr(new Ut("auth-internal",e=>{let n=bi(e.getProvider("auth").getImmediate());return(r=>new Om(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Be(Jb,Xb,OV(t)),Be(Jb,Xb,"esm2017")}var FV=5*60,LV=Kg("authIdTokenMaxAge")||FV,e0=null,VV=t=>e=>I(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>LV)return;let i=n?.token;e0!==i&&(e0=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function Ym(t=Ho()){let e=$a(t,"auth");if(e.isInitialized())return e.getImmediate();let n=Bm(t,{popupRedirectResolver:x0,persistence:[M0,b0,Qm]}),r=Kg("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=VV(o.toString());Wm(n,s,()=>s(n.currentUser)),Gm(n,c=>s(c))}}let i=Gg("auth");return i&&$m(n,`http://${i}`),n}function jV(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}yL({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let o=Ei("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",jV().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});kV("Browser");var P0="auth",Xt=class{constructor(e){return e}},Ja=class{constructor(){return Ha(P0)}};var Zm=new j("angularfire2.auth-instances");function Rj(t,e){let n=Hl(P0,t,e);return n&&new Xt(n)}function Mj(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Xt(r)}}var Nj={provide:Ja,deps:[[new ht,Zm]]},xj={provide:Xt,useFactory:Rj,deps:[[new ht,Zm],Hn]};function O0(t,...e){return Be("angularfire",Ii.full,"auth"),cn([xj,Nj,{provide:Zm,useFactory:Mj(t),multi:!0,deps:[ve,vt,Go,wi,[new ht,zo],...e]}])}var k0=Bt(qm,!0);var F0=Bt(Ym,!0);var L0=Bt(zm,!0);var V0=Bt(Km,!0);function Pj(t,e){if(t&1){let n=Do();B(0,"button",2),xe("click",function(){ii(n);let i=pt();return oi(i.goTo("login"))}),Y(1,"Iniciar Sesi\xF3n"),U()}}function Oj(t,e){if(t&1){let n=Do();B(0,"button",2),xe("click",function(){ii(n);let i=pt();return oi(i.goTo("registro"))}),Y(1,"Registrarse"),U()}}function kj(t,e){if(t&1){let n=Do();B(0,"div")(1,"p"),Y(2),U(),B(3,"button",2),xe("click",function(){ii(n);let i=pt();return oi(i.goTo("ahorcado"))}),Y(4,"Jugar al Ahorcado"),U(),B(5,"button",2),xe("click",function(){ii(n);let i=pt();return oi(i.CloseSession())}),Y(6,"Cerrar Sesi\xF3n"),U()()}if(t&2){let n=pt();de(2),un("Bienvenido, ",n.user.email,"")}}var ud=class t{constructor(e,n){this.router=e;this.auth=n}user=null;ngOnInit(){this.auth.onAuthStateChanged(e=>{this.user=e})}goTo(e){this.router.navigate([e])}CloseSession(){V0(this.auth).then(()=>{this.router.navigate(["/"])})}static \u0275fac=function(n){return new(n||t)(H(jt),H(Xt))};static \u0275cmp=_t({type:t,selectors:[["app-home"]],standalone:!0,features:[It],decls:5,vars:3,consts:[[3,"click",4,"ngIf"],[4,"ngIf"],[3,"click"]],template:function(n,r){n&1&&(B(0,"nav"),Lt(1,Pj,2,0,"button",0)(2,Oj,2,0,"button",0)(3,kj,7,1,"div",1),U(),Je(4,"router-outlet")),n&2&&(de(),be("ngIf",!r.user),de(),be("ngIf",!r.user),de(),be("ngIf",r.user))},dependencies:[Sa,Uo,Ln,Ir],styles:["*[_ngcontent-%COMP%]{font-family:Courier New,monospace}"]})};var j0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},U0={};var Xm,B0;(function(){var t;function e(D,m){function y(){}y.prototype=m.prototype,D.D=m.prototype,D.prototype=new y,D.prototype.constructor=D,D.C=function(w,C,T){for(var v=Array(arguments.length-2),In=2;In<arguments.length;In++)v[In-2]=arguments[In];return m.prototype[C].apply(w,v)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(D,m,y){y||(y=0);var w=Array(16);if(typeof m=="string")for(var C=0;16>C;++C)w[C]=m.charCodeAt(y++)|m.charCodeAt(y++)<<8|m.charCodeAt(y++)<<16|m.charCodeAt(y++)<<24;else for(C=0;16>C;++C)w[C]=m[y++]|m[y++]<<8|m[y++]<<16|m[y++]<<24;m=D.g[0],y=D.g[1],C=D.g[2];var T=D.g[3],v=m+(T^y&(C^T))+w[0]+3614090360&4294967295;m=y+(v<<7&4294967295|v>>>25),v=T+(C^m&(y^C))+w[1]+3905402710&4294967295,T=m+(v<<12&4294967295|v>>>20),v=C+(y^T&(m^y))+w[2]+606105819&4294967295,C=T+(v<<17&4294967295|v>>>15),v=y+(m^C&(T^m))+w[3]+3250441966&4294967295,y=C+(v<<22&4294967295|v>>>10),v=m+(T^y&(C^T))+w[4]+4118548399&4294967295,m=y+(v<<7&4294967295|v>>>25),v=T+(C^m&(y^C))+w[5]+1200080426&4294967295,T=m+(v<<12&4294967295|v>>>20),v=C+(y^T&(m^y))+w[6]+2821735955&4294967295,C=T+(v<<17&4294967295|v>>>15),v=y+(m^C&(T^m))+w[7]+4249261313&4294967295,y=C+(v<<22&4294967295|v>>>10),v=m+(T^y&(C^T))+w[8]+1770035416&4294967295,m=y+(v<<7&4294967295|v>>>25),v=T+(C^m&(y^C))+w[9]+2336552879&4294967295,T=m+(v<<12&4294967295|v>>>20),v=C+(y^T&(m^y))+w[10]+4294925233&4294967295,C=T+(v<<17&4294967295|v>>>15),v=y+(m^C&(T^m))+w[11]+2304563134&4294967295,y=C+(v<<22&4294967295|v>>>10),v=m+(T^y&(C^T))+w[12]+1804603682&4294967295,m=y+(v<<7&4294967295|v>>>25),v=T+(C^m&(y^C))+w[13]+4254626195&4294967295,T=m+(v<<12&4294967295|v>>>20),v=C+(y^T&(m^y))+w[14]+2792965006&4294967295,C=T+(v<<17&4294967295|v>>>15),v=y+(m^C&(T^m))+w[15]+1236535329&4294967295,y=C+(v<<22&4294967295|v>>>10),v=m+(C^T&(y^C))+w[1]+4129170786&4294967295,m=y+(v<<5&4294967295|v>>>27),v=T+(y^C&(m^y))+w[6]+3225465664&4294967295,T=m+(v<<9&4294967295|v>>>23),v=C+(m^y&(T^m))+w[11]+643717713&4294967295,C=T+(v<<14&4294967295|v>>>18),v=y+(T^m&(C^T))+w[0]+3921069994&4294967295,y=C+(v<<20&4294967295|v>>>12),v=m+(C^T&(y^C))+w[5]+3593408605&4294967295,m=y+(v<<5&4294967295|v>>>27),v=T+(y^C&(m^y))+w[10]+38016083&4294967295,T=m+(v<<9&4294967295|v>>>23),v=C+(m^y&(T^m))+w[15]+3634488961&4294967295,C=T+(v<<14&4294967295|v>>>18),v=y+(T^m&(C^T))+w[4]+3889429448&4294967295,y=C+(v<<20&4294967295|v>>>12),v=m+(C^T&(y^C))+w[9]+568446438&4294967295,m=y+(v<<5&4294967295|v>>>27),v=T+(y^C&(m^y))+w[14]+3275163606&4294967295,T=m+(v<<9&4294967295|v>>>23),v=C+(m^y&(T^m))+w[3]+4107603335&4294967295,C=T+(v<<14&4294967295|v>>>18),v=y+(T^m&(C^T))+w[8]+1163531501&4294967295,y=C+(v<<20&4294967295|v>>>12),v=m+(C^T&(y^C))+w[13]+2850285829&4294967295,m=y+(v<<5&4294967295|v>>>27),v=T+(y^C&(m^y))+w[2]+4243563512&4294967295,T=m+(v<<9&4294967295|v>>>23),v=C+(m^y&(T^m))+w[7]+1735328473&4294967295,C=T+(v<<14&4294967295|v>>>18),v=y+(T^m&(C^T))+w[12]+2368359562&4294967295,y=C+(v<<20&4294967295|v>>>12),v=m+(y^C^T)+w[5]+4294588738&4294967295,m=y+(v<<4&4294967295|v>>>28),v=T+(m^y^C)+w[8]+2272392833&4294967295,T=m+(v<<11&4294967295|v>>>21),v=C+(T^m^y)+w[11]+1839030562&4294967295,C=T+(v<<16&4294967295|v>>>16),v=y+(C^T^m)+w[14]+4259657740&4294967295,y=C+(v<<23&4294967295|v>>>9),v=m+(y^C^T)+w[1]+2763975236&4294967295,m=y+(v<<4&4294967295|v>>>28),v=T+(m^y^C)+w[4]+1272893353&4294967295,T=m+(v<<11&4294967295|v>>>21),v=C+(T^m^y)+w[7]+4139469664&4294967295,C=T+(v<<16&4294967295|v>>>16),v=y+(C^T^m)+w[10]+3200236656&4294967295,y=C+(v<<23&4294967295|v>>>9),v=m+(y^C^T)+w[13]+681279174&4294967295,m=y+(v<<4&4294967295|v>>>28),v=T+(m^y^C)+w[0]+3936430074&4294967295,T=m+(v<<11&4294967295|v>>>21),v=C+(T^m^y)+w[3]+3572445317&4294967295,C=T+(v<<16&4294967295|v>>>16),v=y+(C^T^m)+w[6]+76029189&4294967295,y=C+(v<<23&4294967295|v>>>9),v=m+(y^C^T)+w[9]+3654602809&4294967295,m=y+(v<<4&4294967295|v>>>28),v=T+(m^y^C)+w[12]+3873151461&4294967295,T=m+(v<<11&4294967295|v>>>21),v=C+(T^m^y)+w[15]+530742520&4294967295,C=T+(v<<16&4294967295|v>>>16),v=y+(C^T^m)+w[2]+3299628645&4294967295,y=C+(v<<23&4294967295|v>>>9),v=m+(C^(y|~T))+w[0]+4096336452&4294967295,m=y+(v<<6&4294967295|v>>>26),v=T+(y^(m|~C))+w[7]+1126891415&4294967295,T=m+(v<<10&4294967295|v>>>22),v=C+(m^(T|~y))+w[14]+2878612391&4294967295,C=T+(v<<15&4294967295|v>>>17),v=y+(T^(C|~m))+w[5]+4237533241&4294967295,y=C+(v<<21&4294967295|v>>>11),v=m+(C^(y|~T))+w[12]+1700485571&4294967295,m=y+(v<<6&4294967295|v>>>26),v=T+(y^(m|~C))+w[3]+2399980690&4294967295,T=m+(v<<10&4294967295|v>>>22),v=C+(m^(T|~y))+w[10]+4293915773&4294967295,C=T+(v<<15&4294967295|v>>>17),v=y+(T^(C|~m))+w[1]+2240044497&4294967295,y=C+(v<<21&4294967295|v>>>11),v=m+(C^(y|~T))+w[8]+1873313359&4294967295,m=y+(v<<6&4294967295|v>>>26),v=T+(y^(m|~C))+w[15]+4264355552&4294967295,T=m+(v<<10&4294967295|v>>>22),v=C+(m^(T|~y))+w[6]+2734768916&4294967295,C=T+(v<<15&4294967295|v>>>17),v=y+(T^(C|~m))+w[13]+1309151649&4294967295,y=C+(v<<21&4294967295|v>>>11),v=m+(C^(y|~T))+w[4]+4149444226&4294967295,m=y+(v<<6&4294967295|v>>>26),v=T+(y^(m|~C))+w[11]+3174756917&4294967295,T=m+(v<<10&4294967295|v>>>22),v=C+(m^(T|~y))+w[2]+718787259&4294967295,C=T+(v<<15&4294967295|v>>>17),v=y+(T^(C|~m))+w[9]+3951481745&4294967295,D.g[0]=D.g[0]+m&4294967295,D.g[1]=D.g[1]+(C+(v<<21&4294967295|v>>>11))&4294967295,D.g[2]=D.g[2]+C&4294967295,D.g[3]=D.g[3]+T&4294967295}r.prototype.u=function(D,m){m===void 0&&(m=D.length);for(var y=m-this.blockSize,w=this.B,C=this.h,T=0;T<m;){if(C==0)for(;T<=y;)i(this,D,T),T+=this.blockSize;if(typeof D=="string"){for(;T<m;)if(w[C++]=D.charCodeAt(T++),C==this.blockSize){i(this,w),C=0;break}}else for(;T<m;)if(w[C++]=D[T++],C==this.blockSize){i(this,w),C=0;break}}this.h=C,this.o+=m},r.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var m=1;m<D.length-8;++m)D[m]=0;var y=8*this.o;for(m=D.length-8;m<D.length;++m)D[m]=y&255,y/=256;for(this.u(D),D=Array(16),m=y=0;4>m;++m)for(var w=0;32>w;w+=8)D[y++]=this.g[m]>>>w&255;return D};function o(D,m){var y=c;return Object.prototype.hasOwnProperty.call(y,D)?y[D]:y[D]=m(D)}function s(D,m){this.h=m;for(var y=[],w=!0,C=D.length-1;0<=C;C--){var T=D[C]|0;w&&T==m||(y[C]=T,w=!1)}this.g=y}var c={};function u(D){return-128<=D&&128>D?o(D,function(m){return new s([m|0],0>m?-1:0)}):new s([D|0],0>D?-1:0)}function d(D){if(isNaN(D)||!isFinite(D))return g;if(0>D)return N(d(-D));for(var m=[],y=1,w=0;D>=y;w++)m[w]=D/y|0,y*=4294967296;return new s(m,0)}function f(D,m){if(D.length==0)throw Error("number format error: empty string");if(m=m||10,2>m||36<m)throw Error("radix out of range: "+m);if(D.charAt(0)=="-")return N(f(D.substring(1),m));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var y=d(Math.pow(m,8)),w=g,C=0;C<D.length;C+=8){var T=Math.min(8,D.length-C),v=parseInt(D.substring(C,C+T),m);8>T?(T=d(Math.pow(m,T)),w=w.j(T).add(d(v))):(w=w.j(y),w=w.add(d(v)))}return w}var g=u(0),_=u(1),E=u(16777216);t=s.prototype,t.m=function(){if(x(this))return-N(this).m();for(var D=0,m=1,y=0;y<this.g.length;y++){var w=this.i(y);D+=(0<=w?w:4294967296+w)*m,m*=4294967296}return D},t.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(A(this))return"0";if(x(this))return"-"+N(this).toString(D);for(var m=d(Math.pow(D,6)),y=this,w="";;){var C=me(y,m).g;y=F(y,C.j(m));var T=((0<y.g.length?y.g[0]:y.h)>>>0).toString(D);if(y=C,A(y))return T+w;for(;6>T.length;)T="0"+T;w=T+w}},t.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function A(D){if(D.h!=0)return!1;for(var m=0;m<D.g.length;m++)if(D.g[m]!=0)return!1;return!0}function x(D){return D.h==-1}t.l=function(D){return D=F(this,D),x(D)?-1:A(D)?0:1};function N(D){for(var m=D.g.length,y=[],w=0;w<m;w++)y[w]=~D.g[w];return new s(y,~D.h).add(_)}t.abs=function(){return x(this)?N(this):this},t.add=function(D){for(var m=Math.max(this.g.length,D.g.length),y=[],w=0,C=0;C<=m;C++){var T=w+(this.i(C)&65535)+(D.i(C)&65535),v=(T>>>16)+(this.i(C)>>>16)+(D.i(C)>>>16);w=v>>>16,T&=65535,v&=65535,y[C]=v<<16|T}return new s(y,y[y.length-1]&-2147483648?-1:0)};function F(D,m){return D.add(N(m))}t.j=function(D){if(A(this)||A(D))return g;if(x(this))return x(D)?N(this).j(N(D)):N(N(this).j(D));if(x(D))return N(this.j(N(D)));if(0>this.l(E)&&0>D.l(E))return d(this.m()*D.m());for(var m=this.g.length+D.g.length,y=[],w=0;w<2*m;w++)y[w]=0;for(w=0;w<this.g.length;w++)for(var C=0;C<D.g.length;C++){var T=this.i(w)>>>16,v=this.i(w)&65535,In=D.i(C)>>>16,ps=D.i(C)&65535;y[2*w+2*C]+=v*ps,Q(y,2*w+2*C),y[2*w+2*C+1]+=T*ps,Q(y,2*w+2*C+1),y[2*w+2*C+1]+=v*In,Q(y,2*w+2*C+1),y[2*w+2*C+2]+=T*In,Q(y,2*w+2*C+2)}for(w=0;w<m;w++)y[w]=y[2*w+1]<<16|y[2*w];for(w=m;w<2*m;w++)y[w]=0;return new s(y,0)};function Q(D,m){for(;(D[m]&65535)!=D[m];)D[m+1]+=D[m]>>>16,D[m]&=65535,m++}function J(D,m){this.g=D,this.h=m}function me(D,m){if(A(m))throw Error("division by zero");if(A(D))return new J(g,g);if(x(D))return m=me(N(D),m),new J(N(m.g),N(m.h));if(x(m))return m=me(D,N(m)),new J(N(m.g),m.h);if(30<D.g.length){if(x(D)||x(m))throw Error("slowDivide_ only works with positive integers.");for(var y=_,w=m;0>=w.l(D);)y=Qe(y),w=Qe(w);var C=pe(y,1),T=pe(w,1);for(w=pe(w,2),y=pe(y,2);!A(w);){var v=T.add(w);0>=v.l(D)&&(C=C.add(y),T=v),w=pe(w,1),y=pe(y,1)}return m=F(D,C.j(m)),new J(C,m)}for(C=g;0<=D.l(m);){for(y=Math.max(1,Math.floor(D.m()/m.m())),w=Math.ceil(Math.log(y)/Math.LN2),w=48>=w?1:Math.pow(2,w-48),T=d(y),v=T.j(m);x(v)||0<v.l(D);)y-=w,T=d(y),v=T.j(m);A(T)&&(T=_),C=C.add(T),D=F(D,v)}return new J(C,D)}t.A=function(D){return me(this,D).h},t.and=function(D){for(var m=Math.max(this.g.length,D.g.length),y=[],w=0;w<m;w++)y[w]=this.i(w)&D.i(w);return new s(y,this.h&D.h)},t.or=function(D){for(var m=Math.max(this.g.length,D.g.length),y=[],w=0;w<m;w++)y[w]=this.i(w)|D.i(w);return new s(y,this.h|D.h)},t.xor=function(D){for(var m=Math.max(this.g.length,D.g.length),y=[],w=0;w<m;w++)y[w]=this.i(w)^D.i(w);return new s(y,this.h^D.h)};function Qe(D){for(var m=D.g.length+1,y=[],w=0;w<m;w++)y[w]=D.i(w)<<1|D.i(w-1)>>>31;return new s(y,D.h)}function pe(D,m){var y=m>>5;m%=32;for(var w=D.g.length-y,C=[],T=0;T<w;T++)C[T]=0<m?D.i(T+y)>>>m|D.i(T+y+1)<<32-m:D.i(T+y);return new s(C,D.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,B0=U0.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=d,s.fromString=f,Xm=U0.Integer=s}).apply(typeof j0<"u"?j0:typeof self<"u"?self:typeof window<"u"?window:{});var ld=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Wn={};var ey,ty,Qo,ny,ec,dd,ry,iy,oy;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,l,h){return a==Array.prototype||a==Object.prototype||(a[l]=h.value),a};function n(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof ld=="object"&&ld];for(var l=0;l<a.length;++l){var h=a[l];if(h&&h.Math==Math)return h}throw Error("Cannot find global object")}var r=n(this);function i(a,l){if(l)e:{var h=r;a=a.split(".");for(var p=0;p<a.length-1;p++){var b=a[p];if(!(b in h))break e;h=h[b]}a=a[a.length-1],p=h[a],l=l(p),l!=p&&l!=null&&e(h,a,{configurable:!0,writable:!0,value:l})}}function o(a,l){a instanceof String&&(a+="");var h=0,p=!1,b={next:function(){if(!p&&h<a.length){var S=h++;return{value:l(S,a[S]),done:!1}}return p=!0,{done:!0,value:void 0}}};return b[Symbol.iterator]=function(){return b},b}i("Array.prototype.values",function(a){return a||function(){return o(this,function(l,h){return h})}});var s=s||{},c=this||self;function u(a){var l=typeof a;return l=l!="object"?l:a?Array.isArray(a)?"array":l:"null",l=="array"||l=="object"&&typeof a.length=="number"}function d(a){var l=typeof a;return l=="object"&&a!=null||l=="function"}function f(a,l,h){return a.call.apply(a.bind,arguments)}function g(a,l,h){if(!a)throw Error();if(2<arguments.length){var p=Array.prototype.slice.call(arguments,2);return function(){var b=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(b,p),a.apply(l,b)}}return function(){return a.apply(l,arguments)}}function _(a,l,h){return _=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:g,_.apply(null,arguments)}function E(a,l){var h=Array.prototype.slice.call(arguments,1);return function(){var p=h.slice();return p.push.apply(p,arguments),a.apply(this,p)}}function A(a,l){function h(){}h.prototype=l.prototype,a.aa=l.prototype,a.prototype=new h,a.prototype.constructor=a,a.Qb=function(p,b,S){for(var P=Array(arguments.length-2),Ie=2;Ie<arguments.length;Ie++)P[Ie-2]=arguments[Ie];return l.prototype[b].apply(p,P)}}function x(a){let l=a.length;if(0<l){let h=Array(l);for(let p=0;p<l;p++)h[p]=a[p];return h}return[]}function N(a,l){for(let h=1;h<arguments.length;h++){let p=arguments[h];if(u(p)){let b=a.length||0,S=p.length||0;a.length=b+S;for(let P=0;P<S;P++)a[b+P]=p[P]}else a.push(p)}}class F{constructor(l,h){this.i=l,this.j=h,this.h=0,this.g=null}get(){let l;return 0<this.h?(this.h--,l=this.g,this.g=l.next,l.next=null):l=this.i(),l}}function Q(a){return/^[\s\xa0]*$/.test(a)}function J(){var a=c.navigator;return a&&(a=a.userAgent)?a:""}function me(a){return me[" "](a),a}me[" "]=function(){};var Qe=J().indexOf("Gecko")!=-1&&!(J().toLowerCase().indexOf("webkit")!=-1&&J().indexOf("Edge")==-1)&&!(J().indexOf("Trident")!=-1||J().indexOf("MSIE")!=-1)&&J().indexOf("Edge")==-1;function pe(a,l,h){for(let p in a)l.call(h,a[p],p,a)}function D(a,l){for(let h in a)l.call(void 0,a[h],h,a)}function m(a){let l={};for(let h in a)l[h]=a[h];return l}let y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function w(a,l){let h,p;for(let b=1;b<arguments.length;b++){p=arguments[b];for(h in p)a[h]=p[h];for(let S=0;S<y.length;S++)h=y[S],Object.prototype.hasOwnProperty.call(p,h)&&(a[h]=p[h])}}function C(a){var l=1;a=a.split(":");let h=[];for(;0<l&&a.length;)h.push(a.shift()),l--;return a.length&&h.push(a.join(":")),h}function T(a){c.setTimeout(()=>{throw a},0)}function v(){var a=Qd;let l=null;return a.g&&(l=a.g,a.g=a.g.next,a.g||(a.h=null),l.next=null),l}class In{constructor(){this.h=this.g=null}add(l,h){let p=ps.get();p.set(l,h),this.h?this.h.next=p:this.g=p,this.h=p}}var ps=new F(()=>new dS,a=>a.reset());class dS{constructor(){this.next=this.g=this.h=null}set(l,h){this.h=l,this.g=h,this.next=null}reset(){this.next=this.g=this.h=null}}let gs,ms=!1,Qd=new In,jv=()=>{let a=c.Promise.resolve(void 0);gs=()=>{a.then(hS)}};var hS=()=>{for(var a;a=v();){try{a.h.call(a.g)}catch(h){T(h)}var l=ps;l.j(a),100>l.h&&(l.h++,a.next=l.g,l.g=a)}ms=!1};function Zn(){this.s=this.s,this.C=this.C}Zn.prototype.s=!1,Zn.prototype.ma=function(){this.s||(this.s=!0,this.N())},Zn.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function et(a,l){this.type=a,this.g=this.target=l,this.defaultPrevented=!1}et.prototype.h=function(){this.defaultPrevented=!0};var fS=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var a=!1,l=Object.defineProperty({},"passive",{get:function(){a=!0}});try{let h=()=>{};c.addEventListener("test",h,l),c.removeEventListener("test",h,l)}catch{}return a}();function ys(a,l){if(et.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var h=this.type=a.type,p=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=l,l=a.relatedTarget){if(Qe){e:{try{me(l.nodeName);var b=!0;break e}catch{}b=!1}b||(l=null)}}else h=="mouseover"?l=a.fromElement:h=="mouseout"&&(l=a.toElement);this.relatedTarget=l,p?(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:pS[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&ys.aa.h.call(this)}}A(ys,et);var pS={2:"touch",3:"pen",4:"mouse"};ys.prototype.h=function(){ys.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var vs="closure_listenable_"+(1e6*Math.random()|0),gS=0;function mS(a,l,h,p,b){this.listener=a,this.proxy=null,this.src=l,this.type=h,this.capture=!!p,this.ha=b,this.key=++gS,this.da=this.fa=!1}function pc(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function gc(a){this.src=a,this.g={},this.h=0}gc.prototype.add=function(a,l,h,p,b){var S=a.toString();a=this.g[S],a||(a=this.g[S]=[],this.h++);var P=Zd(a,l,p,b);return-1<P?(l=a[P],h||(l.fa=!1)):(l=new mS(l,this.src,S,!!p,b),l.fa=h,a.push(l)),l};function Yd(a,l){var h=l.type;if(h in a.g){var p=a.g[h],b=Array.prototype.indexOf.call(p,l,void 0),S;(S=0<=b)&&Array.prototype.splice.call(p,b,1),S&&(pc(l),a.g[h].length==0&&(delete a.g[h],a.h--))}}function Zd(a,l,h,p){for(var b=0;b<a.length;++b){var S=a[b];if(!S.da&&S.listener==l&&S.capture==!!h&&S.ha==p)return b}return-1}var Jd="closure_lm_"+(1e6*Math.random()|0),Xd={};function Uv(a,l,h,p,b){if(p&&p.once)return $v(a,l,h,p,b);if(Array.isArray(l)){for(var S=0;S<l.length;S++)Uv(a,l[S],h,p,b);return null}return h=rh(h),a&&a[vs]?a.K(l,h,d(p)?!!p.capture:!!p,b):Bv(a,l,h,!1,p,b)}function Bv(a,l,h,p,b,S){if(!l)throw Error("Invalid event type");var P=d(b)?!!b.capture:!!b,Ie=th(a);if(Ie||(a[Jd]=Ie=new gc(a)),h=Ie.add(l,h,p,P,S),h.proxy)return h;if(p=yS(),h.proxy=p,p.src=a,p.listener=h,a.addEventListener)fS||(b=P),b===void 0&&(b=!1),a.addEventListener(l.toString(),p,b);else if(a.attachEvent)a.attachEvent(qv(l.toString()),p);else if(a.addListener&&a.removeListener)a.addListener(p);else throw Error("addEventListener and attachEvent are unavailable.");return h}function yS(){function a(h){return l.call(a.src,a.listener,h)}let l=vS;return a}function $v(a,l,h,p,b){if(Array.isArray(l)){for(var S=0;S<l.length;S++)$v(a,l[S],h,p,b);return null}return h=rh(h),a&&a[vs]?a.L(l,h,d(p)?!!p.capture:!!p,b):Bv(a,l,h,!0,p,b)}function Hv(a,l,h,p,b){if(Array.isArray(l))for(var S=0;S<l.length;S++)Hv(a,l[S],h,p,b);else p=d(p)?!!p.capture:!!p,h=rh(h),a&&a[vs]?(a=a.i,l=String(l).toString(),l in a.g&&(S=a.g[l],h=Zd(S,h,p,b),-1<h&&(pc(S[h]),Array.prototype.splice.call(S,h,1),S.length==0&&(delete a.g[l],a.h--)))):a&&(a=th(a))&&(l=a.g[l.toString()],a=-1,l&&(a=Zd(l,h,p,b)),(h=-1<a?l[a]:null)&&eh(h))}function eh(a){if(typeof a!="number"&&a&&!a.da){var l=a.src;if(l&&l[vs])Yd(l.i,a);else{var h=a.type,p=a.proxy;l.removeEventListener?l.removeEventListener(h,p,a.capture):l.detachEvent?l.detachEvent(qv(h),p):l.addListener&&l.removeListener&&l.removeListener(p),(h=th(l))?(Yd(h,a),h.h==0&&(h.src=null,l[Jd]=null)):pc(a)}}}function qv(a){return a in Xd?Xd[a]:Xd[a]="on"+a}function vS(a,l){if(a.da)a=!0;else{l=new ys(l,this);var h=a.listener,p=a.ha||a.src;a.fa&&eh(a),a=h.call(p,l)}return a}function th(a){return a=a[Jd],a instanceof gc?a:null}var nh="__closure_events_fn_"+(1e9*Math.random()>>>0);function rh(a){return typeof a=="function"?a:(a[nh]||(a[nh]=function(l){return a.handleEvent(l)}),a[nh])}function tt(){Zn.call(this),this.i=new gc(this),this.M=this,this.F=null}A(tt,Zn),tt.prototype[vs]=!0,tt.prototype.removeEventListener=function(a,l,h,p){Hv(this,a,l,h,p)};function ct(a,l){var h,p=a.F;if(p)for(h=[];p;p=p.F)h.push(p);if(a=a.M,p=l.type||l,typeof l=="string")l=new et(l,a);else if(l instanceof et)l.target=l.target||a;else{var b=l;l=new et(p,a),w(l,b)}if(b=!0,h)for(var S=h.length-1;0<=S;S--){var P=l.g=h[S];b=mc(P,p,!0,l)&&b}if(P=l.g=a,b=mc(P,p,!0,l)&&b,b=mc(P,p,!1,l)&&b,h)for(S=0;S<h.length;S++)P=l.g=h[S],b=mc(P,p,!1,l)&&b}tt.prototype.N=function(){if(tt.aa.N.call(this),this.i){var a=this.i,l;for(l in a.g){for(var h=a.g[l],p=0;p<h.length;p++)pc(h[p]);delete a.g[l],a.h--}}this.F=null},tt.prototype.K=function(a,l,h,p){return this.i.add(String(a),l,!1,h,p)},tt.prototype.L=function(a,l,h,p){return this.i.add(String(a),l,!0,h,p)};function mc(a,l,h,p){if(l=a.i.g[String(l)],!l)return!0;l=l.concat();for(var b=!0,S=0;S<l.length;++S){var P=l[S];if(P&&!P.da&&P.capture==h){var Ie=P.listener,Ye=P.ha||P.src;P.fa&&Yd(a.i,P),b=Ie.call(Ye,p)!==!1&&b}}return b&&!p.defaultPrevented}function zv(a,l,h){if(typeof a=="function")h&&(a=_(a,h));else if(a&&typeof a.handleEvent=="function")a=_(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(l)?-1:c.setTimeout(a,l||0)}function Gv(a){a.g=zv(()=>{a.g=null,a.i&&(a.i=!1,Gv(a))},a.l);let l=a.h;a.h=null,a.m.apply(null,l)}class _S extends Zn{constructor(l,h){super(),this.m=l,this.l=h,this.h=null,this.i=!1,this.g=null}j(l){this.h=arguments,this.g?this.i=!0:Gv(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function _s(a){Zn.call(this),this.h=a,this.g={}}A(_s,Zn);var Wv=[];function Kv(a){pe(a.g,function(l,h){this.g.hasOwnProperty(h)&&eh(l)},a),a.g={}}_s.prototype.N=function(){_s.aa.N.call(this),Kv(this)},_s.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ih=c.JSON.stringify,IS=c.JSON.parse,wS=class{stringify(a){return c.JSON.stringify(a,void 0)}parse(a){return c.JSON.parse(a,void 0)}};function oh(){}oh.prototype.h=null;function Qv(a){return a.h||(a.h=a.i())}function Yv(){}var Is={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function sh(){et.call(this,"d")}A(sh,et);function ah(){et.call(this,"c")}A(ah,et);var kr={},Zv=null;function yc(){return Zv=Zv||new tt}kr.La="serverreachability";function Jv(a){et.call(this,kr.La,a)}A(Jv,et);function ws(a){let l=yc();ct(l,new Jv(l))}kr.STAT_EVENT="statevent";function Xv(a,l){et.call(this,kr.STAT_EVENT,a),this.stat=l}A(Xv,et);function ut(a){let l=yc();ct(l,new Xv(l,a))}kr.Ma="timingevent";function e_(a,l){et.call(this,kr.Ma,a),this.size=l}A(e_,et);function Es(a,l){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){a()},l)}function Ds(){this.g=!0}Ds.prototype.xa=function(){this.g=!1};function ES(a,l,h,p,b,S){a.info(function(){if(a.g)if(S)for(var P="",Ie=S.split("&"),Ye=0;Ye<Ie.length;Ye++){var ge=Ie[Ye].split("=");if(1<ge.length){var nt=ge[0];ge=ge[1];var rt=nt.split("_");P=2<=rt.length&&rt[1]=="type"?P+(nt+"="+ge+"&"):P+(nt+"=redacted&")}}else P=null;else P=S;return"XMLHTTP REQ ("+p+") [attempt "+b+"]: "+l+`
`+h+`
`+P})}function DS(a,l,h,p,b,S,P){a.info(function(){return"XMLHTTP RESP ("+p+") [ attempt "+b+"]: "+l+`
`+h+`
`+S+" "+P})}function Fi(a,l,h,p){a.info(function(){return"XMLHTTP TEXT ("+l+"): "+bS(a,h)+(p?" "+p:"")})}function CS(a,l){a.info(function(){return"TIMEOUT: "+l})}Ds.prototype.info=function(){};function bS(a,l){if(!a.g)return l;if(!l)return null;try{var h=JSON.parse(l);if(h){for(a=0;a<h.length;a++)if(Array.isArray(h[a])){var p=h[a];if(!(2>p.length)){var b=p[1];if(Array.isArray(b)&&!(1>b.length)){var S=b[0];if(S!="noop"&&S!="stop"&&S!="close")for(var P=1;P<b.length;P++)b[P]=""}}}}return ih(h)}catch{return l}}var vc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},t_={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ch;function _c(){}A(_c,oh),_c.prototype.g=function(){return new XMLHttpRequest},_c.prototype.i=function(){return{}},ch=new _c;function Jn(a,l,h,p){this.j=a,this.i=l,this.l=h,this.R=p||1,this.U=new _s(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new n_}function n_(){this.i=null,this.g="",this.h=!1}var r_={},uh={};function lh(a,l,h){a.L=1,a.v=Dc(wn(l)),a.m=h,a.P=!0,i_(a,null)}function i_(a,l){a.F=Date.now(),Ic(a),a.A=wn(a.v);var h=a.A,p=a.R;Array.isArray(p)||(p=[String(p)]),v_(h.i,"t",p),a.C=0,h=a.j.J,a.h=new n_,a.g=F_(a.j,h?l:null,!a.m),0<a.O&&(a.M=new _S(_(a.Y,a,a.g),a.O)),l=a.U,h=a.g,p=a.ca;var b="readystatechange";Array.isArray(b)||(b&&(Wv[0]=b.toString()),b=Wv);for(var S=0;S<b.length;S++){var P=Uv(h,b[S],p||l.handleEvent,!1,l.h||l);if(!P)break;l.g[P.key]=P}l=a.H?m(a.H):{},a.m?(a.u||(a.u="POST"),l["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,l)):(a.u="GET",a.g.ea(a.A,a.u,null,l)),ws(),ES(a.i,a.u,a.A,a.l,a.R,a.m)}Jn.prototype.ca=function(a){a=a.target;let l=this.M;l&&En(a)==3?l.j():this.Y(a)},Jn.prototype.Y=function(a){try{if(a==this.g)e:{let rt=En(this.g);var l=this.g.Ba();let ji=this.g.Z();if(!(3>rt)&&(rt!=3||this.g&&(this.h.h||this.g.oa()||b_(this.g)))){this.J||rt!=4||l==7||(l==8||0>=ji?ws(3):ws(2)),dh(this);var h=this.g.Z();this.X=h;t:if(o_(this)){var p=b_(this.g);a="";var b=p.length,S=En(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Fr(this),Cs(this);var P="";break t}this.h.i=new c.TextDecoder}for(l=0;l<b;l++)this.h.h=!0,a+=this.h.i.decode(p[l],{stream:!(S&&l==b-1)});p.length=0,this.h.g+=a,this.C=0,P=this.h.g}else P=this.g.oa();if(this.o=h==200,DS(this.i,this.u,this.A,this.l,this.R,rt,h),this.o){if(this.T&&!this.K){t:{if(this.g){var Ie,Ye=this.g;if((Ie=Ye.g?Ye.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Q(Ie)){var ge=Ie;break t}}ge=null}if(h=ge)Fi(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,hh(this,h);else{this.o=!1,this.s=3,ut(12),Fr(this),Cs(this);break e}}if(this.P){h=!0;let $t;for(;!this.J&&this.C<P.length;)if($t=TS(this,P),$t==uh){rt==4&&(this.s=4,ut(14),h=!1),Fi(this.i,this.l,null,"[Incomplete Response]");break}else if($t==r_){this.s=4,ut(15),Fi(this.i,this.l,P,"[Invalid Chunk]"),h=!1;break}else Fi(this.i,this.l,$t,null),hh(this,$t);if(o_(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),rt!=4||P.length!=0||this.h.h||(this.s=1,ut(16),h=!1),this.o=this.o&&h,!h)Fi(this.i,this.l,P,"[Invalid Chunked Response]"),Fr(this),Cs(this);else if(0<P.length&&!this.W){this.W=!0;var nt=this.j;nt.g==this&&nt.ba&&!nt.M&&(nt.j.info("Great, no buffering proxy detected. Bytes received: "+P.length),vh(nt),nt.M=!0,ut(11))}}else Fi(this.i,this.l,P,null),hh(this,P);rt==4&&Fr(this),this.o&&!this.J&&(rt==4?x_(this.j,this):(this.o=!1,Ic(this)))}else HS(this.g),h==400&&0<P.indexOf("Unknown SID")?(this.s=3,ut(12)):(this.s=0,ut(13)),Fr(this),Cs(this)}}}catch{}finally{}};function o_(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function TS(a,l){var h=a.C,p=l.indexOf(`
`,h);return p==-1?uh:(h=Number(l.substring(h,p)),isNaN(h)?r_:(p+=1,p+h>l.length?uh:(l=l.slice(p,p+h),a.C=p+h,l)))}Jn.prototype.cancel=function(){this.J=!0,Fr(this)};function Ic(a){a.S=Date.now()+a.I,s_(a,a.I)}function s_(a,l){if(a.B!=null)throw Error("WatchDog timer not null");a.B=Es(_(a.ba,a),l)}function dh(a){a.B&&(c.clearTimeout(a.B),a.B=null)}Jn.prototype.ba=function(){this.B=null;let a=Date.now();0<=a-this.S?(CS(this.i,this.A),this.L!=2&&(ws(),ut(17)),Fr(this),this.s=2,Cs(this)):s_(this,this.S-a)};function Cs(a){a.j.G==0||a.J||x_(a.j,a)}function Fr(a){dh(a);var l=a.M;l&&typeof l.ma=="function"&&l.ma(),a.M=null,Kv(a.U),a.g&&(l=a.g,a.g=null,l.abort(),l.ma())}function hh(a,l){try{var h=a.j;if(h.G!=0&&(h.g==a||fh(h.h,a))){if(!a.K&&fh(h.h,a)&&h.G==3){try{var p=h.Da.g.parse(l)}catch{p=null}if(Array.isArray(p)&&p.length==3){var b=p;if(b[0]==0){e:if(!h.u){if(h.g)if(h.g.F+3e3<a.F)Ac(h),Tc(h);else break e;yh(h),ut(18)}}else h.za=b[1],0<h.za-h.T&&37500>b[2]&&h.F&&h.v==0&&!h.C&&(h.C=Es(_(h.Za,h),6e3));if(1>=u_(h.h)&&h.ca){try{h.ca()}catch{}h.ca=void 0}}else Vr(h,11)}else if((a.K||h.g==a)&&Ac(h),!Q(l))for(b=h.Da.g.parse(l),l=0;l<b.length;l++){let ge=b[l];if(h.T=ge[0],ge=ge[1],h.G==2)if(ge[0]=="c"){h.K=ge[1],h.ia=ge[2];let nt=ge[3];nt!=null&&(h.la=nt,h.j.info("VER="+h.la));let rt=ge[4];rt!=null&&(h.Aa=rt,h.j.info("SVER="+h.Aa));let ji=ge[5];ji!=null&&typeof ji=="number"&&0<ji&&(p=1.5*ji,h.L=p,h.j.info("backChannelRequestTimeoutMs_="+p)),p=h;let $t=a.g;if($t){let Mc=$t.g?$t.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Mc){var S=p.h;S.g||Mc.indexOf("spdy")==-1&&Mc.indexOf("quic")==-1&&Mc.indexOf("h2")==-1||(S.j=S.l,S.g=new Set,S.h&&(ph(S,S.h),S.h=null))}if(p.D){let _h=$t.g?$t.g.getResponseHeader("X-HTTP-Session-Id"):null;_h&&(p.ya=_h,Ce(p.I,p.D,_h))}}h.G=3,h.l&&h.l.ua(),h.ba&&(h.R=Date.now()-a.F,h.j.info("Handshake RTT: "+h.R+"ms")),p=h;var P=a;if(p.qa=k_(p,p.J?p.ia:null,p.W),P.K){l_(p.h,P);var Ie=P,Ye=p.L;Ye&&(Ie.I=Ye),Ie.B&&(dh(Ie),Ic(Ie)),p.g=P}else M_(p);0<h.i.length&&Sc(h)}else ge[0]!="stop"&&ge[0]!="close"||Vr(h,7);else h.G==3&&(ge[0]=="stop"||ge[0]=="close"?ge[0]=="stop"?Vr(h,7):mh(h):ge[0]!="noop"&&h.l&&h.l.ta(ge),h.v=0)}}ws(4)}catch{}}var SS=class{constructor(a,l){this.g=a,this.map=l}};function a_(a){this.l=a||10,c.PerformanceNavigationTiming?(a=c.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function c_(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function u_(a){return a.h?1:a.g?a.g.size:0}function fh(a,l){return a.h?a.h==l:a.g?a.g.has(l):!1}function ph(a,l){a.g?a.g.add(l):a.h=l}function l_(a,l){a.h&&a.h==l?a.h=null:a.g&&a.g.has(l)&&a.g.delete(l)}a_.prototype.cancel=function(){if(this.i=d_(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let a of this.g.values())a.cancel();this.g.clear()}};function d_(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let l=a.i;for(let h of a.g.values())l=l.concat(h.D);return l}return x(a.i)}function AS(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(u(a)){for(var l=[],h=a.length,p=0;p<h;p++)l.push(a[p]);return l}l=[],h=0;for(p in a)l[h++]=a[p];return l}function RS(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(u(a)||typeof a=="string"){var l=[];a=a.length;for(var h=0;h<a;h++)l.push(h);return l}l=[],h=0;for(let p in a)l[h++]=p;return l}}}function h_(a,l){if(a.forEach&&typeof a.forEach=="function")a.forEach(l,void 0);else if(u(a)||typeof a=="string")Array.prototype.forEach.call(a,l,void 0);else for(var h=RS(a),p=AS(a),b=p.length,S=0;S<b;S++)l.call(void 0,p[S],h&&h[S],a)}var f_=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function MS(a,l){if(a){a=a.split("&");for(var h=0;h<a.length;h++){var p=a[h].indexOf("="),b=null;if(0<=p){var S=a[h].substring(0,p);b=a[h].substring(p+1)}else S=a[h];l(S,b?decodeURIComponent(b.replace(/\+/g," ")):"")}}}function Lr(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof Lr){this.h=a.h,wc(this,a.j),this.o=a.o,this.g=a.g,Ec(this,a.s),this.l=a.l;var l=a.i,h=new Ss;h.i=l.i,l.g&&(h.g=new Map(l.g),h.h=l.h),p_(this,h),this.m=a.m}else a&&(l=String(a).match(f_))?(this.h=!1,wc(this,l[1]||"",!0),this.o=bs(l[2]||""),this.g=bs(l[3]||"",!0),Ec(this,l[4]),this.l=bs(l[5]||"",!0),p_(this,l[6]||"",!0),this.m=bs(l[7]||"")):(this.h=!1,this.i=new Ss(null,this.h))}Lr.prototype.toString=function(){var a=[],l=this.j;l&&a.push(Ts(l,g_,!0),":");var h=this.g;return(h||l=="file")&&(a.push("//"),(l=this.o)&&a.push(Ts(l,g_,!0),"@"),a.push(encodeURIComponent(String(h)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h=this.s,h!=null&&a.push(":",String(h))),(h=this.l)&&(this.g&&h.charAt(0)!="/"&&a.push("/"),a.push(Ts(h,h.charAt(0)=="/"?PS:xS,!0))),(h=this.i.toString())&&a.push("?",h),(h=this.m)&&a.push("#",Ts(h,kS)),a.join("")};function wn(a){return new Lr(a)}function wc(a,l,h){a.j=h?bs(l,!0):l,a.j&&(a.j=a.j.replace(/:$/,""))}function Ec(a,l){if(l){if(l=Number(l),isNaN(l)||0>l)throw Error("Bad port number "+l);a.s=l}else a.s=null}function p_(a,l,h){l instanceof Ss?(a.i=l,FS(a.i,a.h)):(h||(l=Ts(l,OS)),a.i=new Ss(l,a.h))}function Ce(a,l,h){a.i.set(l,h)}function Dc(a){return Ce(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function bs(a,l){return a?l?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function Ts(a,l,h){return typeof a=="string"?(a=encodeURI(a).replace(l,NS),h&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function NS(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var g_=/[#\/\?@]/g,xS=/[#\?:]/g,PS=/[#\?]/g,OS=/[#\?@]/g,kS=/#/g;function Ss(a,l){this.h=this.g=null,this.i=a||null,this.j=!!l}function Xn(a){a.g||(a.g=new Map,a.h=0,a.i&&MS(a.i,function(l,h){a.add(decodeURIComponent(l.replace(/\+/g," ")),h)}))}t=Ss.prototype,t.add=function(a,l){Xn(this),this.i=null,a=Li(this,a);var h=this.g.get(a);return h||this.g.set(a,h=[]),h.push(l),this.h+=1,this};function m_(a,l){Xn(a),l=Li(a,l),a.g.has(l)&&(a.i=null,a.h-=a.g.get(l).length,a.g.delete(l))}function y_(a,l){return Xn(a),l=Li(a,l),a.g.has(l)}t.forEach=function(a,l){Xn(this),this.g.forEach(function(h,p){h.forEach(function(b){a.call(l,b,p,this)},this)},this)},t.na=function(){Xn(this);let a=Array.from(this.g.values()),l=Array.from(this.g.keys()),h=[];for(let p=0;p<l.length;p++){let b=a[p];for(let S=0;S<b.length;S++)h.push(l[p])}return h},t.V=function(a){Xn(this);let l=[];if(typeof a=="string")y_(this,a)&&(l=l.concat(this.g.get(Li(this,a))));else{a=Array.from(this.g.values());for(let h=0;h<a.length;h++)l=l.concat(a[h])}return l},t.set=function(a,l){return Xn(this),this.i=null,a=Li(this,a),y_(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[l]),this.h+=1,this},t.get=function(a,l){return a?(a=this.V(a),0<a.length?String(a[0]):l):l};function v_(a,l,h){m_(a,l),0<h.length&&(a.i=null,a.g.set(Li(a,l),x(h)),a.h+=h.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let a=[],l=Array.from(this.g.keys());for(var h=0;h<l.length;h++){var p=l[h];let S=encodeURIComponent(String(p)),P=this.V(p);for(p=0;p<P.length;p++){var b=S;P[p]!==""&&(b+="="+encodeURIComponent(String(P[p]))),a.push(b)}}return this.i=a.join("&")};function Li(a,l){return l=String(l),a.j&&(l=l.toLowerCase()),l}function FS(a,l){l&&!a.j&&(Xn(a),a.i=null,a.g.forEach(function(h,p){var b=p.toLowerCase();p!=b&&(m_(this,p),v_(this,b,h))},a)),a.j=l}function LS(a,l){let h=new Ds;if(c.Image){let p=new Image;p.onload=E(er,h,"TestLoadImage: loaded",!0,l,p),p.onerror=E(er,h,"TestLoadImage: error",!1,l,p),p.onabort=E(er,h,"TestLoadImage: abort",!1,l,p),p.ontimeout=E(er,h,"TestLoadImage: timeout",!1,l,p),c.setTimeout(function(){p.ontimeout&&p.ontimeout()},1e4),p.src=a}else l(!1)}function VS(a,l){let h=new Ds,p=new AbortController,b=setTimeout(()=>{p.abort(),er(h,"TestPingServer: timeout",!1,l)},1e4);fetch(a,{signal:p.signal}).then(S=>{clearTimeout(b),S.ok?er(h,"TestPingServer: ok",!0,l):er(h,"TestPingServer: server error",!1,l)}).catch(()=>{clearTimeout(b),er(h,"TestPingServer: error",!1,l)})}function er(a,l,h,p,b){try{b&&(b.onload=null,b.onerror=null,b.onabort=null,b.ontimeout=null),p(h)}catch{}}function jS(){this.g=new wS}function US(a,l,h){let p=h||"";try{h_(a,function(b,S){let P=b;d(b)&&(P=ih(b)),l.push(p+S+"="+encodeURIComponent(P))})}catch(b){throw l.push(p+"type="+encodeURIComponent("_badmap")),b}}function As(a){this.l=a.Ub||null,this.j=a.eb||!1}A(As,oh),As.prototype.g=function(){return new Cc(this.l,this.j)},As.prototype.i=function(a){return function(){return a}}({});function Cc(a,l){tt.call(this),this.D=a,this.o=l,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}A(Cc,tt),t=Cc.prototype,t.open=function(a,l){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=l,this.readyState=1,Ms(this)},t.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let l={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(l.body=a),(this.D||c).fetch(new Request(this.A,l)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Rs(this)),this.readyState=0},t.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,Ms(this)),this.g&&(this.readyState=3,Ms(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;__(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function __(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}t.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var l=a.value?a.value:new Uint8Array(0);(l=this.v.decode(l,{stream:!a.done}))&&(this.response=this.responseText+=l)}a.done?Rs(this):Ms(this),this.readyState==3&&__(this)}},t.Ra=function(a){this.g&&(this.response=this.responseText=a,Rs(this))},t.Qa=function(a){this.g&&(this.response=a,Rs(this))},t.ga=function(){this.g&&Rs(this)};function Rs(a){a.readyState=4,a.l=null,a.j=null,a.v=null,Ms(a)}t.setRequestHeader=function(a,l){this.u.append(a,l)},t.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let a=[],l=this.h.entries();for(var h=l.next();!h.done;)h=h.value,a.push(h[0]+": "+h[1]),h=l.next();return a.join(`\r
`)};function Ms(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(Cc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function I_(a){let l="";return pe(a,function(h,p){l+=p,l+=":",l+=h,l+=`\r
`}),l}function gh(a,l,h){e:{for(p in h){var p=!1;break e}p=!0}p||(h=I_(h),typeof a=="string"?h!=null&&encodeURIComponent(String(h)):Ce(a,l,h))}function Te(a){tt.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}A(Te,tt);var BS=/^https?$/i,$S=["POST","PUT"];t=Te.prototype,t.Ha=function(a){this.J=a},t.ea=function(a,l,h,p){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);l=l?l.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ch.g(),this.v=this.o?Qv(this.o):Qv(ch),this.g.onreadystatechange=_(this.Ea,this);try{this.B=!0,this.g.open(l,String(a),!0),this.B=!1}catch(S){w_(this,S);return}if(a=h||"",h=new Map(this.headers),p)if(Object.getPrototypeOf(p)===Object.prototype)for(var b in p)h.set(b,p[b]);else if(typeof p.keys=="function"&&typeof p.get=="function")for(let S of p.keys())h.set(S,p.get(S));else throw Error("Unknown input type for opt_headers: "+String(p));p=Array.from(h.keys()).find(S=>S.toLowerCase()=="content-type"),b=c.FormData&&a instanceof c.FormData,!(0<=Array.prototype.indexOf.call($S,l,void 0))||p||b||h.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[S,P]of h)this.g.setRequestHeader(S,P);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{C_(this),this.u=!0,this.g.send(a),this.u=!1}catch(S){w_(this,S)}};function w_(a,l){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=l,a.m=5,E_(a),bc(a)}function E_(a){a.A||(a.A=!0,ct(a,"complete"),ct(a,"error"))}t.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,ct(this,"complete"),ct(this,"abort"),bc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),bc(this,!0)),Te.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?D_(this):this.bb())},t.bb=function(){D_(this)};function D_(a){if(a.h&&typeof s<"u"&&(!a.v[1]||En(a)!=4||a.Z()!=2)){if(a.u&&En(a)==4)zv(a.Ea,0,a);else if(ct(a,"readystatechange"),En(a)==4){a.h=!1;try{let P=a.Z();e:switch(P){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var l=!0;break e;default:l=!1}var h;if(!(h=l)){var p;if(p=P===0){var b=String(a.D).match(f_)[1]||null;!b&&c.self&&c.self.location&&(b=c.self.location.protocol.slice(0,-1)),p=!BS.test(b?b.toLowerCase():"")}h=p}if(h)ct(a,"complete"),ct(a,"success");else{a.m=6;try{var S=2<En(a)?a.g.statusText:""}catch{S=""}a.l=S+" ["+a.Z()+"]",E_(a)}}finally{bc(a)}}}}function bc(a,l){if(a.g){C_(a);let h=a.g,p=a.v[0]?()=>{}:null;a.g=null,a.v=null,l||ct(a,"ready");try{h.onreadystatechange=p}catch{}}}function C_(a){a.I&&(c.clearTimeout(a.I),a.I=null)}t.isActive=function(){return!!this.g};function En(a){return a.g?a.g.readyState:0}t.Z=function(){try{return 2<En(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(a){if(this.g){var l=this.g.responseText;return a&&l.indexOf(a)==0&&(l=l.substring(a.length)),IS(l)}};function b_(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function HS(a){let l={};a=(a.g&&2<=En(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let p=0;p<a.length;p++){if(Q(a[p]))continue;var h=C(a[p]);let b=h[0];if(h=h[1],typeof h!="string")continue;h=h.trim();let S=l[b]||[];l[b]=S,S.push(h)}D(l,function(p){return p.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ns(a,l,h){return h&&h.internalChannelParams&&h.internalChannelParams[a]||l}function T_(a){this.Aa=0,this.i=[],this.j=new Ds,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ns("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ns("baseRetryDelayMs",5e3,a),this.cb=Ns("retryDelaySeedMs",1e4,a),this.Wa=Ns("forwardChannelMaxRetries",2,a),this.wa=Ns("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new a_(a&&a.concurrentRequestLimit),this.Da=new jS,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=T_.prototype,t.la=8,t.G=1,t.connect=function(a,l,h,p){ut(0),this.W=a,this.H=l||{},h&&p!==void 0&&(this.H.OSID=h,this.H.OAID=p),this.F=this.X,this.I=k_(this,null,this.W),Sc(this)};function mh(a){if(S_(a),a.G==3){var l=a.U++,h=wn(a.I);if(Ce(h,"SID",a.K),Ce(h,"RID",l),Ce(h,"TYPE","terminate"),xs(a,h),l=new Jn(a,a.j,l),l.L=2,l.v=Dc(wn(h)),h=!1,c.navigator&&c.navigator.sendBeacon)try{h=c.navigator.sendBeacon(l.v.toString(),"")}catch{}!h&&c.Image&&(new Image().src=l.v,h=!0),h||(l.g=F_(l.j,null),l.g.ea(l.v)),l.F=Date.now(),Ic(l)}O_(a)}function Tc(a){a.g&&(vh(a),a.g.cancel(),a.g=null)}function S_(a){Tc(a),a.u&&(c.clearTimeout(a.u),a.u=null),Ac(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&c.clearTimeout(a.s),a.s=null)}function Sc(a){if(!c_(a.h)&&!a.s){a.s=!0;var l=a.Ga;gs||jv(),ms||(gs(),ms=!0),Qd.add(l,a),a.B=0}}function qS(a,l){return u_(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=l.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=Es(_(a.Ga,a,l),P_(a,a.B)),a.B++,!0)}t.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;let b=new Jn(this,this.j,a),S=this.o;if(this.S&&(S?(S=m(S),w(S,this.S)):S=this.S),this.m!==null||this.O||(b.H=S,S=null),this.P)e:{for(var l=0,h=0;h<this.i.length;h++){t:{var p=this.i[h];if("__data__"in p.map&&(p=p.map.__data__,typeof p=="string")){p=p.length;break t}p=void 0}if(p===void 0)break;if(l+=p,4096<l){l=h;break e}if(l===4096||h===this.i.length-1){l=h+1;break e}}l=1e3}else l=1e3;l=R_(this,b,l),h=wn(this.I),Ce(h,"RID",a),Ce(h,"CVER",22),this.D&&Ce(h,"X-HTTP-Session-Id",this.D),xs(this,h),S&&(this.O?l="headers="+encodeURIComponent(String(I_(S)))+"&"+l:this.m&&gh(h,this.m,S)),ph(this.h,b),this.Ua&&Ce(h,"TYPE","init"),this.P?(Ce(h,"$req",l),Ce(h,"SID","null"),b.T=!0,lh(b,h,null)):lh(b,h,l),this.G=2}}else this.G==3&&(a?A_(this,a):this.i.length==0||c_(this.h)||A_(this))};function A_(a,l){var h;l?h=l.l:h=a.U++;let p=wn(a.I);Ce(p,"SID",a.K),Ce(p,"RID",h),Ce(p,"AID",a.T),xs(a,p),a.m&&a.o&&gh(p,a.m,a.o),h=new Jn(a,a.j,h,a.B+1),a.m===null&&(h.H=a.o),l&&(a.i=l.D.concat(a.i)),l=R_(a,h,1e3),h.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),ph(a.h,h),lh(h,p,l)}function xs(a,l){a.H&&pe(a.H,function(h,p){Ce(l,p,h)}),a.l&&h_({},function(h,p){Ce(l,p,h)})}function R_(a,l,h){h=Math.min(a.i.length,h);var p=a.l?_(a.l.Na,a.l,a):null;e:{var b=a.i;let S=-1;for(;;){let P=["count="+h];S==-1?0<h?(S=b[0].g,P.push("ofs="+S)):S=0:P.push("ofs="+S);let Ie=!0;for(let Ye=0;Ye<h;Ye++){let ge=b[Ye].g,nt=b[Ye].map;if(ge-=S,0>ge)S=Math.max(0,b[Ye].g-100),Ie=!1;else try{US(nt,P,"req"+ge+"_")}catch{p&&p(nt)}}if(Ie){p=P.join("&");break e}}}return a=a.i.splice(0,h),l.D=a,p}function M_(a){if(!a.g&&!a.u){a.Y=1;var l=a.Fa;gs||jv(),ms||(gs(),ms=!0),Qd.add(l,a),a.v=0}}function yh(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=Es(_(a.Fa,a),P_(a,a.v)),a.v++,!0)}t.Fa=function(){if(this.u=null,N_(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=Es(_(this.ab,this),a)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ut(10),Tc(this),N_(this))};function vh(a){a.A!=null&&(c.clearTimeout(a.A),a.A=null)}function N_(a){a.g=new Jn(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var l=wn(a.qa);Ce(l,"RID","rpc"),Ce(l,"SID",a.K),Ce(l,"AID",a.T),Ce(l,"CI",a.F?"0":"1"),!a.F&&a.ja&&Ce(l,"TO",a.ja),Ce(l,"TYPE","xmlhttp"),xs(a,l),a.m&&a.o&&gh(l,a.m,a.o),a.L&&(a.g.I=a.L);var h=a.g;a=a.ia,h.L=1,h.v=Dc(wn(l)),h.m=null,h.P=!0,i_(h,a)}t.Za=function(){this.C!=null&&(this.C=null,Tc(this),yh(this),ut(19))};function Ac(a){a.C!=null&&(c.clearTimeout(a.C),a.C=null)}function x_(a,l){var h=null;if(a.g==l){Ac(a),vh(a),a.g=null;var p=2}else if(fh(a.h,l))h=l.D,l_(a.h,l),p=1;else return;if(a.G!=0){if(l.o)if(p==1){h=l.m?l.m.length:0,l=Date.now()-l.F;var b=a.B;p=yc(),ct(p,new e_(p,h)),Sc(a)}else M_(a);else if(b=l.s,b==3||b==0&&0<l.X||!(p==1&&qS(a,l)||p==2&&yh(a)))switch(h&&0<h.length&&(l=a.h,l.i=l.i.concat(h)),b){case 1:Vr(a,5);break;case 4:Vr(a,10);break;case 3:Vr(a,6);break;default:Vr(a,2)}}}function P_(a,l){let h=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(h*=2),h*l}function Vr(a,l){if(a.j.info("Error code "+l),l==2){var h=_(a.fb,a),p=a.Xa;let b=!p;p=new Lr(p||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||wc(p,"https"),Dc(p),b?LS(p.toString(),h):VS(p.toString(),h)}else ut(2);a.G=0,a.l&&a.l.sa(l),O_(a),S_(a)}t.fb=function(a){a?(this.j.info("Successfully pinged google.com"),ut(2)):(this.j.info("Failed to ping google.com"),ut(1))};function O_(a){if(a.G=0,a.ka=[],a.l){let l=d_(a.h);(l.length!=0||a.i.length!=0)&&(N(a.ka,l),N(a.ka,a.i),a.h.i.length=0,x(a.i),a.i.length=0),a.l.ra()}}function k_(a,l,h){var p=h instanceof Lr?wn(h):new Lr(h);if(p.g!="")l&&(p.g=l+"."+p.g),Ec(p,p.s);else{var b=c.location;p=b.protocol,l=l?l+"."+b.hostname:b.hostname,b=+b.port;var S=new Lr(null);p&&wc(S,p),l&&(S.g=l),b&&Ec(S,b),h&&(S.l=h),p=S}return h=a.D,l=a.ya,h&&l&&Ce(p,h,l),Ce(p,"VER",a.la),xs(a,p),p}function F_(a,l,h){if(l&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return l=a.Ca&&!a.pa?new Te(new As({eb:h})):new Te(a.pa),l.Ha(a.J),l}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function L_(){}t=L_.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Rc(){}Rc.prototype.g=function(a,l){return new wt(a,l)};function wt(a,l){tt.call(this),this.g=new T_(l),this.l=a,this.h=l&&l.messageUrlParams||null,a=l&&l.messageHeaders||null,l&&l.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=l&&l.initMessageHeaders||null,l&&l.messageContentType&&(a?a["X-WebChannel-Content-Type"]=l.messageContentType:a={"X-WebChannel-Content-Type":l.messageContentType}),l&&l.va&&(a?a["X-WebChannel-Client-Profile"]=l.va:a={"X-WebChannel-Client-Profile":l.va}),this.g.S=a,(a=l&&l.Sb)&&!Q(a)&&(this.g.m=a),this.v=l&&l.supportsCrossDomainXhr||!1,this.u=l&&l.sendRawJson||!1,(l=l&&l.httpSessionIdParam)&&!Q(l)&&(this.g.D=l,a=this.h,a!==null&&l in a&&(a=this.h,l in a&&delete a[l])),this.j=new Vi(this)}A(wt,tt),wt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},wt.prototype.close=function(){mh(this.g)},wt.prototype.o=function(a){var l=this.g;if(typeof a=="string"){var h={};h.__data__=a,a=h}else this.u&&(h={},h.__data__=ih(a),a=h);l.i.push(new SS(l.Ya++,a)),l.G==3&&Sc(l)},wt.prototype.N=function(){this.g.l=null,delete this.j,mh(this.g),delete this.g,wt.aa.N.call(this)};function V_(a){sh.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var l=a.__sm__;if(l){e:{for(let h in l){a=h;break e}a=void 0}(this.i=a)&&(a=this.i,l=l!==null&&a in l?l[a]:void 0),this.data=l}else this.data=a}A(V_,sh);function j_(){ah.call(this),this.status=1}A(j_,ah);function Vi(a){this.g=a}A(Vi,L_),Vi.prototype.ua=function(){ct(this.g,"a")},Vi.prototype.ta=function(a){ct(this.g,new V_(a))},Vi.prototype.sa=function(a){ct(this.g,new j_)},Vi.prototype.ra=function(){ct(this.g,"b")},Rc.prototype.createWebChannel=Rc.prototype.g,wt.prototype.send=wt.prototype.o,wt.prototype.open=wt.prototype.m,wt.prototype.close=wt.prototype.close,oy=Wn.createWebChannelTransport=function(){return new Rc},iy=Wn.getStatEventTarget=function(){return yc()},ry=Wn.Event=kr,dd=Wn.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},vc.NO_ERROR=0,vc.TIMEOUT=8,vc.HTTP_ERROR=6,ec=Wn.ErrorCode=vc,t_.COMPLETE="complete",ny=Wn.EventType=t_,Yv.EventType=Is,Is.OPEN="a",Is.CLOSE="b",Is.ERROR="c",Is.MESSAGE="d",tt.prototype.listen=tt.prototype.K,Qo=Wn.WebChannel=Yv,ty=Wn.FetchXmlHttpFactory=As,Te.prototype.listenOnce=Te.prototype.L,Te.prototype.getLastError=Te.prototype.Ka,Te.prototype.getLastErrorCode=Te.prototype.Ba,Te.prototype.getStatus=Te.prototype.Z,Te.prototype.getResponseJson=Te.prototype.Oa,Te.prototype.getResponseText=Te.prototype.oa,Te.prototype.send=Te.prototype.ea,Te.prototype.setWithCredentials=Te.prototype.Ha,ey=Wn.XhrIo=Te}).apply(typeof ld<"u"?ld:typeof self<"u"?self:typeof window<"u"?window:{});var $0="@firebase/firestore";var Ge=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Ge.UNAUTHENTICATED=new Ge(null),Ge.GOOGLE_CREDENTIALS=new Ge("google-credentials-uid"),Ge.FIRST_PARTY=new Ge("first-party-uid"),Ge.MOCK_USER=new Ge("mock-user");var fs="10.13.2";var Ri=new Er("@firebase/firestore");function tc(){return Ri.logLevel}function L(t,...e){if(Ri.logLevel<=ae.DEBUG){let n=e.map(Av);Ri.debug(`Firestore (${fs}): ${t}`,...n)}}function Mi(t,...e){if(Ri.logLevel<=ae.ERROR){let n=e.map(Av);Ri.error(`Firestore (${fs}): ${t}`,...n)}}function yd(t,...e){if(Ri.logLevel<=ae.WARN){let n=e.map(Av);Ri.warn(`Firestore (${fs}): ${t}`,...n)}}function Av(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function ce(t="Unexpected state"){let e=`FIRESTORE (${fs}) INTERNAL ASSERTION FAILED: `+t;throw Mi(e),new Error(e)}function $e(t,e){t||ce()}function De(t,e){return t}var R={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},$=class extends At{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Kn=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var vd=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},uy=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ge.UNAUTHENTICATED))}shutdown(){}},ly=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},dy=class{constructor(e){this.t=e,this.currentUser=Ge.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i,i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve(),o=new Kn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Kn,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(()=>I(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},c=u=>{L("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(u=>c(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?c(u):(L("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Kn)}},0),s()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(L("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?($e(typeof r.accessToken=="string"),new vd(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return $e(e===null||typeof e=="string"),new Ge(e)}},hy=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Ge.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},fy=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new hy(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Ge.FIRST_PARTY))}shutdown(){}invalidateToken(){}},py=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},gy=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){let r=o=>{o.error!=null&&L("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.R;return this.R=o.token,L("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{L("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?i(o):L("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?($e(typeof n.token=="string"),this.R=n.token,new py(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function Fj(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var _d=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=Fj(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}};function Ee(t,e){return t<e?-1:t>e?1:0}function Xo(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var Ke=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new $(R.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new $(R.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new $(R.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new $(R.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ee(this.nanoseconds,e.nanoseconds):Ee(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var Me=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new Ke(0,0))}static max(){return new t(new Ke(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Id=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&ce(),r===void 0?r=e.length-n:r>e.length-n&&ce(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},Fe=class t extends Id{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new $(R.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},Lj=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Rt=class t extends Id{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return Lj.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,o=()=>{if(r.length===0)throw new $(R.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},s=!1;for(;i<e.length;){let c=e[i];if(c==="\\"){if(i+1===e.length)throw new $(R.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new $(R.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else c==="`"?(s=!s,i++):c!=="."||s?(r+=c,i++):(o(),i++)}if(o(),s)throw new $(R.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var ne=class t{constructor(e){this.path=e}static fromPath(e){return new t(Fe.fromString(e))}static fromName(e){return new t(Fe.fromString(e).popFirst(5))}static empty(){return new t(Fe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Fe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Fe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new Fe(e.slice()))}};var my=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};my.UNKNOWN_ID=-1;function Vj(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Me.fromTimestamp(r===1e9?new Ke(n+1,0):new Ke(n,r));return new Ni(i,ne.empty(),e)}function jj(t){return new Ni(t.readTime,t.key,-1)}var Ni=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(Me.min(),ne.empty(),-1)}static max(){return new t(Me.max(),ne.empty(),-1)}};function Uj(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ne.comparator(t.documentKey,e.documentKey),n!==0?n:Ee(t.largestBatchId,e.largestBatchId))}var Bj="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",yy=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function lT(t){return I(this,null,function*(){if(t.code!==R.FAILED_PRECONDITION||t.message!==Bj)throw t;L("LocalStore","Unexpectedly lost primary lease")})}var M=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ce(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,o=0,s=!1;e.forEach(c=>{++i,c.next(()=>{++o,s&&o===i&&n()},u=>r(u))}),s=!0,o===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let o=e.length,s=new Array(o),c=0;for(let u=0;u<o;u++){let d=u;n(e[d]).next(f=>{s[d]=f,++c,c===o&&r(s)},f=>i(f))}})}static doWhile(e,n){return new t((r,i)=>{let o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}};function $j(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function jd(t){return t.name==="IndexedDbTransactionError"}var Hj=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.se&&this.se(n),n}}return t.oe=-1,t})();function Rv(t){return t==null}function ac(t){return t===0&&1/t==-1/0}function qj(t){return typeof t=="number"&&Number.isInteger(t)&&!ac(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var zj=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],N9=[...zj,"documentOverlays"],Gj=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Wj=Gj,Kj=[...Wj,"indexConfiguration","indexState","indexEntries"];var x9=[...Kj,"globals"];function H0(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function dc(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function dT(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Mt=class t{constructor(e,n){this.comparator=e,this.root=n||yn.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,yn.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,yn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Zo(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Zo(this.root,e,this.comparator,!1)}getReverseIterator(){return new Zo(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Zo(this.root,e,this.comparator,!0)}},Zo=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},yn=class t{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new t(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ce();let e=this.left.check();if(e!==this.right.check())throw ce();return e+(this.isRed()?0:1)}};yn.EMPTY=null,yn.RED=!0,yn.BLACK=!1;yn.EMPTY=new class{constructor(){this.size=0}get key(){throw ce()}get value(){throw ce()}get color(){throw ce()}get left(){throw ce()}get right(){throw ce()}copy(e,n,r,i,o){return this}insert(e,n,r){return new yn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var mt=class t{constructor(e){this.comparator=e,this.data=new Mt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new wd(this.data.getIterator())}getIteratorFrom(e){return new wd(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},wd=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var mn=class t{constructor(e){this.fields=e,e.sort(Rt.comparator)}static empty(){return new t([])}unionWith(e){let n=new mt(Rt.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Xo(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var vy=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Qn=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new vy("Invalid base64 string: "+o):o}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ee(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Qn.EMPTY_BYTE_STRING=new Qn("");var Qj=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Nr(t){if($e(!!t),typeof t=="string"){let e=0,n=Qj.exec(t);if($e(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ke(t.seconds),nanos:ke(t.nanos)}}function ke(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function es(t){return typeof t=="string"?Qn.fromBase64String(t):Qn.fromUint8Array(t)}function Mv(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function hT(t){let e=t.mapValue.fields.__previous_value__;return Mv(e)?hT(e):e}function Ed(t){let e=Nr(t.mapValue.fields.__local_write_time__.timestampValue);return new Ke(e.seconds,e.nanos)}var _y=class{constructor(e,n,r,i,o,s,c,u,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=c,this.longPollingOptions=u,this.useFetchStreams=d}},Iy=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var hd={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ts(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Mv(t)?4:pT(t)?9007199254740991:fT(t)?10:11:ce()}function _n(t,e){if(t===e)return!0;let n=ts(t);if(n!==ts(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ed(t).isEqual(Ed(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=Nr(i.timestampValue),c=Nr(o.timestampValue);return s.seconds===c.seconds&&s.nanos===c.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return es(i.bytesValue).isEqual(es(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return ke(i.geoPointValue.latitude)===ke(o.geoPointValue.latitude)&&ke(i.geoPointValue.longitude)===ke(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return ke(i.integerValue)===ke(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=ke(i.doubleValue),c=ke(o.doubleValue);return s===c?ac(s)===ac(c):isNaN(s)&&isNaN(c)}return!1}(t,e);case 9:return Xo(t.arrayValue.values||[],e.arrayValue.values||[],_n);case 10:case 11:return function(i,o){let s=i.mapValue.fields||{},c=o.mapValue.fields||{};if(H0(s)!==H0(c))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(c[u]===void 0||!_n(s[u],c[u])))return!1;return!0}(t,e);default:return ce()}}function cc(t,e){return(t.values||[]).find(n=>_n(n,e))!==void 0}function ns(t,e){if(t===e)return 0;let n=ts(t),r=ts(e);if(n!==r)return Ee(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ee(t.booleanValue,e.booleanValue);case 2:return function(o,s){let c=ke(o.integerValue||o.doubleValue),u=ke(s.integerValue||s.doubleValue);return c<u?-1:c>u?1:c===u?0:isNaN(c)?isNaN(u)?0:-1:1}(t,e);case 3:return q0(t.timestampValue,e.timestampValue);case 4:return q0(Ed(t),Ed(e));case 5:return Ee(t.stringValue,e.stringValue);case 6:return function(o,s){let c=es(o),u=es(s);return c.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){let c=o.split("/"),u=s.split("/");for(let d=0;d<c.length&&d<u.length;d++){let f=Ee(c[d],u[d]);if(f!==0)return f}return Ee(c.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){let c=Ee(ke(o.latitude),ke(s.latitude));return c!==0?c:Ee(ke(o.longitude),ke(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return z0(t.arrayValue,e.arrayValue);case 10:return function(o,s){var c,u,d,f;let g=o.fields||{},_=s.fields||{},E=(c=g.value)===null||c===void 0?void 0:c.arrayValue,A=(u=_.value)===null||u===void 0?void 0:u.arrayValue,x=Ee(((d=E?.values)===null||d===void 0?void 0:d.length)||0,((f=A?.values)===null||f===void 0?void 0:f.length)||0);return x!==0?x:z0(E,A)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===hd.mapValue&&s===hd.mapValue)return 0;if(o===hd.mapValue)return 1;if(s===hd.mapValue)return-1;let c=o.fields||{},u=Object.keys(c),d=s.fields||{},f=Object.keys(d);u.sort(),f.sort();for(let g=0;g<u.length&&g<f.length;++g){let _=Ee(u[g],f[g]);if(_!==0)return _;let E=ns(c[u[g]],d[f[g]]);if(E!==0)return E}return Ee(u.length,f.length)}(t.mapValue,e.mapValue);default:throw ce()}}function q0(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ee(t,e);let n=Nr(t),r=Nr(e),i=Ee(n.seconds,r.seconds);return i!==0?i:Ee(n.nanos,r.nanos)}function z0(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let o=ns(n[i],r[i]);if(o)return o}return Ee(n.length,r.length)}function rs(t){return wy(t)}function wy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=Nr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return es(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ne.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let o of n.values||[])i?i=!1:r+=",",r+=wy(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${wy(n.fields[s])}`;return i+"}"}(t.mapValue):ce()}function Ey(t){return!!t&&"integerValue"in t}function Nv(t){return!!t&&"arrayValue"in t}function gd(t){return!!t&&"mapValue"in t}function fT(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function rc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return dc(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=rc(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=rc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function pT(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var gn=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!gd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=rc(n)}setAll(e){let n=Rt.emptyPath(),r={},i=[];e.forEach((s,c)=>{if(!n.isImmediateParentOf(c)){let u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=c.popLast()}s?r[c.lastSegment()]=rc(s):i.push(c.lastSegment())});let o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){let n=this.field(e.popLast());gd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return _n(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];gd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){dc(n,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new t(rc(this.value))}};function gT(t){let e=[];return dc(t.fields,(n,r)=>{let i=new Rt([n]);if(gd(r)){let o=gT(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new mn(e)}var is=class t{constructor(e,n,r,i,o,s,c){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=c}static newInvalidDocument(e){return new t(e,0,Me.min(),Me.min(),Me.min(),gn.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,Me.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,Me.min(),Me.min(),gn.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,Me.min(),Me.min(),gn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Me.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=gn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=gn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Me.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var os=class{constructor(e,n){this.position=e,this.inclusive=n}};function G0(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let o=e[i],s=t.position[i];if(o.field.isKeyField()?r=ne.comparator(ne.fromName(s.referenceValue),n.key):r=ns(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function W0(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!_n(t.position[n],e.position[n]))return!1;return!0}var ss=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function Yj(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var Dd=class{},We=class t extends Dd{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Cy(e,n,r):n==="array-contains"?new Sy(e,r):n==="in"?new Ay(e,r):n==="not-in"?new Ry(e,r):n==="array-contains-any"?new My(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new by(e,r):new Ty(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(ns(n,this.value)):n!==null&&ts(this.value)===ts(n)&&this.matchesComparison(ns(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ce()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},xr=class t extends Dd{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new t(e,n)}matches(e){return mT(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function mT(t){return t.op==="and"}function yT(t){return Zj(t)&&mT(t)}function Zj(t){for(let e of t.filters)if(e instanceof xr)return!1;return!0}function Dy(t){if(t instanceof We)return t.field.canonicalString()+t.op.toString()+rs(t.value);if(yT(t))return t.filters.map(e=>Dy(e)).join(",");{let e=t.filters.map(n=>Dy(n)).join(",");return`${t.op}(${e})`}}function vT(t,e){return t instanceof We?function(r,i){return i instanceof We&&r.op===i.op&&r.field.isEqual(i.field)&&_n(r.value,i.value)}(t,e):t instanceof xr?function(r,i){return i instanceof xr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,c)=>o&&vT(s,i.filters[c]),!0):!1}(t,e):void ce()}function _T(t){return t instanceof We?function(n){return`${n.field.canonicalString()} ${n.op} ${rs(n.value)}`}(t):t instanceof xr?function(n){return n.op.toString()+" {"+n.getFilters().map(_T).join(" ,")+"}"}(t):"Filter"}var Cy=class extends We{constructor(e,n,r){super(e,n,r),this.key=ne.fromName(r.referenceValue)}matches(e){let n=ne.comparator(e.key,this.key);return this.matchesComparison(n)}},by=class extends We{constructor(e,n){super(e,"in",n),this.keys=IT("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},Ty=class extends We{constructor(e,n){super(e,"not-in",n),this.keys=IT("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function IT(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ne.fromName(r.referenceValue))}var Sy=class extends We{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return Nv(n)&&cc(n.arrayValue,this.value)}},Ay=class extends We{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&cc(this.value.arrayValue,n)}},Ry=class extends We{constructor(e,n){super(e,"not-in",n)}matches(e){if(cc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!cc(this.value.arrayValue,n)}},My=class extends We{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!Nv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>cc(this.value.arrayValue,r))}};var Ny=class{constructor(e,n=null,r=[],i=[],o=null,s=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=c,this.ue=null}};function K0(t,e=null,n=[],r=[],i=null,o=null,s=null){return new Ny(t,e,n,r,i,o,s)}function xv(t){let e=De(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Dy(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Rv(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>rs(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>rs(r)).join(",")),e.ue=n}return e.ue}function Pv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Yj(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!vT(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!W0(t.startAt,e.startAt)&&W0(t.endAt,e.endAt)}var as=class{constructor(e,n=null,r=[],i=[],o=null,s="F",c=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=c,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function Jj(t,e,n,r,i,o,s,c){return new as(t,e,n,r,i,o,s,c)}function Xj(t){return new as(t)}function Q0(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function e2(t){return t.collectionGroup!==null}function ic(t){let e=De(t);if(e.ce===null){e.ce=[];let n=new Set;for(let o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let c=new mt(Rt.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(d=>{d.isInequality()&&(c=c.add(d.field))})}),c})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new ss(o,r))}),n.has(Rt.keyField().canonicalString())||e.ce.push(new ss(Rt.keyField(),r))}return e.ce}function Si(t){let e=De(t);return e.le||(e.le=t2(e,ic(t))),e.le}function t2(t,e){if(t.limitType==="F")return K0(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new ss(i.field,o)});let n=t.endAt?new os(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new os(t.startAt.position,t.startAt.inclusive):null;return K0(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function xy(t,e,n){return new as(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function wT(t,e){return Pv(Si(t),Si(e))&&t.limitType===e.limitType}function ET(t){return`${xv(Si(t))}|lt:${t.limitType}`}function nc(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>_T(i)).join(", ")}]`),Rv(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>rs(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>rs(i)).join(",")),`Target(${r})`}(Si(t))}; limitType=${t.limitType})`}function Ov(t,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):ne.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(let o of ic(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,c,u){let d=G0(s,c,u);return s.inclusive?d<=0:d<0}(r.startAt,ic(r),i)||r.endAt&&!function(s,c,u){let d=G0(s,c,u);return s.inclusive?d>=0:d>0}(r.endAt,ic(r),i))}(t,e)}function n2(t){return(e,n)=>{let r=!1;for(let i of ic(t)){let o=r2(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function r2(t,e,n){let r=t.field.isKeyField()?ne.comparator(e.key,n.key):function(o,s,c){let u=s.data.field(o),d=c.data.field(o);return u!==null&&d!==null?ns(u,d):ce()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ce()}}var Pr=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){dc(this.inner,(n,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return dT(this.inner)}size(){return this.innerSize}};var i2=new Mt(ne.comparator);function Cd(){return i2}var DT=new Mt(ne.comparator);function fd(...t){let e=DT;for(let n of t)e=e.insert(n.key,n);return e}function CT(t){let e=DT;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ti(){return oc()}function bT(){return oc()}function oc(){return new Pr(t=>t.toString(),(t,e)=>t.isEqual(e))}var o2=new Mt(ne.comparator),s2=new mt(ne.comparator);function at(...t){let e=s2;for(let n of t)e=e.add(n);return e}var a2=new mt(Ee);function c2(){return a2}function kv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ac(e)?"-0":e}}function TT(t){return{integerValue:""+t}}function u2(t,e){return qj(e)?TT(e):kv(t,e)}var cs=class{constructor(){this._=void 0}};function l2(t,e,n){return t instanceof us?function(i,o){let s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&Mv(o)&&(o=hT(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof xi?AT(t,e):t instanceof Pi?RT(t,e):function(i,o){let s=ST(i,o),c=Y0(s)+Y0(i.Pe);return Ey(s)&&Ey(i.Pe)?TT(c):kv(i.serializer,c)}(t,e)}function d2(t,e,n){return t instanceof xi?AT(t,e):t instanceof Pi?RT(t,e):n}function ST(t,e){return t instanceof ls?function(r){return Ey(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var us=class extends cs{},xi=class extends cs{constructor(e){super(),this.elements=e}};function AT(t,e){let n=MT(e);for(let r of t.elements)n.some(i=>_n(i,r))||n.push(r);return{arrayValue:{values:n}}}var Pi=class extends cs{constructor(e){super(),this.elements=e}};function RT(t,e){let n=MT(e);for(let r of t.elements)n=n.filter(i=>!_n(i,r));return{arrayValue:{values:n}}}var ls=class extends cs{constructor(e,n){super(),this.serializer=e,this.Pe=n}};function Y0(t){return ke(t.integerValue||t.doubleValue)}function MT(t){return Nv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function h2(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof xi&&i instanceof xi||r instanceof Pi&&i instanceof Pi?Xo(r.elements,i.elements,_n):r instanceof ls&&i instanceof ls?_n(r.Pe,i.Pe):r instanceof us&&i instanceof us}(t.transform,e.transform)}var Py=class{constructor(e,n){this.version=e,this.transformResults=n}},Ai=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function md(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var ds=class{};function NT(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new bd(t.key,Ai.none()):new Oi(t.key,t.data,Ai.none());{let n=t.data,r=gn.empty(),i=new mt(Rt.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Yn(t.key,r,new mn(i.toArray()),Ai.none())}}function f2(t,e,n){t instanceof Oi?function(i,o,s){let c=i.value.clone(),u=J0(i.fieldTransforms,o,s.transformResults);c.setAll(u),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(t,e,n):t instanceof Yn?function(i,o,s){if(!md(i.precondition,o))return void o.convertToUnknownDocument(s.version);let c=J0(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(xT(i)),u.setAll(c),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function sc(t,e,n,r){return t instanceof Oi?function(o,s,c,u){if(!md(o.precondition,s))return c;let d=o.value.clone(),f=X0(o.fieldTransforms,u,s);return d.setAll(f),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),null}(t,e,n,r):t instanceof Yn?function(o,s,c,u){if(!md(o.precondition,s))return c;let d=X0(o.fieldTransforms,u,s),f=s.data;return f.setAll(xT(o)),f.setAll(d),s.convertToFoundDocument(s.version,f).setHasLocalMutations(),c===null?null:c.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(g=>g.field))}(t,e,n,r):function(o,s,c){return md(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):c}(t,e,n)}function p2(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),o=ST(r.transform,i||null);o!=null&&(n===null&&(n=gn.empty()),n.set(r.field,o))}return n||null}function Z0(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Xo(r,i,(o,s)=>h2(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var Oi=class extends ds{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Yn=class extends ds{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function xT(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function J0(t,e,n){let r=new Map;$e(t.length===n.length);for(let i=0;i<n.length;i++){let o=t[i],s=o.transform,c=e.data.field(o.field);r.set(o.field,d2(s,c,n[i]))}return r}function X0(t,e,n){let r=new Map;for(let i of t){let o=i.transform,s=n.data.field(i.field);r.set(i.field,l2(o,s,e))}return r}var bd=class extends ds{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},Oy=class extends ds{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var ky=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&f2(o,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=sc(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=sc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=bT();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,c=this.applyToLocalView(s,o.mutatedFields);c=n.has(i.key)?null:c;let u=NT(s,c);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(Me.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),at())}isEqual(e){return this.batchId===e.batchId&&Xo(this.mutations,e.mutations,(n,r)=>Z0(n,r))&&Xo(this.baseMutations,e.baseMutations,(n,r)=>Z0(n,r))}},Fy=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){$e(e.mutations.length===r.length);let i=function(){return o2}(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)}};var Ly=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var Pe,he;function g2(t){switch(t){default:return ce();case R.CANCELLED:case R.UNKNOWN:case R.DEADLINE_EXCEEDED:case R.RESOURCE_EXHAUSTED:case R.INTERNAL:case R.UNAVAILABLE:case R.UNAUTHENTICATED:return!1;case R.INVALID_ARGUMENT:case R.NOT_FOUND:case R.ALREADY_EXISTS:case R.PERMISSION_DENIED:case R.FAILED_PRECONDITION:case R.ABORTED:case R.OUT_OF_RANGE:case R.UNIMPLEMENTED:case R.DATA_LOSS:return!0}}function m2(t){if(t===void 0)return Mi("GRPC error has no .code"),R.UNKNOWN;switch(t){case Pe.OK:return R.OK;case Pe.CANCELLED:return R.CANCELLED;case Pe.UNKNOWN:return R.UNKNOWN;case Pe.DEADLINE_EXCEEDED:return R.DEADLINE_EXCEEDED;case Pe.RESOURCE_EXHAUSTED:return R.RESOURCE_EXHAUSTED;case Pe.INTERNAL:return R.INTERNAL;case Pe.UNAVAILABLE:return R.UNAVAILABLE;case Pe.UNAUTHENTICATED:return R.UNAUTHENTICATED;case Pe.INVALID_ARGUMENT:return R.INVALID_ARGUMENT;case Pe.NOT_FOUND:return R.NOT_FOUND;case Pe.ALREADY_EXISTS:return R.ALREADY_EXISTS;case Pe.PERMISSION_DENIED:return R.PERMISSION_DENIED;case Pe.FAILED_PRECONDITION:return R.FAILED_PRECONDITION;case Pe.ABORTED:return R.ABORTED;case Pe.OUT_OF_RANGE:return R.OUT_OF_RANGE;case Pe.UNIMPLEMENTED:return R.UNIMPLEMENTED;case Pe.DATA_LOSS:return R.DATA_LOSS;default:return ce()}}(he=Pe||(Pe={}))[he.OK=0]="OK",he[he.CANCELLED=1]="CANCELLED",he[he.UNKNOWN=2]="UNKNOWN",he[he.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",he[he.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",he[he.NOT_FOUND=5]="NOT_FOUND",he[he.ALREADY_EXISTS=6]="ALREADY_EXISTS",he[he.PERMISSION_DENIED=7]="PERMISSION_DENIED",he[he.UNAUTHENTICATED=16]="UNAUTHENTICATED",he[he.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",he[he.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",he[he.ABORTED=10]="ABORTED",he[he.OUT_OF_RANGE=11]="OUT_OF_RANGE",he[he.UNIMPLEMENTED=12]="UNIMPLEMENTED",he[he.INTERNAL=13]="INTERNAL",he[he.UNAVAILABLE=14]="UNAVAILABLE",he[he.DATA_LOSS=15]="DATA_LOSS";var O9=new Xm([4294967295,4294967295],0);var Vy=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function jy(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function y2(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function v2(t,e){return jy(t,e.toTimestamp())}function Jo(t){return $e(!!t),Me.fromTimestamp(function(n){let r=Nr(n);return new Ke(r.seconds,r.nanos)}(t))}function PT(t,e){return Uy(t,e).canonicalString()}function Uy(t,e){let n=function(i){return new Fe(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function _2(t){let e=Fe.fromString(t);return $e(S2(e)),e}function By(t,e){return PT(t.databaseId,e.path)}function I2(t){let e=_2(t);return e.length===4?Fe.emptyPath():E2(e)}function w2(t){return new Fe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function E2(t){return $e(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function eT(t,e,n){return{name:By(t,e),fields:n.value.mapValue.fields}}function D2(t,e){let n;if(e instanceof Oi)n={update:eT(t,e.key,e.value)};else if(e instanceof bd)n={delete:By(t,e.key)};else if(e instanceof Yn)n={update:eT(t,e.key,e.data),updateMask:T2(e.fieldMask)};else{if(!(e instanceof Oy))return ce();n={verify:By(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){let c=s.transform;if(c instanceof us)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof xi)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Pi)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof ls)return{fieldPath:s.field.canonicalString(),increment:c.Pe};throw ce()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:v2(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:ce()}(t,e.precondition)),n}function C2(t,e){return t&&t.length>0?($e(e!==void 0),t.map(n=>function(i,o){let s=i.updateTime?Jo(i.updateTime):Jo(o);return s.isEqual(Me.min())&&(s=Jo(o)),new Py(s,i.transformResults||[])}(n,e))):[]}function b2(t){let e=I2(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){$e(r===1);let f=n.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let o=[];n.where&&(o=function(g){let _=OT(g);return _ instanceof xr&&yT(_)?_.getFilters():[_]}(n.where));let s=[];n.orderBy&&(s=function(g){return g.map(_=>function(A){return new ss(Yo(A.field),function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction))}(_))}(n.orderBy));let c=null;n.limit&&(c=function(g){let _;return _=typeof g=="object"?g.value:g,Rv(_)?null:_}(n.limit));let u=null;n.startAt&&(u=function(g){let _=!!g.before,E=g.values||[];return new os(E,_)}(n.startAt));let d=null;return n.endAt&&(d=function(g){let _=!g.before,E=g.values||[];return new os(E,_)}(n.endAt)),Jj(e,i,s,o,c,"F",u,d)}function OT(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=Yo(n.unaryFilter.field);return We.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Yo(n.unaryFilter.field);return We.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=Yo(n.unaryFilter.field);return We.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=Yo(n.unaryFilter.field);return We.create(s,"!=",{nullValue:"NULL_VALUE"});default:return ce()}}(t):t.fieldFilter!==void 0?function(n){return We.create(Yo(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ce()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return xr.create(n.compositeFilter.filters.map(r=>OT(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ce()}}(n.compositeFilter.op))}(t):ce()}function Yo(t){return Rt.fromServerFormat(t.fieldPath)}function T2(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function S2(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var $y=class{constructor(e){this.ct=e}};function A2(t){let e=b2({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?xy(e,e.limit,"L"):e}var Td=class{constructor(){}It(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.dt(n,5);else if("booleanValue"in e)this.dt(n,10),n.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(n,15),n.At(ke(e.integerValue));else if("doubleValue"in e){let r=ke(e.doubleValue);isNaN(r)?this.dt(n,13):(this.dt(n,15),ac(r)?n.At(0):n.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(n,20),typeof r=="string"&&(r=Nr(r)),n.Rt(`${r.seconds||""}`),n.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,n),this.ft(n);else if("bytesValue"in e)this.dt(n,30),n.gt(es(e.bytesValue)),this.ft(n);else if("referenceValue"in e)this.yt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(n,45),n.At(r.latitude||0),n.At(r.longitude||0)}else"mapValue"in e?pT(e)?this.dt(n,Number.MAX_SAFE_INTEGER):fT(e)?this.wt(e.mapValue,n):(this.St(e.mapValue,n),this.ft(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.ft(n)):ce()}Vt(e,n){this.dt(n,25),this.Dt(e,n)}Dt(e,n){n.Rt(e)}St(e,n){let r=e.fields||{};this.dt(n,55);for(let i of Object.keys(r))this.Vt(i,n),this.Tt(r[i],n)}wt(e,n){var r,i;let o=e.fields||{};this.dt(n,53);let s="value",c=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(n,15),n.At(ke(c)),this.Vt(s,n),this.Tt(o[s],n)}bt(e,n){let r=e.values||[];this.dt(n,50);for(let i of r)this.Tt(i,n)}yt(e,n){this.dt(n,37),ne.fromName(e).path.forEach(r=>{this.dt(n,60),this.Dt(r,n)})}dt(e,n){e.At(n)}ft(e){e.At(2)}};Td.vt=new Td;var Hy=class{constructor(){this.un=new qy}addToCollectionParentIndex(e,n){return this.un.add(n),M.resolve()}getCollectionParents(e,n){return M.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return M.resolve()}deleteFieldIndex(e,n){return M.resolve()}deleteAllFieldIndexes(e){return M.resolve()}createTargetIndexes(e,n){return M.resolve()}getDocumentsMatchingTarget(e,n){return M.resolve(null)}getIndexType(e,n){return M.resolve(0)}getFieldIndexes(e,n){return M.resolve([])}getNextCollectionGroupToUpdate(e){return M.resolve(null)}getMinOffset(e,n){return M.resolve(Ni.min())}getMinOffsetFromCollectionGroup(e,n){return M.resolve(Ni.min())}updateCollectionGroup(e,n,r){return M.resolve()}updateIndexEntries(e,n){return M.resolve()}},qy=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new mt(Fe.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new mt(Fe.comparator)).toArray()}};var k9=new Uint8Array(0);var pn=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};pn.DEFAULT_COLLECTION_PERCENTILE=10,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,pn.DEFAULT=new pn(41943040,pn.DEFAULT_COLLECTION_PERCENTILE,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),pn.DISABLED=new pn(-1,0,0);var uc=class t{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new t(0)}static kn(){return new t(-1)}};var zy=class{constructor(){this.changes=new Pr(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,is.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?M.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var Gy=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var Wy=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&sc(r.mutation,i,mn.empty(),Ke.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,at()).next(()=>r))}getLocalViewOfDocuments(e,n,r=at()){let i=Ti();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=fd();return o.forEach((c,u)=>{s=s.insert(c,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){let r=Ti();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,at()))}populateOverlays(e,n,r){let i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,c)=>{n.set(s,c)})})}computeViews(e,n,r,i){let o=Cd(),s=oc(),c=function(){return oc()}();return n.forEach((u,d)=>{let f=r.get(d.key);i.has(d.key)&&(f===void 0||f.mutation instanceof Yn)?o=o.insert(d.key,d):f!==void 0?(s.set(d.key,f.mutation.getFieldMask()),sc(f.mutation,d,f.mutation.getFieldMask(),Ke.now())):s.set(d.key,mn.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((d,f)=>s.set(d,f)),n.forEach((d,f)=>{var g;return c.set(d,new Gy(f,(g=s.get(d))!==null&&g!==void 0?g:null))}),c))}recalculateAndSaveOverlays(e,n){let r=oc(),i=new Mt((s,c)=>s-c),o=at();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(let c of s)c.keys().forEach(u=>{let d=n.get(u);if(d===null)return;let f=r.get(u)||mn.empty();f=c.applyToLocalView(d,f),r.set(u,f);let g=(i.get(c.batchId)||at()).add(u);i=i.insert(c.batchId,g)})}).next(()=>{let s=[],c=i.getReverseIterator();for(;c.hasNext();){let u=c.getNext(),d=u.key,f=u.value,g=bT();f.forEach(_=>{if(!o.has(_)){let E=NT(n.get(_),r.get(_));E!==null&&g.set(_,E),o=o.add(_)}}),s.push(this.documentOverlayCache.saveOverlays(e,d,g))}return M.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return ne.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):e2(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):M.resolve(Ti()),c=-1,u=o;return s.next(d=>M.forEach(d,(f,g)=>(c<g.largestBatchId&&(c=g.largestBatchId),o.get(f)?M.resolve():this.remoteDocumentCache.getEntry(e,f).next(_=>{u=u.insert(f,_)}))).next(()=>this.populateOverlays(e,d,o)).next(()=>this.computeViews(e,u,d,at())).next(f=>({batchId:c,changes:CT(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ne(n)).next(r=>{let i=fd();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let o=n.collectionGroup,s=fd();return this.indexManager.getCollectionParents(e,o).next(c=>M.forEach(c,u=>{let d=function(g,_){return new as(_,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(n,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,d,r,i).next(f=>{f.forEach((g,_)=>{s=s.insert(g,_)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((u,d)=>{let f=d.getKey();s.get(f)===null&&(s=s.insert(f,is.newInvalidDocument(f)))});let c=fd();return s.forEach((u,d)=>{let f=o.get(u);f!==void 0&&sc(f.mutation,d,mn.empty(),Ke.now()),Ov(n,d)&&(c=c.insert(u,d))}),c})}};var Ky=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return M.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Jo(i.createTime)}}(n)),M.resolve()}getNamedQuery(e,n){return M.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:A2(i.bundledQuery),readTime:Jo(i.readTime)}}(n)),M.resolve()}};var Qy=class{constructor(){this.overlays=new Mt(ne.comparator),this.Ir=new Map}getOverlay(e,n){return M.resolve(this.overlays.get(n))}getOverlays(e,n){let r=Ti();return M.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),M.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.Ir.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),M.resolve()}getOverlaysForCollection(e,n,r){let i=Ti(),o=n.length+1,s=new ne(n.child("")),c=this.overlays.getIteratorFrom(s);for(;c.hasNext();){let u=c.getNext().value,d=u.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return M.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Mt((d,f)=>d-f),s=this.overlays.getIterator();for(;s.hasNext();){let d=s.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let f=o.get(d.largestBatchId);f===null&&(f=Ti(),o=o.insert(d.largestBatchId,f)),f.set(d.getKey(),d)}}let c=Ti(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((d,f)=>c.set(d,f)),!(c.size()>=i)););return M.resolve(c)}ht(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new Ly(n,r));let o=this.Ir.get(n);o===void 0&&(o=at(),this.Ir.set(n,o)),this.Ir.set(n,o.add(r.key))}};var Yy=class{constructor(){this.sessionToken=Qn.EMPTY_BYTE_STRING}getSessionToken(e){return M.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,M.resolve()}};var lc=class{constructor(){this.Tr=new mt(Oe.Er),this.dr=new mt(Oe.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){let r=new Oe(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Oe(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){let n=new ne(new Fe([])),r=new Oe(n,e),i=new Oe(n,e+1),o=[];return this.dr.forEachInRange([r,i],s=>{this.Vr(s),o.push(s.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let n=new ne(new Fe([])),r=new Oe(n,e),i=new Oe(n,e+1),o=at();return this.dr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let n=new Oe(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},Oe=class{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return ne.comparator(e.key,n.key)||Ee(e.wr,n.wr)}static Ar(e,n){return Ee(e.wr,n.wr)||ne.comparator(e.key,n.key)}};var Zy=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new mt(Oe.Er)}checkEmpty(e){return M.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new ky(o,n,r,i);this.mutationQueue.push(s);for(let c of i)this.br=this.br.add(new Oe(c.key,o)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return M.resolve(s)}lookupMutationBatch(e,n){return M.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.vr(r),o=i<0?0:i;return M.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return M.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return M.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new Oe(n,0),i=new Oe(n,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],s=>{let c=this.Dr(s.wr);o.push(c)}),M.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new mt(Ee);return n.forEach(i=>{let o=new Oe(i,0),s=new Oe(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,s],c=>{r=r.add(c.wr)})}),M.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,o=r;ne.isDocumentKey(o)||(o=o.child(""));let s=new Oe(new ne(o),0),c=new mt(Ee);return this.br.forEachWhile(u=>{let d=u.key.path;return!!r.isPrefixOf(d)&&(d.length===i&&(c=c.add(u.wr)),!0)},s),M.resolve(this.Cr(c))}Cr(e){let n=[];return e.forEach(r=>{let i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){$e(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return M.forEach(n.mutations,i=>{let o=new Oe(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){let r=new Oe(n,0),i=this.br.firstAfterOrEqual(r);return M.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,M.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var Jy=class{constructor(e){this.Mr=e,this.docs=function(){return new Mt(ne.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return M.resolve(r?r.document.mutableCopy():is.newInvalidDocument(n))}getEntries(e,n){let r=Cd();return n.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():is.newInvalidDocument(i))}),M.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Cd(),s=n.path,c=new ne(s.child("")),u=this.docs.getIteratorFrom(c);for(;u.hasNext();){let{key:d,value:{document:f}}=u.getNext();if(!s.isPrefixOf(d.path))break;d.path.length>s.length+1||Uj(jj(f),r)<=0||(i.has(f.key)||Ov(n,f))&&(o=o.insert(f.key,f.mutableCopy()))}return M.resolve(o)}getAllFromCollectionGroup(e,n,r,i){ce()}Or(e,n){return M.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Xy(this)}getSize(e){return M.resolve(this.size)}},Xy=class extends zy{constructor(e){super(),this.cr=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),M.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}};var ev=class{constructor(e){this.persistence=e,this.Nr=new Pr(n=>xv(n),Pv),this.lastRemoteSnapshotVersion=Me.min(),this.highestTargetId=0,this.Lr=0,this.Br=new lc,this.targetCount=0,this.kr=uc.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),M.resolve()}getLastRemoteSnapshotVersion(e){return M.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return M.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),M.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),M.resolve()}Kn(e){this.Nr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.kr=new uc(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,M.resolve()}updateTargetData(e,n){return this.Kn(n),M.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,M.resolve()}removeTargets(e,n,r){let i=0,o=[];return this.Nr.forEach((s,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.Nr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)}),M.waitFor(o).next(()=>i)}getTargetCount(e){return M.resolve(this.targetCount)}getTargetData(e,n){let r=this.Nr.get(n)||null;return M.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),M.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);let i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),M.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),M.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Br.yr(n);return M.resolve(r)}containsKey(e,n){return M.resolve(this.Br.containsKey(n))}};var tv=class{constructor(e,n){this.qr={},this.overlays={},this.Qr=new Hj(0),this.Kr=!1,this.Kr=!0,this.$r=new Yy,this.referenceDelegate=e(this),this.Ur=new ev(this),this.indexManager=new Hy,this.remoteDocumentCache=function(i){return new Jy(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new $y(n),this.Gr=new Ky(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Qy,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new Zy(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){L("MemoryPersistence","Starting transaction:",e);let i=new nv(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(e,n){return M.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}},nv=class extends yy{constructor(e){super(),this.currentSequenceNumber=e}},rv=class t{constructor(e){this.persistence=e,this.Jr=new lc,this.Yr=null}static Zr(e){return new t(e)}get Xr(){if(this.Yr)return this.Yr;throw ce()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),M.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),M.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),M.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return M.forEach(this.Xr,r=>{let i=ne.fromPath(r);return this.ei(e,i).next(o=>{o||n.removeEntry(i,Me.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return M.or([()=>M.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}};var iv=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=at(),i=at();for(let o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new t(e,n.fromCache,r,i)}};var ov=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var sv=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return _b()?8:$j(ze())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){let o={result:null};return this.Yi(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Zi(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new ov;return this.Xi(e,n,s).next(c=>{if(o.result=c,this.zi)return this.es(e,n,s,c.size)})}).next(()=>o.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(tc()<=ae.DEBUG&&L("QueryEngine","SDK will not create cache indexes for query:",nc(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),M.resolve()):(tc()<=ae.DEBUG&&L("QueryEngine","Query:",nc(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(tc()<=ae.DEBUG&&L("QueryEngine","The SDK decides to create cache indexes for query:",nc(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Si(n))):M.resolve())}Yi(e,n){if(Q0(n))return M.resolve(null);let r=Si(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=xy(n,null,"F"),r=Si(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=at(...o);return this.Ji.getDocuments(e,s).next(c=>this.indexManager.getMinOffset(e,r).next(u=>{let d=this.ts(n,c);return this.ns(n,d,s,u.readTime)?this.Yi(e,xy(n,null,"F")):this.rs(e,d,n,u)}))})))}Zi(e,n,r,i){return Q0(n)||i.isEqual(Me.min())?M.resolve(null):this.Ji.getDocuments(e,r).next(o=>{let s=this.ts(n,o);return this.ns(n,s,r,i)?M.resolve(null):(tc()<=ae.DEBUG&&L("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),nc(n)),this.rs(e,s,n,Vj(i,-1)).next(c=>c))})}ts(e,n){let r=new mt(n2(e));return n.forEach((i,o)=>{Ov(e,o)&&(r=r.add(o))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,n,r){return tc()<=ae.DEBUG&&L("QueryEngine","Using full collection scan to execute query:",nc(n)),this.Ji.getDocumentsMatchingQuery(e,n,Ni.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}};var av=class{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new Mt(Ee),this._s=new Pr(o=>xv(o),Pv),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Wy(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}};function R2(t,e,n,r){return new av(t,e,n,r)}function kT(t,e){return I(this,null,function*(){let n=De(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],c=[],u=at();for(let d of i){s.push(d.batchId);for(let f of d.mutations)u=u.add(f.key)}for(let d of o){c.push(d.batchId);for(let f of d.mutations)u=u.add(f.key)}return n.localDocuments.getDocuments(r,u).next(d=>({hs:d,removedBatchIds:s,addedBatchIds:c}))})})})}function M2(t,e){let n=De(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=n.cs.newChangeBuffer({trackRemovals:!0});return function(c,u,d,f){let g=d.batch,_=g.keys(),E=M.resolve();return _.forEach(A=>{E=E.next(()=>f.getEntry(u,A)).next(x=>{let N=d.docVersions.get(A);$e(N!==null),x.version.compareTo(N)<0&&(g.applyToRemoteDocument(x,d),x.isValidDocument()&&(x.setReadTime(d.commitVersion),f.addEntry(x)))})}),E.next(()=>c.mutationQueue.removeMutationBatch(u,g))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let u=at();for(let d=0;d<c.mutationResults.length;++d)c.mutationResults[d].transformResults.length>0&&(u=u.add(c.batch.mutations[d].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function N2(t){let e=De(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function x2(t,e){let n=De(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}var Sd=class{constructor(){this.activeTargetIds=c2()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var cv=class{constructor(){this.so=new Sd,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Sd,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var uv=class{_o(e){}shutdown(){}};var Ad=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){L("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){L("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var pd=null;function sy(){return pd===null?pd=function(){return 268435456+Math.round(2147483648*Math.random())}():pd++,"0x"+pd.toString(16)}var P2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var lv=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var st="WebChannelConnection",dv=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(n,r,i,o,s){let c=sy(),u=this.xo(n,r.toUriEncodedString());L("RestConnection",`Sending RPC '${n}' ${c}:`,u,i);let d={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(d,o,s),this.No(n,u,d,i).then(f=>(L("RestConnection",`Received RPC '${n}' ${c}: `,f),f),f=>{throw yd("RestConnection",`RPC '${n}' ${c} failed with error: `,f,"url: ",u,"request:",i),f})}Lo(n,r,i,o,s,c){return this.Mo(n,r,i,o,s)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+fs}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}xo(n,r){let i=P2[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){let o=sy();return new Promise((s,c)=>{let u=new ey;u.setWithCredentials(!0),u.listenOnce(ny.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case ec.NO_ERROR:let f=u.getResponseJson();L(st,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),s(f);break;case ec.TIMEOUT:L(st,`RPC '${e}' ${o} timed out`),c(new $(R.DEADLINE_EXCEEDED,"Request time out"));break;case ec.HTTP_ERROR:let g=u.getStatus();if(L(st,`RPC '${e}' ${o} failed with status:`,g,"response text:",u.getResponseText()),g>0){let _=u.getResponseJson();Array.isArray(_)&&(_=_[0]);let E=_?.error;if(E&&E.status&&E.message){let A=function(N){let F=N.toLowerCase().replace(/_/g,"-");return Object.values(R).indexOf(F)>=0?F:R.UNKNOWN}(E.status);c(new $(A,E.message))}else c(new $(R.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new $(R.UNAVAILABLE,"Connection failed."));break;default:ce()}}finally{L(st,`RPC '${e}' ${o} completed.`)}});let d=JSON.stringify(i);L(st,`RPC '${e}' ${o} sending request:`,i),u.send(n,"POST",d,r,15)})}Bo(e,n,r){let i=sy(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=oy(),c=iy(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(u.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(u.xmlHttpFactory=new ty({})),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;let f=o.join("");L(st,`Creating RPC '${e}' stream ${i}: ${f}`,u);let g=s.createWebChannel(f,u),_=!1,E=!1,A=new lv({Io:N=>{E?L(st,`Not sending because RPC '${e}' stream ${i} is closed:`,N):(_||(L(st,`Opening RPC '${e}' stream ${i} transport.`),g.open(),_=!0),L(st,`RPC '${e}' stream ${i} sending:`,N),g.send(N))},To:()=>g.close()}),x=(N,F,Q)=>{N.listen(F,J=>{try{Q(J)}catch(me){setTimeout(()=>{throw me},0)}})};return x(g,Qo.EventType.OPEN,()=>{E||(L(st,`RPC '${e}' stream ${i} transport opened.`),A.yo())}),x(g,Qo.EventType.CLOSE,()=>{E||(E=!0,L(st,`RPC '${e}' stream ${i} transport closed`),A.So())}),x(g,Qo.EventType.ERROR,N=>{E||(E=!0,yd(st,`RPC '${e}' stream ${i} transport errored:`,N),A.So(new $(R.UNAVAILABLE,"The operation could not be completed")))}),x(g,Qo.EventType.MESSAGE,N=>{var F;if(!E){let Q=N.data[0];$e(!!Q);let J=Q,me=J.error||((F=J[0])===null||F===void 0?void 0:F.error);if(me){L(st,`RPC '${e}' stream ${i} received error:`,me);let Qe=me.status,pe=function(y){let w=Pe[y];if(w!==void 0)return m2(w)}(Qe),D=me.message;pe===void 0&&(pe=R.INTERNAL,D="Unknown error status: "+Qe+" with message "+me.message),E=!0,A.So(new $(pe,D)),g.close()}else L(st,`RPC '${e}' stream ${i} received:`,Q),A.bo(Q)}}),x(c,ry.STAT_EVENT,N=>{N.stat===dd.PROXY?L(st,`RPC '${e}' stream ${i} detected buffering proxy`):N.stat===dd.NOPROXY&&L(st,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{A.wo()},0),A}};function ay(){return typeof document<"u"?document:null}function Ud(t){return new Vy(t,!0)}var Rd=class{constructor(e,n,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&L("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var hv=class{constructor(e,n,r,i,o,s,c,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=c,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Rd(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return I(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return I(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,n){return I(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===R.RESOURCE_EXHAUSTED?(Mi(n.toString()),Mi("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===R.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(n)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{let i=new $(R.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){let r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(()=>I(this,null,function*(){this.state=0,this.start()}))}I_(e){return L("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(L("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}};var fv=class extends hv{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return $e(!!e.streamToken),this.lastStreamToken=e.streamToken,$e(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){$e(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let n=C2(e.writeResults,e.commitTime),r=Jo(e.commitTime);return this.listener.g_(r,n)}p_(){let e={};e.database=w2(this.serializer),this.a_(e)}m_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>D2(this.serializer,r))};this.a_(n)}};var pv=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new $(R.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Mo(e,Uy(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===R.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new $(R.UNKNOWN,o.toString())})}Lo(e,n,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,c])=>this.connection.Lo(e,Uy(n,r),i,s,c,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===R.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new $(R.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},gv=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Mi(n),this.D_=!1):L("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var mv=class{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(s=>{r.enqueueAndForget(()=>I(this,null,function*(){fc(this)&&(L("RemoteStore","Restarting streams for network reachability change."),yield function(u){return I(this,null,function*(){let d=De(u);d.L_.add(4),yield hc(d),d.q_.set("Unknown"),d.L_.delete(4),yield Bd(d)})}(this))}))}),this.q_=new gv(r,i)}};function Bd(t){return I(this,null,function*(){if(fc(t))for(let e of t.B_)yield e(!0)})}function hc(t){return I(this,null,function*(){for(let e of t.B_)yield e(!1)})}function fc(t){return De(t).L_.size===0}function FT(t,e,n){return I(this,null,function*(){if(!jd(e))throw e;t.L_.add(1),yield hc(t),t.q_.set("Offline"),n||(n=()=>N2(t.localStore)),t.asyncQueue.enqueueRetryable(()=>I(this,null,function*(){L("RemoteStore","Retrying IndexedDB access"),yield n(),t.L_.delete(1),yield Bd(t)}))})}function LT(t,e){return e().catch(n=>FT(t,n,e))}function $d(t){return I(this,null,function*(){let e=De(t),n=Or(e),r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;O2(e);)try{let i=yield x2(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,k2(e,i)}catch(i){yield FT(e,i)}VT(e)&&jT(e)})}function O2(t){return fc(t)&&t.O_.length<10}function k2(t,e){t.O_.push(e);let n=Or(t);n.r_()&&n.V_&&n.m_(e.mutations)}function VT(t){return fc(t)&&!Or(t).n_()&&t.O_.length>0}function jT(t){Or(t).start()}function F2(t){return I(this,null,function*(){Or(t).p_()})}function L2(t){return I(this,null,function*(){let e=Or(t);for(let n of t.O_)e.m_(n.mutations)})}function V2(t,e,n){return I(this,null,function*(){let r=t.O_.shift(),i=Fy.from(r,e,n);yield LT(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield $d(t)})}function j2(t,e){return I(this,null,function*(){e&&Or(t).V_&&(yield function(r,i){return I(this,null,function*(){if(function(s){return g2(s)&&s!==R.ABORTED}(i.code)){let o=r.O_.shift();Or(r).s_(),yield LT(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield $d(r)}})}(t,e)),VT(t)&&jT(t)})}function tT(t,e){return I(this,null,function*(){let n=De(t);n.asyncQueue.verifyOperationInProgress(),L("RemoteStore","RemoteStore received new credentials");let r=fc(n);n.L_.add(3),yield hc(n),r&&n.q_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),yield Bd(n)})}function U2(t,e){return I(this,null,function*(){let n=De(t);e?(n.L_.delete(2),yield Bd(n)):e||(n.L_.add(2),yield hc(n),n.q_.set("Unknown"))})}function Or(t){return t.U_||(t.U_=function(n,r,i){let o=De(n);return o.w_(),new fv(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:F2.bind(null,t),mo:j2.bind(null,t),f_:L2.bind(null,t),g_:V2.bind(null,t)}),t.B_.push(e=>I(this,null,function*(){e?(t.U_.s_(),yield $d(t)):(yield t.U_.stop(),t.O_.length>0&&(L("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))}))),t.U_}var yv=class t{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Kn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){let s=Date.now()+r,c=new t(e,n,s,i,o);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new $(R.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function UT(t,e){if(Mi("AsyncQueue",`${e}: ${t}`),jd(t))return new $(R.UNAVAILABLE,`${e}: ${t}`);throw t}var vv=class{constructor(){this.queries=nT(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){let i=De(n),o=i.queries;i.queries=nT(),o.forEach((s,c)=>{for(let u of c.j_)u.onError(r)})})(this,new $(R.ABORTED,"Firestore shutting down"))}};function nT(){return new Pr(t=>ET(t),wT)}function B2(t){t.Y_.forEach(e=>{e.next()})}var rT,iT;(iT=rT||(rT={})).ea="default",iT.Cache="cache";var _v=class{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new Pr(c=>ET(c),wT),this.Ma=new Map,this.xa=new Set,this.Oa=new Mt(ne.comparator),this.Na=new Map,this.La=new lc,this.Ba={},this.ka=new Map,this.qa=uc.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function $2(t,e,n){return I(this,null,function*(){let r=G2(t);try{let i=yield function(s,c){let u=De(s),d=Ke.now(),f=c.reduce((E,A)=>E.add(A.key),at()),g,_;return u.persistence.runTransaction("Locally write mutations","readwrite",E=>{let A=Cd(),x=at();return u.cs.getEntries(E,f).next(N=>{A=N,A.forEach((F,Q)=>{Q.isValidDocument()||(x=x.add(F))})}).next(()=>u.localDocuments.getOverlayedDocuments(E,A)).next(N=>{g=N;let F=[];for(let Q of c){let J=p2(Q,g.get(Q.key).overlayedDocument);J!=null&&F.push(new Yn(Q.key,J,gT(J.value.mapValue),Ai.exists(!0)))}return u.mutationQueue.addMutationBatch(E,d,F,c)}).next(N=>{_=N;let F=N.applyToLocalDocumentSet(g,x);return u.documentOverlayCache.saveOverlays(E,N.batchId,F)})}).then(()=>({batchId:_.batchId,changes:CT(g)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,c,u){let d=s.Ba[s.currentUser.toKey()];d||(d=new Mt(Ee)),d=d.insert(c,u),s.Ba[s.currentUser.toKey()]=d}(r,i.batchId,n),yield Hd(r,i.changes),yield $d(r.remoteStore)}catch(i){let o=UT(i,"Failed to persist write");n.reject(o)}})}function oT(t,e,n){let r=De(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.Fa.forEach((o,s)=>{let c=s.view.Z_(e);c.snapshot&&i.push(c.snapshot)}),function(s,c){let u=De(s);u.onlineState=c;let d=!1;u.queries.forEach((f,g)=>{for(let _ of g.j_)_.Z_(c)&&(d=!0)}),d&&B2(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function H2(t,e){return I(this,null,function*(){let n=De(t),r=e.batch.batchId;try{let i=yield M2(n.localStore,e);$T(n,r,null),BT(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield Hd(n,i)}catch(i){yield lT(i)}})}function q2(t,e,n){return I(this,null,function*(){let r=De(t);try{let i=yield function(s,c){let u=De(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let f;return u.mutationQueue.lookupMutationBatch(d,c).next(g=>($e(g!==null),f=g.keys(),u.mutationQueue.removeMutationBatch(d,g))).next(()=>u.mutationQueue.performConsistencyCheck(d)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(d,f,c)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,f)).next(()=>u.localDocuments.getDocuments(d,f))})}(r.localStore,e);$T(r,e,n),BT(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield Hd(r,i)}catch(i){yield lT(i)}})}function BT(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function $T(t,e,n){let r=De(t),i=r.Ba[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function Hd(t,e,n){return I(this,null,function*(){let r=De(t),i=[],o=[],s=[];r.Fa.isEmpty()||(r.Fa.forEach((c,u)=>{s.push(r.Ka(u,e,n).then(d=>{var f;if((d||n)&&r.isPrimaryClient){let g=d?!d.fromCache:(f=n?.targetChanges.get(u.targetId))===null||f===void 0?void 0:f.current;r.sharedClientState.updateQueryState(u.targetId,g?"current":"not-current")}if(d){i.push(d);let g=iv.Wi(u.targetId,d);o.push(g)}}))}),yield Promise.all(s),r.Ca.d_(i),yield function(u,d){return I(this,null,function*(){let f=De(u);try{yield f.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>M.forEach(d,_=>M.forEach(_.$i,E=>f.persistence.referenceDelegate.addReference(g,_.targetId,E)).next(()=>M.forEach(_.Ui,E=>f.persistence.referenceDelegate.removeReference(g,_.targetId,E)))))}catch(g){if(!jd(g))throw g;L("LocalStore","Failed to update sequence numbers: "+g)}for(let g of d){let _=g.targetId;if(!g.fromCache){let E=f.os.get(_),A=E.snapshotVersion,x=E.withLastLimboFreeSnapshotVersion(A);f.os=f.os.insert(_,x)}}})}(r.localStore,o))})}function z2(t,e){return I(this,null,function*(){let n=De(t);if(!n.currentUser.isEqual(e)){L("SyncEngine","User change. New user:",e.toKey());let r=yield kT(n.localStore,e);n.currentUser=e,function(o,s){o.ka.forEach(c=>{c.forEach(u=>{u.reject(new $(R.CANCELLED,s))})}),o.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Hd(n,r.hs)}})}function G2(t){let e=De(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=H2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=q2.bind(null,e),e}var Md=class{constructor(){this.synchronizeTabs=!1}initialize(e){return I(this,null,function*(){this.serializer=Ud(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return R2(this.persistence,new sv,e.initialUser,this.serializer)}createPersistence(e){return new tv(rv.Zr,this.serializer)}createSharedClientState(e){return new cv}terminate(){return I(this,null,function*(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var Iv=class{initialize(e,n){return I(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>oT(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=z2.bind(null,this.syncEngine),yield U2(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new vv}()}createDatastore(e){let n=Ud(e.databaseInfo.databaseId),r=function(o){return new dv(o)}(e.databaseInfo);return function(o,s,c,u){return new pv(o,s,c,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,c){return new mv(r,i,o,s,c)}(this.localStore,this.datastore,e.asyncQueue,n=>oT(this.syncEngine,n,0),function(){return Ad.D()?new Ad:new uv}())}createSyncEngine(e,n){return function(i,o,s,c,u,d,f){let g=new _v(i,o,s,c,u,d);return f&&(g.Qa=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return I(this,null,function*(){var e,n;yield function(i){return I(this,null,function*(){let o=De(i);L("RemoteStore","RemoteStore shutting down."),o.L_.add(5),yield hc(o),o.k_.shutdown(),o.q_.set("Unknown")})}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()})}};var wv=class{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ge.UNAUTHENTICATED,this.clientId=_d.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,o=>I(this,null,function*(){L("FirestoreClient","Received user=",o.uid),yield this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,o=>(L("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new $(R.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Kn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>I(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=UT(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function cy(t,e){return I(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),L("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>I(this,null,function*(){r.isEqual(i)||(yield kT(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function sT(t,e){return I(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield K2(t);L("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>tT(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>tT(e.remoteStore,i)),t._onlineComponents=e})}function W2(t){return t.name==="FirebaseError"?t.code===R.FAILED_PRECONDITION||t.code===R.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}function K2(t){return I(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){L("FirestoreClient","Using user provided OfflineComponentProvider");try{yield cy(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!W2(n))throw n;yd("Error using user provided cache. Falling back to memory cache: "+n),yield cy(t,new Md)}}else L("FirestoreClient","Using default OfflineComponentProvider"),yield cy(t,new Md);return t._offlineComponents})}function Q2(t){return I(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(L("FirestoreClient","Using user provided OnlineComponentProvider"),yield sT(t,t._uninitializedComponentsProvider._online)):(L("FirestoreClient","Using default OnlineComponentProvider"),yield sT(t,new Iv))),t._onlineComponents})}function Y2(t){return Q2(t).then(e=>e.syncEngine)}function HT(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var aT=new Map;function qT(t,e,n){if(!n)throw new $(R.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Z2(t,e,n,r){if(e===!0&&r===!0)throw new $(R.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function cT(t){if(!ne.isDocumentKey(t))throw new $(R.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function uT(t){if(ne.isDocumentKey(t))throw new $(R.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Fv(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ce()}function Ev(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new $(R.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=Fv(t);throw new $(R.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var Nd=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new $(R.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new $(R.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Z2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=HT((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new $(R.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new $(R.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new $(R.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},hs=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Nd({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new $(R.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new $(R.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Nd(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new uy;switch(r.type){case"firstParty":return new fy(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new $(R.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=aT.get(n);r&&(L("ComponentProvider","Removing Datastore"),aT.delete(n),r.terminate())}(this),Promise.resolve()}};function zT(t,e,n,r={}){var i;let o=(t=Ev(t,hs))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&yd("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let c,u;if(typeof r.mockUserToken=="string")c=r.mockUserToken,u=Ge.MOCK_USER;else{c=fb(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let d=r.mockUserToken.sub||r.mockUserToken.user_id;if(!d)throw new $(R.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Ge(d)}t._authCredentials=new ly(new vd(c,u))}}var Dv=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},vn=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Mr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},Mr=class t extends Dv{constructor(e,n,r){super(e,n,Xj(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new vn(this.firestore,null,new ne(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function GT(t,e,...n){if(t=gt(t),qT("collection","path",e),t instanceof hs){let r=Fe.fromString(e,...n);return uT(r),new Mr(t,null,r)}{if(!(t instanceof vn||t instanceof Mr))throw new $(R.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Fe.fromString(e,...n));return uT(r),new Mr(t.firestore,null,r)}}function WT(t,e,...n){if(t=gt(t),arguments.length===1&&(e=_d.newId()),qT("doc","path",e),t instanceof hs){let r=Fe.fromString(e,...n);return cT(r),new vn(t,null,new ne(r))}{if(!(t instanceof vn||t instanceof Mr))throw new $(R.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Fe.fromString(e,...n));return cT(r),new vn(t.firestore,t instanceof Mr?t.converter:null,new ne(r))}}var Cv=class{constructor(){this.au=Promise.resolve(),this.uu=[],this.cu=!1,this.lu=[],this.hu=null,this.Pu=!1,this.Iu=!1,this.Tu=[],this.t_=new Rd(this,"async_queue_retry"),this.Eu=()=>{let n=ay();n&&L("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()};let e=ay();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Eu)}get isShuttingDown(){return this.cu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.du(),this.Au(e)}enterRestrictedMode(e){if(!this.cu){this.cu=!0,this.Iu=e||!1;let n=ay();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Eu)}}enqueue(e){if(this.du(),this.cu)return new Promise(()=>{});let n=new Kn;return this.Au(()=>this.cu&&this.Iu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.uu.push(e),this.Ru()))}Ru(){return I(this,null,function*(){if(this.uu.length!==0){try{yield this.uu[0](),this.uu.shift(),this.t_.reset()}catch(e){if(!jd(e))throw e;L("AsyncQueue","Operation failed with retryable error: "+e)}this.uu.length>0&&this.t_.Go(()=>this.Ru())}})}Au(e){let n=this.au.then(()=>(this.Pu=!0,e().catch(r=>{this.hu=r,this.Pu=!1;let i=function(s){let c=s.message||"";return s.stack&&(c=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),c}(r);throw Mi("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Pu=!1,r))));return this.au=n,n}enqueueAfterDelay(e,n,r){this.du(),this.Tu.indexOf(e)>-1&&(n=0);let i=yv.createAndSchedule(this,e,n,r,o=>this.Vu(o));return this.lu.push(i),i}du(){this.hu&&ce()}verifyOperationInProgress(){}mu(){return I(this,null,function*(){let e;do e=this.au,yield e;while(e!==this.au)})}fu(e){for(let n of this.lu)if(n.timerId===e)return!0;return!1}gu(e){return this.mu().then(()=>{this.lu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.lu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.mu()})}pu(e){this.Tu.push(e)}Vu(e){let n=this.lu.indexOf(e);this.lu.splice(n,1)}};var xd=class extends hs{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new Cv}(),this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||QT(this),this._firestoreClient.terminate()}};function KT(t,e){let n=typeof t=="object"?t:Ho(),r=typeof t=="string"?t:e||"(default)",i=$a(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=hb("firestore");o&&zT(i,...o)}return i}function J2(t){return t._firestoreClient||QT(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function QT(t){var e,n,r;let i=t._freezeSettings(),o=function(c,u,d,f){return new _y(c,u,d,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,HT(f.experimentalLongPollingOptions),f.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new wv(t._authCredentials,t._appCheckCredentials,t._queue,o),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}var Pd=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(Qn.fromBase64String(e))}catch(n){throw new $(R.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(Qn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Od=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new $(R.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Rt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var kd=class{constructor(e){this._methodName=e}};var Fd=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new $(R.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new $(R.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ee(this._lat,e._lat)||Ee(this._long,e._long)}};var Ld=class{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}};var X2=/^__.*__$/,bv=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Yn(e,this.data,this.fieldMask,n,this.fieldTransforms):new Oi(e,this.data,n,this.fieldTransforms)}};function YT(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ce()}}var Tv=class t{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.yu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get wu(){return this.settings.wu}Su(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}bu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Su({path:r,Du:!1});return i.vu(e),i}Cu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Su({path:r,Du:!1});return i.yu(),i}Fu(e){return this.Su({path:void 0,Du:!0})}Mu(e){return Vd(e,this.settings.methodName,this.settings.xu||!1,this.path,this.settings.Ou)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}yu(){if(this.path)for(let e=0;e<this.path.length;e++)this.vu(this.path.get(e))}vu(e){if(e.length===0)throw this.Mu("Document fields must not be empty");if(YT(this.wu)&&X2.test(e))throw this.Mu('Document fields cannot begin and end with "__"')}},Sv=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Ud(e)}Nu(e,n,r,i=!1){return new Tv({wu:e,methodName:n,Ou:r,path:Rt.emptyPath(),Du:!1,xu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function eU(t){let e=t._freezeSettings(),n=Ud(t._databaseId);return new Sv(t._databaseId,!!e.ignoreUndefinedProperties,n)}function tU(t,e,n,r,i,o={}){let s=t.Nu(o.merge||o.mergeFields?2:0,e,n,i);eS("Data must be an object, but it was:",s,r);let c=JT(r,s),u,d;if(o.merge)u=new mn(s.fieldMask),d=s.fieldTransforms;else if(o.mergeFields){let f=[];for(let g of o.mergeFields){let _=nU(e,g,n);if(!s.contains(_))throw new $(R.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);oU(f,_)||f.push(_)}u=new mn(f),d=s.fieldTransforms.filter(g=>u.covers(g.field))}else u=null,d=s.fieldTransforms;return new bv(new gn(c),u,d)}function ZT(t,e){if(XT(t=gt(t)))return eS("Unsupported field value:",e,t),JT(t,e);if(t instanceof kd)return function(r,i){if(!YT(i.wu))throw i.Mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Mu(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Du&&e.wu!==4)throw e.Mu("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let c of r){let u=ZT(c,i.Fu(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=gt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return u2(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=Ke.fromDate(r);return{timestampValue:jy(i.serializer,o)}}if(r instanceof Ke){let o=new Ke(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:jy(i.serializer,o)}}if(r instanceof Fd)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Pd)return{bytesValue:y2(i.serializer,r._byteString)};if(r instanceof vn){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Mu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:PT(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Ld)return function(s,c){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(u=>{if(typeof u!="number")throw c.Mu("VectorValues must only contain numeric values.");return kv(c.serializer,u)})}}}}}}(r,i);throw i.Mu(`Unsupported field value: ${Fv(r)}`)}(t,e)}function JT(t,e){let n={};return dT(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):dc(t,(r,i)=>{let o=ZT(i,e.bu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function XT(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ke||t instanceof Fd||t instanceof Pd||t instanceof vn||t instanceof kd||t instanceof Ld)}function eS(t,e,n){if(!XT(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=Fv(n);throw r==="an object"?e.Mu(t+" a custom object"):e.Mu(t+" "+r)}}function nU(t,e,n){if((e=gt(e))instanceof Od)return e._internalPath;if(typeof e=="string")return iU(t,e);throw Vd("Field path arguments must be of type string or ",t,!1,void 0,n)}var rU=new RegExp("[~\\*/\\[\\]]");function iU(t,e,n){if(e.search(rU)>=0)throw Vd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Od(...e.split("."))._internalPath}catch{throw Vd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Vd(t,e,n,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new $(R.INVALID_ARGUMENT,c+t+u)}function oU(t,e){return t.some(n=>n.isEqual(e))}function sU(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}function tS(t,e,n){t=Ev(t,vn);let r=Ev(t.firestore,xd),i=sU(t.converter,e,n);return aU(r,[tU(eU(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Ai.none())])}function aU(t,e){return function(r,i){let o=new Kn;return r.asyncQueue.enqueueAndForget(()=>I(this,null,function*(){return $2(yield Y2(r),i,o)})),o.promise}(J2(t),e)}(function(e,n=!0){(function(i){fs=i})(br),Cr(new Ut("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),c=new xd(new dy(r.getProvider("auth-internal")),new gy(r.getProvider("app-check-internal")),function(d,f){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new $(R.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Iy(d.options.projectId,f)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),c._setSettings(o),c},"PUBLIC").setMultipleInstances(!0)),Be($0,"4.7.2",e),Be($0,"4.7.2","esm2017")})();var ki=class{constructor(e){return e}},nS="firestore",Lv=class{constructor(){return Ha(nS)}};var Vv=new j("angularfire2.firestore-instances");function cU(t,e){let n=Hl(nS,t,e);return n&&new ki(n)}function uU(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new ki(r)}}var lU={provide:Lv,deps:[[new ht,Vv]]},dU={provide:ki,useFactory:cU,deps:[[new ht,Vv],Hn]};function rS(t,...e){return Be("angularfire",Ii.full,"fst"),cn([dU,lU,{provide:Vv,useFactory:uU(t),multi:!0,deps:[ve,vt,Go,wi,[new ht,Ja],[new ht,zo],...e]}])}var iS=Bt(GT,!0);var oS=Bt(WT,!0);var sS=Bt(KT,!0);var aS=Bt(tS,!0);function fU(t,e){if(t&1&&(B(0,"label",7),Y(1),U()),t&2){let n=pt();de(),si(n.errorMessage)}}var qd=class t{constructor(e,n,r){this.auth=e;this.router=n;this.firestore=r}email="";password="";loggedUser="";errorMessage="";showError=!1;login(){if(!this.email||!this.password){console.log("Email o contrase\xF1a vac\xEDos");return}console.log("Intentando iniciar sesi\xF3n..."),L0(this.auth,this.email,this.password).then(e=>{console.log("Inicio de sesi\xF3n exitoso",e),this.showError=!1,this.registrarLogUsuario(e.user.email),this.router.navigate(["/"])}).catch(e=>{console.log("Error en el inicio de sesi\xF3n:",e.code,e.message),this.errorMessage="Datos incorrectos",this.showError=!0})}registrarLogUsuario(e){return I(this,null,function*(){let n=iS(this.firestore,"logs"),r=oS(n);try{yield aS(r,{usuario:e,fechaIngreso:Ke.now()}),console.log("Log registrado en Firestore correctamente.")}catch(i){console.error("Error al registrar el log en Firestore:",i)}})}accesoRapidoLogin(e,n){this.email=e,this.password=n}static \u0275fac=function(n){return new(n||t)(H(Xt),H(jt),H(ki))};static \u0275cmp=_t({type:t,selectors:[["app-login"]],standalone:!0,features:[It],decls:13,vars:3,consts:[[1,"login-container"],[3,"ngSubmit"],["type","email","name","email","placeholder","Correo electr\xF3nico","required","",3,"ngModelChange","ngModel"],["type","password","name","password","placeholder","Contrase\xF1a","required","",3,"ngModelChange","ngModel"],["type","submit"],["style","color: red;",4,"ngIf"],["type","button",1,"quick-access-btn",3,"click"],[2,"color","red"]],template:function(n,r){n&1&&(B(0,"div",0)(1,"form",1),xe("ngSubmit",function(){return r.login()}),B(2,"h2"),Y(3,"Iniciar Sesi\xF3n"),U(),B(4,"input",2),ci("ngModelChange",function(o){return Co(r.email,o)||(r.email=o),o}),U(),B(5,"input",3),ci("ngModelChange",function(o){return Co(r.password,o)||(r.password=o),o}),U(),B(6,"button",4),Y(7,"Iniciar Sesi\xF3n"),U(),Lt(8,fU,2,1,"label",5),B(9,"button",6),xe("click",function(){return r.accesoRapidoLogin("tobi@tobi.com","42120369")}),Y(10,"Acceso r\xE1pido 1"),U(),B(11,"button",6),xe("click",function(){return r.accesoRapidoLogin("tobias@tobias.com","42120369")}),Y(12,"Acceso r\xE1pido 2"),U()()()),n&2&&(de(4),ai("ngModel",r.email),de(),ai("ngModel",r.password),de(3),be("ngIf",r.showError))},dependencies:[Uo,Fl,jo,Pl,Ol,La,Fa,ka,Ln,Ir],styles:[".login-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100vh;background-color:#121212}.login-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{background-color:#1e1e1e;padding:20px;border-radius:8px;box-shadow:0 4px 10px #00000080;width:100%;max-width:400px;display:flex;flex-direction:column;align-items:center}.login-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px;color:#e0e0e0}.login-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:12px;margin:10px 0;border:1px solid #3d3d3d;border-radius:4px;background-color:#2a2a2a;color:#e0e0e0;font-size:14px}.login-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;border-color:#007bff;box-shadow:0 0 5px #007bff80}.login-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;padding:12px;background-color:#007bff;border:none;border-radius:4px;color:#fff;font-size:16px;cursor:pointer;transition:background-color .3s ease;margin-top:15px}.login-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#0062cc}.login-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .quick-access-btn[_ngcontent-%COMP%]{background-color:#2a2a2a;border:1px solid #3d3d3d;color:#e0e0e0;margin-top:10px;padding:10px}.login-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .quick-access-btn[_ngcontent-%COMP%]:hover{background-color:#1d1d1d}"]})};var zd=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=_t({type:t,selectors:[["app-quien-soy"]],standalone:!0,features:[It],decls:23,vars:0,consts:[[1,"quien-soy-container"],[1,"datos-personales"],[1,"image-container"],["src","../../../assets/imagenes/imagen_del_alumno.jpg","alt","Foto de Tobias Galvez"],[1,"explicacion-juego"]],template:function(n,r){n&1&&(B(0,"div",0)(1,"h1"),Y(2,"Qui\xE9n soy?"),U(),B(3,"div",1)(4,"p")(5,"strong"),Y(6,"Nombre y apellido:"),U(),Y(7," Tobias Galvez"),U(),B(8,"p")(9,"strong"),Y(10,"Edad:"),U(),Y(11," 21 a\xF1os"),U(),B(12,"p")(13,"strong"),Y(14,"Pa\xEDs:"),U(),Y(15," Argentina"),U()(),B(16,"div",2),Je(17,"img",3),U(),B(18,"div",4)(19,"h3"),Y(20,"Explicaci\xF3n del juego propio"),U(),B(21,"p"),Y(22,'El juego va a consistir en un pasapalabra, en donde los participantes responden preguntas y adivinan palabras basadas en definiciones. Incluye una ronda especial llamada "rosco", donde deben decir palabras que empiezan con cada letra del alfabeto seg\xFAn las definiciones dadas. Si no saben una respuesta, pueden decir "pasapalabra" para saltar la pregunta y volver a ella m\xE1s tarde. El objetivo es acumular la mayor cantidad de puntos posible respondiendo correctamente.'),U()()())},styles:[".quien-soy-container[_ngcontent-%COMP%]{max-width:800px;margin:0 auto;padding:20px;background-color:#f5f5f5;border-radius:10px;box-shadow:0 4px 15px #0003}h1[_ngcontent-%COMP%]{text-align:center;font-size:2rem;color:#333}.datos-personales[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.1rem;color:#444;line-height:1.5;margin-bottom:10px}.datos-personales[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#000}.explicacion-juego[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:30px;font-size:1.5rem;color:#333}.explicacion-juego[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.1rem;line-height:1.6;color:#555}.image-container[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;margin-top:20px}.image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:150px;height:auto;border-radius:10px;box-shadow:0 4px 10px #0003;transition:transform .3s ease}.image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{transform:scale(1.05)}"]})};function pU(t,e){if(t&1&&(B(0,"h2",2),Y(1),U()),t&2){let n=pt();de(),un("Usuario registrado: ",n.loggedUser,"")}}function gU(t,e){if(t&1&&(B(0,"p",9),Y(1),U()),t&2){let n=pt();de(),si(n.msjError)}}var Gd=class t{constructor(e,n){this.auth=e;this.router=n}nuevoMail="";nuevoPassword="";loggedUser="";flagError=!1;msjError="";Register(){k0(this.auth,this.nuevoMail,this.nuevoPassword).then(e=>{e.user.email!==null&&(this.loggedUser=e.user.email),this.flagError=!1,this.router.navigate(["/"])}).catch(e=>{switch(this.flagError=!0,e.code){case"auth/invalid-email":this.msjError="Email invalido";break;case"auth/email-already-in-use":this.msjError="Email ya en uso. Intente nuevamente con un mail distinto";break;default:this.msjError=e.code;break}})}static \u0275fac=function(n){return new(n||t)(H(Xt),H(jt))};static \u0275cmp=_t({type:t,selectors:[["app-registro"]],standalone:!0,features:[It],decls:11,vars:4,consts:[[1,"login-container"],[3,"ngSubmit"],[1,"text-center","text-primary"],["type","email","name","email","placeholder","Correo electr\xF3nico","required","",3,"ngModelChange","ngModel"],["type","password","name","password","placeholder","Contrase\xF1a","required","",3,"ngModelChange","ngModel"],[1,"d-grid","gap-2"],["type","submit",1,"btn","btn-primary"],["class","text-center text-primary",4,"ngIf"],["style","color: red;","class","text-center text-danger",4,"ngIf"],[1,"text-center","text-danger",2,"color","red"]],template:function(n,r){n&1&&(B(0,"div",0)(1,"form",1),xe("ngSubmit",function(){return r.Register()}),B(2,"h2",2),Y(3,"Registrar usuario"),U(),B(4,"input",3),ci("ngModelChange",function(o){return Co(r.nuevoMail,o)||(r.nuevoMail=o),o}),U(),B(5,"input",4),ci("ngModelChange",function(o){return Co(r.nuevoPassword,o)||(r.nuevoPassword=o),o}),U(),B(6,"div",5)(7,"button",6),Y(8,"Registrarse"),U()(),Lt(9,pU,2,1,"h2",7)(10,gU,2,1,"p",8),U()()),n&2&&(de(4),ai("ngModel",r.nuevoMail),de(),ai("ngModel",r.nuevoPassword),de(4),be("ngIf",r.loggedUser),de(),be("ngIf",r.flagError))},dependencies:[Uo,Fl,jo,Pl,Ol,La,Fa,ka,Ln,Ir],styles:[".login-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100vh;background-color:#121212}.login-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{background-color:#1e1e1e;padding:20px;border-radius:8px;box-shadow:0 4px 10px #00000080;width:100%;max-width:400px;display:flex;flex-direction:column;align-items:center}.login-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px;color:#e0e0e0}.login-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:12px;margin:10px 0;border:1px solid #3d3d3d;border-radius:4px;background-color:#2a2a2a;color:#e0e0e0}.login-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;border-color:#007bff;box-shadow:0 0 5px #007bff80}.login-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;padding:12px;background-color:#007bff;border:none;border-radius:4px;color:#fff;font-size:16px;cursor:pointer;transition:background-color .3s ease}.login-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#0062cc}.login-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#ff6b6b}"]})};function mU(t,e){t&1&&Je(0,"img",15)}function yU(t,e){t&1&&Je(0,"img",16)}function vU(t,e){t&1&&Je(0,"img",17)}function _U(t,e){t&1&&Je(0,"img",18)}function IU(t,e){t&1&&Je(0,"img",19)}function wU(t,e){t&1&&Je(0,"img",20)}function EU(t,e){t&1&&Je(0,"img",21)}function DU(t,e){if(t&1){let n=Do();B(0,"button",24),xe("click",function(){let i=ii(n).$implicit,o=pt(2);return oi(o.ingresarLetra(i))}),Y(1),U()}if(t&2){let n=e.$implicit,r=pt(2);be("disabled",r.letrasIngresadas.includes(n)),de(),un(" ",n," ")}}function CU(t,e){t&1&&(B(0,"div",22),Lt(1,DU,2,2,"button",23),U()),t&2&&(de(),be("ngForOf","ABCDEFGHIJKLMNOPQRSTUVWXYZ".split("")))}function bU(t,e){if(t&1&&(B(0,"div",25)(1,"h1"),Y(2,"PERDISTE"),U(),B(3,"p"),Y(4),U()()),t&2){let n=pt();de(4),un("La palabra correcta era: ",n.palabra,"")}}function TU(t,e){t&1&&(B(0,"div",26)(1,"h1"),Y(2,"GANASTE"),U(),B(3,"p"),Y(4,"\xA1Felicidades, has adivinado la palabra correctamente!"),U()())}var Wd=class t{palabra="TOBIAS";letrasIngresadas=[];intentos=6;maxIntentos=6;hasGanado=!1;get letrasFaltantes(){return this.palabra.split("").map(e=>this.letrasIngresadas.includes(e)?e:"_").join(" ")}ingresarLetra(e){this.letrasIngresadas.includes(e)||(this.letrasIngresadas.push(e),this.palabra.includes(e)||this.intentos--,this.verificarGanador())}verificarGanador(){this.letrasFaltantes.includes("_")||(this.hasGanado=!0)}reiniciarJuego(){this.letrasIngresadas=[],this.intentos=6,this.hasGanado=!1}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=_t({type:t,selectors:[["app-ahorcado"]],standalone:!0,features:[It],decls:20,vars:13,consts:[[1,"ahorcado-container"],[1,"letras-faltantes"],[1,"intentos"],[1,"dibujo-ahorcado"],["src","../../../assets/imagenes/ahorcado/ahorcado-0.png","alt","Ahorcado paso 1",4,"ngIf"],["src","../../../assets/imagenes/ahorcado/ahorcado-1.png","alt","Ahorcado paso 2",4,"ngIf"],["src","../../../assets/imagenes/ahorcado/ahorcado-2.png","alt","Ahorcado paso 3",4,"ngIf"],["src","../../../assets/imagenes/ahorcado/ahorcado-3.png","alt","Ahorcado paso 4",4,"ngIf"],["src","../../../assets/imagenes/ahorcado/ahorcado-4.png","alt","Ahorcado paso 5",4,"ngIf"],["src","../../../assets/imagenes/ahorcado/ahorcado-5.png","alt","Ahorcado paso 6",4,"ngIf"],["src","../../../assets/imagenes/ahorcado/ahorcado-6.png","alt","Ahorcado paso final",4,"ngIf"],["class","botones-letras",4,"ngIf"],[1,"reiniciar-btn",3,"click","disabled"],["class","mensaje-perdedor",4,"ngIf"],["class","mensaje-ganador",4,"ngIf"],["src","../../../assets/imagenes/ahorcado/ahorcado-0.png","alt","Ahorcado paso 1"],["src","../../../assets/imagenes/ahorcado/ahorcado-1.png","alt","Ahorcado paso 2"],["src","../../../assets/imagenes/ahorcado/ahorcado-2.png","alt","Ahorcado paso 3"],["src","../../../assets/imagenes/ahorcado/ahorcado-3.png","alt","Ahorcado paso 4"],["src","../../../assets/imagenes/ahorcado/ahorcado-4.png","alt","Ahorcado paso 5"],["src","../../../assets/imagenes/ahorcado/ahorcado-5.png","alt","Ahorcado paso 6"],["src","../../../assets/imagenes/ahorcado/ahorcado-6.png","alt","Ahorcado paso final"],[1,"botones-letras"],["class","letra-btn",3,"disabled","click",4,"ngFor","ngForOf"],[1,"letra-btn",3,"click","disabled"],[1,"mensaje-perdedor"],[1,"mensaje-ganador"]],template:function(n,r){n&1&&(B(0,"div",0)(1,"h2"),Y(2,"Ahorcado"),U(),B(3,"p",1),Y(4),U(),B(5,"p",2),Y(6),U(),B(7,"div",3),Lt(8,mU,1,0,"img",4)(9,yU,1,0,"img",5)(10,vU,1,0,"img",6)(11,_U,1,0,"img",7)(12,IU,1,0,"img",8)(13,wU,1,0,"img",9)(14,EU,1,0,"img",10),U(),Lt(15,CU,2,1,"div",11),B(16,"button",12),xe("click",function(){return r.reiniciarJuego()}),Y(17," Reiniciar "),U(),Lt(18,bU,5,1,"div",13)(19,TU,5,0,"div",14),U()),n&2&&(de(4),si(r.letrasFaltantes),de(2),un("Intentos restantes: ",r.intentos,""),de(2),be("ngIf",r.intentos===6),de(),be("ngIf",r.intentos===5),de(),be("ngIf",r.intentos===4),de(),be("ngIf",r.intentos===3),de(),be("ngIf",r.intentos===2),de(),be("ngIf",r.intentos===1),de(),be("ngIf",r.intentos===0),de(),be("ngIf",r.intentos>0&&!r.hasGanado),de(),be("disabled",r.intentos>0&&!r.hasGanado),de(2),be("ngIf",r.intentos===0),de(),be("ngIf",r.hasGanado))},dependencies:[Ln,WD,Ir],styles:[".ahorcado-container[_ngcontent-%COMP%]{font-family:Courier New,monospace;background:#f5f5f5;padding:20px;border-radius:10px;text-align:center;width:100%;max-width:600px;margin:0 auto}h2[_ngcontent-%COMP%]{font-size:2rem;color:#333;margin-bottom:20px;font-weight:700}.letras-faltantes[_ngcontent-%COMP%]{font-size:1.5rem;letter-spacing:5px;margin-bottom:20px}.intentos[_ngcontent-%COMP%]{font-size:1.2rem;color:#d9534f;margin-bottom:30px}.dibujo-ahorcado[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:150px;height:auto;margin-bottom:20px}.botones-letras[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;gap:10px;margin-bottom:20px}.letra-btn[_ngcontent-%COMP%]{background-color:#333;color:#fff;border:none;padding:10px 15px;font-size:1.2rem;border-radius:5px;cursor:pointer;transition:background .3s}.letra-btn[_ngcontent-%COMP%]:hover{background-color:#555}.letra-btn[_ngcontent-%COMP%]:disabled{background-color:#aaa;cursor:not-allowed}.reiniciar-btn[_ngcontent-%COMP%]{background-color:#d9534f;color:#fff;border:none;padding:10px 20px;font-size:1rem;border-radius:5px;cursor:pointer;transition:background .3s}.reiniciar-btn[_ngcontent-%COMP%]:hover{background-color:#c9302c}.mensaje-perdedor[_ngcontent-%COMP%]{margin-top:20px;text-align:center;background-color:#f8d7da;border:2px solid #f5c6cb;padding:20px;border-radius:10px;color:#721c24}.mensaje-perdedor[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:3rem;font-weight:700;margin-bottom:10px;color:#d9534f;animation:_ngcontent-%COMP%_perdedor-animation 1s ease-in-out infinite}.mensaje-perdedor[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem}@keyframes _ngcontent-%COMP%_perdedor-animation{0%{transform:scale(1)}50%{transform:scale(1.1)}to{transform:scale(1)}}.reiniciar-btn[disabled][_ngcontent-%COMP%]{background-color:#ccc;color:#888;cursor:not-allowed}.mensaje-ganador[_ngcontent-%COMP%]{margin-top:20px;text-align:center;background-color:#d4edda;border:2px solid #c3e6cb;padding:20px;border-radius:10px;color:#155724}.mensaje-ganador[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:3rem;font-weight:700;margin-bottom:10px;color:#28a745;animation:_ngcontent-%COMP%_ganador-animation 1s ease-in-out infinite}.mensaje-ganador[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem}@keyframes _ngcontent-%COMP%_ganador-animation{0%{transform:scale(1)}50%{transform:scale(1.1)}to{transform:scale(1)}}"]})};var cS=[{path:"",redirectTo:"/home",pathMatch:"full"},{path:"home",component:ud},{path:"quien-soy",component:zd},{path:"login",component:qd},{path:"registro",component:Gd},{path:"ahorcado",component:Wd}];var uS={apiKey:"AIzaSyDdCldLmh5osmbK5pSR2Q4DspdJP709Mvk",authDomain:"tp-sala-de-juegos-labo.firebaseapp.com",projectId:"tp-sala-de-juegos-labo",storageBucket:"tp-sala-de-juegos-labo.appspot.com",messagingSenderId:"1048391441216",appId:"1:1048391441216:web:ba043bcd2b72c4722638a5"};var lS={providers:[xD({eventCoalescing:!0}),UC(cS),Lb(()=>Vb(uS)),O0(()=>F0()),rS(()=>sS())]};var Kd=class t{constructor(e){this.router=e}title="tp-sala-de-juegos-labo";goTo(e){console.log("hola"),this.router.navigate([e])}static \u0275fac=function(n){return new(n||t)(H(jt))};static \u0275cmp=_t({type:t,selectors:[["app-root"]],standalone:!0,features:[It],decls:8,vars:0,consts:[["routerLink","home","routerLinkActive","active-route"],["routerLink","quien-soy","routerLinkActive","active-route"]],template:function(n,r){n&1&&(B(0,"h1"),Y(1,"Sala de Juegos"),U(),B(2,"nav")(3,"button",0),Y(4,"Home"),U(),B(5,"button",1),Y(6,"Sobre Nosotros"),U()(),Je(7,"router-outlet"))},dependencies:[Sa,El,jC],styles:['@charset "UTF-8";nav[_ngcontent-%COMP%]{display:flex;justify-content:center;margin:20px 0}nav[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;padding:10px 20px;margin:0 10px;border:none;border-radius:5px;cursor:pointer;font-size:16px;transition:background-color .3s ease}nav[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#0062cc}nav[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus{outline:none}.active-route[_ngcontent-%COMP%]{background-color:#0056b3;font-weight:700;border:2px solid white}']})};nC(Kd,lS).catch(t=>console.error(t));
