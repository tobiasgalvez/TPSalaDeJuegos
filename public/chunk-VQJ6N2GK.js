var hN=Object.defineProperty,fN=Object.defineProperties;var pN=Object.getOwnPropertyDescriptors;var yw=Object.getOwnPropertySymbols,gN=Object.getPrototypeOf,mN=Object.prototype.hasOwnProperty,yN=Object.prototype.propertyIsEnumerable,vN=Reflect.get;var vw=(t,e,n)=>e in t?hN(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,F=(t,e)=>{for(var n in e||={})mN.call(e,n)&&vw(t,n,e[n]);if(yw)for(var n of yw(e))yN.call(e,n)&&vw(t,n,e[n]);return t},ae=(t,e)=>fN(t,pN(e));var lr=(t,e,n)=>vN(gN(t),n,e);var w=(t,e,n)=>new Promise((r,i)=>{var s=u=>{try{a(n.next(u))}catch(l){i(l)}},o=u=>{try{a(n.throw(u))}catch(l){i(l)}},a=u=>u.done?r(u.value):Promise.resolve(u.value).then(s,o);a((n=n.apply(t,e)).next())});function _w(t,e){return Object.is(t,e)}var ze=null,tu=!1,nu=1,Rn=Symbol("SIGNAL");function pe(t){let e=ze;return ze=t,e}function Iw(){return ze}var Ko={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function wf(t){if(tu)throw new Error("");if(ze===null)return;ze.consumerOnSignalRead(t);let e=ze.nextProducerIndex++;if(ou(ze),e<ze.producerNode.length&&ze.producerNode[e]!==t&&Wo(ze)){let n=ze.producerNode[e];su(n,ze.producerIndexOfThis[e])}ze.producerNode[e]!==t&&(ze.producerNode[e]=t,ze.producerIndexOfThis[e]=Wo(ze)?Tw(t,ze,e):0),ze.producerLastReadVersion[e]=t.version}function _N(){nu++}function ww(t){if(!(Wo(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===nu)){if(!t.producerMustRecompute(t)&&!Df(t)){t.dirty=!1,t.lastCleanEpoch=nu;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=nu}}function Ew(t){if(t.liveConsumerNode===void 0)return;let e=tu;tu=!0;try{for(let n of t.liveConsumerNode)n.dirty||IN(n)}finally{tu=e}}function Dw(){return ze?.consumerAllowSignalWrites!==!1}function IN(t){t.dirty=!0,Ew(t),t.consumerMarkedDirty?.(t)}function iu(t){return t&&(t.nextProducerIndex=0),pe(t)}function Ef(t,e){if(pe(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Wo(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)su(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Df(t){ou(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(ww(n),r!==n.version))return!0}return!1}function Tf(t){if(ou(t),Wo(t))for(let e=0;e<t.producerNode.length;e++)su(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Tw(t,e,n){if(bw(t),t.liveConsumerNode.length===0&&Cw(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=Tw(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function su(t,e){if(bw(t),t.liveConsumerNode.length===1&&Cw(t))for(let r=0;r<t.producerNode.length;r++)su(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];ou(i),i.producerIndexOfThis[r]=e}}function Wo(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function ou(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function bw(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function Cw(t){return t.producerNode!==void 0}function Aw(t){let e=Object.create(wN);e.computation=t;let n=()=>{if(ww(e),wf(e),e.value===ru)throw e.error;return e.value};return n[Rn]=e,n}var _f=Symbol("UNSET"),If=Symbol("COMPUTING"),ru=Symbol("ERRORED"),wN=ae(F({},Ko),{value:_f,dirty:!0,error:null,equal:_w,producerMustRecompute(t){return t.value===_f||t.value===If},producerRecomputeValue(t){if(t.value===If)throw new Error("Detected cycle in computations.");let e=t.value;t.value=If;let n=iu(t),r;try{r=t.computation()}catch(i){r=ru,t.error=i}finally{Ef(t,n)}if(e!==_f&&e!==ru&&r!==ru&&t.equal(e,r)){t.value=e;return}t.value=r,t.version++}});function EN(){throw new Error}var Sw=EN;function Rw(){Sw()}function Nw(t){Sw=t}var DN=null;function Mw(t){let e=Object.create(Pw);e.value=t;let n=()=>(wf(e),e.value);return n[Rn]=e,n}function bf(t,e){Dw()||Rw(),t.equal(t.value,e)||(t.value=e,TN(t))}function xw(t,e){Dw()||Rw(),bf(t,e(t.value))}var Pw=ae(F({},Ko),{equal:_w,value:void 0});function TN(t){t.version++,_N(),Ew(t),DN?.()}function ee(t){return typeof t=="function"}function Zi(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var au=Zi(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function ni(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Pe=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let s of n)s.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(ee(r))try{r()}catch(s){e=s instanceof au?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{Ow(s)}catch(o){e=e??[],o instanceof au?e=[...e,...o.errors]:e.push(o)}}if(e)throw new au(e)}}add(e){var n;if(e&&e!==this)if(this.closed)Ow(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&ni(n,e)}remove(e){let{_finalizers:n}=this;n&&ni(n,e),e instanceof t&&e._removeParent(this)}};Pe.EMPTY=(()=>{let t=new Pe;return t.closed=!0,t})();var Cf=Pe.EMPTY;function cu(t){return t instanceof Pe||t&&"closed"in t&&ee(t.remove)&&ee(t.add)&&ee(t.unsubscribe)}function Ow(t){ee(t)?t():t.unsubscribe()}var Wt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Xi={setTimeout(t,e,...n){let{delegate:r}=Xi;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Xi;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function uu(t){Xi.setTimeout(()=>{let{onUnhandledError:e}=Wt;if(e)e(t);else throw t})}function Qo(){}var kw=Af("C",void 0,void 0);function Fw(t){return Af("E",void 0,t)}function Lw(t){return Af("N",t,void 0)}function Af(t,e,n){return{kind:t,value:e,error:n}}var ri=null;function es(t){if(Wt.useDeprecatedSynchronousErrorHandling){let e=!ri;if(e&&(ri={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=ri;if(ri=null,n)throw r}}else t()}function Vw(t){Wt.useDeprecatedSynchronousErrorHandling&&ri&&(ri.errorThrown=!0,ri.error=t)}var ii=class extends Pe{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,cu(e)&&e.add(this)):this.destination=AN}static create(e,n,r){return new ts(e,n,r)}next(e){this.isStopped?Rf(Lw(e),this):this._next(e)}error(e){this.isStopped?Rf(Fw(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Rf(kw,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},bN=Function.prototype.bind;function Sf(t,e){return bN.call(t,e)}var Nf=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){lu(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){lu(r)}else lu(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){lu(n)}}},ts=class extends ii{constructor(e,n,r){super();let i;if(ee(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&Wt.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Sf(e.next,s),error:e.error&&Sf(e.error,s),complete:e.complete&&Sf(e.complete,s)}):i=e}this.destination=new Nf(i)}};function lu(t){Wt.useDeprecatedSynchronousErrorHandling?Vw(t):uu(t)}function CN(t){throw t}function Rf(t,e){let{onStoppedNotification:n}=Wt;n&&Xi.setTimeout(()=>n(t,e))}var AN={closed:!0,next:Qo,error:CN,complete:Qo};var ns=typeof Symbol=="function"&&Symbol.observable||"@@observable";function St(t){return t}function du(...t){return Mf(t)}function Mf(t){return t.length===0?St:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var re=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let s=RN(n)?n:new ts(n,r,i);return es(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=Uw(r),new r((i,s)=>{let o=new ts({next:a=>{try{n(a)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[ns](){return this}pipe(...n){return Mf(n)(this)}toPromise(n){return n=Uw(n),new n((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function Uw(t){var e;return(e=t??Wt.Promise)!==null&&e!==void 0?e:Promise}function SN(t){return t&&ee(t.next)&&ee(t.error)&&ee(t.complete)}function RN(t){return t&&t instanceof ii||SN(t)&&cu(t)}function xf(t){return ee(t?.lift)}function de(t){return e=>{if(xf(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ce(t,e,n,r,i){return new Pf(t,e,n,r,i)}var Pf=class extends ii{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function rs(){return de((t,e)=>{let n=null;t._refCount++;let r=ce(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var is=class extends re{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,xf(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Pe;let n=this.getSubject();e.add(this.source.subscribe(ce(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Pe.EMPTY)}return e}refCount(){return rs()(this)}};var jw=Zi(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Je=(()=>{class t extends re{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new hu(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new jw}next(n){es(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){es(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){es(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:s}=this;return r||i?Cf:(this.currentObservers=null,s.push(n),new Pe(()=>{this.currentObservers=null,ni(s,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){let n=new re;return n.source=this,n}}return t.create=(e,n)=>new hu(e,n),t})(),hu=class extends Je{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:Cf}};var Ze=class extends Je{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Of={now(){return(Of.delegate||Date).now()},delegate:void 0};var fu=class extends Pe{constructor(e,n){super()}schedule(e,n=0){return this}};var Yo={setInterval(t,e,...n){let{delegate:r}=Yo;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=Yo;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var ss=class extends fu{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return Yo.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&Yo.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,ni(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var os=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};os.now=Of.now;var as=class extends os{constructor(e,n=os.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var kf=new as(ss);var pu=class extends ss{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var gu=class extends as{};var Ff=new gu(pu);var Rt=new re(t=>t.complete());function Bw(t){return t&&ee(t.schedule)}function $w(t){return t[t.length-1]}function mu(t){return ee($w(t))?t.pop():void 0}function dr(t){return Bw($w(t))?t.pop():void 0}function Lf(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function zw(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(h){try{l(r.next(h))}catch(p){o(p)}}function u(h){try{l(r.throw(h))}catch(p){o(p)}}function l(h){h.done?s(h.value):i(h.value).then(a,u)}l((r=r.apply(t,e||[])).next())})}function Hw(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function si(t){return this instanceof si?(this.v=t,this):new si(t)}function qw(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(y){return function(C){return Promise.resolve(C).then(y,p)}}function a(y,C){r[y]&&(i[y]=function(N){return new Promise(function(R,k){s.push([y,N,R,k])>1||u(y,N)})},C&&(i[y]=C(i[y])))}function u(y,C){try{l(r[y](C))}catch(N){m(s[0][3],N)}}function l(y){y.value instanceof si?Promise.resolve(y.value.v).then(h,p):m(s[0][2],y)}function h(y){u("next",y)}function p(y){u("throw",y)}function m(y,C){y(C),s.shift(),s.length&&u(s[0][0],s[0][1])}}function Gw(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Hw=="function"?Hw(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,u){o=t[s](o),i(a,u,o.done,o.value)})}}function i(s,o,a,u){Promise.resolve(u).then(function(l){s({value:l,done:a})},o)}}var yu=t=>t&&typeof t.length=="number"&&typeof t!="function";function vu(t){return ee(t?.then)}function _u(t){return ee(t[ns])}function Iu(t){return Symbol.asyncIterator&&ee(t?.[Symbol.asyncIterator])}function wu(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function NN(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Eu=NN();function Du(t){return ee(t?.[Eu])}function Tu(t){return qw(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield si(n.read());if(i)return yield si(void 0);yield yield si(r)}}finally{n.releaseLock()}})}function bu(t){return ee(t?.getReader)}function Fe(t){if(t instanceof re)return t;if(t!=null){if(_u(t))return MN(t);if(yu(t))return xN(t);if(vu(t))return PN(t);if(Iu(t))return Ww(t);if(Du(t))return ON(t);if(bu(t))return kN(t)}throw wu(t)}function MN(t){return new re(e=>{let n=t[ns]();if(ee(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function xN(t){return new re(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function PN(t){return new re(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,uu)})}function ON(t){return new re(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function Ww(t){return new re(e=>{FN(t,e).catch(n=>e.error(n))})}function kN(t){return Ww(Tu(t))}function FN(t,e){var n,r,i,s;return zw(this,void 0,void 0,function*(){try{for(n=Gw(t);r=yield n.next(),!r.done;){let o=r.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})}function wt(t,e,n,r=0,i=!1){let s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function hr(t,e=0){return de((n,r)=>{n.subscribe(ce(r,i=>wt(r,t,()=>r.next(i),e),()=>wt(r,t,()=>r.complete(),e),i=>wt(r,t,()=>r.error(i),e)))})}function fr(t,e=0){return de((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function Kw(t,e){return Fe(t).pipe(fr(e),hr(e))}function Qw(t,e){return Fe(t).pipe(fr(e),hr(e))}function Yw(t,e){return new re(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function Jw(t,e){return new re(n=>{let r;return wt(n,e,()=>{r=t[Eu](),wt(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){n.error(o);return}s?n.complete():n.next(i)},0,!0)}),()=>ee(r?.return)&&r.return()})}function Cu(t,e){if(!t)throw new Error("Iterable cannot be null");return new re(n=>{wt(n,e,()=>{let r=t[Symbol.asyncIterator]();wt(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function Zw(t,e){return Cu(Tu(t),e)}function Xw(t,e){if(t!=null){if(_u(t))return Kw(t,e);if(yu(t))return Yw(t,e);if(vu(t))return Qw(t,e);if(Iu(t))return Cu(t,e);if(Du(t))return Jw(t,e);if(bu(t))return Zw(t,e)}throw wu(t)}function Ae(t,e){return e?Xw(t,e):Fe(t)}function W(...t){let e=dr(t);return Ae(t,e)}function cs(t,e){let n=ee(t)?t:()=>t,r=i=>i.error(n());return new re(e?i=>e.schedule(r,0,i):r)}function Vf(t){return!!t&&(t instanceof re||ee(t.lift)&&ee(t.subscribe))}var Nn=Zi(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function Y(t,e){return de((n,r)=>{let i=0;n.subscribe(ce(r,s=>{r.next(t.call(e,s,i++))}))})}var{isArray:LN}=Array;function VN(t,e){return LN(e)?t(...e):t(e)}function Au(t){return Y(e=>VN(t,e))}var{isArray:UN}=Array,{getPrototypeOf:jN,prototype:BN,keys:$N}=Object;function Su(t){if(t.length===1){let e=t[0];if(UN(e))return{args:e,keys:null};if(HN(e)){let n=$N(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function HN(t){return t&&typeof t=="object"&&jN(t)===BN}function Ru(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function Jo(...t){let e=dr(t),n=mu(t),{args:r,keys:i}=Su(t);if(r.length===0)return Ae([],e);let s=new re(zN(r,e,i?o=>Ru(i,o):St));return n?s.pipe(Au(n)):s}function zN(t,e,n=St){return r=>{eE(e,()=>{let{length:i}=t,s=new Array(i),o=i,a=i;for(let u=0;u<i;u++)eE(e,()=>{let l=Ae(t[u],e),h=!1;l.subscribe(ce(r,p=>{s[u]=p,h||(h=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}function eE(t,e,n){t?wt(n,t,e):e()}function tE(t,e,n,r,i,s,o,a){let u=[],l=0,h=0,p=!1,m=()=>{p&&!u.length&&!l&&e.complete()},y=N=>l<r?C(N):u.push(N),C=N=>{s&&e.next(N),l++;let R=!1;Fe(n(N,h++)).subscribe(ce(e,k=>{i?.(k),s?y(k):e.next(k)},()=>{R=!0},void 0,()=>{if(R)try{for(l--;u.length&&l<r;){let k=u.shift();o?wt(e,o,()=>C(k)):C(k)}m()}catch(k){e.error(k)}}))};return t.subscribe(ce(e,y,()=>{p=!0,m()})),()=>{a?.()}}function Le(t,e,n=1/0){return ee(e)?Le((r,i)=>Y((s,o)=>e(r,s,i,o))(Fe(t(r,i))),n):(typeof e=="number"&&(n=e),de((r,i)=>tE(r,i,t,n)))}function us(t=1/0){return Le(St,t)}function nE(){return us(1)}function ls(...t){return nE()(Ae(t,dr(t)))}function Nu(t){return new re(e=>{Fe(t()).subscribe(e)})}function Uf(...t){let e=mu(t),{args:n,keys:r}=Su(t),i=new re(s=>{let{length:o}=n;if(!o){s.complete();return}let a=new Array(o),u=o,l=o;for(let h=0;h<o;h++){let p=!1;Fe(n[h]).subscribe(ce(s,m=>{p||(p=!0,l--),a[h]=m},()=>u--,void 0,()=>{(!u||!p)&&(l||s.next(r?Ru(r,a):a),s.complete())}))}});return e?i.pipe(Au(e)):i}function gt(t,e){return de((n,r)=>{let i=0;n.subscribe(ce(r,s=>t.call(e,s,i++)&&r.next(s)))})}function pr(t){return de((e,n)=>{let r=null,i=!1,s;r=e.subscribe(ce(n,void 0,void 0,o=>{s=Fe(t(o,pr(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function rE(t,e,n,r,i){return(s,o)=>{let a=n,u=e,l=0;s.subscribe(ce(o,h=>{let p=l++;u=a?t(u,h,p):(a=!0,h),r&&o.next(u)},i&&(()=>{a&&o.next(u),o.complete()})))}}function Mn(t,e){return ee(e)?Le(t,e,1):Le(t,1)}function gr(t){return de((e,n)=>{let r=!1;e.subscribe(ce(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function xn(t){return t<=0?()=>Rt:de((e,n)=>{let r=0;e.subscribe(ce(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function jf(t){return Y(()=>t)}function Mu(t=qN){return de((e,n)=>{let r=!1;e.subscribe(ce(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function qN(){return new Nn}function mr(t){return de((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function an(t,e){let n=arguments.length>=2;return r=>r.pipe(t?gt((i,s)=>t(i,s,r)):St,xn(1),n?gr(e):Mu(()=>new Nn))}function ds(t){return t<=0?()=>Rt:de((e,n)=>{let r=[];e.subscribe(ce(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Bf(t,e){let n=arguments.length>=2;return r=>r.pipe(t?gt((i,s)=>t(i,s,r)):St,ds(1),n?gr(e):Mu(()=>new Nn))}function xu(t,e){return de(rE(t,e,arguments.length>=2,!0))}function Pu(...t){let e=dr(t);return de((n,r)=>{(e?ls(t,n,e):ls(t,n)).subscribe(r)})}function Et(t,e){return de((n,r)=>{let i=null,s=0,o=!1,a=()=>o&&!i&&r.complete();n.subscribe(ce(r,u=>{i?.unsubscribe();let l=0,h=s++;Fe(t(u,h)).subscribe(i=ce(r,p=>r.next(e?e(u,p,h,l++):p),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function $f(t){return de((e,n)=>{Fe(t).subscribe(ce(n,()=>n.complete(),Qo)),!n.closed&&e.subscribe(n)})}function Ve(t,e,n){let r=ee(t)||e||n?{next:t,error:e,complete:n}:t;return r?de((i,s)=>{var o;(o=r.subscribe)===null||o===void 0||o.call(r);let a=!0;i.subscribe(ce(s,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),s.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),s.complete()},u=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,u),s.error(u)},()=>{var u,l;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):St}var $E="https://g.co/ng/security#xss",$=class extends Error{constructor(e,n){super(pl(e,n)),this.code=e}};function pl(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function aa(t){return{toString:t}.toString()}var Ou="__parameters__";function GN(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function HE(t,e,n){return aa(()=>{let r=GN(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;let o=new i(...s);return a.annotation=o,a;function a(u,l,h){let p=u.hasOwnProperty(Ou)?u[Ou]:Object.defineProperty(u,Ou,{value:[]})[Ou];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(o),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var Zo=globalThis;function Te(t){for(let e in t)if(t[e]===Te)return e;throw Error("Could not find renamed property on target object.")}function WN(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function yt(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(yt).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function iE(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var KN=Te({__forward_ref__:Te});function mi(t){return t.__forward_ref__=mi,t.toString=function(){return yt(this())},t}function mt(t){return zE(t)?t():t}function zE(t){return typeof t=="function"&&t.hasOwnProperty(KN)&&t.__forward_ref__===mi}function B(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function pn(t){return{providers:t.providers||[],imports:t.imports||[]}}function gl(t){return sE(t,GE)||sE(t,WE)}function qE(t){return gl(t)!==null}function sE(t,e){return t.hasOwnProperty(e)?t[e]:null}function QN(t){let e=t&&(t[GE]||t[WE]);return e||null}function oE(t){return t&&(t.hasOwnProperty(aE)||t.hasOwnProperty(YN))?t[aE]:null}var GE=Te({\u0275prov:Te}),aE=Te({\u0275inj:Te}),WE=Te({ngInjectableDef:Te}),YN=Te({ngInjectorDef:Te}),L=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=B({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function KE(t){return t&&!!t.\u0275providers}var JN=Te({\u0275cmp:Te}),ZN=Te({\u0275dir:Te}),XN=Te({\u0275pipe:Te}),eM=Te({\u0275mod:Te}),Hu=Te({\u0275fac:Te}),ea=Te({__NG_ELEMENT_ID__:Te}),cE=Te({__NG_ENV_ID__:Te});function ml(t){return typeof t=="string"?t:t==null?"":String(t)}function tM(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():ml(t)}function nM(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new $(-200,t)}function Gp(t,e){throw new $(-201,!1)}var ie=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(ie||{}),rp;function QE(){return rp}function Dt(t){let e=rp;return rp=t,e}function YE(t,e,n){let r=gl(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&ie.Optional)return null;if(e!==void 0)return e;Gp(t,"Injector")}var rM={},ta=rM,ip="__NG_DI_FLAG__",zu="ngTempTokenPath",iM="ngTokenPath",sM=/\n/gm,oM="\u0275",uE="__source",ms;function aM(){return ms}function yr(t){let e=ms;return ms=t,e}function cM(t,e=ie.Default){if(ms===void 0)throw new $(-203,!1);return ms===null?YE(t,void 0,e):ms.get(t,e&ie.Optional?null:void 0,e)}function z(t,e=ie.Default){return(QE()||cM)(mt(t),e)}function x(t,e=ie.Default){return z(t,yl(e))}function yl(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function sp(t){let e=[];for(let n=0;n<t.length;n++){let r=mt(t[n]);if(Array.isArray(r)){if(r.length===0)throw new $(900,!1);let i,s=ie.Default;for(let o=0;o<r.length;o++){let a=r[o],u=uM(a);typeof u=="number"?u===-1?i=a.token:s|=u:i=a}e.push(z(i,s))}else e.push(z(r))}return e}function JE(t,e){return t[ip]=e,t.prototype[ip]=e,t}function uM(t){return t[ip]}function lM(t,e,n,r){let i=t[zu];throw e[uE]&&i.unshift(e[uE]),t.message=dM(`
`+t.message,i,n,r),t[iM]=i,t[zu]=null,t}function dM(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==oM?t.slice(2):t;let i=yt(e);if(Array.isArray(e))i=e.map(yt).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):yt(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(sM,`
  `)}`}var ct=JE(HE("Optional"),8);var Wp=JE(HE("SkipSelf"),4);function ci(t,e){let n=t.hasOwnProperty(Hu);return n?t[Hu]:null}function Kp(t,e){t.forEach(n=>Array.isArray(n)?Kp(n,e):e(n))}function ZE(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function qu(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function hM(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let s=i-2;t[i]=t[s],i--}t[e]=n,t[e+1]=r}}function fM(t,e,n){let r=ca(t,e);return r>=0?t[r|1]=n:(r=~r,hM(t,r,e,n)),r}function Hf(t,e){let n=ca(t,e);if(n>=0)return t[n|1]}function ca(t,e){return pM(t,e,1)}function pM(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}var vs={},kt=[],_s=new L(""),XE=new L("",-1),eD=new L(""),Gu=class{get(e,n=ta){if(n===ta){let r=new Error(`NullInjectorError: No provider for ${yt(e)}!`);throw r.name="NullInjectorError",r}return n}},tD=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(tD||{}),ln=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(ln||{}),Ir=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Ir||{});function gM(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function op(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{let s=i,o=n[++r];yM(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function mM(t){return t===3||t===4||t===6}function yM(t){return t.charCodeAt(0)===64}function na(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?lE(t,n,i,null,e[++r]):lE(t,n,i,null,null))}}return t}function lE(t,e,n,r,i){let s=0,o=t.length;if(e===-1)o=-1;else for(;s<t.length;){let a=t[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<t.length;){let a=t[s];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[s+1]=i);return}else if(r===t[s+1]){t[s+2]=i;return}}s++,r!==null&&s++,i!==null&&s++}o!==-1&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),r!==null&&t.splice(s++,0,r),i!==null&&t.splice(s++,0,i)}var nD="ng-template";function vM(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&gM(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(Qp(t))return!1;if(i=e.indexOf(1,i),i>-1){let s;for(;++i<e.length&&typeof(s=e[i])=="string";)if(s.toLowerCase()===n)return!0}return!1}function Qp(t){return t.type===4&&t.value!==nD}function _M(t,e,n){let r=t.type===4&&!n?nD:t.value;return e===r}function IM(t,e,n){let r=4,i=t.attrs,s=i!==null?DM(i):0,o=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!o&&!Kt(r)&&!Kt(u))return!1;if(o&&Kt(u))continue;o=!1,r=u|r&1;continue}if(!o)if(r&4){if(r=2|r&1,u!==""&&!_M(t,u,n)||u===""&&e.length===1){if(Kt(r))return!1;o=!0}}else if(r&8){if(i===null||!vM(t,i,u,n)){if(Kt(r))return!1;o=!0}}else{let l=e[++a],h=wM(u,i,Qp(t),n);if(h===-1){if(Kt(r))return!1;o=!0;continue}if(l!==""){let p;if(h>s?p="":p=i[h+1].toLowerCase(),r&2&&l!==p){if(Kt(r))return!1;o=!0}}}}return Kt(r)||o}function Kt(t){return(t&1)===0}function wM(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){let o=e[i];if(o===t)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return TM(e,t)}function EM(t,e,n=!1){for(let r=0;r<e.length;r++)if(IM(t,e[r],n))return!0;return!1}function DM(t){for(let e=0;e<t.length;e++){let n=t[e];if(mM(n))return e}return t.length}function TM(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function dE(t,e){return t?":not("+e.trim()+")":e}function bM(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if(typeof o=="string")if(r&2){let a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+o:r&4&&(i+=" "+o);else i!==""&&!Kt(o)&&(e+=dE(s,i),i=""),r=o,s=s||!Kt(r);n++}return i!==""&&(e+=dE(s,i)),e}function CM(t){return t.map(bM).join(",")}function AM(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let s=t[r];if(typeof s=="string")i===2?s!==""&&e.push(s,t[++r]):i===8&&n.push(s);else{if(!Kt(i))break;i=s}r++}return{attrs:e,classes:n}}function rD(t){return aa(()=>{let e=cD(t),n=ae(F({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===tD.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||ln.Emulated,styles:t.styles||kt,_:null,schemas:t.schemas||null,tView:null,id:""});uD(n);let r=t.dependencies;return n.directiveDefs=fE(r,!1),n.pipeDefs=fE(r,!0),n.id=NM(n),n})}function SM(t){return wr(t)||iD(t)}function RM(t){return t!==null}function gn(t){return aa(()=>({type:t.type,bootstrap:t.bootstrap||kt,declarations:t.declarations||kt,imports:t.imports||kt,exports:t.exports||kt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function hE(t,e){if(t==null)return vs;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],s,o,a=Ir.None;Array.isArray(i)?(a=i[0],s=i[1],o=i[2]??s):(s=i,o=i),e?(n[s]=a!==Ir.None?[r,a]:r,e[s]=o):n[s]=r}return n}function et(t){return aa(()=>{let e=cD(t);return uD(e),e})}function Yp(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function wr(t){return t[JN]||null}function iD(t){return t[ZN]||null}function sD(t){return t[XN]||null}function oD(t){let e=wr(t)||iD(t)||sD(t);return e!==null?e.standalone:!1}function aD(t,e){let n=t[eM]||null;if(!n&&e===!0)throw new Error(`Type ${yt(t)} does not have '\u0275mod' property.`);return n}function cD(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||vs,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||kt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:hE(t.inputs,e),outputs:hE(t.outputs),debugInfo:null}}function uD(t){t.features?.forEach(e=>e(t))}function fE(t,e){if(!t)return null;let n=e?sD:SM;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(RM)}function NM(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function Vt(t){return{\u0275providers:t}}function MM(...t){return{\u0275providers:lD(!0,t),\u0275fromNgModule:!0}}function lD(t,...e){let n=[],r=new Set,i,s=o=>{n.push(o)};return Kp(e,o=>{let a=o;ap(a,s,[],r)&&(i||=[],i.push(a))}),i!==void 0&&dD(i,s),n}function dD(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];Jp(i,s=>{e(s,r)})}}function ap(t,e,n,r){if(t=mt(t),!t)return!1;let i=null,s=oE(t),o=!s&&wr(t);if(!s&&!o){let u=t.ngModule;if(s=oE(u),s)i=u;else return!1}else{if(o&&!o.standalone)return!1;i=t}let a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){let u=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let l of u)ap(l,e,n,r)}}else if(s){if(s.imports!=null&&!a){r.add(i);let l;try{Kp(s.imports,h=>{ap(h,e,n,r)&&(l||=[],l.push(h))})}finally{}l!==void 0&&dD(l,e)}if(!a){let l=ci(i)||(()=>new i);e({provide:i,useFactory:l,deps:kt},i),e({provide:eD,useValue:i,multi:!0},i),e({provide:_s,useValue:()=>z(i),multi:!0},i)}let u=s.providers;if(u!=null&&!a){let l=t;Jp(u,h=>{e(h,l)})}}else return!1;return i!==t&&t.providers!==void 0}function Jp(t,e){for(let n of t)KE(n)&&(n=n.\u0275providers),Array.isArray(n)?Jp(n,e):e(n)}var xM=Te({provide:String,useValue:Te});function hD(t){return t!==null&&typeof t=="object"&&xM in t}function PM(t){return!!(t&&t.useExisting)}function OM(t){return!!(t&&t.useFactory)}function Is(t){return typeof t=="function"}function kM(t){return!!t.useClass}var vl=new L(""),Vu={},FM={},zf;function Zp(){return zf===void 0&&(zf=new Gu),zf}var vt=class{},ra=class extends vt{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,up(e,o=>this.processProvider(o)),this.records.set(XE,hs(void 0,this)),i.has("environment")&&this.records.set(vt,hs(void 0,this));let s=this.records.get(vl);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(eD,kt,ie.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=pe(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),pe(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=yr(this),r=Dt(void 0),i;try{return e()}finally{yr(n),Dt(r)}}get(e,n=ta,r=ie.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(cE))return e[cE](this);r=yl(r);let i,s=yr(this),o=Dt(void 0);try{if(!(r&ie.SkipSelf)){let u=this.records.get(e);if(u===void 0){let l=BM(e)&&gl(e);l&&this.injectableDefInScope(l)?u=hs(cp(e),Vu):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let a=r&ie.Self?Zp():this.parent;return n=r&ie.Optional&&n===ta?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[zu]=a[zu]||[]).unshift(yt(e)),s)throw a;return lM(a,e,"R3InjectorError",this.source)}else throw a}finally{Dt(o),yr(s)}}resolveInjectorInitializers(){let e=pe(null),n=yr(this),r=Dt(void 0),i;try{let s=this.get(_s,kt,ie.Self);for(let o of s)o()}finally{yr(n),Dt(r),pe(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(yt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new $(205,!1)}processProvider(e){e=mt(e);let n=Is(e)?e:mt(e&&e.provide),r=VM(e);if(!Is(e)&&e.multi===!0){let i=this.records.get(n);i||(i=hs(void 0,Vu,!0),i.factory=()=>sp(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=pe(null);try{return n.value===Vu&&(n.value=FM,n.value=n.factory()),typeof n.value=="object"&&n.value&&jM(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{pe(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=mt(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function cp(t){let e=gl(t),n=e!==null?e.factory:ci(t);if(n!==null)return n;if(t instanceof L)throw new $(204,!1);if(t instanceof Function)return LM(t);throw new $(204,!1)}function LM(t){if(t.length>0)throw new $(204,!1);let n=QN(t);return n!==null?()=>n.factory(t):()=>new t}function VM(t){if(hD(t))return hs(void 0,t.useValue);{let e=fD(t);return hs(e,Vu)}}function fD(t,e,n){let r;if(Is(t)){let i=mt(t);return ci(i)||cp(i)}else if(hD(t))r=()=>mt(t.useValue);else if(OM(t))r=()=>t.useFactory(...sp(t.deps||[]));else if(PM(t))r=()=>z(mt(t.useExisting));else{let i=mt(t&&(t.useClass||t.provide));if(UM(t))r=()=>new i(...sp(t.deps));else return ci(i)||cp(i)}return r}function hs(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function UM(t){return!!t.deps}function jM(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function BM(t){return typeof t=="function"||typeof t=="object"&&t instanceof L}function up(t,e){for(let n of t)Array.isArray(n)?up(n,e):n&&KE(n)?up(n.\u0275providers,e):e(n)}function Ut(t,e){t instanceof ra&&t.assertNotDestroyed();let n,r=yr(t),i=Dt(void 0);try{return e()}finally{yr(r),Dt(i)}}function pD(){return QE()!==void 0||aM()!=null}function $M(t){if(!pD())throw new $(-203,!1)}function HM(t){return typeof t=="function"}var Fn=0,se=1,J=2,_t=3,Qt=4,Zt=5,Wu=6,Ku=7,Yt=8,ws=9,dn=10,qe=11,ia=12,pE=13,Ns=14,hn=15,Es=16,fs=17,Ds=18,_l=19,gD=20,vr=21,qf=22,Ft=23,Jt=25,mD=1;var ui=7,Qu=8,Yu=9,Lt=10,Ju=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Ju||{});function _r(t){return Array.isArray(t)&&typeof t[mD]=="object"}function Ln(t){return Array.isArray(t)&&t[mD]===!0}function yD(t){return(t.flags&4)!==0}function Il(t){return t.componentOffset>-1}function Xp(t){return(t.flags&1)===1}function Er(t){return!!t.template}function lp(t){return(t[J]&512)!==0}var dp=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function vD(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function yi(){return _D}function _D(t){return t.type.prototype.ngOnChanges&&(t.setInput=qM),zM}yi.ngInherit=!0;function zM(){let t=wD(this),e=t?.current;if(e){let n=t.previous;if(n===vs)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function qM(t,e,n,r,i){let s=this.declaredInputs[r],o=wD(t)||GM(t,{previous:vs,current:null}),a=o.current||(o.current={}),u=o.previous,l=u[s];a[s]=new dp(l&&l.currentValue,n,u===vs),vD(t,e,i,n)}var ID="__ngSimpleChanges__";function wD(t){return t[ID]||null}function GM(t,e){return t[ID]=e}var gE=null;var cn=function(t,e,n){gE?.(t,e,n)},WM="svg",KM="math";function fn(t){for(;Array.isArray(t);)t=t[Fn];return t}function ED(t,e){return fn(e[t])}function jt(t,e){return fn(e[t.index])}function DD(t,e){return t.data[e]}function TD(t,e){return t[e]}function br(t,e){let n=e[t];return _r(n)?n:n[Fn]}function eg(t){return(t[J]&128)===128}function QM(t){return Ln(t[_t])}function Zu(t,e){return e==null?null:t[e]}function bD(t){t[fs]=0}function CD(t){t[J]&1024||(t[J]|=1024,eg(t)&&El(t))}function YM(t,e){for(;t>0;)e=e[Ns],t--;return e}function wl(t){return!!(t[J]&9216||t[Ft]?.dirty)}function hp(t){t[dn].changeDetectionScheduler?.notify(8),t[J]&64&&(t[J]|=1024),wl(t)&&El(t)}function El(t){t[dn].changeDetectionScheduler?.notify(0);let e=li(t);for(;e!==null&&!(e[J]&8192||(e[J]|=8192,!eg(e)));)e=li(e)}function AD(t,e){if((t[J]&256)===256)throw new $(911,!1);t[vr]===null&&(t[vr]=[]),t[vr].push(e)}function JM(t,e){if(t[vr]===null)return;let n=t[vr].indexOf(e);n!==-1&&t[vr].splice(n,1)}function li(t){let e=t[_t];return Ln(e)?e[_t]:e}var oe={lFrame:FD(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var SD=!1;function ZM(){return oe.lFrame.elementDepthCount}function XM(){oe.lFrame.elementDepthCount++}function ex(){oe.lFrame.elementDepthCount--}function RD(){return oe.bindingsEnabled}function tx(){return oe.skipHydrationRootTNode!==null}function nx(t){return oe.skipHydrationRootTNode===t}function rx(){oe.skipHydrationRootTNode=null}function Ee(){return oe.lFrame.lView}function Tt(){return oe.lFrame.tView}function A3(t){return oe.lFrame.contextLView=t,t[Yt]}function S3(t){return oe.lFrame.contextLView=null,t}function bt(){let t=ND();for(;t!==null&&t.type===64;)t=t.parent;return t}function ND(){return oe.lFrame.currentTNode}function ix(){let t=oe.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function ua(t,e){let n=oe.lFrame;n.currentTNode=t,n.isParent=e}function MD(){return oe.lFrame.isParent}function sx(){oe.lFrame.isParent=!1}function xD(){return SD}function mE(t){SD=t}function tg(){let t=oe.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function ox(t){return oe.lFrame.bindingIndex=t}function Dl(){return oe.lFrame.bindingIndex++}function ax(t){let e=oe.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function cx(){return oe.lFrame.inI18n}function ux(t,e){let n=oe.lFrame;n.bindingIndex=n.bindingRootIndex=t,fp(e)}function lx(){return oe.lFrame.currentDirectiveIndex}function fp(t){oe.lFrame.currentDirectiveIndex=t}function dx(t){let e=oe.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function PD(t){oe.lFrame.currentQueryIndex=t}function hx(t){let e=t[se];return e.type===2?e.declTNode:e.type===1?t[Zt]:null}function OD(t,e,n){if(n&ie.SkipSelf){let i=e,s=t;for(;i=i.parent,i===null&&!(n&ie.Host);)if(i=hx(s),i===null||(s=s[Ns],i.type&10))break;if(i===null)return!1;e=i,t=s}let r=oe.lFrame=kD();return r.currentTNode=e,r.lView=t,!0}function ng(t){let e=kD(),n=t[se];oe.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function kD(){let t=oe.lFrame,e=t===null?null:t.child;return e===null?FD(t):e}function FD(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function LD(){let t=oe.lFrame;return oe.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var VD=LD;function rg(){let t=LD();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function fx(t){return(oe.lFrame.contextLView=YM(t,oe.lFrame.contextLView))[Yt]}function Ms(){return oe.lFrame.selectedIndex}function di(t){oe.lFrame.selectedIndex=t}function ig(){let t=oe.lFrame;return DD(t.tView,t.selectedIndex)}function px(){return oe.lFrame.currentNamespace}var UD=!0;function sg(){return UD}function og(t){UD=t}function gx(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let o=_D(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}function ag(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:h}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),h!=null&&(t.destroyHooks??=[]).push(n,h)}}function Uu(t,e,n){jD(t,e,3,n)}function ju(t,e,n,r){(t[J]&3)===n&&jD(t,e,n,r)}function Gf(t,e){let n=t[J];(n&3)===e&&(n&=16383,n+=1,t[J]=n)}function jD(t,e,n,r){let i=r!==void 0?t[fs]&65535:0,s=r??-1,o=e.length-1,a=0;for(let u=i;u<o;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(t[fs]+=65536),(a<s||s==-1)&&(mx(t,n,e,u),t[fs]=(t[fs]&4294901760)+u+2),u++}function yE(t,e){cn(4,t,e);let n=pe(null);try{e.call(t)}finally{pe(n),cn(5,t,e)}}function mx(t,e,n,r){let i=n[r]<0,s=n[r+1],o=i?-n[r]:n[r],a=t[o];i?t[J]>>14<t[fs]>>16&&(t[J]&3)===e&&(t[J]+=16384,yE(a,s)):yE(a,s)}var ys=-1,hi=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function yx(t){return t instanceof hi}function vx(t){return(t.flags&8)!==0}function _x(t){return(t.flags&16)!==0}var Wf={},pp=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=yl(r);let i=this.injector.get(e,Wf,r);return i!==Wf||n===Wf?i:this.parentInjector.get(e,n,r)}};function BD(t){return t!==ys}function Xu(t){return t&32767}function Ix(t){return t>>16}function el(t,e){let n=Ix(t),r=e;for(;n>0;)r=r[Ns],n--;return r}var gp=!0;function tl(t){let e=gp;return gp=t,e}var wx=256,$D=wx-1,HD=5,Ex=0,un={};function Dx(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(ea)&&(r=n[ea]),r==null&&(r=n[ea]=Ex++);let i=r&$D,s=1<<i;e.data[t+(i>>HD)]|=s}function nl(t,e){let n=zD(t,e);if(n!==-1)return n;let r=e[se];r.firstCreatePass&&(t.injectorIndex=e.length,Kf(r.data,t),Kf(e,null),Kf(r.blueprint,null));let i=cg(t,e),s=t.injectorIndex;if(BD(i)){let o=Xu(i),a=el(i,e),u=a[se].data;for(let l=0;l<8;l++)e[s+l]=a[o+l]|u[o+l]}return e[s+8]=i,s}function Kf(t,e){t.push(0,0,0,0,0,0,0,0,e)}function zD(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function cg(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=QD(i),r===null)return ys;if(n++,i=i[Ns],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return ys}function mp(t,e,n){Dx(t,e,n)}function qD(t,e,n){if(n&ie.Optional||t!==void 0)return t;Gp(e,"NodeInjector")}function GD(t,e,n,r){if(n&ie.Optional&&r===void 0&&(r=null),!(n&(ie.Self|ie.Host))){let i=t[ws],s=Dt(void 0);try{return i?i.get(e,r,n&ie.Optional):YE(e,r,n&ie.Optional)}finally{Dt(s)}}return qD(r,e,n)}function WD(t,e,n,r=ie.Default,i){if(t!==null){if(e[J]&2048&&!(r&ie.Self)){let o=Sx(t,e,n,r,un);if(o!==un)return o}let s=KD(t,e,n,r,un);if(s!==un)return s}return GD(e,n,r,i)}function KD(t,e,n,r,i){let s=Cx(n);if(typeof s=="function"){if(!OD(e,t,r))return r&ie.Host?qD(i,n,r):GD(e,n,r,i);try{let o;if(o=s(r),o==null&&!(r&ie.Optional))Gp(n);else return o}finally{VD()}}else if(typeof s=="number"){let o=null,a=zD(t,e),u=ys,l=r&ie.Host?e[hn][Zt]:null;for((a===-1||r&ie.SkipSelf)&&(u=a===-1?cg(t,e):e[a+8],u===ys||!_E(r,!1)?a=-1:(o=e[se],a=Xu(u),e=el(u,e)));a!==-1;){let h=e[se];if(vE(s,a,h.data)){let p=Tx(a,e,n,o,r,l);if(p!==un)return p}u=e[a+8],u!==ys&&_E(r,e[se].data[a+8]===l)&&vE(s,a,e)?(o=h,a=Xu(u),e=el(u,e)):a=-1}}return i}function Tx(t,e,n,r,i,s){let o=e[se],a=o.data[t+8],u=r==null?Il(a)&&gp:r!=o&&(a.type&3)!==0,l=i&ie.Host&&s===a,h=bx(a,o,n,u,l);return h!==null?Ts(e,o,h,a):un}function bx(t,e,n,r,i){let s=t.providerIndexes,o=e.data,a=s&1048575,u=t.directiveStart,l=t.directiveEnd,h=s>>20,p=r?a:a+h,m=i?a+h:l;for(let y=p;y<m;y++){let C=o[y];if(y<u&&n===C||y>=u&&C.type===n)return y}if(i){let y=o[u];if(y&&Er(y)&&y.type===n)return u}return null}function Ts(t,e,n,r){let i=t[n],s=e.data;if(yx(i)){let o=i;o.resolving&&nM(tM(s[n]));let a=tl(o.canSeeViewProviders);o.resolving=!0;let u,l=o.injectImpl?Dt(o.injectImpl):null,h=OD(t,r,ie.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&gx(n,s[n],e)}finally{l!==null&&Dt(l),tl(a),o.resolving=!1,VD()}}return i}function Cx(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(ea)?t[ea]:void 0;return typeof e=="number"?e>=0?e&$D:Ax:e}function vE(t,e,n){let r=1<<t;return!!(n[e+(t>>HD)]&r)}function _E(t,e){return!(t&ie.Self)&&!(t&ie.Host&&e)}var ai=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return WD(this._tNode,this._lView,e,yl(r),n)}};function Ax(){return new ai(bt(),Ee())}function xs(t){return aa(()=>{let e=t.prototype.constructor,n=e[Hu]||yp(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let s=i[Hu]||yp(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function yp(t){return zE(t)?()=>{let e=yp(mt(t));return e&&e()}:ci(t)}function Sx(t,e,n,r,i){let s=t,o=e;for(;s!==null&&o!==null&&o[J]&2048&&!(o[J]&512);){let a=KD(s,o,n,r|ie.Self,un);if(a!==un)return a;let u=s.parent;if(!u){let l=o[gD];if(l){let h=l.get(n,un,r);if(h!==un)return h}u=QD(o),o=o[Ns]}s=u}return i}function QD(t){let e=t[se],n=e.type;return n===2?e.declTNode:n===1?t[Zt]:null}function IE(t,e=null,n=null,r){let i=YD(t,e,n,r);return i.resolveInjectorInitializers(),i}function YD(t,e=null,n=null,r,i=new Set){let s=[n||kt,MM(t)];return r=r||(typeof t=="object"?void 0:yt(t)),new ra(s,e||Zp(),r||null,i)}var Xe=class t{static{this.THROW_IF_NOT_FOUND=ta}static{this.NULL=new Gu}static create(e,n){if(Array.isArray(e))return IE({name:""},n,e,"");{let r=e.name??"";return IE({name:r},e.parent,e.providers,r)}}static{this.\u0275prov=B({token:t,providedIn:"any",factory:()=>z(XE)})}static{this.__NG_ELEMENT_ID__=-1}};var Rx=new L("");Rx.__NG_ELEMENT_ID__=t=>{let e=bt();if(e===null)throw new $(204,!1);if(e.type&2)return e.value;if(t&ie.Optional)return null;throw new $(204,!1)};var Nx="ngOriginalError";function Qf(t){return t[Nx]}var JD=!0,ug=(()=>{class t{static{this.__NG_ELEMENT_ID__=Mx}static{this.__NG_ENV_ID__=n=>n}}return t})(),vp=class extends ug{constructor(e){super(),this._lView=e}onDestroy(e){return AD(this._lView,e),()=>JM(this._lView,e)}};function Mx(){return new vp(Ee())}var Vn=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Ze(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=B({token:t,providedIn:"root",factory:()=>new t})}}return t})();var _p=class extends Je{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,pD()&&(this.destroyRef=x(ug,{optional:!0})??void 0,this.pendingTasks=x(Vn,{optional:!0})??void 0)}emit(e){let n=pe(null);try{super.next(e)}finally{pe(n)}}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=this.wrapInTimeout(s),i&&(i=this.wrapInTimeout(i)),o&&(o=this.wrapInTimeout(o)));let a=super.subscribe({next:i,error:s,complete:o});return e instanceof Pe&&e.add(a),a}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(n),r!==void 0&&this.pendingTasks?.remove(r)})}}},Ue=_p;function rl(...t){}function ZD(t){let e,n;function r(){t=rl;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function wE(t){return queueMicrotask(()=>t()),()=>{t=rl}}var lg="isAngularZone",il=lg+"_ID",xx=0,me=class t{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ue(!1),this.onMicrotaskEmpty=new Ue(!1),this.onStable=new Ue(!1),this.onError=new Ue(!1);let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:s=JD}=e;if(typeof Zone>"u")throw new $(908,!1);Zone.assertZonePatched();let o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!i&&r,o.shouldCoalesceRunChangeDetection=i,o.callbackScheduled=!1,o.scheduleInRootZone=s,kx(o)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(lg)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new $(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new $(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,Px,rl,rl);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},Px={};function dg(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Ox(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){ZD(()=>{t.callbackScheduled=!1,Ip(t),t.isCheckStableRunning=!0,dg(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),Ip(t)}function kx(t){let e=()=>{Ox(t)},n=xx++;t._inner=t._inner.fork({name:"angular",properties:{[lg]:!0,[il]:n,[il+n]:!0},onInvokeTask:(r,i,s,o,a,u)=>{if(Fx(u))return r.invokeTask(s,o,a,u);try{return EE(t),r.invokeTask(s,o,a,u)}finally{(t.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),DE(t)}},onInvoke:(r,i,s,o,a,u,l)=>{try{return EE(t),r.invoke(s,o,a,u,l)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!Lx(u)&&e(),DE(t)}},onHasTask:(r,i,s,o)=>{r.hasTask(s,o),i===s&&(o.change=="microTask"?(t._hasPendingMicrotasks=o.microTask,Ip(t),dg(t)):o.change=="macroTask"&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(r,i,s,o)=>(r.handleError(s,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}function Ip(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function EE(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function DE(t){t._nesting--,dg(t)}var wp=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ue,this.onMicrotaskEmpty=new Ue,this.onStable=new Ue,this.onError=new Ue}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function Fx(t){return XD(t,"__ignore_ng_zone__")}function Lx(t){return XD(t,"__scheduler_tick__")}function XD(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var Pn=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Qf(e);for(;n&&Qf(n);)n=Qf(n);return n||null}},Vx=new L("",{providedIn:"root",factory:()=>{let t=x(me),e=x(Pn);return n=>t.runOutsideAngular(()=>e.handleError(n))}});function Ux(){return Tl(bt(),Ee())}function Tl(t,e){return new Cr(jt(t,e))}var Cr=(()=>{class t{constructor(n){this.nativeElement=n}static{this.__NG_ELEMENT_ID__=Ux}}return t})();function eT(t){return(t.flags&128)===128}var tT=new Map,jx=0;function Bx(){return jx++}function $x(t){tT.set(t[_l],t)}function Ep(t){tT.delete(t[_l])}var TE="__ngContext__";function fi(t,e){_r(e)?(t[TE]=e[_l],$x(e)):t[TE]=e}function nT(t){return iT(t[ia])}function rT(t){return iT(t[Qt])}function iT(t){for(;t!==null&&!Ln(t);)t=t[Qt];return t}var Dp;function sT(t){Dp=t}function Hx(){if(Dp!==void 0)return Dp;if(typeof document<"u")return document;throw new $(210,!1)}var hg=new L("",{providedIn:"root",factory:()=>zx}),zx="ng",fg=new L(""),Bt=new L("",{providedIn:"platform",factory:()=>"unknown"});var pg=new L("",{providedIn:"root",factory:()=>Hx().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var qx="h",Gx="b";var Wx=()=>null;function gg(t,e,n=!1){return Wx(t,e,n)}var oT=!1,Kx=new L("",{providedIn:"root",factory:()=>oT});var sl=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${$E})`}};function bl(t){return t instanceof sl?t.changingThisBreaksApplicationSecurity:t}function aT(t,e){let n=Qx(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${$E})`)}return n===e}function Qx(t){return t instanceof sl&&t.getTypeName()||null}var Yx=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function cT(t){return t=String(t),t.match(Yx)?t:"unsafe:"+t}var mg=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(mg||{});function R3(t){let e=Jx();return e?e.sanitize(mg.URL,t)||"":aT(t,"URL")?bl(t):cT(ml(t))}function Jx(){let t=Ee();return t&&t[dn].sanitizer}function uT(t){return t instanceof Function?t():t}function Zx(t){return(t??x(Xe)).get(Bt)==="browser"}var On=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(On||{}),Xx;function yg(t,e){return Xx(t,e)}function ps(t,e,n,r,i){if(r!=null){let s,o=!1;Ln(r)?s=r:_r(r)&&(o=!0,r=r[Fn]);let a=fn(r);t===0&&n!==null?i==null?pT(e,n,a):ol(e,n,a,i||null,!0):t===1&&n!==null?ol(e,n,a,i||null,!0):t===2?pP(e,a,o):t===3&&e.destroyNode(a),s!=null&&mP(e,t,s,n,i)}}function eP(t,e){return t.createText(e)}function tP(t,e,n){t.setValue(e,n)}function lT(t,e,n){return t.createElement(e,n)}function nP(t,e){dT(t,e),e[Fn]=null,e[Zt]=null}function rP(t,e,n,r,i,s){r[Fn]=i,r[Zt]=e,Cl(t,r,n,1,i,s)}function dT(t,e){e[dn].changeDetectionScheduler?.notify(9),Cl(t,e,e[qe],2,null,null)}function iP(t){let e=t[ia];if(!e)return Yf(t[se],t);for(;e;){let n=null;if(_r(e))n=e[ia];else{let r=e[Lt];r&&(n=r)}if(!n){for(;e&&!e[Qt]&&e!==t;)_r(e)&&Yf(e[se],e),e=e[_t];e===null&&(e=t),_r(e)&&Yf(e[se],e),n=e&&e[Qt]}e=n}}function sP(t,e,n,r){let i=Lt+r,s=n.length;r>0&&(n[i-1][Qt]=e),r<s-Lt?(e[Qt]=n[i],ZE(n,Lt+r,e)):(n.push(e),e[Qt]=null),e[_t]=n;let o=e[Es];o!==null&&n!==o&&hT(o,e);let a=e[Ds];a!==null&&a.insertView(t),hp(e),e[J]|=128}function hT(t,e){let n=t[Yu],r=e[_t];if(_r(r))t[J]|=Ju.HasTransplantedViews;else{let i=r[_t][hn];e[hn]!==i&&(t[J]|=Ju.HasTransplantedViews)}n===null?t[Yu]=[e]:n.push(e)}function vg(t,e){let n=t[Yu],r=n.indexOf(e);n.splice(r,1)}function Tp(t,e){if(t.length<=Lt)return;let n=Lt+e,r=t[n];if(r){let i=r[Es];i!==null&&i!==t&&vg(i,r),e>0&&(t[n-1][Qt]=r[Qt]);let s=qu(t,Lt+e);nP(r[se],r);let o=s[Ds];o!==null&&o.detachView(s[se]),r[_t]=null,r[Qt]=null,r[J]&=-129}return r}function fT(t,e){if(!(e[J]&256)){let n=e[qe];n.destroyNode&&Cl(t,e,n,3,null,null),iP(e)}}function Yf(t,e){if(e[J]&256)return;let n=pe(null);try{e[J]&=-129,e[J]|=256,e[Ft]&&Tf(e[Ft]),aP(t,e),oP(t,e),e[se].type===1&&e[qe].destroy();let r=e[Es];if(r!==null&&Ln(e[_t])){r!==e[_t]&&vg(r,e);let i=e[Ds];i!==null&&i.detachView(t)}Ep(e)}finally{pe(n)}}function oP(t,e){let n=t.cleanup,r=e[Ku];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else{let o=r[n[s+1]];n[s].call(o)}r!==null&&(e[Ku]=null);let i=e[vr];if(i!==null){e[vr]=null;for(let s=0;s<i.length;s++){let o=i[s];o()}}}function aP(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof hi)){let s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=i[s[o]],u=s[o+1];cn(4,a,u);try{u.call(a)}finally{cn(5,a,u)}}else{cn(4,i,s);try{s.call(i)}finally{cn(5,i,s)}}}}}function cP(t,e,n){return uP(t,e.parent,n)}function uP(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[Fn];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:s}=t.data[r.directiveStart+i];if(s===ln.None||s===ln.Emulated)return null}return jt(r,n)}}function ol(t,e,n,r,i){t.insertBefore(e,n,r,i)}function pT(t,e,n){t.appendChild(e,n)}function bE(t,e,n,r,i){r!==null?ol(t,e,n,r,i):pT(t,e,n)}function gT(t,e){return t.parentNode(e)}function lP(t,e){return t.nextSibling(e)}function dP(t,e,n){return fP(t,e,n)}function hP(t,e,n){return t.type&40?jt(t,n):null}var fP=hP,CE;function _g(t,e,n,r){let i=cP(t,r,e),s=e[qe],o=r.parent||e[Zt],a=dP(o,r,e);if(i!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)bE(s,i,n[u],a,!1);else bE(s,i,n,a,!1);CE!==void 0&&CE(s,r,e,n,i)}function Xo(t,e){if(e!==null){let n=e.type;if(n&3)return jt(e,t);if(n&4)return bp(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Xo(t,r);{let i=t[e.index];return Ln(i)?bp(-1,i):fn(i)}}else{if(n&128)return Xo(t,e.next);if(n&32)return yg(e,t)()||fn(t[e.index]);{let r=mT(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=li(t[hn]);return Xo(i,r)}else return Xo(t,e.next)}}}return null}function mT(t,e){if(e!==null){let r=t[hn][Zt],i=e.projection;return r.projection[i]}return null}function bp(t,e){let n=Lt+t+1;if(n<e.length){let r=e[n],i=r[se].firstChild;if(i!==null)return Xo(r,i)}return e[ui]}function pP(t,e,n){t.removeChild(null,e,n)}function Ig(t,e,n,r,i,s,o){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=r[n.index],u=n.type;if(o&&e===0&&(a&&fi(fn(a),r),n.flags|=2),(n.flags&32)!==32)if(u&8)Ig(t,e,n.child,r,i,s,!1),ps(e,t,i,a,s);else if(u&32){let l=yg(n,r),h;for(;h=l();)ps(e,t,i,h,s);ps(e,t,i,a,s)}else u&16?gP(t,e,r,n,i,s):ps(e,t,i,a,s);n=o?n.projectionNext:n.next}}function Cl(t,e,n,r,i,s){Ig(n,r,t.firstChild,e,i,s,!1)}function gP(t,e,n,r,i,s){let o=n[hn],u=o[Zt].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let h=u[l];ps(e,t,i,h,s)}else{let l=u,h=o[_t];eT(r)&&(l.flags|=128),Ig(t,e,l,h,i,s,!0)}}function mP(t,e,n,r,i){let s=n[ui],o=fn(n);s!==o&&ps(e,t,r,s,i);for(let a=Lt;a<n.length;a++){let u=n[a];Cl(u[se],u,t,e,r,s)}}function yP(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=r.indexOf("-")===-1?void 0:On.DashCase;i==null?t.removeStyle(n,r,s):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=On.Important),t.setStyle(n,r,i,s))}}function vP(t,e,n){t.setAttribute(e,"style",n)}function yT(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function vT(t,e,n){let{mergedAttrs:r,classes:i,styles:s}=n;r!==null&&op(t,e,r),i!==null&&yT(t,e,i),s!==null&&vP(t,e,s)}var vi={};function N3(t=1){_T(Tt(),Ee(),Ms()+t,!1)}function _T(t,e,n,r){if(!r)if((e[J]&3)===3){let s=t.preOrderCheckHooks;s!==null&&Uu(e,s,n)}else{let s=t.preOrderHooks;s!==null&&ju(e,s,0,n)}di(n)}function he(t,e=ie.Default){let n=Ee();if(n===null)return z(t,e);let r=bt();return WD(r,n,mt(t),e)}function IT(){let t="invalid";throw new Error(t)}function wT(t,e,n,r,i,s){let o=pe(null);try{let a=null;i&Ir.SignalBased&&(a=e[r][Rn]),a!==null&&a.transformFn!==void 0&&(s=a.transformFn(s)),i&Ir.HasDecoratorInputTransform&&(s=t.inputTransforms[r].call(e,s)),t.setInput!==null?t.setInput(e,a,s,n,r):vD(e,a,r,s)}finally{pe(o)}}function _P(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)di(~i);else{let s=i,o=n[++r],a=n[++r];ux(o,s);let u=e[s];a(2,u)}}}finally{di(-1)}}function Al(t,e,n,r,i,s,o,a,u,l,h){let p=e.blueprint.slice();return p[Fn]=i,p[J]=r|4|128|8|64,(l!==null||t&&t[J]&2048)&&(p[J]|=2048),bD(p),p[_t]=p[Ns]=t,p[Yt]=n,p[dn]=o||t&&t[dn],p[qe]=a||t&&t[qe],p[ws]=u||t&&t[ws]||null,p[Zt]=s,p[_l]=Bx(),p[Wu]=h,p[gD]=l,p[hn]=e.type==2?t[hn]:p,p}function Sl(t,e,n,r,i){let s=t.data[e];if(s===null)s=IP(t,e,n,r,i),cx()&&(s.flags|=32);else if(s.type&64){s.type=n,s.value=r,s.attrs=i;let o=ix();s.injectorIndex=o===null?-1:o.injectorIndex}return ua(s,!0),s}function IP(t,e,n,r,i){let s=ND(),o=MD(),a=o?s:s&&s.parent,u=t.data[e]=bP(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=u),s!==null&&(o?s.child==null&&u.parent!==null&&(s.child=u):s.next===null&&(s.next=u,u.prev=s)),u}function ET(t,e,n,r){if(n===0)return-1;let i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function DT(t,e,n,r,i){let s=Ms(),o=r&2;try{di(-1),o&&e.length>Jt&&_T(t,e,Jt,!1),cn(o?2:0,i),n(r,i)}finally{di(s),cn(o?3:1,i)}}function TT(t,e,n){if(yD(e)){let r=pe(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){let a=t.data[o];if(a.contentQueries){let u=n[o];a.contentQueries(1,u,o)}}}finally{pe(r)}}}function bT(t,e,n){RD()&&(MP(t,e,n,jt(n,e)),(n.flags&64)===64&&MT(t,e,n))}function CT(t,e,n=jt){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let o=r[s+1],a=o===-1?n(e,t):t[o];t[i++]=a}}}function AT(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=wg(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function wg(t,e,n,r,i,s,o,a,u,l,h){let p=Jt+r,m=p+i,y=wP(p,m),C=typeof l=="function"?l():l;return y[se]={type:t,blueprint:y,template:n,queries:null,viewQuery:a,declTNode:e,data:y.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:u,consts:C,incompleteFirstPass:!1,ssrId:h}}function wP(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:vi);return n}function EP(t,e,n,r){let s=r.get(Kx,oT)||n===ln.ShadowDom,o=t.selectRootElement(e,s);return DP(o),o}function DP(t){TP(t)}var TP=()=>null;function bP(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return tx()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function AE(t,e,n,r,i){for(let s in e){if(!e.hasOwnProperty(s))continue;let o=e[s];if(o===void 0)continue;r??={};let a,u=Ir.None;Array.isArray(o)?(a=o[0],u=o[1]):a=o;let l=s;if(i!==null){if(!i.hasOwnProperty(s))continue;l=i[s]}t===0?SE(r,n,l,a,u):SE(r,n,l,a)}return r}function SE(t,e,n,r,i){let s;t.hasOwnProperty(n)?(s=t[n]).push(e,r):s=t[n]=[e,r],i!==void 0&&s.push(i)}function CP(t,e,n){let r=e.directiveStart,i=e.directiveEnd,s=t.data,o=e.attrs,a=[],u=null,l=null;for(let h=r;h<i;h++){let p=s[h],m=n?n.get(p):null,y=m?m.inputs:null,C=m?m.outputs:null;u=AE(0,p.inputs,h,u,y),l=AE(1,p.outputs,h,l,C);let N=u!==null&&o!==null&&!Qp(e)?$P(u,h,o):null;a.push(N)}u!==null&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=l}function AP(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function ST(t,e,n,r,i,s,o,a){let u=jt(e,n),l=e.inputs,h;!a&&l!=null&&(h=l[r])?(Eg(t,n,h,r,i),Il(e)&&SP(n,e.index)):e.type&3?(r=AP(r),i=o!=null?o(i,e.value||"",r):i,s.setProperty(u,r,i)):e.type&12}function SP(t,e){let n=br(e,t);n[J]&16||(n[J]|=64)}function RT(t,e,n,r){if(RD()){let i=r===null?null:{"":-1},s=PP(t,n),o,a;s===null?o=a=null:[o,a]=s,o!==null&&NT(t,e,n,o,i,a),i&&OP(n,r,i)}n.mergedAttrs=na(n.mergedAttrs,n.attrs)}function NT(t,e,n,r,i,s){for(let l=0;l<r.length;l++)mp(nl(n,e),t,r[l].type);FP(n,t.data.length,r.length);for(let l=0;l<r.length;l++){let h=r[l];h.providersResolver&&h.providersResolver(h)}let o=!1,a=!1,u=ET(t,e,r.length,null);for(let l=0;l<r.length;l++){let h=r[l];n.mergedAttrs=na(n.mergedAttrs,h.hostAttrs),LP(t,n,e,u,h),kP(u,h,i),h.contentQueries!==null&&(n.flags|=4),(h.hostBindings!==null||h.hostAttrs!==null||h.hostVars!==0)&&(n.flags|=64);let p=h.type.prototype;!o&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(p.ngOnChanges||p.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),u++}CP(t,n,s)}function RP(t,e,n,r,i){let s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;o===null&&(o=t.hostBindingOpCodes=[]);let a=~e.index;NP(o)!=a&&o.push(a),o.push(n,r,s)}}function NP(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function MP(t,e,n,r){let i=n.directiveStart,s=n.directiveEnd;Il(n)&&VP(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||nl(n,e),fi(r,e);let o=n.initialInputs;for(let a=i;a<s;a++){let u=t.data[a],l=Ts(e,t,a,n);if(fi(l,e),o!==null&&BP(e,a-i,l,u,n,o),Er(u)){let h=br(n.index,e);h[Yt]=Ts(e,t,a,n)}}}function MT(t,e,n){let r=n.directiveStart,i=n.directiveEnd,s=n.index,o=lx();try{di(s);for(let a=r;a<i;a++){let u=t.data[a],l=e[a];fp(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&xP(u,l)}}finally{di(-1),fp(o)}}function xP(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function PP(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let s=0;s<n.length;s++){let o=n[s];if(EM(e,o.selectors,!1))if(r||(r=[]),Er(o))if(o.findHostDirectiveDefs!==null){let a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o);let u=a.length;Cp(t,e,u)}else r.unshift(o),Cp(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return r===null?null:[r,i]}function Cp(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function OP(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let s=n[e[i+1]];if(s==null)throw new $(-301,!1);r.push(e[i],s)}}}function kP(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Er(e)&&(n[""]=t)}}function FP(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function LP(t,e,n,r,i){t.data[r]=i;let s=i.factory||(i.factory=ci(i.type,!0)),o=new hi(s,Er(i),he);t.blueprint[r]=o,n[r]=o,RP(t,e,r,ET(t,n,i.hostVars,vi),i)}function VP(t,e,n){let r=jt(e,t),i=AT(n),s=t[dn].rendererFactory,o=16;n.signals?o=4096:n.onPush&&(o=64);let a=Rl(t,Al(t,i,null,o,r,e,null,s.createRenderer(r,n),null,null,null));t[e.index]=a}function UP(t,e,n,r,i,s){let o=jt(t,e);jP(e[qe],o,s,t.value,n,r,i)}function jP(t,e,n,r,i,s,o){if(s==null)t.removeAttribute(e,i,n);else{let a=o==null?ml(s):o(s,r||"",i);t.setAttribute(e,i,a,n)}}function BP(t,e,n,r,i,s){let o=s[e];if(o!==null)for(let a=0;a<o.length;){let u=o[a++],l=o[a++],h=o[a++],p=o[a++];wT(r,n,u,l,h,p)}}function $P(t,e,n){let r=null,i=0;for(;i<n.length;){let s=n[i];if(s===0){i+=4;continue}else if(s===5){i+=2;continue}if(typeof s=="number")break;if(t.hasOwnProperty(s)){r===null&&(r=[]);let o=t[s];for(let a=0;a<o.length;a+=3)if(o[a]===e){r.push(s,o[a+1],o[a+2],n[i+1]);break}}i+=2}return r}function xT(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function PT(t,e){let n=t.contentQueries;if(n!==null){let r=pe(null);try{for(let i=0;i<n.length;i+=2){let s=n[i],o=n[i+1];if(o!==-1){let a=t.data[o];PD(s),a.contentQueries(2,e[o],o)}}}finally{pe(r)}}}function Rl(t,e){return t[ia]?t[pE][Qt]=e:t[ia]=e,t[pE]=e,e}function Ap(t,e,n){PD(0);let r=pe(null);try{e(t,n)}finally{pe(r)}}function HP(t){return t[Ku]??=[]}function zP(t){return t.cleanup??=[]}function OT(t,e){let n=t[ws],r=n?n.get(Pn,null):null;r&&r.handleError(e)}function Eg(t,e,n,r,i){for(let s=0;s<n.length;){let o=n[s++],a=n[s++],u=n[s++],l=e[o],h=t.data[o];wT(h,l,r,a,u,i)}}function qP(t,e,n){let r=ED(e,t);tP(t[qe],r,n)}function GP(t,e){let n=br(e,t),r=n[se];WP(r,n);let i=n[Fn];i!==null&&n[Wu]===null&&(n[Wu]=gg(i,n[ws])),Dg(r,n,n[Yt])}function WP(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Dg(t,e,n){ng(e);try{let r=t.viewQuery;r!==null&&Ap(1,r,n);let i=t.template;i!==null&&DT(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Ds]?.finishViewCreation(t),t.staticContentQueries&&PT(t,e),t.staticViewQueries&&Ap(2,t.viewQuery,n);let s=t.components;s!==null&&KP(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[J]&=-5,rg()}}function KP(t,e){for(let n=0;n<e.length;n++)GP(t,e[n])}function QP(t,e,n,r){let i=pe(null);try{let s=e.tView,a=t[J]&4096?4096:16,u=Al(t,s,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];u[Es]=l;let h=t[Ds];return h!==null&&(u[Ds]=h.createEmbeddedView(s)),Dg(s,u,n),u}finally{pe(i)}}function RE(t,e){return!e||e.firstChild===null||eT(t)}function YP(t,e,n,r=!0){let i=e[se];if(sP(i,e,t,n),r){let o=bp(n,t),a=e[qe],u=gT(a,t[ui]);u!==null&&rP(i,t[Zt],a,e,u,o)}let s=e[Wu];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function al(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let s=e[n.index];s!==null&&r.push(fn(s)),Ln(s)&&JP(s,r);let o=n.type;if(o&8)al(t,e,n.child,r);else if(o&32){let a=yg(n,e),u;for(;u=a();)r.push(u)}else if(o&16){let a=mT(e,n);if(Array.isArray(a))r.push(...a);else{let u=li(e[hn]);al(u[se],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function JP(t,e){for(let n=Lt;n<t.length;n++){let r=t[n],i=r[se].firstChild;i!==null&&al(r[se],r,i,e)}t[ui]!==t[Fn]&&e.push(t[ui])}var kT=[];function ZP(t){return t[Ft]??XP(t)}function XP(t){let e=kT.pop()??Object.create(tO);return e.lView=t,e}function eO(t){t.lView[Ft]!==t&&(t.lView=null,kT.push(t))}var tO=ae(F({},Ko),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{El(t.lView)},consumerOnSignalRead(){this.lView[Ft]=this}});function nO(t){let e=t[Ft]??Object.create(rO);return e.lView=t,e}var rO=ae(F({},Ko),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{let e=li(t.lView);for(;e&&!FT(e[se]);)e=li(e);e&&CD(e)},consumerOnSignalRead(){this.lView[Ft]=this}});function FT(t){return t.type!==2}var iO=100;function LT(t,e=!0,n=0){let r=t[dn],i=r.rendererFactory,s=!1;s||i.begin?.();try{sO(t,n)}catch(o){throw e&&OT(t,o),o}finally{s||(i.end?.(),r.inlineEffectRunner?.flush())}}function sO(t,e){let n=xD();try{mE(!0),Sp(t,e);let r=0;for(;wl(t);){if(r===iO)throw new $(103,!1);r++,Sp(t,1)}}finally{mE(n)}}function oO(t,e,n,r){let i=e[J];if((i&256)===256)return;let s=!1,o=!1;!s&&e[dn].inlineEffectRunner?.flush(),ng(e);let a=!0,u=null,l=null;s||(FT(t)?(l=ZP(e),u=iu(l)):Iw()===null?(a=!1,l=nO(e),u=iu(l)):e[Ft]&&(Tf(e[Ft]),e[Ft]=null));try{bD(e),ox(t.bindingStartIndex),n!==null&&DT(t,e,n,2,r);let h=(i&3)===3;if(!s)if(h){let y=t.preOrderCheckHooks;y!==null&&Uu(e,y,null)}else{let y=t.preOrderHooks;y!==null&&ju(e,y,0,null),Gf(e,0)}if(o||aO(e),VT(e,0),t.contentQueries!==null&&PT(t,e),!s)if(h){let y=t.contentCheckHooks;y!==null&&Uu(e,y)}else{let y=t.contentHooks;y!==null&&ju(e,y,1),Gf(e,1)}_P(t,e);let p=t.components;p!==null&&jT(e,p,0);let m=t.viewQuery;if(m!==null&&Ap(2,m,r),!s)if(h){let y=t.viewCheckHooks;y!==null&&Uu(e,y)}else{let y=t.viewHooks;y!==null&&ju(e,y,2),Gf(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[qf]){for(let y of e[qf])y();e[qf]=null}s||(e[J]&=-73)}catch(h){throw s||El(e),h}finally{l!==null&&(Ef(l,u),a&&eO(l)),rg()}}function VT(t,e){for(let n=nT(t);n!==null;n=rT(n))for(let r=Lt;r<n.length;r++){let i=n[r];UT(i,e)}}function aO(t){for(let e=nT(t);e!==null;e=rT(e)){if(!(e[J]&Ju.HasTransplantedViews))continue;let n=e[Yu];for(let r=0;r<n.length;r++){let i=n[r];CD(i)}}}function cO(t,e,n){let r=br(e,t);UT(r,n)}function UT(t,e){eg(t)&&Sp(t,e)}function Sp(t,e){let r=t[se],i=t[J],s=t[Ft],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(s?.dirty&&Df(s)),o||=!1,s&&(s.dirty=!1),t[J]&=-9217,o)oO(r,t,r.template,t[Yt]);else if(i&8192){VT(t,1);let a=r.components;a!==null&&jT(t,a,1)}}function jT(t,e,n){for(let r=0;r<e.length;r++)cO(t,e[r],n)}function Tg(t,e){let n=xD()?64:1088;for(t[dn].changeDetectionScheduler?.notify(e);t;){t[J]|=n;let r=li(t);if(lp(t)&&!r)return t;t=r}return null}var pi=class{get rootNodes(){let e=this._lView,n=e[se];return al(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Yt]}set context(e){this._lView[Yt]=e}get destroyed(){return(this._lView[J]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[_t];if(Ln(e)){let n=e[Qu],r=n?n.indexOf(this):-1;r>-1&&(Tp(e,r),qu(n,r))}this._attachedToViewContainer=!1}fT(this._lView[se],this._lView)}onDestroy(e){AD(this._lView,e)}markForCheck(){Tg(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[J]&=-129}reattach(){hp(this._lView),this._lView[J]|=128}detectChanges(){this._lView[J]|=1024,LT(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new $(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=lp(this._lView),n=this._lView[Es];n!==null&&!e&&vg(n,this._lView),dT(this._lView[se],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new $(902,!1);this._appRef=e;let n=lp(this._lView),r=this._lView[Es];r!==null&&!n&&hT(r,this._lView),hp(this._lView)}},Nl=(()=>{class t{static{this.__NG_ELEMENT_ID__=dO}}return t})(),uO=Nl,lO=class extends uO{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=QP(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new pi(i)}};function dO(){return hO(bt(),Ee())}function hO(t,e){return t.type&4?new lO(e,t,Tl(t,e)):null}var x3=new RegExp(`^(\\d+)*(${Gx}|${qx})*(.*)`);var fO=()=>null;function NE(t,e){return fO(t,e)}var bs=class{},bg=new L("",{providedIn:"root",factory:()=>!1});var BT=new L(""),$T=new L(""),Rp=class{},cl=class{};function pO(t){let e=Error(`No component factory found for ${yt(t)}.`);return e[gO]=t,e}var gO="ngComponent";var Np=class{resolveComponentFactory(e){throw pO(e)}},Cs=class{static{this.NULL=new Np}},As=class{},_i=(()=>{class t{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>mO()}}return t})();function mO(){let t=Ee(),e=bt(),n=br(e.index,t);return(_r(n)?n:t)[qe]}var yO=(()=>{class t{static{this.\u0275prov=B({token:t,providedIn:"root",factory:()=>null})}}return t})();function Mp(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")s=a;else if(s==1)i=iE(i,a);else if(s==2){let u=a,l=e[++o];r=iE(r,u+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var ul=class extends Cs{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=wr(e);return new Ss(n,this.ngModule)}};function ME(t,e){let n=[];for(let r in t){if(!t.hasOwnProperty(r))continue;let i=t[r];if(i===void 0)continue;let s=Array.isArray(i),o=s?i[0]:i,a=s?i[1]:Ir.None;e?n.push({propName:o,templateName:r,isSignal:(a&Ir.SignalBased)!==0}):n.push({propName:o,templateName:r})}return n}function vO(t){let e=t.toLowerCase();return e==="svg"?WM:e==="math"?KM:null}var Ss=class extends cl{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=ME(e.inputs,!0);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return ME(this.componentDef.outputs,!1)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=CM(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=pe(null);try{i=i||this.ngModule;let o=i instanceof vt?i:i?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let a=o?new pp(e,o):e,u=a.get(As,null);if(u===null)throw new $(407,!1);let l=a.get(yO,null),h=a.get(bs,null),p={rendererFactory:u,sanitizer:l,inlineEffectRunner:null,changeDetectionScheduler:h},m=u.createRenderer(null,this.componentDef),y=this.componentDef.selectors[0][0]||"div",C=r?EP(m,r,this.componentDef.encapsulation,a):lT(m,y,vO(y)),N=512;this.componentDef.signals?N|=4096:this.componentDef.onPush||(N|=16);let R=null;C!==null&&(R=gg(C,a,!0));let k=wg(0,null,null,1,0,null,null,null,null,null,null),H=Al(null,k,null,N,null,null,p,m,a,null,R);ng(H);let V,X,Ie=null;try{let G=this.componentDef,E,v=null;G.findHostDirectiveDefs?(E=[],v=new Map,G.findHostDirectiveDefs(G,E,v),E.push(G)):E=[G];let _=_O(H,C);Ie=IO(_,C,G,E,H,p,m),X=DD(k,Jt),C&&DO(m,G,C,r),n!==void 0&&TO(X,this.ngContentSelectors,n),V=EO(Ie,G,E,v,H,[bO]),Dg(k,H,null)}catch(G){throw Ie!==null&&Ep(Ie),Ep(H),G}finally{rg()}return new xp(this.componentType,V,Tl(X,H),H,X)}finally{pe(s)}}},xp=class extends Rp{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new pi(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let s=this._rootLView;Eg(s[se],s,i,e,n),this.previousInputValues.set(e,n);let o=br(this._tNode.index,s);Tg(o,1)}}get injector(){return new ai(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function _O(t,e){let n=t[se],r=Jt;return t[r]=e,Sl(n,r,2,"#host",null)}function IO(t,e,n,r,i,s,o){let a=i[se];wO(r,t,e,o);let u=null;e!==null&&(u=gg(e,i[ws]));let l=s.rendererFactory.createRenderer(e,n),h=16;n.signals?h=4096:n.onPush&&(h=64);let p=Al(i,AT(n),null,h,i[t.index],t,s,l,null,null,u);return a.firstCreatePass&&Cp(a,t,r.length-1),Rl(i,p),i[t.index]=p}function wO(t,e,n,r){for(let i of t)e.mergedAttrs=na(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(Mp(e,e.mergedAttrs,!0),n!==null&&vT(r,n,e))}function EO(t,e,n,r,i,s){let o=bt(),a=i[se],u=jt(o,i);NT(a,i,o,n,null,r);for(let h=0;h<n.length;h++){let p=o.directiveStart+h,m=Ts(i,a,p,o);fi(m,i)}MT(a,i,o),u&&fi(u,i);let l=Ts(i,a,o.directiveStart+o.componentOffset,o);if(t[Yt]=i[Yt]=l,s!==null)for(let h of s)h(l,e);return TT(a,o,i),l}function DO(t,e,n,r){if(r)op(t,n,["ng-version","18.2.5"]);else{let{attrs:i,classes:s}=AM(e.selectors[0]);i&&op(t,n,i),s&&s.length>0&&yT(t,n,s.join(" "))}}function TO(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let s=n[i];r.push(s!=null?Array.from(s):null)}}function bO(){let t=bt();ag(Ee()[se],t)}var Ps=(()=>{class t{static{this.__NG_ELEMENT_ID__=CO}}return t})();function CO(){let t=bt();return SO(t,Ee())}var AO=Ps,HT=class extends AO{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Tl(this._hostTNode,this._hostLView)}get injector(){return new ai(this._hostTNode,this._hostLView)}get parentInjector(){let e=cg(this._hostTNode,this._hostLView);if(BD(e)){let n=el(e,this._hostLView),r=Xu(e),i=n[se].data[r+8];return new ai(i,n)}else return new ai(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=xE(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Lt}createEmbeddedView(e,n,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let o=NE(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},s,o);return this.insertImpl(a,i,RE(this._hostTNode,o)),a}createComponent(e,n,r,i,s){let o=e&&!HM(e),a;if(o)a=n;else{let C=n||{};a=C.index,r=C.injector,i=C.projectableNodes,s=C.environmentInjector||C.ngModuleRef}let u=o?e:new Ss(wr(e)),l=r||this.parentInjector;if(!s&&u.ngModule==null){let N=(o?l:this.parentInjector).get(vt,null);N&&(s=N)}let h=wr(u.componentType??{}),p=NE(this._lContainer,h?.id??null),m=p?.firstChild??null,y=u.create(l,i,m,s);return this.insertImpl(y.hostView,a,RE(this._hostTNode,p)),y}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(QM(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[_t],l=new HT(u,u[Zt],u[_t]);l.detach(l.indexOf(e))}}let s=this._adjustIndex(n),o=this._lContainer;return YP(o,i,s,r),e.attachToViewContainerRef(),ZE(Jf(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=xE(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=Tp(this._lContainer,n);r&&(qu(Jf(this._lContainer),n),fT(r[se],r))}detach(e){let n=this._adjustIndex(e,-1),r=Tp(this._lContainer,n);return r&&qu(Jf(this._lContainer),n)!=null?new pi(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function xE(t){return t[Qu]}function Jf(t){return t[Qu]||(t[Qu]=[])}function SO(t,e){let n,r=e[t.index];return Ln(r)?n=r:(n=xT(r,e,null,t),e[t.index]=n,Rl(e,n)),NO(n,e,t,r),new HT(n,t,e)}function RO(t,e){let n=t[qe],r=n.createComment(""),i=jt(e,t),s=gT(n,i);return ol(n,s,r,lP(n,i),!1),r}var NO=PO,MO=()=>!1;function xO(t,e,n){return MO(t,e,n)}function PO(t,e,n,r){if(t[ui])return;let i;n.type&8?i=fn(r):i=RO(e,n),t[ui]=i}var PE=new Set;function Ii(t){PE.has(t)||(PE.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function OO(t){return typeof t=="function"&&t[Rn]!==void 0}function la(t,e){Ii("NgSignals");let n=Mw(t),r=n[Rn];return e?.equal&&(r.equal=e.equal),n.set=i=>bf(r,i),n.update=i=>xw(r,i),n.asReadonly=kO.bind(n),n}function kO(){let t=this[Rn];if(t.readonlyFn===void 0){let e=()=>this();e[Rn]=t,t.readonlyFn=e}return t.readonlyFn}function zT(t){return OO(t)&&typeof t.set=="function"}function FO(t){return Object.getPrototypeOf(t.prototype).constructor}function Un(t){let e=FO(t.type),n=!0,r=[t];for(;e;){let i;if(Er(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new $(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let o=t;o.inputs=ku(t.inputs),o.inputTransforms=ku(t.inputTransforms),o.declaredInputs=ku(t.declaredInputs),o.outputs=ku(t.outputs);let a=i.hostBindings;a&&BO(t,a);let u=i.viewQuery,l=i.contentQueries;if(u&&UO(t,u),l&&jO(t,l),LO(t,i),WN(t.outputs,i.outputs),Er(i)&&i.data.animation){let h=t.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let s=i.features;if(s)for(let o=0;o<s.length;o++){let a=s[o];a&&a.ngInherit&&a(t),a===Un&&(n=!1)}}e=Object.getPrototypeOf(e)}VO(r)}function LO(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function VO(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=na(i.hostAttrs,n=na(n,i.hostAttrs))}}function ku(t){return t===vs?{}:t===kt?[]:t}function UO(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function jO(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,s)=>{e(r,i,s),n(r,i,s)}:t.contentQueries=e}function BO(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}var Dr=class{},sa=class{};var Pp=class extends Dr{constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new ul(this);let s=aD(e);this._bootstrapComponents=uT(s.bootstrap),this._r3Injector=YD(e,n,[{provide:Dr,useValue:this},{provide:Cs,useValue:this.componentFactoryResolver},...r],yt(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Op=class extends sa{constructor(e){super(),this.moduleType=e}create(e){return new Pp(this.moduleType,e,[])}};var ll=class extends Dr{constructor(e){super(),this.componentFactoryResolver=new ul(this),this.instance=null;let n=new ra([...e.providers,{provide:Dr,useValue:this},{provide:Cs,useValue:this.componentFactoryResolver}],e.parent||Zp(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Ml(t,e,n=null){return new ll({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}function qT(t){return HO(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function $O(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function HO(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function GT(t,e,n){return t[e]=n}function Tr(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function zO(t,e,n,r){let i=Tr(t,e,n);return Tr(t,e+1,r)||i}function qO(t){return(t.flags&32)===32}function GO(t,e,n,r,i,s,o,a,u){let l=e.consts,h=Sl(e,t,4,o||null,a||null);RT(e,n,h,Zu(l,u)),ag(e,h);let p=h.tView=wg(2,h,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,h),p.queries=e.queries.embeddedTView(h)),h}function WO(t,e,n,r,i,s,o,a,u,l){let h=n+Jt,p=e.firstCreatePass?GO(h,e,t,r,i,s,o,a,u):e.data[h];ua(p,!1);let m=QO(e,t,p,n);sg()&&_g(e,t,m,p),fi(m,t);let y=xT(m,t,m,p);return t[h]=y,Rl(t,y),xO(y,p,t),Xp(p)&&bT(e,t,p),u!=null&&CT(t,p,l),p}function KO(t,e,n,r,i,s,o,a){let u=Ee(),l=Tt(),h=Zu(l.consts,s);return WO(u,l,t,e,n,r,i,h,o,a),KO}var QO=YO;function YO(t,e,n,r){return og(!0),e[qe].createComment("")}var gs=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(gs||{}),WT=(()=>{class t{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=B({token:t,providedIn:"root",factory:()=>new t})}}return t})(),kp=class t{constructor(){this.ngZone=x(me),this.scheduler=x(bs),this.errorHandler=x(Pn,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[gs.EarlyRead,gs.Write,gs.MixedReadWrite,gs.Read]}execute(){this.executing=!0;for(let e of t.PHASES)for(let n of this.sequences)if(!(n.erroredOrDestroyed||!n.hooks[e]))try{n.pipelinedValue=this.ngZone.runOutsideAngular(()=>n.hooks[e](n.pipelinedValue))}catch(r){n.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&this.sequences.delete(e);for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}static{this.\u0275prov=B({token:t,providedIn:"root",factory:()=>new t})}},Fp=class{constructor(e,n,r,i){this.impl=e,this.hooks=n,this.once=r,this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.unregisterOnDestroy=i.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){this.impl.unregister(this),this.unregisterOnDestroy()}};function Cg(t,e){!e?.injector&&$M(Cg);let n=e?.injector??x(Xe);return Zx(n)?(Ii("NgAfterNextRender"),ZO(t,n,e,!0)):XO}function JO(t,e){if(t instanceof Function){let n=[void 0,void 0,void 0,void 0];return n[e]=t,n}else return[t.earlyRead,t.write,t.mixedReadWrite,t.read]}function ZO(t,e,n,r){let i=e.get(WT);i.impl??=e.get(kp);let s=n?.phase??gs.MixedReadWrite,o=new Fp(i.impl,JO(t,s),r,e.get(ug));return i.impl.register(o),o}var XO={destroy(){}};function xl(t,e,n,r){let i=Ee(),s=Dl();if(Tr(i,s,e)){let o=Tt(),a=ig();UP(a,i,t,e,n,r)}return xl}function ek(t,e,n,r){return Tr(t,Dl(),n)?e+ml(n)+r:vi}function Fu(t,e){return t<<17|e<<2}function gi(t){return t>>17&32767}function tk(t){return(t&2)==2}function nk(t,e){return t&131071|e<<17}function Lp(t){return t|2}function Rs(t){return(t&131068)>>2}function Zf(t,e){return t&-131069|e<<2}function rk(t){return(t&1)===1}function Vp(t){return t|1}function ik(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=gi(o),u=Rs(o);t[r]=n;let l=!1,h;if(Array.isArray(n)){let p=n;h=p[1],(h===null||ca(p,h)>0)&&(l=!0)}else h=n;if(i)if(u!==0){let m=gi(t[a+1]);t[r+1]=Fu(m,a),m!==0&&(t[m+1]=Zf(t[m+1],r)),t[a+1]=nk(t[a+1],r)}else t[r+1]=Fu(a,0),a!==0&&(t[a+1]=Zf(t[a+1],r)),a=r;else t[r+1]=Fu(u,0),a===0?a=r:t[u+1]=Zf(t[u+1],r),u=r;l&&(t[r+1]=Lp(t[r+1])),OE(t,h,r,!0),OE(t,h,r,!1),sk(e,h,t,r,s),o=Fu(a,u),s?e.classBindings=o:e.styleBindings=o}function sk(t,e,n,r,i){let s=i?t.residualClasses:t.residualStyles;s!=null&&typeof e=="string"&&ca(s,e)>=0&&(n[r+1]=Vp(n[r+1]))}function OE(t,e,n,r){let i=t[n+1],s=e===null,o=r?gi(i):Rs(i),a=!1;for(;o!==0&&(a===!1||s);){let u=t[o],l=t[o+1];ok(u,e)&&(a=!0,t[o+1]=r?Vp(l):Lp(l)),o=r?gi(l):Rs(l)}a&&(t[n+1]=r?Lp(i):Vp(i))}function ok(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?ca(t,e)>=0:!1}function ak(t,e,n){let r=Ee(),i=Dl();if(Tr(r,i,e)){let s=Tt(),o=ig();ST(s,o,r,t,e,r[qe],n,!1)}return ak}function kE(t,e,n,r,i){let s=e.inputs,o=i?"class":"style";Eg(t,n,s[o],o,r)}function Pl(t,e){return ck(t,e,null,!0),Pl}function ck(t,e,n,r){let i=Ee(),s=Tt(),o=ax(2);if(s.firstUpdatePass&&lk(s,t,o,r),e!==vi&&Tr(i,o,e)){let a=s.data[Ms()];gk(s,a,i,i[qe],t,i[o+1]=mk(e,n),r,o)}}function uk(t,e){return e>=t.expandoStartIndex}function lk(t,e,n,r){let i=t.data;if(i[n+1]===null){let s=i[Ms()],o=uk(t,n);yk(s,r)&&e===null&&!o&&(e=!1),e=dk(i,s,e,r),ik(i,s,e,n,o,r)}}function dk(t,e,n,r){let i=dx(t),s=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=Xf(null,t,e,n,r),n=oa(n,e.attrs,r),s=null);else{let o=e.directiveStylingLast;if(o===-1||t[o]!==i)if(n=Xf(i,t,e,n,r),s===null){let u=hk(t,e,r);u!==void 0&&Array.isArray(u)&&(u=Xf(null,t,e,u[1],r),u=oa(u,e.attrs,r),fk(t,e,r,u))}else s=pk(t,e,r)}return s!==void 0&&(r?e.residualClasses=s:e.residualStyles=s),n}function hk(t,e,n){let r=n?e.classBindings:e.styleBindings;if(Rs(r)!==0)return t[gi(r)]}function fk(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[gi(i)]=r}function pk(t,e,n){let r,i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++){let o=t[s].hostAttrs;r=oa(r,o,n)}return oa(r,e.attrs,n)}function Xf(t,e,n,r,i){let s=null,o=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<o&&(s=e[a],r=oa(r,s.hostAttrs,i),s!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function oa(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?i=o:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),fM(t,o,n?!0:e[++s]))}return t===void 0?null:t}function gk(t,e,n,r,i,s,o,a){if(!(e.type&3))return;let u=t.data,l=u[a+1],h=rk(l)?FE(u,e,n,i,Rs(l),o):void 0;if(!dl(h)){dl(s)||tk(l)&&(s=FE(u,null,n,i,a,o));let p=ED(Ms(),n);yP(r,o,p,i,s)}}function FE(t,e,n,r,i,s){let o=e===null,a;for(;i>0;){let u=t[i],l=Array.isArray(u),h=l?u[1]:u,p=h===null,m=n[i+1];m===vi&&(m=p?kt:void 0);let y=p?Hf(m,r):h===r?m:void 0;if(l&&!dl(y)&&(y=Hf(u,r)),dl(y)&&(a=y,o))return a;let C=t[i+1];i=o?gi(C):Rs(C)}if(e!==null){let u=s?e.residualClasses:e.residualStyles;u!=null&&(a=Hf(u,r))}return a}function dl(t){return t!==void 0}function mk(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=yt(bl(t)))),t}function yk(t,e){return(t.flags&(e?8:16))!==0}function vk(t,e,n,r,i,s){let o=e.consts,a=Zu(o,i),u=Sl(e,t,2,r,a);return RT(e,n,u,Zu(o,s)),u.attrs!==null&&Mp(u,u.attrs,!1),u.mergedAttrs!==null&&Mp(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function KT(t,e,n,r){let i=Ee(),s=Tt(),o=Jt+t,a=i[qe],u=s.firstCreatePass?vk(o,s,i,e,n,r):s.data[o],l=_k(s,i,u,a,e,t);i[o]=l;let h=Xp(u);return ua(u,!0),vT(a,l,u),!qO(u)&&sg()&&_g(s,i,l,u),ZM()===0&&fi(l,i),XM(),h&&(bT(s,i,u),TT(s,u,i)),r!==null&&CT(i,u),KT}function QT(){let t=bt();MD()?sx():(t=t.parent,ua(t,!1));let e=t;nx(e)&&rx(),ex();let n=Tt();return n.firstCreatePass&&(ag(n,t),yD(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&vx(e)&&kE(n,e,Ee(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&_x(e)&&kE(n,e,Ee(),e.stylesWithoutHost,!1),QT}function Ag(t,e,n,r){return KT(t,e,n,r),QT(),Ag}var _k=(t,e,n,r,i,s)=>(og(!0),lT(r,i,px()));function O3(){return Ee()}var oi=void 0;function Ik(t){let e=t,n=Math.floor(Math.abs(t)),r=t.toString().replace(/^[^.]*\.?/,"").length;return n===1&&r===0?1:5}var wk=["en",[["a","p"],["AM","PM"],oi],[["AM","PM"],oi,oi],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],oi,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],oi,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",oi,"{1} 'at' {0}",oi],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",Ik],ep={};function $t(t){let e=Ek(t),n=LE(e);if(n)return n;let r=e.split("-")[0];if(n=LE(r),n)return n;if(r==="en")return wk;throw new $(701,!1)}function LE(t){return t in ep||(ep[t]=Zo.ng&&Zo.ng.common&&Zo.ng.common.locales&&Zo.ng.common.locales[t]),ep[t]}var ke=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(ke||{});function Ek(t){return t.toLowerCase().replace(/_/g,"-")}var hl="en-US";var Dk=hl;function Tk(t){typeof t=="string"&&(Dk=t.toLowerCase().replace(/_/g,"-"))}var bk=(t,e,n)=>{};function da(t,e,n,r){let i=Ee(),s=Tt(),o=bt();return YT(s,i,i[qe],o,t,e,r),da}function Ck(t,e,n,r){let i=t.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let o=i[s];if(o===n&&i[s+1]===r){let a=e[Ku],u=i[s+2];return a.length>u?a[u]:null}typeof o=="string"&&(s+=2)}return null}function YT(t,e,n,r,i,s,o){let a=Xp(r),l=t.firstCreatePass&&zP(t),h=e[Yt],p=HP(e),m=!0;if(r.type&3||o){let N=jt(r,e),R=o?o(N):N,k=p.length,H=o?X=>o(fn(X[r.index])):r.index,V=null;if(!o&&a&&(V=Ck(t,e,i,r.index)),V!==null){let X=V.__ngLastListenerFn__||V;X.__ngNextListenerFn__=s,V.__ngLastListenerFn__=s,m=!1}else{s=UE(r,e,h,s),bk(N,i,s);let X=n.listen(R,i,s);p.push(s,X),l&&l.push(i,H,k,k+1)}}else s=UE(r,e,h,s);let y=r.outputs,C;if(m&&y!==null&&(C=y[i])){let N=C.length;if(N)for(let R=0;R<N;R+=2){let k=C[R],H=C[R+1],Ie=e[k][H].subscribe(s),G=p.length;p.push(s,Ie),l&&l.push(i,r.index,G,-(G+1))}}}function VE(t,e,n,r){let i=pe(null);try{return cn(6,e,n),n(r)!==!1}catch(s){return OT(t,s),!1}finally{cn(7,e,n),pe(i)}}function UE(t,e,n,r){return function i(s){if(s===Function)return r;let o=t.componentOffset>-1?br(t.index,e):e;Tg(o,5);let a=VE(e,n,r,s),u=i.__ngNextListenerFn__;for(;u;)a=VE(e,n,u,s)&&a,u=u.__ngNextListenerFn__;return a}}function k3(t=1){return fx(t)}function Ak(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function F3(t,e=""){let n=Ee(),r=Tt(),i=t+Jt,s=r.firstCreatePass?Sl(r,i,1,e,null):r.data[i],o=Sk(r,n,s,e,t);n[i]=o,sg()&&_g(r,n,o,s),ua(s,!1)}var Sk=(t,e,n,r,i)=>(og(!0),eP(e[qe],r));function Rk(t){return JT("",t,""),Rk}function JT(t,e,n){let r=Ee(),i=ek(r,t,e,n);return i!==vi&&qP(r,Ms(),i),JT}function Nk(t,e,n){zT(e)&&(e=e());let r=Ee(),i=Dl();if(Tr(r,i,e)){let s=Tt(),o=ig();ST(s,o,r,t,e,r[qe],n,!1)}return Nk}function L3(t,e){let n=zT(t);return n&&t.set(e),n}function Mk(t,e){let n=Ee(),r=Tt(),i=bt();return YT(r,n,n[qe],i,t,e),Mk}function xk(t,e,n){let r=Tt();if(r.firstCreatePass){let i=Er(t);Up(n,r.data,r.blueprint,i,!0),Up(e,r.data,r.blueprint,i,!1)}}function Up(t,e,n,r,i){if(t=mt(t),Array.isArray(t))for(let s=0;s<t.length;s++)Up(t[s],e,n,r,i);else{let s=Tt(),o=Ee(),a=bt(),u=Is(t)?t:mt(t.provide),l=fD(t),h=a.providerIndexes&1048575,p=a.directiveStart,m=a.providerIndexes>>20;if(Is(t)||!t.multi){let y=new hi(l,i,he),C=np(u,e,i?h:h+m,p);C===-1?(mp(nl(a,o),s,u),tp(s,t,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(y),o.push(y)):(n[C]=y,o[C]=y)}else{let y=np(u,e,h+m,p),C=np(u,e,h,h+m),N=y>=0&&n[y],R=C>=0&&n[C];if(i&&!R||!i&&!N){mp(nl(a,o),s,u);let k=kk(i?Ok:Pk,n.length,i,r,l);!i&&R&&(n[C].providerFactory=k),tp(s,t,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(k),o.push(k)}else{let k=ZT(n[i?C:y],l,!i&&r);tp(s,t,y>-1?y:C,k)}!i&&r&&R&&n[C].componentProviders++}}}function tp(t,e,n,r){let i=Is(e),s=kM(e);if(i||s){let u=(s?mt(e.useClass):e).prototype.ngOnDestroy;if(u){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let h=l.indexOf(n);h===-1?l.push(n,[r,u]):l[h+1].push(r,u)}else l.push(n,u)}}}function ZT(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function np(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function Pk(t,e,n,r){return jp(this.multi,[])}function Ok(t,e,n,r){let i=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,a=Ts(n,n[se],this.providerFactory.index,r);s=a.slice(0,o),jp(i,s);for(let u=o;u<a.length;u++)s.push(a[u])}else s=[],jp(i,s);return s}function jp(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function kk(t,e,n,r,i){let s=new hi(t,n,he);return s.multi=[],s.index=e,s.componentProviders=0,ZT(s,i,r&&!n),s}function ha(t,e=[]){return n=>{n.providersResolver=(r,i)=>xk(r,i?i(t):t,e)}}var Fk=(()=>{class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=lD(!1,n.type),i=r.length>0?Ml([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=B({token:t,providedIn:"environment",factory:()=>new t(z(vt))})}}return t})();function XT(t){Ii("NgStandalone"),t.getStandaloneInjector=e=>e.get(Fk).getOrCreateStandaloneInjector(t)}function V3(t,e,n,r,i){return tb(Ee(),tg(),t,e,n,r,i)}function eb(t,e){let n=t[e];return n===vi?void 0:n}function Lk(t,e,n,r,i,s){let o=e+n;return Tr(t,o,i)?GT(t,o+1,s?r.call(s,i):r(i)):eb(t,o+1)}function tb(t,e,n,r,i,s,o){let a=e+n;return zO(t,a,i,s)?GT(t,a+2,o?r.call(o,i,s):r(i,s)):eb(t,a+2)}function U3(t,e){let n=Tt(),r,i=t+Jt;n.firstCreatePass?(r=Vk(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let s=r.factory||(r.factory=ci(r.type,!0)),o,a=Dt(he);try{let u=tl(!1),l=s();return tl(u),Ak(n,Ee(),i,l),l}finally{Dt(a)}}function Vk(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function j3(t,e,n){let r=t+Jt,i=Ee(),s=TD(i,r);return nb(i,r)?Lk(i,tg(),e,s.transform,n,s):s.transform(n)}function B3(t,e,n,r){let i=t+Jt,s=Ee(),o=TD(s,i);return nb(s,i)?tb(s,tg(),e,o.transform,n,r,o):o.transform(n,r)}function nb(t,e){return t[se].data[e].pure}var kn=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},rb=new kn("18.2.5");var Ol=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();var ib=new L("");function Ar(t){return!!t&&typeof t.then=="function"}function Sg(t){return!!t&&typeof t.subscribe=="function"}var kl=new L(""),sb=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=x(kl,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let s=i();if(Ar(s))n.push(s);else if(Sg(s)){let o=new Promise((a,u)=>{s.subscribe({complete:a,error:u})});n.push(o)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),fa=new L("");function Uk(){Nw(()=>{throw new $(600,!1)})}function jk(t){return t.isBoundToModule}var Bk=10;function $k(t,e,n){try{let r=n();return Ar(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var Sr=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=x(Vx),this.afterRenderManager=x(WT),this.zonelessEnabled=x(bg),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new Je,this.afterTick=new Je,this.componentTypes=[],this.components=[],this.isStable=x(Vn).hasPendingTasks.pipe(Y(n=>!n)),this._injector=x(vt)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}get injector(){return this._injector}bootstrap(n,r){let i=n instanceof cl;if(!this._injector.get(sb).done){let m=!i&&oD(n),y=!1;throw new $(405,y)}let o;i?o=n:o=this._injector.get(Cs).resolveComponentFactory(n),this.componentTypes.push(o.componentType);let a=jk(o)?void 0:this._injector.get(Dr),u=r||o.selector,l=o.create(Xe.NULL,[],u,a),h=l.location.nativeElement,p=l.injector.get(ib,null);return p?.registerApplication(h),l.onDestroy(()=>{this.detachView(l.hostView),Bu(this.components,l),p?.unregisterApplication(h)}),this._loadComponent(l),l}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new $(101,!1);let n=pe(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,pe(n),this.afterTick.next()}}synchronize(){let n=null;this._injector.destroyed||(n=this._injector.get(As,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let r=0;for(;this.dirtyFlags!==0&&r++<Bk;)this.synchronizeOnce(n)}synchronizeOnce(n){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(r);for(let{_lView:i,notifyErrorHandler:s}of this._views)Hk(i,s,r,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else n?.begin?.(),n?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>wl(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;Bu(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);let r=this._injector.get(fa,[]);[...this._bootstrapListeners,...r].forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Bu(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new $(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Bu(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function Hk(t,e,n,r){if(!n&&!wl(t))return;LT(t,e,n&&!r?0:1)}var Bp=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},Fl=(()=>{class t{compileModuleSync(n){return new Op(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=aD(n),s=uT(i.declarations).reduce((o,a)=>{let u=wr(a);return u&&o.push(new Ss(u)),o},[]);return new Bp(r,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var zk=(()=>{class t{constructor(){this.zone=x(me),this.changeDetectionScheduler=x(bs),this.applicationRef=x(Sr)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),qk=new L("",{factory:()=>!1});function ob({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new me(ae(F({},ab()),{scheduleInRootZone:n})),[{provide:me,useFactory:t},{provide:_s,multi:!0,useFactory:()=>{let r=x(zk,{optional:!0});return()=>r.initialize()}},{provide:_s,multi:!0,useFactory:()=>{let r=x(Gk);return()=>{r.initialize()}}},e===!0?{provide:BT,useValue:!0}:[],{provide:$T,useValue:n??JD}]}function $3(t){let e=t?.ignoreChangesOutsideZone,n=t?.scheduleInRootZone,r=ob({ngZoneFactory:()=>{let i=ab(t);return i.scheduleInRootZone=n,i.shouldCoalesceEventChangeDetection&&Ii("NgZone_CoalesceEvent"),new me(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:n});return Vt([{provide:qk,useValue:!0},{provide:bg,useValue:!1},r])}function ab(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var Gk=(()=>{class t{constructor(){this.subscription=new Pe,this.initialized=!1,this.zone=x(me),this.pendingTasks=x(Vn)}initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{me.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{me.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var Wk=(()=>{class t{constructor(){this.appRef=x(Sr),this.taskService=x(Vn),this.ngZone=x(me),this.zonelessEnabled=x(bg),this.disableScheduling=x(BT,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Pe,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(il):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(x($T,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof wp||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?wE:ZD;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(il+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(n),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,wE(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Kk(){return typeof $localize<"u"&&$localize.locale||hl}var Ll=new L("",{providedIn:"root",factory:()=>x(Ll,ie.Optional|ie.SkipSelf)||Kk()});var cb=new L("");function Lu(t){return!!t.platformInjector}function Qk(t){let e=Lu(t)?t.r3Injector:t.moduleRef.injector,n=e.get(me);return n.run(()=>{Lu(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(Pn,null),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:s=>{r.handleError(s)}})}),Lu(t)){let s=()=>e.destroy(),o=t.platformInjector.get(cb);o.add(s),e.onDestroy(()=>{i.unsubscribe(),o.delete(s)})}else t.moduleRef.onDestroy(()=>{Bu(t.allPlatformModules,t.moduleRef),i.unsubscribe()});return $k(r,n,()=>{let s=e.get(sb);return s.runInitializers(),s.donePromise.then(()=>{let o=e.get(Ll,hl);if(Tk(o||hl),Lu(t)){let a=e.get(Sr);return t.rootComponent!==void 0&&a.bootstrap(t.rootComponent),a}else return Yk(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}function Yk(t,e){let n=t.injector.get(Sr);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(n);else throw new $(-403,!1);e.push(t)}var $u=null;function Jk(t=[],e){return Xe.create({name:e,providers:[{provide:vl,useValue:"platform"},{provide:cb,useValue:new Set([()=>$u=null])},...t]})}function Zk(t=[]){if($u)return $u;let e=Jk(t);return $u=e,Uk(),Xk(e),e}function Xk(t){t.get(fg,null)?.forEach(n=>n())}var Rr=(()=>{class t{static{this.__NG_ELEMENT_ID__=e1}}return t})();function e1(t){return t1(bt(),Ee(),(t&16)===16)}function t1(t,e,n){if(Il(t)&&!n){let r=br(t.index,e);return new pi(r,r)}else if(t.type&175){let r=e[hn];return new pi(r,e)}return null}var $p=class{constructor(){}supports(e){return qT(e)}create(e){return new Hp(e)}},n1=(t,e)=>e,Hp=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||n1}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){let o=!r||n&&n.currentIndex<jE(r,i,s)?n:r,a=jE(o,i,s),u=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,o.previousIndex==null)i++;else{s||(s=[]);let l=a-i,h=u-i;if(l!=h){for(let m=0;m<l;m++){let y=m<s.length?s[m]:s[m]=0,C=y+m;h<=C&&C<l&&(s[m]=y+1)}let p=o.previousIndex;s[p]=h-l}}a!==u&&e(o,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!qT(e))throw new $(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,s,o;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,s,o,a),r=!0):(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)),n=n._next}else i=0,$O(e,a=>{o=this._trackByFn(i,a),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,a,o,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return e===null?s=this._itTail:(s=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new zp(n,r),s,i)),e}_verifyReinsertion(e,n,r,i){let s=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return s!==null?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,s=e._nextRemoved;return i===null?this._removalsHead=s:i._nextRemoved=s,s===null?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new fl),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new fl),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},zp=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},qp=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},fl=class{constructor(){this.map=new Map}put(e){let n=e.trackById,r=this.map.get(n);r||(r=new qp,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function jE(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function BE(){return new Rg([new $p])}var Rg=(()=>{class t{static{this.\u0275prov=B({token:t,providedIn:"root",factory:BE})}constructor(n){this.factories=n}static create(n,r){if(r!=null){let i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||BE()),deps:[[t,new Wp,new ct]]}}find(n){let r=this.factories.find(i=>i.supports(n));if(r!=null)return r;throw new $(901,!1)}}return t})();function ub(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=Zk(r),s=[ob({}),{provide:bs,useExisting:Wk},...n||[]],o=new ll({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1});return Qk({r3Injector:o.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}}var lb=new L("");function pa(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function ga(t,e){Ii("NgSignals");let n=Aw(t);return e?.equal&&(n[Rn].equal=e.equal),n}function Xt(t){let e=pe(null);try{return t()}finally{pe(e)}}function db(t){let e=wr(t);if(!e)return null;let n=new Ss(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var vb=null;function Hn(){return vb}function _b(t){vb??=t}var Gl=class{};var tt=new L(""),jg=(()=>{class t{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:()=>x(o1),providedIn:"platform"})}}return t})(),Ib=new L(""),o1=(()=>{class t extends jg{constructor(){super(),this._doc=x(tt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Hn().getBaseHref(this._doc)}onPopState(n){let r=Hn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=Hn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:()=>new t,providedIn:"platform"})}}return t})();function Bg(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function hb(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function Bn(t){return t&&t[0]!=="?"?"?"+t:t}var wi=(()=>{class t{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:()=>x($g),providedIn:"root"})}}return t})(),wb=new L(""),$g=(()=>{class t extends wi{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??x(tt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Bg(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+Bn(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,s){let o=this.prepareExternalUrl(i+Bn(s));this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){let o=this.prepareExternalUrl(i+Bn(s));this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(r){return new(r||t)(z(jg),z(wb,8))}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Eb=(()=>{class t extends wi{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(n){let r=Bg(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,s){let o=this.prepareExternalUrl(i+Bn(s));o.length==0&&(o=this._platformLocation.pathname),this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){let o=this.prepareExternalUrl(i+Bn(s));o.length==0&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(r){return new(r||t)(z(jg),z(wb,8))}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac})}}return t})(),Fs=(()=>{class t{constructor(n){this._subject=new Ue,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=u1(hb(fb(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Bn(r))}normalize(n){return t.stripTrailingSlash(c1(this._basePath,fb(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Bn(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Bn(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}static{this.normalizeQueryParams=Bn}static{this.joinWithSlash=Bg}static{this.stripTrailingSlash=hb}static{this.\u0275fac=function(r){return new(r||t)(z(wi))}}static{this.\u0275prov=B({token:t,factory:()=>a1(),providedIn:"root"})}}return t})();function a1(){return new Fs(z(wi))}function c1(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function fb(t){return t.replace(/\/index.html$/,"")}function u1(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var It=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}(It||{}),be=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}(be||{}),Nt=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}(Nt||{}),Nr={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function l1(t){return $t(t)[ke.LocaleId]}function d1(t,e,n){let r=$t(t),i=[r[ke.DayPeriodsFormat],r[ke.DayPeriodsStandalone]],s=Ht(i,e);return Ht(s,n)}function h1(t,e,n){let r=$t(t),i=[r[ke.DaysFormat],r[ke.DaysStandalone]],s=Ht(i,e);return Ht(s,n)}function f1(t,e,n){let r=$t(t),i=[r[ke.MonthsFormat],r[ke.MonthsStandalone]],s=Ht(i,e);return Ht(s,n)}function p1(t,e){let r=$t(t)[ke.Eras];return Ht(r,e)}function Vl(t,e){let n=$t(t);return Ht(n[ke.DateFormat],e)}function Ul(t,e){let n=$t(t);return Ht(n[ke.TimeFormat],e)}function jl(t,e){let r=$t(t)[ke.DateTimeFormat];return Ht(r,e)}function Kl(t,e){let n=$t(t),r=n[ke.NumberSymbols][e];if(typeof r>"u"){if(e===Nr.CurrencyDecimal)return n[ke.NumberSymbols][Nr.Decimal];if(e===Nr.CurrencyGroup)return n[ke.NumberSymbols][Nr.Group]}return r}function Db(t){if(!t[ke.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[ke.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function g1(t){let e=$t(t);return Db(e),(e[ke.ExtraData][2]||[]).map(r=>typeof r=="string"?Ng(r):[Ng(r[0]),Ng(r[1])])}function m1(t,e,n){let r=$t(t);Db(r);let i=[r[ke.ExtraData][0],r[ke.ExtraData][1]],s=Ht(i,e)||[];return Ht(s,n)||[]}function Ht(t,e){for(let n=e;n>-1;n--)if(typeof t[n]<"u")return t[n];throw new Error("Locale data API: locale data undefined")}function Ng(t){let[e,n]=t.split(":");return{hours:+e,minutes:+n}}var y1=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Bl={},v1=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,$n=function(t){return t[t.Short=0]="Short",t[t.ShortGMT=1]="ShortGMT",t[t.Long=2]="Long",t[t.Extended=3]="Extended",t}($n||{}),_e=function(t){return t[t.FullYear=0]="FullYear",t[t.Month=1]="Month",t[t.Date=2]="Date",t[t.Hours=3]="Hours",t[t.Minutes=4]="Minutes",t[t.Seconds=5]="Seconds",t[t.FractionalSeconds=6]="FractionalSeconds",t[t.Day=7]="Day",t}(_e||{}),ve=function(t){return t[t.DayPeriods=0]="DayPeriods",t[t.Days=1]="Days",t[t.Months=2]="Months",t[t.Eras=3]="Eras",t}(ve||{});function _1(t,e,n,r){let i=S1(t);e=jn(n,e)||e;let o=[],a;for(;e;)if(a=v1.exec(e),a){o=o.concat(a.slice(1));let h=o.pop();if(!h)break;e=h}else{o.push(e);break}let u=i.getTimezoneOffset();r&&(u=bb(r,u),i=A1(i,r,!0));let l="";return o.forEach(h=>{let p=b1(h);l+=p?p(i,n,u):h==="''"?"'":h.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}function Wl(t,e,n){let r=new Date(0);return r.setFullYear(t,e,n),r.setHours(0,0,0),r}function jn(t,e){let n=l1(t);if(Bl[n]??={},Bl[n][e])return Bl[n][e];let r="";switch(e){case"shortDate":r=Vl(t,Nt.Short);break;case"mediumDate":r=Vl(t,Nt.Medium);break;case"longDate":r=Vl(t,Nt.Long);break;case"fullDate":r=Vl(t,Nt.Full);break;case"shortTime":r=Ul(t,Nt.Short);break;case"mediumTime":r=Ul(t,Nt.Medium);break;case"longTime":r=Ul(t,Nt.Long);break;case"fullTime":r=Ul(t,Nt.Full);break;case"short":let i=jn(t,"shortTime"),s=jn(t,"shortDate");r=$l(jl(t,Nt.Short),[i,s]);break;case"medium":let o=jn(t,"mediumTime"),a=jn(t,"mediumDate");r=$l(jl(t,Nt.Medium),[o,a]);break;case"long":let u=jn(t,"longTime"),l=jn(t,"longDate");r=$l(jl(t,Nt.Long),[u,l]);break;case"full":let h=jn(t,"fullTime"),p=jn(t,"fullDate");r=$l(jl(t,Nt.Full),[h,p]);break}return r&&(Bl[n][e]=r),r}function $l(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(n,r){return e!=null&&r in e?e[r]:n})),t}function en(t,e,n="-",r,i){let s="";(t<0||i&&t<=0)&&(i?t=-t+1:(t=-t,s=n));let o=String(t);for(;o.length<e;)o="0"+o;return r&&(o=o.slice(o.length-e)),s+o}function I1(t,e){return en(t,3).substring(0,e)}function je(t,e,n=0,r=!1,i=!1){return function(s,o){let a=w1(t,s);if((n>0||a>-n)&&(a+=n),t===_e.Hours)a===0&&n===-12&&(a=12);else if(t===_e.FractionalSeconds)return I1(a,e);let u=Kl(o,Nr.MinusSign);return en(a,e,u,r,i)}}function w1(t,e){switch(t){case _e.FullYear:return e.getFullYear();case _e.Month:return e.getMonth();case _e.Date:return e.getDate();case _e.Hours:return e.getHours();case _e.Minutes:return e.getMinutes();case _e.Seconds:return e.getSeconds();case _e.FractionalSeconds:return e.getMilliseconds();case _e.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}function Se(t,e,n=It.Format,r=!1){return function(i,s){return E1(i,s,t,e,n,r)}}function E1(t,e,n,r,i,s){switch(n){case ve.Months:return f1(e,i,r)[t.getMonth()];case ve.Days:return h1(e,i,r)[t.getDay()];case ve.DayPeriods:let o=t.getHours(),a=t.getMinutes();if(s){let l=g1(e),h=m1(e,i,r),p=l.findIndex(m=>{if(Array.isArray(m)){let[y,C]=m,N=o>=y.hours&&a>=y.minutes,R=o<C.hours||o===C.hours&&a<C.minutes;if(y.hours<C.hours){if(N&&R)return!0}else if(N||R)return!0}else if(m.hours===o&&m.minutes===a)return!0;return!1});if(p!==-1)return h[p]}return d1(e,i,r)[o<12?0:1];case ve.Eras:return p1(e,r)[t.getFullYear()<=0?0:1];default:let u=n;throw new Error(`unexpected translation type ${u}`)}}function Hl(t){return function(e,n,r){let i=-1*r,s=Kl(n,Nr.MinusSign),o=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case $n.Short:return(i>=0?"+":"")+en(o,2,s)+en(Math.abs(i%60),2,s);case $n.ShortGMT:return"GMT"+(i>=0?"+":"")+en(o,1,s);case $n.Long:return"GMT"+(i>=0?"+":"")+en(o,2,s)+":"+en(Math.abs(i%60),2,s);case $n.Extended:return r===0?"Z":(i>=0?"+":"")+en(o,2,s)+":"+en(Math.abs(i%60),2,s);default:throw new Error(`Unknown zone width "${t}"`)}}}var D1=0,ql=4;function T1(t){let e=Wl(t,D1,1).getDay();return Wl(t,0,1+(e<=ql?ql:ql+7)-e)}function Tb(t){let e=t.getDay(),n=e===0?-3:ql-e;return Wl(t.getFullYear(),t.getMonth(),t.getDate()+n)}function Mg(t,e=!1){return function(n,r){let i;if(e){let s=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,o=n.getDate();i=1+Math.floor((o+s)/7)}else{let s=Tb(n),o=T1(s.getFullYear()),a=s.getTime()-o.getTime();i=1+Math.round(a/6048e5)}return en(i,t,Kl(r,Nr.MinusSign))}}function zl(t,e=!1){return function(n,r){let s=Tb(n).getFullYear();return en(s,t,Kl(r,Nr.MinusSign),e)}}var xg={};function b1(t){if(xg[t])return xg[t];let e;switch(t){case"G":case"GG":case"GGG":e=Se(ve.Eras,be.Abbreviated);break;case"GGGG":e=Se(ve.Eras,be.Wide);break;case"GGGGG":e=Se(ve.Eras,be.Narrow);break;case"y":e=je(_e.FullYear,1,0,!1,!0);break;case"yy":e=je(_e.FullYear,2,0,!0,!0);break;case"yyy":e=je(_e.FullYear,3,0,!1,!0);break;case"yyyy":e=je(_e.FullYear,4,0,!1,!0);break;case"Y":e=zl(1);break;case"YY":e=zl(2,!0);break;case"YYY":e=zl(3);break;case"YYYY":e=zl(4);break;case"M":case"L":e=je(_e.Month,1,1);break;case"MM":case"LL":e=je(_e.Month,2,1);break;case"MMM":e=Se(ve.Months,be.Abbreviated);break;case"MMMM":e=Se(ve.Months,be.Wide);break;case"MMMMM":e=Se(ve.Months,be.Narrow);break;case"LLL":e=Se(ve.Months,be.Abbreviated,It.Standalone);break;case"LLLL":e=Se(ve.Months,be.Wide,It.Standalone);break;case"LLLLL":e=Se(ve.Months,be.Narrow,It.Standalone);break;case"w":e=Mg(1);break;case"ww":e=Mg(2);break;case"W":e=Mg(1,!0);break;case"d":e=je(_e.Date,1);break;case"dd":e=je(_e.Date,2);break;case"c":case"cc":e=je(_e.Day,1);break;case"ccc":e=Se(ve.Days,be.Abbreviated,It.Standalone);break;case"cccc":e=Se(ve.Days,be.Wide,It.Standalone);break;case"ccccc":e=Se(ve.Days,be.Narrow,It.Standalone);break;case"cccccc":e=Se(ve.Days,be.Short,It.Standalone);break;case"E":case"EE":case"EEE":e=Se(ve.Days,be.Abbreviated);break;case"EEEE":e=Se(ve.Days,be.Wide);break;case"EEEEE":e=Se(ve.Days,be.Narrow);break;case"EEEEEE":e=Se(ve.Days,be.Short);break;case"a":case"aa":case"aaa":e=Se(ve.DayPeriods,be.Abbreviated);break;case"aaaa":e=Se(ve.DayPeriods,be.Wide);break;case"aaaaa":e=Se(ve.DayPeriods,be.Narrow);break;case"b":case"bb":case"bbb":e=Se(ve.DayPeriods,be.Abbreviated,It.Standalone,!0);break;case"bbbb":e=Se(ve.DayPeriods,be.Wide,It.Standalone,!0);break;case"bbbbb":e=Se(ve.DayPeriods,be.Narrow,It.Standalone,!0);break;case"B":case"BB":case"BBB":e=Se(ve.DayPeriods,be.Abbreviated,It.Format,!0);break;case"BBBB":e=Se(ve.DayPeriods,be.Wide,It.Format,!0);break;case"BBBBB":e=Se(ve.DayPeriods,be.Narrow,It.Format,!0);break;case"h":e=je(_e.Hours,1,-12);break;case"hh":e=je(_e.Hours,2,-12);break;case"H":e=je(_e.Hours,1);break;case"HH":e=je(_e.Hours,2);break;case"m":e=je(_e.Minutes,1);break;case"mm":e=je(_e.Minutes,2);break;case"s":e=je(_e.Seconds,1);break;case"ss":e=je(_e.Seconds,2);break;case"S":e=je(_e.FractionalSeconds,1);break;case"SS":e=je(_e.FractionalSeconds,2);break;case"SSS":e=je(_e.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=Hl($n.Short);break;case"ZZZZZ":e=Hl($n.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Hl($n.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=Hl($n.Long);break;default:return null}return xg[t]=e,e}function bb(t,e){t=t.replace(/:/g,"");let n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function C1(t,e){return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+e),t}function A1(t,e,n){let r=n?-1:1,i=t.getTimezoneOffset(),s=bb(e,i);return C1(t,r*(s-i))}function S1(t){if(pb(t))return t;if(typeof t=="number"&&!isNaN(t))return new Date(t);if(typeof t=="string"){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){let[i,s=1,o=1]=t.split("-").map(a=>+a);return Wl(i,s-1,o)}let n=parseFloat(t);if(!isNaN(t-n))return new Date(n);let r;if(r=t.match(y1))return R1(r)}let e=new Date(t);if(!pb(e))throw new Error(`Unable to convert "${t}" into a date`);return e}function R1(t){let e=new Date(0),n=0,r=0,i=t[8]?e.setUTCFullYear:e.setFullYear,s=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));let o=Number(t[4]||0)-n,a=Number(t[5]||0)-r,u=Number(t[6]||0),l=Math.floor(parseFloat("0."+(t[7]||0))*1e3);return s.call(e,o,a,u,l),e}function pb(t){return t instanceof Date&&!isNaN(t.valueOf())}function Ql(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,s]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var Pg=/\s+/,gb=[],d6=(()=>{class t{constructor(n,r){this._ngEl=n,this._renderer=r,this.initialClasses=gb,this.stateMap=new Map}set klass(n){this.initialClasses=n!=null?n.trim().split(Pg):gb}set ngClass(n){this.rawClass=typeof n=="string"?n.trim().split(Pg):n}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(let r of n)this._updateState(r,!0);else if(n!=null)for(let r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){let i=this.stateMap.get(n);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let n of this.stateMap){let r=n[0],i=n[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(n,r){n=n.trim(),n.length>0&&n.split(Pg).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static{this.\u0275fac=function(r){return new(r||t)(he(Cr),he(_i))}}static{this.\u0275dir=et({type:t,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0})}}return t})();var Og=class{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},h6=(()=>{class t{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;if(!this._differ&&n)if(0)try{}catch{}else this._differ=this._differs.find(n).create(this.ngForTrackBy)}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let r=this._viewContainer;n.forEachOperation((i,s,o)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new Og(i.item,this._ngForOf,-1,-1),o===null?void 0:o);else if(o==null)r.remove(s===null?void 0:s);else if(s!==null){let a=r.get(s);r.move(a,o),mb(a,i)}});for(let i=0,s=r.length;i<s;i++){let a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{let s=r.get(i.currentIndex);mb(s,i)})}static ngTemplateContextGuard(n,r){return!0}static{this.\u0275fac=function(r){return new(r||t)(he(Ps),he(Nl),he(Rg))}}static{this.\u0275dir=et({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return t})();function mb(t,e){t.context.$implicit=e.item}var f6=(()=>{class t{constructor(n,r){this._viewContainer=n,this._context=new kg,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){yb("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){yb("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}static{this.\u0275fac=function(r){return new(r||t)(he(Ps),he(Nl))}}static{this.\u0275dir=et({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return t})(),kg=class{constructor(){this.$implicit=null,this.ngIf=null}};function yb(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${yt(e)}'.`)}function Cb(t,e){return new $(2100,!1)}var Fg=class{createSubscription(e,n){return Xt(()=>e.subscribe({next:n,error:r=>{throw r}}))}dispose(e){Xt(()=>e.unsubscribe())}},Lg=class{createSubscription(e,n){return e.then(n,r=>{throw r})}dispose(e){}},N1=new Lg,M1=new Fg,p6=(()=>{class t{constructor(n){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=n}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(n){if(!this._obj){if(n)try{this.markForCheckOnValueUpdate=!1,this._subscribe(n)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return n!==this._obj?(this._dispose(),this.transform(n)):this._latestValue}_subscribe(n){this._obj=n,this._strategy=this._selectStrategy(n),this._subscription=this._strategy.createSubscription(n,r=>this._updateLatestValue(n,r))}_selectStrategy(n){if(Ar(n))return N1;if(Sg(n))return M1;throw Cb(t,n)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(n,r){n===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static{this.\u0275fac=function(r){return new(r||t)(he(Rr,16))}}static{this.\u0275pipe=Yp({name:"async",type:t,pure:!1,standalone:!0})}}return t})();var x1="mediumDate",P1=new L(""),O1=new L(""),g6=(()=>{class t{constructor(n,r,i){this.locale=n,this.defaultTimezone=r,this.defaultOptions=i}transform(n,r,i,s){if(n==null||n===""||n!==n)return null;try{let o=r??this.defaultOptions?.dateFormat??x1,a=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return _1(n,o,s||this.locale,a)}catch(o){throw Cb(t,o.message)}}static{this.\u0275fac=function(r){return new(r||t)(he(Ll,16),he(P1,24),he(O1,24))}}static{this.\u0275pipe=Yp({name:"date",type:t,pure:!0,standalone:!0})}}return t})();var k1=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=gn({type:t})}static{this.\u0275inj=pn({})}}return t})(),Hg="browser",F1="server";function L1(t){return t===Hg}function Yl(t){return t===F1}var Ab=(()=>{class t{static{this.\u0275prov=B({token:t,providedIn:"root",factory:()=>L1(x(Bt))?new Vg(x(tt),window):new Ug})}}return t})(),Vg=class{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let n=V1(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}};function V1(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let s=i.shadowRoot;if(s){let o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}var Ug=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},ks=class{};var ya=class{},Zl=class{},zn=class t{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),s=i.toLowerCase(),o=n.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,n);let i=(e.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let s=e.value;if(!s)this.headers.delete(n),this.normalizedNames.delete(n);else{let o=this.headers.get(n);if(!o)return;o=o.filter(a=>s.indexOf(a)===-1),o.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,o)}break}}setHeaderEntries(e,n){let r=(Array.isArray(n)?n:[n]).map(s=>s.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var qg=class{encodeKey(e){return Sb(e)}encodeValue(e){return Sb(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function j1(t,e){let n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{let s=i.indexOf("="),[o,a]=s==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],u=n.get(o)||[];u.push(a),n.set(o,u)}),n}var B1=/%(\d[a-f0-9])/gi,$1={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Sb(t){return encodeURIComponent(t).replace(B1,(e,n)=>$1[n]??e)}function Jl(t){return`${t}`}var xr=class t{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new qg,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=j1(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{let r=e.fromObject[n],i=Array.isArray(r)?r.map(Jl):[Jl(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){let n=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(s=>{n.push({param:r,value:s,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let n=(e.op==="a"?this.map.get(e.param):void 0)||[];n.push(Jl(e.value)),this.map.set(e.param,n);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(Jl(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var Gg=class{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function H1(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function Rb(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function Nb(t){return typeof Blob<"u"&&t instanceof Blob}function Mb(t){return typeof FormData<"u"&&t instanceof FormData}function z1(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var ma=class t{constructor(e,n,r,i){this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let s;if(H1(this.method)||i?(this.body=r!==void 0?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),this.transferCache=s.transferCache),this.headers??=new zn,this.context??=new Gg,!this.params)this.params=new xr,this.urlWithParams=n;else{let o=this.params.toString();if(o.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),u=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+u+o}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||Rb(this.body)||Nb(this.body)||Mb(this.body)||z1(this.body)?this.body:this.body instanceof xr?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||Mb(this.body)?null:Nb(this.body)?this.body.type||null:Rb(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof xr?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,s=e.transferCache??this.transferCache,o=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,u=e.reportProgress??this.reportProgress,l=e.headers||this.headers,h=e.params||this.params,p=e.context??this.context;return e.setHeaders!==void 0&&(l=Object.keys(e.setHeaders).reduce((m,y)=>m.set(y,e.setHeaders[y]),l)),e.setParams&&(h=Object.keys(e.setParams).reduce((m,y)=>m.set(y,e.setParams[y]),h)),new t(n,r,o,{params:h,headers:l,context:p,reportProgress:u,responseType:i,withCredentials:a,transferCache:s})}},Pr=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(Pr||{}),va=class{constructor(e,n=200,r="OK"){this.headers=e.headers||new zn,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},Xl=class t extends va{constructor(e={}){super(e),this.type=Pr.ResponseHeader}clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},_a=class t extends va{constructor(e={}){super(e),this.type=Pr.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Mr=class extends va{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},Fb=200,q1=204;function zg(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var G1=(()=>{class t{constructor(n){this.handler=n}request(n,r,i={}){let s;if(n instanceof ma)s=n;else{let u;i.headers instanceof zn?u=i.headers:u=new zn(i.headers);let l;i.params&&(i.params instanceof xr?l=i.params:l=new xr({fromObject:i.params})),s=new ma(n,r,i.body!==void 0?i.body:null,{headers:u,context:i.context,params:l,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}let o=W(s).pipe(Mn(u=>this.handler.handle(u)));if(n instanceof ma||i.observe==="events")return o;let a=o.pipe(gt(u=>u instanceof _a));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return a.pipe(Y(u=>{if(u.body!==null&&!(u.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return u.body}));case"blob":return a.pipe(Y(u=>{if(u.body!==null&&!(u.body instanceof Blob))throw new Error("Response is not a Blob.");return u.body}));case"text":return a.pipe(Y(u=>{if(u.body!==null&&typeof u.body!="string")throw new Error("Response is not a string.");return u.body}));case"json":default:return a.pipe(Y(u=>u.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:new xr().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,i={}){return this.request("PATCH",n,zg(i,r))}post(n,r,i={}){return this.request("POST",n,zg(i,r))}put(n,r,i={}){return this.request("PUT",n,zg(i,r))}static{this.\u0275fac=function(r){return new(r||t)(z(ya))}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac})}}return t})(),W1=/^\)\]\}',?\n/,K1="X-Request-URL";function xb(t){if(t.url)return t.url;let e=K1.toLocaleLowerCase();return t.headers.get(e)}var Q1=(()=>{class t{constructor(){this.fetchImpl=x(Wg,{optional:!0})?.fetch??((...n)=>globalThis.fetch(...n)),this.ngZone=x(me)}handle(n){return new re(r=>{let i=new AbortController;return this.doRequest(n,i.signal,r).then(Kg,s=>r.error(new Mr({error:s}))),()=>i.abort()})}doRequest(n,r,i){return w(this,null,function*(){let s=this.createRequestInit(n),o;try{let y=this.ngZone.runOutsideAngular(()=>this.fetchImpl(n.urlWithParams,F({signal:r},s)));Y1(y),i.next({type:Pr.Sent}),o=yield y}catch(y){i.error(new Mr({error:y,status:y.status??0,statusText:y.statusText,url:n.urlWithParams,headers:y.headers}));return}let a=new zn(o.headers),u=o.statusText,l=xb(o)??n.urlWithParams,h=o.status,p=null;if(n.reportProgress&&i.next(new Xl({headers:a,status:h,statusText:u,url:l})),o.body){let y=o.headers.get("content-length"),C=[],N=o.body.getReader(),R=0,k,H,V=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>w(this,null,function*(){for(;;){let{done:Ie,value:G}=yield N.read();if(Ie)break;if(C.push(G),R+=G.length,n.reportProgress){H=n.responseType==="text"?(H??"")+(k??=new TextDecoder).decode(G,{stream:!0}):void 0;let E=()=>i.next({type:Pr.DownloadProgress,total:y?+y:void 0,loaded:R,partialText:H});V?V.run(E):E()}}}));let X=this.concatChunks(C,R);try{let Ie=o.headers.get("Content-Type")??"";p=this.parseBody(n,X,Ie)}catch(Ie){i.error(new Mr({error:Ie,headers:new zn(o.headers),status:o.status,statusText:o.statusText,url:xb(o)??n.urlWithParams}));return}}h===0&&(h=p?Fb:0),h>=200&&h<300?(i.next(new _a({body:p,headers:a,status:h,statusText:u,url:l})),i.complete()):i.error(new Mr({error:p,headers:a,status:h,statusText:u,url:l}))})}parseBody(n,r,i){switch(n.responseType){case"json":let s=new TextDecoder().decode(r).replace(W1,"");return s===""?null:JSON.parse(s);case"text":return new TextDecoder().decode(r);case"blob":return new Blob([r],{type:i});case"arraybuffer":return r.buffer}}createRequestInit(n){let r={},i=n.withCredentials?"include":void 0;if(n.headers.forEach((s,o)=>r[s]=o.join(",")),n.headers.has("Accept")||(r.Accept="application/json, text/plain, */*"),!n.headers.has("Content-Type")){let s=n.detectContentTypeHeader();s!==null&&(r["Content-Type"]=s)}return{body:n.serializeBody(),method:n.method,headers:r,credentials:i}}concatChunks(n,r){let i=new Uint8Array(r),s=0;for(let o of n)i.set(o,s),s+=o.length;return i}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac})}}return t})(),Wg=class{};function Kg(){}function Y1(t){t.then(Kg,Kg)}function Lb(t,e){return e(t)}function J1(t,e){return(n,r)=>e.intercept(n,{handle:i=>t(i,r)})}function Z1(t,e,n){return(r,i)=>Ut(n,()=>e(r,s=>t(s,i)))}var X1=new L(""),Qg=new L(""),eF=new L(""),Vb=new L("",{providedIn:"root",factory:()=>!0});function tF(){let t=null;return(e,n)=>{t===null&&(t=(x(X1,{optional:!0})??[]).reduceRight(J1,Lb));let r=x(Vn);if(x(Vb)){let s=r.add();return t(e,n).pipe(mr(()=>r.remove(s)))}else return t(e,n)}}var Pb=(()=>{class t extends ya{constructor(n,r){super(),this.backend=n,this.injector=r,this.chain=null,this.pendingTasks=x(Vn),this.contributeToStability=x(Vb)}handle(n){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(Qg),...this.injector.get(eF,[])]));this.chain=r.reduceRight((i,s)=>Z1(i,s,this.injector),Lb)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(n,i=>this.backend.handle(i)).pipe(mr(()=>this.pendingTasks.remove(r)))}else return this.chain(n,r=>this.backend.handle(r))}static{this.\u0275fac=function(r){return new(r||t)(z(Zl),z(vt))}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac})}}return t})();var nF=/^\)\]\}',?\n/;function rF(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}var Ob=(()=>{class t{constructor(n){this.xhrFactory=n}handle(n){if(n.method==="JSONP")throw new $(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?Ae(r.\u0275loadImpl()):W(null)).pipe(Et(()=>new re(s=>{let o=r.build();if(o.open(n.method,n.urlWithParams),n.withCredentials&&(o.withCredentials=!0),n.headers.forEach((N,R)=>o.setRequestHeader(N,R.join(","))),n.headers.has("Accept")||o.setRequestHeader("Accept","application/json, text/plain, */*"),!n.headers.has("Content-Type")){let N=n.detectContentTypeHeader();N!==null&&o.setRequestHeader("Content-Type",N)}if(n.responseType){let N=n.responseType.toLowerCase();o.responseType=N!=="json"?N:"text"}let a=n.serializeBody(),u=null,l=()=>{if(u!==null)return u;let N=o.statusText||"OK",R=new zn(o.getAllResponseHeaders()),k=rF(o)||n.url;return u=new Xl({headers:R,status:o.status,statusText:N,url:k}),u},h=()=>{let{headers:N,status:R,statusText:k,url:H}=l(),V=null;R!==q1&&(V=typeof o.response>"u"?o.responseText:o.response),R===0&&(R=V?Fb:0);let X=R>=200&&R<300;if(n.responseType==="json"&&typeof V=="string"){let Ie=V;V=V.replace(nF,"");try{V=V!==""?JSON.parse(V):null}catch(G){V=Ie,X&&(X=!1,V={error:G,text:V})}}X?(s.next(new _a({body:V,headers:N,status:R,statusText:k,url:H||void 0})),s.complete()):s.error(new Mr({error:V,headers:N,status:R,statusText:k,url:H||void 0}))},p=N=>{let{url:R}=l(),k=new Mr({error:N,status:o.status||0,statusText:o.statusText||"Unknown Error",url:R||void 0});s.error(k)},m=!1,y=N=>{m||(s.next(l()),m=!0);let R={type:Pr.DownloadProgress,loaded:N.loaded};N.lengthComputable&&(R.total=N.total),n.responseType==="text"&&o.responseText&&(R.partialText=o.responseText),s.next(R)},C=N=>{let R={type:Pr.UploadProgress,loaded:N.loaded};N.lengthComputable&&(R.total=N.total),s.next(R)};return o.addEventListener("load",h),o.addEventListener("error",p),o.addEventListener("timeout",p),o.addEventListener("abort",p),n.reportProgress&&(o.addEventListener("progress",y),a!==null&&o.upload&&o.upload.addEventListener("progress",C)),o.send(a),s.next({type:Pr.Sent}),()=>{o.removeEventListener("error",p),o.removeEventListener("abort",p),o.removeEventListener("load",h),o.removeEventListener("timeout",p),n.reportProgress&&(o.removeEventListener("progress",y),a!==null&&o.upload&&o.upload.removeEventListener("progress",C)),o.readyState!==o.DONE&&o.abort()}})))}static{this.\u0275fac=function(r){return new(r||t)(z(ks))}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac})}}return t})(),Ub=new L(""),iF="XSRF-TOKEN",sF=new L("",{providedIn:"root",factory:()=>iF}),oF="X-XSRF-TOKEN",aF=new L("",{providedIn:"root",factory:()=>oF}),ed=class{},cF=(()=>{class t{constructor(n,r,i){this.doc=n,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=Ql(n,this.cookieName),this.lastCookieString=n),this.lastToken}static{this.\u0275fac=function(r){return new(r||t)(z(tt),z(Bt),z(sF))}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac})}}return t})();function uF(t,e){let n=t.url.toLowerCase();if(!x(Ub)||t.method==="GET"||t.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return e(t);let r=x(ed).getToken(),i=x(aF);return r!=null&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,r)})),e(t)}var jb=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(jb||{});function lF(t,e){return{\u0275kind:t,\u0275providers:e}}function dF(...t){let e=[G1,Ob,Pb,{provide:ya,useExisting:Pb},{provide:Zl,useFactory:()=>x(Q1,{optional:!0})??x(Ob)},{provide:Qg,useValue:uF,multi:!0},{provide:Ub,useValue:!0},{provide:ed,useClass:cF}];for(let n of t)e.push(...n.\u0275providers);return Vt(e)}var kb=new L("");function hF(){return lF(jb.LegacyInterceptors,[{provide:kb,useFactory:tF},{provide:Qg,useExisting:kb,multi:!0}])}var R6=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=gn({type:t})}static{this.\u0275inj=pn({providers:[dF(hF())]})}}return t})();var Zg=class extends Gl{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Xg=class t extends Zg{static makeCurrent(){_b(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=fF();return n==null?null:pF(n)}resetBaseElement(){Ia=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Ql(document.cookie,e)}},Ia=null;function fF(){return Ia=Ia||document.querySelector("base"),Ia?Ia.getAttribute("href"):null}function pF(t){return new URL(t,document.baseURI).pathname}var gF=(()=>{class t{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac})}}return t})(),td=new L(""),zb=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(s=>s.supports(n)),!r)throw new $(5101,!1);return this._eventNameToPlugin.set(n,r),r}static{this.\u0275fac=function(r){return new(r||t)(z(td),z(me))}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac})}}return t})(),wa=class{constructor(e){this._doc=e}},Yg="ng-app-id",qb=(()=>{class t{constructor(n,r,i,s={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Yl(s),this.resetHostNodes()}addStyles(n){for(let r of n)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(n){for(let r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(let r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(let r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){let r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){let n=this.doc.head?.querySelectorAll(`style[${Yg}="${this.appId}"]`);if(n?.length){let r=new Map;return n.forEach(i=>{i.textContent!=null&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){let i=this.styleRef;if(i.has(n)){let s=i.get(n);return s.usage+=r,s.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){let i=this.styleNodesInDOM,s=i?.get(r);if(s?.parentNode===n)return i.delete(r),s.removeAttribute(Yg),s;{let o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=r,this.platformIsServer&&o.setAttribute(Yg,this.appId),n.appendChild(o),o}}addStyleToHost(n,r){let i=this.getStyleElement(n,r),s=this.styleRef,o=s.get(r)?.elements;o?o.push(i):s.set(r,{elements:[i],usage:1})}resetHostNodes(){let n=this.hostNodes;n.clear(),n.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||t)(z(tt),z(hg),z(pg,8),z(Bt))}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac})}}return t})(),Jg={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},tm=/%COMP%/g,Gb="%COMP%",mF=`_nghost-${Gb}`,yF=`_ngcontent-${Gb}`,vF=!0,_F=new L("",{providedIn:"root",factory:()=>vF});function IF(t){return yF.replace(tm,t)}function wF(t){return mF.replace(tm,t)}function Wb(t,e){return e.map(n=>n.replace(tm,t))}var Bb=(()=>{class t{constructor(n,r,i,s,o,a,u,l=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=a,this.ngZone=u,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=Yl(a),this.defaultRenderer=new Ea(n,o,u,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===ln.ShadowDom&&(r=ae(F({},r),{encapsulation:ln.Emulated}));let i=this.getOrCreateRenderer(n,r);return i instanceof nd?i.applyToHost(n):i instanceof Da&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,s=i.get(r.id);if(!s){let o=this.doc,a=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,p=this.platformIsServer;switch(r.encapsulation){case ln.Emulated:s=new nd(u,l,r,this.appId,h,o,a,p);break;case ln.ShadowDom:return new em(u,l,n,r,o,a,this.nonce,p);default:s=new Da(u,l,r,h,o,a,p);break}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||t)(z(zb),z(qb),z(hg),z(_F),z(tt),z(Bt),z(me),z(pg))}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac})}}return t})(),Ea=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(Jg[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){($b(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&($b(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new $(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let s=Jg[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=Jg[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(On.DashCase|On.Important)?e.style.setProperty(n,r,i&On.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&On.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=Hn().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function $b(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var em=class extends Ea{constructor(e,n,r,i,s,o,a,u){super(e,s,o,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=Wb(i.id,i.styles);for(let h of l){let p=document.createElement("style");a&&p.setAttribute("nonce",a),p.textContent=h,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Da=class extends Ea{constructor(e,n,r,i,s,o,a,u){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?Wb(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},nd=class extends Da{constructor(e,n,r,i,s,o,a,u){let l=i+"-"+r.id;super(e,n,r,s,o,a,u,l),this.contentAttr=IF(l),this.hostAttr=wF(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},EF=(()=>{class t extends wa{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||t)(z(tt))}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac})}}return t})(),DF=(()=>{class t extends wa{constructor(n){super(n),this.delegate=x(lb,{optional:!0})}supports(n){return this.delegate?this.delegate.supports(n):!1}addEventListener(n,r,i){return this.delegate.addEventListener(n,r,i)}removeEventListener(n,r,i){return this.delegate.removeEventListener(n,r,i)}static{this.\u0275fac=function(r){return new(r||t)(z(tt))}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac})}}return t})(),Hb=["alt","control","meta","shift"],TF={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},bF={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},CF=(()=>{class t extends wa{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,r,i){let s=t.parseEventName(r),o=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Hn().onAndCancel(n,s.domEventName,o))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let s=t._normalizeKey(r.pop()),o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),Hb.forEach(l=>{let h=r.indexOf(l);h>-1&&(r.splice(h,1),o+=l+".")}),o+=s,r.length!=0||s.length===0)return null;let u={};return u.domEventName=i,u.fullKey=o,u}static matchEventFullKeyCode(n,r){let i=TF[n.key]||n.key,s="";return r.indexOf("code.")>-1&&(i=n.code,s="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),Hb.forEach(o=>{if(o!==i){let a=bF[o];a(n)&&(s+=o+".")}}),s+=i,s===r)}static eventCallback(n,r,i){return s=>{t.matchEventFullKeyCode(s,n)&&i.runGuarded(()=>r(s))}}static _normalizeKey(n){return n==="esc"?"escape":n}static{this.\u0275fac=function(r){return new(r||t)(z(tt))}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac})}}return t})();function t8(t,e){return ub(F({rootComponent:t},AF(e)))}function AF(t){return{appProviders:[...xF,...t?.providers??[]],platformProviders:MF}}function SF(){Xg.makeCurrent()}function RF(){return new Pn}function NF(){return sT(document),document}var MF=[{provide:Bt,useValue:Hg},{provide:fg,useValue:SF,multi:!0},{provide:tt,useFactory:NF,deps:[]}];var xF=[{provide:vl,useValue:"root"},{provide:Pn,useFactory:RF,deps:[]},{provide:td,useClass:EF,multi:!0,deps:[tt,me,Bt]},{provide:td,useClass:CF,multi:!0,deps:[tt]},{provide:td,useClass:DF,multi:!0},Bb,qb,zb,{provide:As,useExisting:Bb},{provide:ks,useClass:gF,deps:[]},[]];var Kb=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static{this.\u0275fac=function(r){return new(r||t)(z(tt))}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var ne="primary",Ua=Symbol("RouteTitle"),om=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function $s(t){return new om(t)}function OF(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],a=t[s];if(o[0]===":")i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function kF(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!mn(t[n],e[n]))return!1;return!0}function mn(t,e){let n=t?am(t):void 0,r=e?am(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!sC(t[i],e[i]))return!1;return!0}function am(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function sC(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}else return t===e}function oC(t){return t.length>0?t[t.length-1]:null}function Fr(t){return Vf(t)?t:Ar(t)?Ae(Promise.resolve(t)):W(t)}var FF={exact:cC,subset:uC},aC={exact:LF,subset:VF,ignored:()=>!0};function Qb(t,e,n){return FF[n.paths](t.root,e.root,n.matrixParams)&&aC[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function LF(t,e){return mn(t,e)}function cC(t,e,n){if(!Di(t.segments,e.segments)||!sd(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!cC(t.children[r],e.children[r],n))return!1;return!0}function VF(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>sC(t[n],e[n]))}function uC(t,e,n){return lC(t,e,e.segments,n)}function lC(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!Di(i,n)||e.hasChildren()||!sd(i,n,r))}else if(t.segments.length===n.length){if(!Di(t.segments,n)||!sd(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!uC(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!Di(t.segments,i)||!sd(t.segments,i,r)||!t.children[ne]?!1:lC(t.children[ne],e,s,r)}}function sd(t,e,n){return e.every((r,i)=>aC[n](t[i].parameters,r.parameters))}var Gn=class{constructor(e=new we([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=$s(this.queryParams),this._queryParamMap}toString(){return BF.serialize(this)}},we=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return od(this)}},Ei=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=$s(this.parameters),this._parameterMap}toString(){return hC(this)}};function UF(t,e){return Di(t,e)&&t.every((n,r)=>mn(n.parameters,e[r].parameters))}function Di(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function jF(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===ne&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==ne&&(n=n.concat(e(i,r)))}),n}var ja=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:()=>new Hs,providedIn:"root"})}}return t})(),Hs=class{parse(e){let n=new um(e);return new Gn(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${Ta(e.root,!0)}`,r=zF(e.queryParams),i=typeof e.fragment=="string"?`#${$F(e.fragment)}`:"";return`${n}${r}${i}`}},BF=new Hs;function od(t){return t.segments.map(e=>hC(e)).join("/")}function Ta(t,e){if(!t.hasChildren())return od(t);if(e){let n=t.children[ne]?Ta(t.children[ne],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==ne&&r.push(`${i}:${Ta(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=jF(t,(r,i)=>i===ne?[Ta(t.children[ne],!1)]:[`${i}:${Ta(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[ne]!=null?`${od(t)}/${n[0]}`:`${od(t)}/(${n.join("//")})`}}function dC(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function rd(t){return dC(t).replace(/%3B/gi,";")}function $F(t){return encodeURI(t)}function cm(t){return dC(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ad(t){return decodeURIComponent(t)}function Yb(t){return ad(t.replace(/\+/g,"%20"))}function hC(t){return`${cm(t.path)}${HF(t.parameters)}`}function HF(t){return Object.entries(t).map(([e,n])=>`;${cm(e)}=${cm(n)}`).join("")}function zF(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${rd(n)}=${rd(i)}`).join("&"):`${rd(n)}=${rd(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var qF=/^[^\/()?;#]+/;function nm(t){let e=t.match(qF);return e?e[0]:""}var GF=/^[^\/()?;=#]+/;function WF(t){let e=t.match(GF);return e?e[0]:""}var KF=/^[^=?&#]+/;function QF(t){let e=t.match(KF);return e?e[0]:""}var YF=/^[^&#]+/;function JF(t){let e=t.match(YF);return e?e[0]:""}var um=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new we([],{}):new we([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[ne]=new we(e,n)),r}parseSegment(){let e=nm(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new $(4009,!1);return this.capture(e),new Ei(ad(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=WF(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=nm(this.remaining);i&&(r=i,this.capture(r))}e[ad(n)]=ad(r)}parseQueryParam(e){let n=QF(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=JF(this.remaining);o&&(r=o,this.capture(r))}let i=Yb(n),s=Yb(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=nm(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new $(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=ne);let o=this.parseChildren();n[s]=Object.keys(o).length===1?o[ne]:new we([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new $(4011,!1)}};function fC(t){return t.segments.length>0?new we([],{[ne]:t}):t}function pC(t){let e={};for(let[r,i]of Object.entries(t.children)){let s=pC(i);if(r===ne&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let n=new we(t.segments,e);return ZF(n)}function ZF(t){if(t.numberOfChildren===1&&t.children[ne]){let e=t.children[ne];return new we(t.segments.concat(e.segments),e.children)}return t}function Na(t){return t instanceof Gn}function XF(t,e,n=null,r=null){let i=gC(t);return mC(i,e,n,r)}function gC(t){let e;function n(s){let o={};for(let u of s.children){let l=n(u);o[u.outlet]=l}let a=new we(s.url,o);return s===t&&(e=a),a}let r=n(t.root),i=fC(r);return e??i}function mC(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return rm(i,i,i,n,r);let s=eL(e);if(s.toRoot())return rm(i,i,new we([],{}),n,r);let o=tL(s,i,t),a=o.processChildren?Aa(o.segmentGroup,o.index,s.commands):vC(o.segmentGroup,o.index,s.commands);return rm(i,o.segmentGroup,a,n,r)}function cd(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Ma(t){return typeof t=="object"&&t!=null&&t.outlets}function rm(t,e,n,r,i){let s={};r&&Object.entries(r).forEach(([u,l])=>{s[u]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`});let o;t===e?o=n:o=yC(t,e,n);let a=fC(pC(o));return new Gn(a,s,i)}function yC(t,e,n){let r={};return Object.entries(t.children).forEach(([i,s])=>{s===e?r[i]=n:r[i]=yC(s,e,n)}),new we(t.segments,r)}var ud=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&cd(r[0]))throw new $(4003,!1);let i=r.find(Ma);if(i&&i!==oC(r))throw new $(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function eL(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new ud(!0,0,t);let e=0,n=!1,r=t.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([u,l])=>{a[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,s]},[]);return new ud(n,e,r)}var Us=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function tL(t,e,n){if(t.isAbsolute)return new Us(e,!0,0);if(!n)return new Us(e,!1,NaN);if(n.parent===null)return new Us(n,!0,0);let r=cd(t.commands[0])?0:1,i=n.segments.length-1+r;return nL(n,i,t.numberOfDoubleDots)}function nL(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new $(4005,!1);i=r.segments.length}return new Us(r,!1,i-s)}function rL(t){return Ma(t[0])?t[0].outlets:{[ne]:t}}function vC(t,e,n){if(t??=new we([],{}),t.segments.length===0&&t.hasChildren())return Aa(t,e,n);let r=iL(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let s=new we(t.segments.slice(0,r.pathIndex),{});return s.children[ne]=new we(t.segments.slice(r.pathIndex),t.children),Aa(s,0,i)}else return r.match&&i.length===0?new we(t.segments,{}):r.match&&!t.hasChildren()?lm(t,e,n):r.match?Aa(t,0,i):lm(t,e,n)}function Aa(t,e,n){if(n.length===0)return new we(t.segments,{});{let r=rL(n),i={};if(Object.keys(r).some(s=>s!==ne)&&t.children[ne]&&t.numberOfChildren===1&&t.children[ne].segments.length===0){let s=Aa(t.children[ne],e,n);return new we(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=vC(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new we(t.segments,i)}}function iL(t,e,n){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;let o=t.segments[i],a=n[r];if(Ma(a))break;let u=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!Zb(u,l,o))return s;r+=2}else{if(!Zb(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function lm(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let s=n[i];if(Ma(s)){let u=sL(s.outlets);return new we(r,u)}if(i===0&&cd(n[0])){let u=t.segments[e];r.push(new Ei(u.path,Jb(n[0]))),i++;continue}let o=Ma(s)?s.outlets[ne]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&cd(a)?(r.push(new Ei(o,Jb(a))),i+=2):(r.push(new Ei(o,{})),i++)}return new we(r,{})}function sL(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=lm(new we([],{}),0,r))}),e}function Jb(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function Zb(t,e,n){return t==n.path&&mn(e,n.parameters)}var Sa="imperative",We=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(We||{}),zt=class{constructor(e,n){this.id=e,this.url=n}},zs=class extends zt{constructor(e,n,r="imperative",i=null){super(e,n),this.type=We.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Wn=class extends zt{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=We.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},xt=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(xt||{}),ld=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(ld||{}),qn=class extends zt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=We.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Or=class extends zt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=We.NavigationSkipped}},xa=class extends zt{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=We.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},dd=class extends zt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=We.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},dm=class extends zt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=We.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},hm=class extends zt{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=We.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},fm=class extends zt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=We.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},pm=class extends zt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=We.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},gm=class{constructor(e){this.route=e,this.type=We.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},mm=class{constructor(e){this.route=e,this.type=We.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},ym=class{constructor(e){this.snapshot=e,this.type=We.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},vm=class{constructor(e){this.snapshot=e,this.type=We.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},_m=class{constructor(e){this.snapshot=e,this.type=We.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Im=class{constructor(e){this.snapshot=e,this.type=We.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},hd=class{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=We.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},Pa=class{},qs=class{constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function oL(t,e){return t.providers&&!t._injector&&(t._injector=Ml(t.providers,e,`Route: ${t.path}`)),t._injector??e}function tn(t){return t.outlet||ne}function aL(t,e){let n=t.filter(r=>tn(r)===e);return n.push(...t.filter(r=>tn(r)!==e)),n}function Ba(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var wm=class{get injector(){return Ba(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new $a(this.rootInjector),this.attachRef=null}},$a=(()=>{class t{constructor(n){this.rootInjector=n,this.contexts=new Map}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new wm(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static{this.\u0275fac=function(r){return new(r||t)(z(vt))}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),fd=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=Em(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=Em(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=Dm(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Dm(e,this._root).map(n=>n.value)}};function Em(t,e){if(t===e.value)return e;for(let n of e.children){let r=Em(t,n);if(r)return r}return null}function Dm(t,e){if(t===e.value)return[e];for(let n of e.children){let r=Dm(t,n);if(r.length)return r.unshift(e),r}return[]}var Mt=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Vs(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var pd=class extends fd{constructor(e,n){super(e),this.snapshot=n,xm(this,e)}toString(){return this.snapshot.toString()}};function _C(t){let e=cL(t),n=new Ze([new Ei("",{})]),r=new Ze({}),i=new Ze({}),s=new Ze({}),o=new Ze(""),a=new Ti(n,r,s,o,i,ne,t,e.root);return a.snapshot=e.root,new pd(new Mt(a,[]),e)}function cL(t){let e={},n={},r={},i="",s=new js([],e,r,i,n,ne,t,null,{});return new md("",new Mt(s,[]))}var Ti=class{constructor(e,n,r,i,s,o,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(Y(l=>l[Ua]))??W(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Y(e=>$s(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Y(e=>$s(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function gd(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:F(F({},e.params),t.params),data:F(F({},e.data),t.data),resolve:F(F(F(F({},t.data),e.data),i?.data),t._resolvedData)}:r={params:F({},t.params),data:F({},t.data),resolve:F(F({},t.data),t._resolvedData??{})},i&&wC(i)&&(r.resolve[Ua]=i.title),r}var js=class{get title(){return this.data?.[Ua]}constructor(e,n,r,i,s,o,a,u,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=$s(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=$s(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},md=class extends fd{constructor(e,n){super(n),this.url=e,xm(this,n)}toString(){return IC(this._root)}};function xm(t,e){e.value._routerState=t,e.children.forEach(n=>xm(t,n))}function IC(t){let e=t.children.length>0?` { ${t.children.map(IC).join(", ")} } `:"";return`${t.value}${e}`}function im(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,mn(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),mn(e.params,n.params)||t.paramsSubject.next(n.params),kF(e.url,n.url)||t.urlSubject.next(n.url),mn(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Tm(t,e){let n=mn(t.params,e.params)&&UF(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||Tm(t.parent,e.parent))}function wC(t){return typeof t.title=="string"||t.title===null}var uL=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=ne,this.activateEvents=new Ue,this.deactivateEvents=new Ue,this.attachEvents=new Ue,this.detachEvents=new Ue,this.parentContexts=x($a),this.location=x(Ps),this.changeDetector=x(Rr),this.inputBinder=x(Id,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new $(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new $(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new $(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new $(4013,!1);this._activatedRoute=n;let i=this.location,o=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new bm(n,a,i.injector);this.activated=i.createComponent(o,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=et({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[yi]})}}return t})(),bm=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Ti?this.route:e===$a?this.childContexts:this.parent.get(e,n)}},Id=new L(""),Xb=(()=>{class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){let{activatedRoute:r}=n,i=Jo([r.queryParams,r.params,r.data]).pipe(Et(([s,o,a],u)=>(a=F(F(F({},s),o),a),u===0?W(a):Promise.resolve(a)))).subscribe(s=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(n);return}let o=db(r.component);if(!o){this.unsubscribeFromRouteData(n);return}for(let{templateName:a}of o.inputs)n.activatedComponentRef.setInput(a,s[a])});this.outletDataSubscriptions.set(n,i)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac})}}return t})();function lL(t,e,n){let r=Oa(t,e._root,n?n._root:void 0);return new pd(r,e)}function Oa(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=dL(t,e,n);return new Mt(r,i)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Oa(t,a)),o}}let r=hL(e.value),i=e.children.map(s=>Oa(t,s));return new Mt(r,i)}}function dL(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Oa(t,r,i);return Oa(t,r)})}function hL(t){return new Ti(new Ze(t.url),new Ze(t.params),new Ze(t.queryParams),new Ze(t.fragment),new Ze(t.data),t.outlet,t.component,t)}var ka=class{constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},EC="ngNavigationCancelingError";function yd(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=Na(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=DC(!1,xt.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function DC(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[EC]=!0,n.cancellationCode=e,n}function fL(t){return TC(t)&&Na(t.url)}function TC(t){return!!t&&t[EC]}var pL=(t,e,n,r)=>Y(i=>(new Cm(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),Cm=class{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),im(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=Vs(n);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Vs(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){let o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Vs(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=Vs(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new Im(s.value.snapshot))}),e.children.length&&this.forwardEvent(new vm(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(im(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),im(a.route.value),this.activateChildRoutes(e,null,o.children)}else o.attachRef=null,o.route=i,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}else this.activateChildRoutes(e,null,r)}},vd=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Bs=class{constructor(e,n){this.component=e,this.route=n}};function gL(t,e,n){let r=t._root,i=e?e._root:null;return ba(r,i,n,[r.value])}function mL(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Ws(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!qE(t)?t:e.get(t):r}function ba(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=Vs(e);return t.children.forEach(o=>{yL(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>Ra(a,n.getContext(o),i)),i}function yL(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let u=vL(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new vd(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?ba(t,e,a?a.children:null,r,i):ba(t,e,n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Bs(a.outlet.component,o))}else o&&Ra(e,a,i),i.canActivateChecks.push(new vd(r)),s.component?ba(t,null,a?a.children:null,r,i):ba(t,null,n,r,i);return i}function vL(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!Di(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Di(t.url,e.url)||!mn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Tm(t,e)||!mn(t.queryParams,e.queryParams);case"paramsChange":default:return!Tm(t,e)}}function Ra(t,e,n){let r=Vs(t),i=t.value;Object.entries(r).forEach(([s,o])=>{i.component?e?Ra(o,e.children.getContext(s),n):Ra(o,null,n):Ra(o,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Bs(e.outlet.component,i)):n.canDeactivateChecks.push(new Bs(null,i)):n.canDeactivateChecks.push(new Bs(null,i))}function Ha(t){return typeof t=="function"}function _L(t){return typeof t=="boolean"}function IL(t){return t&&Ha(t.canLoad)}function wL(t){return t&&Ha(t.canActivate)}function EL(t){return t&&Ha(t.canActivateChild)}function DL(t){return t&&Ha(t.canDeactivate)}function TL(t){return t&&Ha(t.canMatch)}function bC(t){return t instanceof Nn||t?.name==="EmptyError"}var id=Symbol("INITIAL_VALUE");function Gs(){return Et(t=>Jo(t.map(e=>e.pipe(xn(1),Pu(id)))).pipe(Y(e=>{for(let n of e)if(n!==!0){if(n===id)return id;if(n===!1||bL(n))return n}return!0}),gt(e=>e!==id),xn(1)))}function bL(t){return Na(t)||t instanceof ka}function CL(t,e){return Le(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return o.length===0&&s.length===0?W(ae(F({},n),{guardsResult:!0})):AL(o,r,i,t).pipe(Le(a=>a&&_L(a)?SL(r,s,t,e):W(a)),Y(a=>ae(F({},n),{guardsResult:a})))})}function AL(t,e,n,r){return Ae(t).pipe(Le(i=>PL(i.component,i.route,n,e,r)),an(i=>i!==!0,!0))}function SL(t,e,n,r){return Ae(e).pipe(Mn(i=>ls(NL(i.route.parent,r),RL(i.route,r),xL(t,i.path,n),ML(t,i.route,n))),an(i=>i!==!0,!0))}function RL(t,e){return t!==null&&e&&e(new _m(t)),W(!0)}function NL(t,e){return t!==null&&e&&e(new ym(t)),W(!0)}function ML(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return W(!0);let i=r.map(s=>Nu(()=>{let o=Ba(e)??n,a=Ws(s,o),u=wL(a)?a.canActivate(e,t):Ut(o,()=>a(e,t));return Fr(u).pipe(an())}));return W(i).pipe(Gs())}function xL(t,e,n){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>mL(o)).filter(o=>o!==null).map(o=>Nu(()=>{let a=o.guards.map(u=>{let l=Ba(o.node)??n,h=Ws(u,l),p=EL(h)?h.canActivateChild(r,t):Ut(l,()=>h(r,t));return Fr(p).pipe(an())});return W(a).pipe(Gs())}));return W(s).pipe(Gs())}function PL(t,e,n,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return W(!0);let o=s.map(a=>{let u=Ba(e)??i,l=Ws(a,u),h=DL(l)?l.canDeactivate(t,e,n,r):Ut(u,()=>l(t,e,n,r));return Fr(h).pipe(an())});return W(o).pipe(Gs())}function OL(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return W(!0);let s=i.map(o=>{let a=Ws(o,t),u=IL(a)?a.canLoad(e,n):Ut(t,()=>a(e,n));return Fr(u)});return W(s).pipe(Gs(),CC(r))}function CC(t){return du(Ve(e=>{if(typeof e!="boolean")throw yd(t,e)}),Y(e=>e===!0))}function kL(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return W(!0);let s=i.map(o=>{let a=Ws(o,t),u=TL(a)?a.canMatch(e,n):Ut(t,()=>a(e,n));return Fr(u)});return W(s).pipe(Gs(),CC(r))}var Fa=class{constructor(e){this.segmentGroup=e||null}},La=class extends Error{constructor(e){super(),this.urlTree=e}};function Ls(t){return cs(new Fa(t))}function FL(t){return cs(new $(4e3,!1))}function LL(t){return cs(DC(!1,xt.GuardRejected))}var Am=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return W(r);if(i.numberOfChildren>1||!i.children[ne])return FL(`${e.redirectTo}`);i=i.children[ne]}}applyRedirectCommands(e,n,r,i,s){if(typeof n!="string"){let a=n,{queryParams:u,fragment:l,routeConfig:h,url:p,outlet:m,params:y,data:C,title:N}=i,R=Ut(s,()=>a({params:y,data:C,queryParams:u,fragment:l,routeConfig:h,url:p,outlet:m,title:N}));if(R instanceof Gn)throw new La(R);n=R}let o=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n[0]==="/")throw new La(o);return o}applyRedirectCreateUrlTree(e,n,r,i){let s=this.createSegmentGroup(e,n.root,r,i);return new Gn(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s[0]===":"){let a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){let s=this.createSegments(e,n.segments,r,i),o={};return Object.entries(n.children).forEach(([a,u])=>{o[a]=this.createSegmentGroup(e,u,r,i)}),new we(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path[0]===":"?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new $(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},Sm={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function VL(t,e,n,r,i){let s=AC(t,e,n);return s.matched?(r=oL(e,r),kL(r,e,n,i).pipe(Y(o=>o===!0?s:F({},Sm)))):W(s)}function AC(t,e,n){if(e.path==="**")return UL(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?F({},Sm):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||OF)(n,t,e);if(!i)return F({},Sm);let s={};Object.entries(i.posParams??{}).forEach(([a,u])=>{s[a]=u.path});let o=i.consumed.length>0?F(F({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function UL(t){return{matched:!0,parameters:t.length>0?oC(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function eC(t,e,n,r){return n.length>0&&$L(t,n,r)?{segmentGroup:new we(e,BL(r,new we(n,t.children))),slicedSegments:[]}:n.length===0&&HL(t,n,r)?{segmentGroup:new we(t.segments,jL(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new we(t.segments,t.children),slicedSegments:n}}function jL(t,e,n,r){let i={};for(let s of n)if(wd(t,e,s)&&!r[tn(s)]){let o=new we([],{});i[tn(s)]=o}return F(F({},r),i)}function BL(t,e){let n={};n[ne]=e;for(let r of t)if(r.path===""&&tn(r)!==ne){let i=new we([],{});n[tn(r)]=i}return n}function $L(t,e,n){return n.some(r=>wd(t,e,r)&&tn(r)!==ne)}function HL(t,e,n){return n.some(r=>wd(t,e,r))}function wd(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function zL(t,e,n){return e.length===0&&!t.children[n]}var Rm=class{};function qL(t,e,n,r,i,s,o="emptyOnly"){return new Nm(t,e,n,r,i,o,s).recognize()}var GL=31,Nm=class{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new Am(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new $(4002,`'${e.segmentGroup}'`)}recognize(){let e=eC(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(Y(({children:n,rootSnapshot:r})=>{let i=new Mt(r,n),s=new md("",i),o=XF(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),{state:s,tree:o}}))}match(e){let n=new js([],Object.freeze({}),Object.freeze(F({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),ne,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,ne,n).pipe(Y(r=>({children:r,rootSnapshot:n})),pr(r=>{if(r instanceof La)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Fa?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,s){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,s):this.processSegment(e,n,r,r.segments,i,!0,s).pipe(Y(o=>o instanceof Mt?[o]:[]))}processChildren(e,n,r,i){let s=[];for(let o of Object.keys(r.children))o==="primary"?s.unshift(o):s.push(o);return Ae(s).pipe(Mn(o=>{let a=r.children[o],u=aL(n,o);return this.processSegmentGroup(e,u,a,o,i)}),xu((o,a)=>(o.push(...a),o)),gr(null),Bf(),Le(o=>{if(o===null)return Ls(r);let a=SC(o);return WL(a),W(a)}))}processSegment(e,n,r,i,s,o,a){return Ae(n).pipe(Mn(u=>this.processSegmentAgainstRoute(u._injector??e,n,u,r,i,s,o,a).pipe(pr(l=>{if(l instanceof Fa)return W(null);throw l}))),an(u=>!!u),pr(u=>{if(bC(u))return zL(r,i,s)?W(new Rm):Ls(r);throw u}))}processSegmentAgainstRoute(e,n,r,i,s,o,a,u){return tn(r)!==o&&(o===ne||!wd(i,s,r))?Ls(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o,u):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o,u):Ls(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o,a){let{matched:u,parameters:l,consumedSegments:h,positionalParamSegments:p,remainingSegments:m}=AC(n,i,s);if(!u)return Ls(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>GL&&(this.allowRedirects=!1));let y=new js(s,l,Object.freeze(F({},this.urlTree.queryParams)),this.urlTree.fragment,tC(i),tn(i),i.component??i._loadedComponent??null,i,nC(i)),C=gd(y,a,this.paramsInheritanceStrategy);y.params=Object.freeze(C.params),y.data=Object.freeze(C.data);let N=this.applyRedirects.applyRedirectCommands(h,i.redirectTo,p,y,e);return this.applyRedirects.lineralizeSegments(i,N).pipe(Le(R=>this.processSegment(e,r,n,R.concat(m),o,!1,a)))}matchSegmentAgainstRoute(e,n,r,i,s,o){let a=VL(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(Et(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Et(({routes:l})=>{let h=r._loadedInjector??e,{parameters:p,consumedSegments:m,remainingSegments:y}=u,C=new js(m,p,Object.freeze(F({},this.urlTree.queryParams)),this.urlTree.fragment,tC(r),tn(r),r.component??r._loadedComponent??null,r,nC(r)),N=gd(C,o,this.paramsInheritanceStrategy);C.params=Object.freeze(N.params),C.data=Object.freeze(N.data);let{segmentGroup:R,slicedSegments:k}=eC(n,m,y,l);if(k.length===0&&R.hasChildren())return this.processChildren(h,l,R,C).pipe(Y(V=>new Mt(C,V)));if(l.length===0&&k.length===0)return W(new Mt(C,[]));let H=tn(r)===s;return this.processSegment(h,l,R,k,H?ne:s,!0,C).pipe(Y(V=>new Mt(C,V instanceof Mt?[V]:[])))}))):Ls(n)))}getChildConfig(e,n,r){return n.children?W({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?W({routes:n._loadedRoutes,injector:n._loadedInjector}):OL(e,n,r,this.urlSerializer).pipe(Le(i=>i?this.configLoader.loadChildren(e,n).pipe(Ve(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):LL(n))):W({routes:[],injector:e})}};function WL(t){t.sort((e,n)=>e.value.outlet===ne?-1:n.value.outlet===ne?1:e.value.outlet.localeCompare(n.value.outlet))}function KL(t){let e=t.value.routeConfig;return e&&e.path===""}function SC(t){let e=[],n=new Set;for(let r of t){if(!KL(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=SC(r.children);e.push(new Mt(r.value,i))}return e.filter(r=>!n.has(r))}function tC(t){return t.data||{}}function nC(t){return t.resolve||{}}function QL(t,e,n,r,i,s){return Le(o=>qL(t,e,n,r,o.extractedUrl,i,s).pipe(Y(({state:a,tree:u})=>ae(F({},o),{targetSnapshot:a,urlAfterRedirects:u}))))}function YL(t,e){return Le(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return W(n);let s=new Set(i.map(u=>u.route)),o=new Set;for(let u of s)if(!o.has(u))for(let l of RC(u))o.add(l);let a=0;return Ae(o).pipe(Mn(u=>s.has(u)?JL(u,r,t,e):(u.data=gd(u,u.parent,t).resolve,W(void 0))),Ve(()=>a++),ds(1),Le(u=>a===o.size?W(n):Rt))})}function RC(t){let e=t.children.map(n=>RC(n)).flat();return[t,...e]}function JL(t,e,n,r){let i=t.routeConfig,s=t._resolve;return i?.title!==void 0&&!wC(i)&&(s[Ua]=i.title),ZL(s,t,e,r).pipe(Y(o=>(t._resolvedData=o,t.data=gd(t,t.parent,n).resolve,null)))}function ZL(t,e,n,r){let i=am(t);if(i.length===0)return W({});let s={};return Ae(i).pipe(Le(o=>XL(t[o],e,n,r).pipe(an(),Ve(a=>{if(a instanceof ka)throw yd(new Hs,a);s[o]=a}))),ds(1),jf(s),pr(o=>bC(o)?Rt:cs(o)))}function XL(t,e,n,r){let i=Ba(e)??r,s=Ws(t,i),o=s.resolve?s.resolve(e,n):Ut(i,()=>s(e,n));return Fr(o)}function sm(t){return Et(e=>{let n=t(e);return n?Ae(n).pipe(Y(()=>e)):W(e)})}var NC=(()=>{class t{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===ne);return r}getResolvedTitleForRoute(n){return n.data[Ua]}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:()=>x(eV),providedIn:"root"})}}return t})(),eV=(()=>{class t extends NC{constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||t)(z(Kb))}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),za=new L("",{providedIn:"root",factory:()=>({})}),tV=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=rD({type:t,selectors:[["ng-component"]],standalone:!0,features:[XT],decls:1,vars:0,template:function(r,i){r&1&&Ag(0,"router-outlet")},dependencies:[uL],encapsulation:2})}}return t})();function Pm(t){let e=t.children&&t.children.map(Pm),n=e?ae(F({},t),{children:e}):F({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==ne&&(n.component=tV),n}var Va=new L(""),Om=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=x(Fl)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return W(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let r=Fr(n.loadComponent()).pipe(Y(MC),Ve(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),mr(()=>{this.componentLoaders.delete(n)})),i=new is(r,()=>new Je).pipe(rs());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return W({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let s=nV(r,this.compiler,n,this.onLoadEndListener).pipe(mr(()=>{this.childrenLoaders.delete(r)})),o=new is(s,()=>new Je).pipe(rs());return this.childrenLoaders.set(r,o),o}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function nV(t,e,n,r){return Fr(t.loadChildren()).pipe(Y(MC),Le(i=>i instanceof sa||Array.isArray(i)?W(i):Ae(e.compileModuleAsync(i))),Y(i=>{r&&r(t);let s,o,a=!1;return Array.isArray(i)?(o=i,a=!0):(s=i.create(n).injector,o=s.get(Va,[],{optional:!0,self:!0}).flat()),{routes:o.map(Pm),injector:s}}))}function rV(t){return t&&typeof t=="object"&&"default"in t}function MC(t){return rV(t)?t.default:t}var km=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:()=>x(iV),providedIn:"root"})}}return t})(),iV=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),xC=new L(""),PC=new L("");function sV(t,e,n){let r=t.get(PC),i=t.get(tt);return t.get(me).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(l=>setTimeout(l));let s,o=new Promise(l=>{s=l}),a=i.startViewTransition(()=>(s(),oV(t))),{onViewTransitionCreated:u}=r;return u&&Ut(t,()=>u({transition:a,from:e,to:n})),o})}function oV(t){return new Promise(e=>{Cg({read:()=>setTimeout(e)},{injector:t})})}var aV=new L(""),Fm=(()=>{class t{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Je,this.transitionAbortSubject=new Je,this.configLoader=x(Om),this.environmentInjector=x(vt),this.urlSerializer=x(ja),this.rootContexts=x($a),this.location=x(Fs),this.inputBindingEnabled=x(Id,{optional:!0})!==null,this.titleStrategy=x(NC),this.options=x(za,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=x(km),this.createViewTransition=x(xC,{optional:!0}),this.navigationErrorHandler=x(aV,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>W(void 0),this.rootComponentType=null;let n=i=>this.events.next(new gm(i)),r=i=>this.events.next(new mm(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next(ae(F(F({},this.transitions.value),n),{id:r}))}setupNavigations(n,r,i){return this.transitions=new Ze({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Sa,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(gt(s=>s.id!==0),Y(s=>ae(F({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),Et(s=>{let o=!1,a=!1;return W(s).pipe(Et(u=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",xt.SupersededByNewNavigation),Rt;this.currentTransition=s,this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,targetBrowserUrl:typeof u.extras.browserUrl=="string"?this.urlSerializer.parse(u.extras.browserUrl):u.extras.browserUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?ae(F({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let l=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),h=u.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!l&&h!=="reload"){let p="";return this.events.next(new Or(u.id,this.urlSerializer.serialize(u.rawUrl),p,ld.IgnoredSameUrlNavigation)),u.resolve(!1),Rt}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return W(u).pipe(Et(p=>{let m=this.transitions?.getValue();return this.events.next(new zs(p.id,this.urlSerializer.serialize(p.extractedUrl),p.source,p.restoredState)),m!==this.transitions?.getValue()?Rt:Promise.resolve(p)}),QL(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),Ve(p=>{s.targetSnapshot=p.targetSnapshot,s.urlAfterRedirects=p.urlAfterRedirects,this.currentNavigation=ae(F({},this.currentNavigation),{finalUrl:p.urlAfterRedirects});let m=new dd(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(m)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){let{id:p,extractedUrl:m,source:y,restoredState:C,extras:N}=u,R=new zs(p,this.urlSerializer.serialize(m),y,C);this.events.next(R);let k=_C(this.rootComponentType).snapshot;return this.currentTransition=s=ae(F({},u),{targetSnapshot:k,urlAfterRedirects:m,extras:ae(F({},N),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=m,W(s)}else{let p="";return this.events.next(new Or(u.id,this.urlSerializer.serialize(u.extractedUrl),p,ld.IgnoredByUrlHandlingStrategy)),u.resolve(!1),Rt}}),Ve(u=>{let l=new dm(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}),Y(u=>(this.currentTransition=s=ae(F({},u),{guards:gL(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),s)),CL(this.environmentInjector,u=>this.events.next(u)),Ve(u=>{if(s.guardsResult=u.guardsResult,u.guardsResult&&typeof u.guardsResult!="boolean")throw yd(this.urlSerializer,u.guardsResult);let l=new hm(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(l)}),gt(u=>u.guardsResult?!0:(this.cancelNavigationTransition(u,"",xt.GuardRejected),!1)),sm(u=>{if(u.guards.canActivateChecks.length)return W(u).pipe(Ve(l=>{let h=new fm(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}),Et(l=>{let h=!1;return W(l).pipe(YL(this.paramsInheritanceStrategy,this.environmentInjector),Ve({next:()=>h=!0,complete:()=>{h||this.cancelNavigationTransition(l,"",xt.NoDataFromResolver)}}))}),Ve(l=>{let h=new pm(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}))}),sm(u=>{let l=h=>{let p=[];h.routeConfig?.loadComponent&&!h.routeConfig._loadedComponent&&p.push(this.configLoader.loadComponent(h.routeConfig).pipe(Ve(m=>{h.component=m}),Y(()=>{})));for(let m of h.children)p.push(...l(m));return p};return Jo(l(u.targetSnapshot.root)).pipe(gr(null),xn(1))}),sm(()=>this.afterPreactivation()),Et(()=>{let{currentSnapshot:u,targetSnapshot:l}=s,h=this.createViewTransition?.(this.environmentInjector,u.root,l.root);return h?Ae(h).pipe(Y(()=>s)):W(s)}),Y(u=>{let l=lL(n.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=s=ae(F({},u),{targetRouterState:l}),this.currentNavigation.targetRouterState=l,s}),Ve(()=>{this.events.next(new Pa)}),pL(this.rootContexts,n.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),xn(1),Ve({next:u=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Wn(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),this.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{o=!0}}),$f(this.transitionAbortSubject.pipe(Ve(u=>{throw u}))),mr(()=>{!o&&!a&&this.cancelNavigationTransition(s,"",xt.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),pr(u=>{if(a=!0,TC(u))this.events.next(new qn(s.id,this.urlSerializer.serialize(s.extractedUrl),u.message,u.cancellationCode)),fL(u)?this.events.next(new qs(u.url,u.navigationBehaviorOptions)):s.resolve(!1);else{let l=new xa(s.id,this.urlSerializer.serialize(s.extractedUrl),u,s.targetSnapshot??void 0);try{let h=Ut(this.environmentInjector,()=>this.navigationErrorHandler?.(l));if(h instanceof ka){let{message:p,cancellationCode:m}=yd(this.urlSerializer,h);this.events.next(new qn(s.id,this.urlSerializer.serialize(s.extractedUrl),p,m)),this.events.next(new qs(h.redirectTo,h.navigationBehaviorOptions))}else{this.events.next(l);let p=n.errorHandler(u);s.resolve(!!p)}}catch(h){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(h)}}return Rt}))}))}cancelNavigationTransition(n,r,i){let s=new qn(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(s),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function cV(t){return t!==Sa}var uV=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:()=>x(lV),providedIn:"root"})}}return t})(),Mm=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},lV=(()=>{class t extends Mm{static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=xs(t)))(i||t)}})()}static{this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),OC=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:()=>x(dV),providedIn:"root"})}}return t})(),dV=(()=>{class t extends OC{constructor(){super(...arguments),this.location=x(Fs),this.urlSerializer=x(ja),this.options=x(za,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=x(km),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Gn,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=_C(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&n(r.url,r.state)})}handleRouterEvent(n,r){if(n instanceof zs)this.stateMemento=this.createStateMemento();else if(n instanceof Or)this.rawUrlTree=r.initialUrl;else if(n instanceof dd){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??i,r)}}else n instanceof Pa?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):n instanceof qn&&(n.code===xt.GuardRejected||n.code===xt.NoDataFromResolver)?this.restoreHistory(r):n instanceof xa?this.restoreHistory(r,!0):n instanceof Wn&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,r){let i=n instanceof Gn?this.urlSerializer.serialize(n):n;if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let s=this.browserPageId,o=F(F({},r.extras.state),this.generateNgRouterState(r.id,s));this.location.replaceState(i,"",o)}else{let s=F(F({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",s)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,s=this.currentPageId-i;s!==0?this.location.historyGo(s):this.currentUrlTree===n.finalUrl&&s===0&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=xs(t)))(i||t)}})()}static{this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Ca=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Ca||{});function kC(t,e){t.events.pipe(gt(n=>n instanceof Wn||n instanceof qn||n instanceof xa||n instanceof Or),Y(n=>n instanceof Wn||n instanceof Or?Ca.COMPLETE:(n instanceof qn?n.code===xt.Redirect||n.code===xt.SupersededByNewNavigation:!1)?Ca.REDIRECTING:Ca.FAILED),gt(n=>n!==Ca.REDIRECTING),xn(1)).subscribe(()=>{e()})}function hV(t){throw t}var fV={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},pV={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},kr=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=x(Ol),this.stateManager=x(OC),this.options=x(za,{optional:!0})||{},this.pendingTasks=x(Vn),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=x(Fm),this.urlSerializer=x(ja),this.location=x(Fs),this.urlHandlingStrategy=x(km),this._events=new Je,this.errorHandler=this.options.errorHandler||hV,this.navigated=!1,this.routeReuseStrategy=x(uV),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=x(Va,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!x(Id,{optional:!0}),this.eventsSubscription=new Pe,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(i!==null&&s!==null){if(this.stateManager.handleRouterEvent(r,s),r instanceof qn&&r.code!==xt.Redirect&&r.code!==xt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Wn)this.navigated=!0;else if(r instanceof qs){let o=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u=F({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||cV(i.source)},o);this.scheduleNavigation(a,Sa,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}mV(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Sa,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",r)},0)})}navigateToSyncWithBrowser(n,r,i){let s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){let u=F({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(s.state=u)}let a=this.parseUrl(n);this.scheduleNavigation(a,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(Pm),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:u}=r,l=u?this.currentUrlTree.fragment:o,h=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":h=F(F({},this.currentUrlTree.queryParams),s);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=s||null}h!==null&&(h=this.removeEmptyProps(h));let p;try{let m=i?i.snapshot:this.routerState.snapshot.root;p=gC(m)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),p=this.currentUrlTree.root}return mC(p,n,h,l??null)}navigateByUrl(n,r={skipLocationChange:!1}){let i=Na(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,Sa,null,r)}navigate(n,r={skipLocationChange:!1}){return gV(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=F({},fV):r===!1?i=F({},pV):i=r,Na(n))return Qb(this.currentUrlTree,n,i);let s=this.parseUrl(n);return Qb(this.currentUrlTree,s,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,s])=>(s!=null&&(r[i]=s),r),{})}scheduleNavigation(n,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,u,l;o?(a=o.resolve,u=o.reject,l=o.promise):l=new Promise((p,m)=>{a=p,u=m});let h=this.pendingTasks.add();return kC(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:s,resolve:a,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(p=>Promise.reject(p))}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function gV(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new $(4008,!1)}function mV(t){return!(t instanceof Pa)&&!(t instanceof qs)}var _d=class{};var yV=(()=>{class t{constructor(n,r,i,s,o){this.router=n,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(gt(n=>n instanceof Wn),Mn(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){let i=[];for(let s of r){s.providers&&!s._injector&&(s._injector=Ml(s.providers,n,`Route: ${s.path}`));let o=s._injector??n,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&s.canLoad===void 0||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return Ae(i).pipe(us())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(n,r):i=W(null);let s=i.pipe(Le(o=>o===null?W(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??n,o.routes))));if(r.loadComponent&&!r._loadedComponent){let o=this.loader.loadComponent(r);return Ae([s,o]).pipe(us())}else return s})}static{this.\u0275fac=function(r){return new(r||t)(z(kr),z(Fl),z(vt),z(_d),z(Om))}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),FC=new L(""),vV=(()=>{class t{constructor(n,r,i,s,o={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration||="disabled",o.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof zs?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof Wn?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof Or&&n.code===ld.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof hd&&(n.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(n.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new hd(n,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(r){IT()}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac})}}return t})();function D8(t,...e){return Vt([{provide:Va,multi:!0,useValue:t},[],{provide:Ti,useFactory:LC,deps:[kr]},{provide:fa,multi:!0,useFactory:VC},e.map(n=>n.\u0275providers)])}function LC(t){return t.routerState.root}function qa(t,e){return{\u0275kind:t,\u0275providers:e}}function VC(){let t=x(Xe);return e=>{let n=t.get(Sr);if(e!==n.components[0])return;let r=t.get(kr),i=t.get(UC);t.get(Lm)===1&&r.initialNavigation(),t.get(jC,null,ie.Optional)?.setUpPreloading(),t.get(FC,null,ie.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var UC=new L("",{factory:()=>new Je}),Lm=new L("",{providedIn:"root",factory:()=>1});function _V(){return qa(2,[{provide:Lm,useValue:0},{provide:kl,multi:!0,deps:[Xe],useFactory:e=>{let n=e.get(Ib,Promise.resolve());return()=>n.then(()=>new Promise(r=>{let i=e.get(kr),s=e.get(UC);kC(i,()=>{r(!0)}),e.get(Fm).afterPreactivation=()=>(r(!0),s.closed?W(void 0):s),i.initialNavigation()}))}}])}function IV(){return qa(3,[{provide:kl,multi:!0,useFactory:()=>{let e=x(kr);return()=>{e.setUpLocationChangeListener()}}},{provide:Lm,useValue:2}])}var jC=new L("");function wV(t){return qa(0,[{provide:jC,useExisting:yV},{provide:_d,useExisting:t}])}function EV(){return qa(8,[Xb,{provide:Id,useExisting:Xb}])}function DV(t){let e=[{provide:xC,useValue:sV},{provide:PC,useValue:F({skipNextTransition:!!t?.skipInitialTransition},t)}];return qa(9,e)}var rC=new L("ROUTER_FORROOT_GUARD"),TV=[Fs,{provide:ja,useClass:Hs},kr,$a,{provide:Ti,useFactory:LC,deps:[kr]},Om,[]],T8=(()=>{class t{constructor(n){}static forRoot(n,r){return{ngModule:t,providers:[TV,[],{provide:Va,multi:!0,useValue:n},{provide:rC,useFactory:SV,deps:[[kr,new ct,new Wp]]},{provide:za,useValue:r||{}},r?.useHash?CV():AV(),bV(),r?.preloadingStrategy?wV(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?RV(r):[],r?.bindToComponentInputs?EV().\u0275providers:[],r?.enableViewTransitions?DV().\u0275providers:[],NV()]}}static forChild(n){return{ngModule:t,providers:[{provide:Va,multi:!0,useValue:n}]}}static{this.\u0275fac=function(r){return new(r||t)(z(rC,8))}}static{this.\u0275mod=gn({type:t})}static{this.\u0275inj=pn({})}}return t})();function bV(){return{provide:FC,useFactory:()=>{let t=x(Ab),e=x(me),n=x(za),r=x(Fm),i=x(ja);return n.scrollOffset&&t.setOffset(n.scrollOffset),new vV(i,r,t,e,n)}}}function CV(){return{provide:wi,useClass:Eb}}function AV(){return{provide:wi,useClass:$g}}function SV(t){return"guarded"}function RV(t){return[t.initialNavigation==="disabled"?IV().\u0275providers:[],t.initialNavigation==="enabledBlocking"?_V().\u0275providers:[]]}var iC=new L("");function NV(){return[{provide:iC,useFactory:VC},{provide:fa,multi:!0,useExisting:iC}]}var QC=(()=>{class t{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static{this.\u0275fac=function(r){return new(r||t)(he(_i),he(Cr))}}static{this.\u0275dir=et({type:t})}}return t})(),MV=(()=>{class t extends QC{static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=xs(t)))(i||t)}})()}static{this.\u0275dir=et({type:t,features:[Un]})}}return t})(),YC=new L("");var xV={provide:YC,useExisting:mi(()=>JC),multi:!0};function PV(){let t=Hn()?Hn().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var OV=new L(""),JC=(()=>{class t extends QC{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!PV())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static{this.\u0275fac=function(r){return new(r||t)(he(_i),he(Cr),he(OV,8))}}static{this.\u0275dir=et({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&da("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[ha([xV]),Un]})}}return t})();function kV(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}var Um=new L(""),ZC=new L("");function FV(t){return kV(t.value)?{required:!0}:null}function BC(t){return null}function XC(t){return t!=null}function e0(t){return Ar(t)?Ae(t):t}function t0(t){let e={};return t.forEach(n=>{e=n!=null?F(F({},e),n):e}),Object.keys(e).length===0?null:e}function n0(t,e){return e.map(n=>n(t))}function LV(t){return!t.validate}function r0(t){return t.map(e=>LV(e)?e:n=>e.validate(n))}function VV(t){if(!t)return null;let e=t.filter(XC);return e.length==0?null:function(n){return t0(n0(n,e))}}function jm(t){return t!=null?VV(r0(t)):null}function UV(t){if(!t)return null;let e=t.filter(XC);return e.length==0?null:function(n){let r=n0(n,e).map(e0);return Uf(r).pipe(Y(t0))}}function Bm(t){return t!=null?UV(r0(t)):null}function $C(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function jV(t){return t._rawValidators}function BV(t){return t._rawAsyncValidators}function Vm(t){return t?Array.isArray(t)?t:[t]:[]}function Dd(t,e){return Array.isArray(t)?t.includes(e):t===e}function HC(t,e){let n=Vm(e);return Vm(t).forEach(i=>{Dd(n,i)||n.push(i)}),n}function zC(t,e){return Vm(e).filter(n=>!Dd(t,n))}var Td=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=jm(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Bm(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},Ys=class extends Td{get formDirective(){return null}get path(){return null}},Ja=class extends Td{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},bd=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},$V={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},$8=ae(F({},$V),{"[class.ng-submitted]":"isSubmitted"}),H8=(()=>{class t extends bd{constructor(n){super(n)}static{this.\u0275fac=function(r){return new(r||t)(he(Ja,2))}}static{this.\u0275dir=et({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&Pl("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[Un]})}}return t})(),z8=(()=>{class t extends bd{constructor(n){super(n)}static{this.\u0275fac=function(r){return new(r||t)(he(Ys,10))}}static{this.\u0275dir=et({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&Pl("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[Un]})}}return t})();var Ga="VALID",Ed="INVALID",Ks="PENDING",Wa="DISABLED",Js=class{},Cd=class extends Js{constructor(e,n){super(),this.value=e,this.source=n}},Qa=class extends Js{constructor(e,n){super(),this.pristine=e,this.source=n}},Ya=class extends Js{constructor(e,n){super(),this.touched=e,this.source=n}},Qs=class extends Js{constructor(e,n){super(),this.status=e,this.source=n}};function i0(t){return(Rd(t)?t.validators:t)||null}function HV(t){return Array.isArray(t)?jm(t):t||null}function s0(t,e){return(Rd(e)?e.asyncValidators:t)||null}function zV(t){return Array.isArray(t)?Bm(t):t||null}function Rd(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function qV(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new $(1e3,"");if(!r[n])throw new $(1001,"")}function GV(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new $(1002,"")})}var Ad=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=ga(()=>this.statusReactive()),this.statusReactive=la(void 0),this._pristine=ga(()=>this.pristineReactive()),this.pristineReactive=la(!0),this._touched=ga(()=>this.touchedReactive()),this.touchedReactive=la(!1),this._events=new Je,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Xt(this.statusReactive)}set status(e){Xt(()=>this.statusReactive.set(e))}get valid(){return this.status===Ga}get invalid(){return this.status===Ed}get pending(){return this.status==Ks}get disabled(){return this.status===Wa}get enabled(){return this.status!==Wa}get pristine(){return Xt(this.pristineReactive)}set pristine(e){Xt(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return Xt(this.touchedReactive)}set touched(e){Xt(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(HC(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(HC(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(zC(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(zC(e,this._rawAsyncValidators))}hasValidator(e){return Dd(this._rawValidators,e)}hasAsyncValidator(e){return Dd(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(ae(F({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new Ya(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new Ya(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(ae(F({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new Qa(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new Qa(!0,r))}markAsPending(e={}){this.status=Ks;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Qs(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(ae(F({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Wa,this.errors=null,this._forEachChild(i=>{i.disable(ae(F({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Cd(this.value,r)),this._events.next(new Qs(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ae(F({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Ga,this._forEachChild(r=>{r.enable(ae(F({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(ae(F({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ga||this.status===Ks)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Cd(this.value,n)),this._events.next(new Qs(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(ae(F({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Wa:Ga}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=Ks,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let r=e0(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Qs(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new Ue,this.statusChanges=new Ue}_calculateStatus(){return this._allControlsDisabled()?Wa:this.errors?Ed:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ks)?Ks:this._anyControlsHaveStatus(Ed)?Ed:Ga}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&this._events.next(new Qa(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new Ya(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Rd(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=HV(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=zV(this._rawAsyncValidators)}},Sd=class extends Ad{constructor(e,n,r){super(i0(n),s0(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){GV(this,!0,e),Object.keys(e).forEach(r=>{qV(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,s)=>{r=n(r,i,s)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var $m=new L("CallSetDisabledState",{providedIn:"root",factory:()=>Hm}),Hm="always";function WV(t,e){return[...e.path,t]}function o0(t,e,n=Hm){a0(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),QV(t,e),JV(t,e),YV(t,e),KV(t,e)}function qC(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function KV(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function a0(t,e){let n=jV(t);e.validator!==null?t.setValidators($C(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=BV(t);e.asyncValidator!==null?t.setAsyncValidators($C(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();qC(e._rawValidators,i),qC(e._rawAsyncValidators,i)}function QV(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&c0(t,e)})}function YV(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&c0(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function c0(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function JV(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function ZV(t,e){t==null,a0(t,e)}function XV(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function eU(t){return Object.getPrototypeOf(t.constructor)===MV}function tU(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function nU(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(s=>{s.constructor===JC?n=s:eU(s)?r=s:i=s}),i||r||n||null}var rU={provide:Ys,useExisting:mi(()=>iU)},Ka=Promise.resolve(),iU=(()=>{class t extends Ys{get submitted(){return Xt(this.submittedReactive)}constructor(n,r,i){super(),this.callSetDisabledState=i,this._submitted=ga(()=>this.submittedReactive()),this.submittedReactive=la(!1),this._directives=new Set,this.ngSubmit=new Ue,this.form=new Sd({},jm(n),Bm(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){Ka.then(()=>{let r=this._findContainer(n.path);n.control=r.registerControl(n.name,n.control),o0(n.control,n,this.callSetDisabledState),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){Ka.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){Ka.then(()=>{let r=this._findContainer(n.path),i=new Sd({});ZV(i,n),r.registerControl(n.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){Ka.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,r){Ka.then(()=>{this.form.get(n.path).setValue(r)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submittedReactive.set(!0),tU(this.form,this._directives),this.ngSubmit.emit(n),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}static{this.\u0275fac=function(r){return new(r||t)(he(Um,10),he(ZC,10),he($m,8))}}static{this.\u0275dir=et({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&da("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[ha([rU]),Un]})}}return t})();function GC(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function WC(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var sU=class extends Ad{constructor(e=null,n,r){super(i0(n),s0(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Rd(n)&&(n.nonNullable||n.initialValueIsDefault)&&(WC(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){GC(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){GC(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){WC(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var oU={provide:Ja,useExisting:mi(()=>aU)},KC=Promise.resolve(),aU=(()=>{class t extends Ja{constructor(n,r,i,s,o,a){super(),this._changeDetectorRef=o,this.callSetDisabledState=a,this.control=new sU,this._registered=!1,this.name="",this.update=new Ue,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=nU(this,s)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),XV(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){o0(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){KC.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let r=n.isDisabled.currentValue,i=r!==0&&pa(r);KC.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?WV(n,this._parent):[n]}static{this.\u0275fac=function(r){return new(r||t)(he(Ys,9),he(Um,10),he(ZC,10),he(YC,10),he(Rr,8),he($m,8))}}static{this.\u0275dir=et({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[ha([oU]),Un,yi]})}}return t})(),G8=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=et({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return t})();var cU=(()=>{class t{constructor(){this._validator=BC}ngOnChanges(n){if(this.inputName in n){let r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):BC,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return n!=null}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=et({type:t,features:[yi]})}}return t})();var uU={provide:Um,useExisting:mi(()=>lU),multi:!0};var lU=(()=>{class t extends cU{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=pa,this.createValidator=n=>FV}enabled(n){return n}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=xs(t)))(i||t)}})()}static{this.\u0275dir=et({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&xl("required",i._enabled?"":null)},inputs:{required:"required"},features:[ha([uU]),Un]})}}return t})();var dU=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=gn({type:t})}static{this.\u0275inj=pn({})}}return t})();var W8=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:$m,useValue:n.callSetDisabledState??Hm}]}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=gn({type:t})}static{this.\u0275inj=pn({imports:[dU]})}}return t})();var l0=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},hU=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=t[n++],o=t[n++],a=t[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},d0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,h=s>>2,p=(s&3)<<4|a>>4,m=(a&15)<<2|l>>6,y=l&63;u||(y=64,o||(m=64)),r.push(n[h],n[p],n[m],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(l0(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):hU(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let p=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||l==null||p==null)throw new qm;let m=s<<2|a>>4;if(r.push(m),l!==64){let y=a<<4&240|l>>2;if(r.push(y),p!==64){let C=l<<6&192|p;r.push(C)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},qm=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},fU=function(t){let e=l0(t);return d0.encodeByteArray(e,!0)},Za=function(t){return fU(t).replace(/\./g,"")},Wm=function(t){try{return d0.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function pU(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var gU=()=>pU().__FIREBASE_DEFAULTS__,mU=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},yU=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&Wm(t[1]);return e&&JSON.parse(e)},Md=()=>{try{return gU()||mU()||yU()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Km=t=>{var e,n;return(n=(e=Md())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},h0=t=>{let e=Km(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Qm=()=>{var t;return(t=Md())===null||t===void 0?void 0:t.config},Ym=t=>{var e;return(e=Md())===null||e===void 0?void 0:e[`_${t}`]};var Nd=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function f0(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Za(JSON.stringify(n)),Za(JSON.stringify(o)),""].join(".")}function Ke(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function p0(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ke())}function vU(){var t;let e=(t=Md())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function g0(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function m0(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function y0(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function v0(){let t=Ke();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function _0(){return!vU()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Jm(){try{return typeof indexedDB=="object"}catch{return!1}}function I0(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}var _U="FirebaseError",Pt=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=_U,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Kn.prototype.create)}},Kn=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?IU(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Pt(i,a,r)}};function IU(t,e){return t.replace(wU,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var wU=/\{\$([^}]+)}/g;function w0(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function bi(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let s=t[i],o=e[i];if(u0(s)&&u0(o)){if(!bi(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function u0(t){return t!==null&&typeof t=="object"}function Xa(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Zs(t){let e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Xs(t){let e=t.indexOf("?");if(!e)return"";let n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function E0(t,e){let n=new Gm(t,e);return n.subscribe.bind(n)}var Gm=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");EU(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=zm),i.error===void 0&&(i.error=zm),i.complete===void 0&&(i.complete=zm);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function EU(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function zm(){}var Y8=4*60*60*1e3;function nt(t){return t&&t._delegate?t._delegate:t}var qt=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Ci="[DEFAULT]";var Zm=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new Nd;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(TU(e))try{this.getOrInitializeService({instanceIdentifier:Ci})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Ci){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return w(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Ci){return this.instances.has(e)}getOptions(e=Ci){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:DU(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ci){return this.component?this.component.multipleInstances?e:Ci:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function DU(t){return t===Ci?void 0:t}function TU(t){return t.instantiationMode==="EAGER"}var xd=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new Zm(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var bU=[],ue=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(ue||{}),CU={debug:ue.DEBUG,verbose:ue.VERBOSE,info:ue.INFO,warn:ue.WARN,error:ue.ERROR,silent:ue.SILENT},AU=ue.INFO,SU={[ue.DEBUG]:"log",[ue.VERBOSE]:"log",[ue.INFO]:"info",[ue.WARN]:"warn",[ue.ERROR]:"error"},RU=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=SU[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Lr=class{constructor(e){this.name=e,this._logLevel=AU,this._logHandler=RU,this._userLogHandler=null,bU.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?CU[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ue.DEBUG,...e),this._logHandler(this,ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ue.VERBOSE,...e),this._logHandler(this,ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ue.INFO,...e),this._logHandler(this,ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ue.WARN,...e),this._logHandler(this,ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ue.ERROR,...e),this._logHandler(this,ue.ERROR,...e)}};var NU=(t,e)=>e.some(n=>t instanceof n),D0,T0;function MU(){return D0||(D0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function xU(){return T0||(T0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var b0=new WeakMap,ey=new WeakMap,C0=new WeakMap,Xm=new WeakMap,ny=new WeakMap;function PU(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(yn(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&b0.set(n,t)}).catch(()=>{}),ny.set(e,t),e}function OU(t){if(ey.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});ey.set(t,e)}var ty={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return ey.get(t);if(e==="objectStoreNames")return t.objectStoreNames||C0.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return yn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function A0(t){ty=t(ty)}function kU(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(Pd(this),e,...n);return C0.set(r,e.sort?e.sort():[e]),yn(r)}:xU().includes(t)?function(...e){return t.apply(Pd(this),e),yn(b0.get(this))}:function(...e){return yn(t.apply(Pd(this),e))}}function FU(t){return typeof t=="function"?kU(t):(t instanceof IDBTransaction&&OU(t),NU(t,MU())?new Proxy(t,ty):t)}function yn(t){if(t instanceof IDBRequest)return PU(t);if(Xm.has(t))return Xm.get(t);let e=FU(t);return e!==t&&(Xm.set(t,e),ny.set(e,t)),e}var Pd=t=>ny.get(t);function R0(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(t,e),a=yn(o);return r&&o.addEventListener("upgradeneeded",u=>{r(yn(o.result),u.oldVersion,u.newVersion,yn(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var LU=["get","getKey","getAll","getAllKeys","count"],VU=["put","add","delete","clear"],ry=new Map;function S0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(ry.get(e))return ry.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=VU.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||LU.includes(n)))return;let s=function(o,...a){return w(this,null,function*(){let u=this.transaction(o,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[n](...a),i&&u.done]))[0]})};return ry.set(e,s),s}A0(t=>ae(F({},t),{get:(e,n,r)=>S0(e,n)||t.get(e,n,r),has:(e,n)=>!!S0(e,n)||t.has(e,n)}));var sy=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(UU(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function UU(t){let e=t.getComponent();return e?.type==="VERSION"}var oy="@firebase/app",N0="0.10.11";var Qn=new Lr("@firebase/app"),jU="@firebase/app-compat",BU="@firebase/analytics-compat",$U="@firebase/analytics",HU="@firebase/app-check-compat",zU="@firebase/app-check",qU="@firebase/auth",GU="@firebase/auth-compat",WU="@firebase/database",KU="@firebase/database-compat",QU="@firebase/functions",YU="@firebase/functions-compat",JU="@firebase/installations",ZU="@firebase/installations-compat",XU="@firebase/messaging",ej="@firebase/messaging-compat",tj="@firebase/performance",nj="@firebase/performance-compat",rj="@firebase/remote-config",ij="@firebase/remote-config-compat",sj="@firebase/storage",oj="@firebase/storage-compat",aj="@firebase/firestore",cj="@firebase/vertexai-preview",uj="@firebase/firestore-compat",lj="firebase",dj="10.13.2";var ay="[DEFAULT]",hj={[oy]:"fire-core",[jU]:"fire-core-compat",[$U]:"fire-analytics",[BU]:"fire-analytics-compat",[zU]:"fire-app-check",[HU]:"fire-app-check-compat",[qU]:"fire-auth",[GU]:"fire-auth-compat",[WU]:"fire-rtdb",[KU]:"fire-rtdb-compat",[QU]:"fire-fn",[YU]:"fire-fn-compat",[JU]:"fire-iid",[ZU]:"fire-iid-compat",[XU]:"fire-fcm",[ej]:"fire-fcm-compat",[tj]:"fire-perf",[nj]:"fire-perf-compat",[rj]:"fire-rc",[ij]:"fire-rc-compat",[sj]:"fire-gcs",[oj]:"fire-gcs-compat",[aj]:"fire-fst",[uj]:"fire-fst-compat",[cj]:"fire-vertex","fire-js":"fire-js",[lj]:"fire-js-all"};var ec=new Map,fj=new Map,cy=new Map;function M0(t,e){try{t.container.addComponent(e)}catch(n){Qn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ur(t){let e=t.name;if(cy.has(e))return Qn.debug(`There were multiple attempts to register component ${e}.`),!1;cy.set(e,t);for(let n of ec.values())M0(n,t);for(let n of fj.values())M0(n,t);return!0}function nc(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function nn(t){return t.settings!==void 0}var pj={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Vr=new Kn("app","Firebase",pj);var uy=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new qt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Vr.create("app-deleted",{appName:this._name})}};var jr=dj;function hy(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:ay,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Vr.create("bad-app-name",{appName:String(i)});if(n||(n=Qm()),!n)throw Vr.create("no-options");let s=ec.get(i);if(s){if(bi(n,s.options)&&bi(r,s.config))return s;throw Vr.create("duplicate-app",{appName:i})}let o=new xd(i);for(let u of cy.values())o.addComponent(u);let a=new uy(n,r,o);return ec.set(i,a),a}function eo(t=ay){let e=ec.get(t);if(!e&&t===ay&&Qm())return hy();if(!e)throw Vr.create("no-app",{appName:t});return e}function Od(){return Array.from(ec.values())}function Ge(t,e,n){var r;let i=(r=hj[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Qn.warn(a.join(" "));return}Ur(new qt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var gj="firebase-heartbeat-database",mj=1,tc="firebase-heartbeat-store",iy=null;function k0(){return iy||(iy=R0(gj,mj,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(tc)}catch(n){console.warn(n)}}}}).catch(t=>{throw Vr.create("idb-open",{originalErrorMessage:t.message})})),iy}function yj(t){return w(this,null,function*(){try{let n=(yield k0()).transaction(tc),r=yield n.objectStore(tc).get(F0(t));return yield n.done,r}catch(e){if(e instanceof Pt)Qn.warn(e.message);else{let n=Vr.create("idb-get",{originalErrorMessage:e?.message});Qn.warn(n.message)}}})}function x0(t,e){return w(this,null,function*(){try{let r=(yield k0()).transaction(tc,"readwrite");yield r.objectStore(tc).put(e,F0(t)),yield r.done}catch(n){if(n instanceof Pt)Qn.warn(n.message);else{let r=Vr.create("idb-set",{originalErrorMessage:n?.message});Qn.warn(r.message)}}})}function F0(t){return`${t.name}!${t.options.appId}`}var vj=1024,_j=30*24*60*60*1e3,ly=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new dy(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return w(this,null,function*(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=P0();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let a=new Date(o.date).valueOf();return Date.now()-a<=_j}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Qn.warn(r)}})}getHeartbeatsHeader(){return w(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=P0(),{heartbeatsToSend:r,unsentEntries:i}=Ij(this._heartbeatsCache.heartbeats),s=Za(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Qn.warn(n),""}})}};function P0(){return new Date().toISOString().substring(0,10)}function Ij(t,e=vj){let n=[],r=t.slice();for(let i of t){let s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),O0(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),O0(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var dy=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return w(this,null,function*(){return Jm()?I0().then(()=>!0).catch(()=>!1):!1})}read(){return w(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield yj(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return w(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return x0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return w(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return x0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function O0(t){return Za(JSON.stringify({version:2,heartbeats:t})).length}function wj(t){Ur(new qt("platform-logger",e=>new sy(e),"PRIVATE")),Ur(new qt("heartbeat",e=>new ly(e),"PRIVATE")),Ge(oy,N0,t),Ge(oy,N0,"esm2017"),Ge("fire-js","")}wj("");var Ej="firebase",Dj="10.13.2";Ge(Ej,Dj,"app");var Si=new kn("ANGULARFIRE2_VERSION");function Fd(t,e,n){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===n);if(s.length===1)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var rc=(t,e)=>{let n=e?[e]:Od(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},no=class{constructor(){return rc(Tj)}},Tj="app-check";function to(){}var kd=class{zone;delegate;constructor(e,n=Ff){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,s=function(o){i.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,n,r)}},fy=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",to,{},to,to)),n.pipe(Ve({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},ro=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new kd(Zone.current)),this.insideAngular=n.run(()=>new kd(Zone.current,kf)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(z(me))};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Ld(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function bj(t){return Ld().ngZone.runOutsideAngular(()=>t())}function Ai(t){return Ld().ngZone.run(()=>t())}function Cj(t){return Aj(Ld())(t)}function Aj(t){return function(n){return n=n.lift(new fy(t.ngZone)),n.pipe(fr(t.outsideAngular),hr(t.insideAngular))}}var Sj=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),Ai(()=>t.apply(void 0,r))},ut=(t,e)=>function(){let n,r=arguments;for(let s=0;s<arguments.length;s++)typeof r[s]=="function"&&(e&&(n||=Ai(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",to,{},to,to))),r[s]=Sj(r[s],n));let i=bj(()=>t.apply(this,r));if(!e)if(i instanceof re){let s=Ld();return i.pipe(fr(s.outsideAngular),hr(s.insideAngular))}else return Ai(()=>i);return i instanceof re?i.pipe(Cj):i instanceof Promise?Ai(()=>new Promise((s,o)=>i.then(a=>Ai(()=>s(a)),a=>Ai(()=>o(a))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:Ai(()=>i)};var Yn=class{constructor(e){return e}},Ri=class{constructor(){return Od()}};function Rj(t){return t&&t.length===1?t[0]:new Yn(eo())}var py=new L("angularfire2._apps"),Nj={provide:Yn,useFactory:Rj,deps:[[new ct,py]]},Mj={provide:Ri,deps:[[new ct,py]]};function xj(t){return(e,n)=>{let r=n.get(Bt);Ge("angularfire",Si.full,"core"),Ge("angularfire",Si.full,"app"),Ge("angular",rb.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new Yn(i)}}function F5(t,...e){return Vt([Nj,Mj,{provide:py,useFactory:xj(t),multi:!0,deps:[me,Xe,ro,...e]}])}var L5=ut(hy,!0);function X0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var eA=X0,tA=new Kn("auth","Firebase",X0());var Hd=new Lr("@firebase/auth");function Pj(t,...e){Hd.logLevel<=ue.WARN&&Hd.warn(`Auth (${jr}): ${t}`,...e)}function Ud(t,...e){Hd.logLevel<=ue.ERROR&&Hd.error(`Auth (${jr}): ${t}`,...e)}function _n(t,...e){throw Ly(t,...e)}function Ni(t,...e){return Ly(t,...e)}function nA(t,e,n){let r=Object.assign(Object.assign({},eA()),{[e]:n});return new Kn("auth","Firebase",r).create(e,{appName:t.name})}function Xn(t){return nA(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ly(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return tA.create(t,...e)}function K(t,e,...n){if(!t)throw Ly(e,...n)}function Jn(t){let e="INTERNAL ASSERTION FAILED: "+t;throw Ud(e),new Error(e)}function $r(t,e){t||Jn(e)}function vy(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function Oj(){return L0()==="http:"||L0()==="https:"}function L0(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function kj(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Oj()||m0()||"connection"in navigator)?navigator.onLine:!0}function Fj(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var Mi=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,$r(n>e,"Short delay should be less than long delay!"),this.isMobile=p0()||y0()}get(){return kj()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function Vy(t,e){$r(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var zd=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Jn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Jn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Jn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var Lj={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var Vj=new Mi(3e4,6e4);function Hr(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function zr(s,o,a,u){return w(this,arguments,function*(t,e,n,r,i={}){return rA(t,i,()=>w(this,null,function*(){let l={},h={};r&&(e==="GET"?h=r:l={body:JSON.stringify(r)});let p=Xa(Object.assign({key:t.config.apiKey},h)).slice(1),m=yield t._getAdditionalHeaders();m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode);let y=Object.assign({method:e,headers:m},l);return g0()||(y.referrerPolicy="no-referrer"),zd.fetch()(iA(t,t.config.apiHost,n,p),y)}))})}function rA(t,e,n){return w(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},Lj),e);try{let i=new _y(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw Vd(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Vd(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw Vd(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw Vd(t,"user-disabled",o);let h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw nA(t,h,l);_n(t,h)}}catch(i){if(i instanceof Pt)throw i;_n(t,"network-request-failed",{message:String(i)})}})}function dc(s,o,a,u){return w(this,arguments,function*(t,e,n,r,i={}){let l=yield zr(t,e,n,r,i);return"mfaPendingCredential"in l&&_n(t,"multi-factor-auth-required",{_serverResponse:l}),l})}function iA(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?Vy(t.config,i):`${t.config.apiScheme}://${i}`}function Uj(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var _y=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ni(this.auth,"network-request-failed")),Vj.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function Vd(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=Ni(t,e,r);return i.customData._tokenResponse=n,i}function V0(t){return t!==void 0&&t.enterprise!==void 0}var Iy=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Uj(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function jj(t,e){return w(this,null,function*(){return zr(t,"GET","/v2/recaptchaConfig",Hr(t,e))})}function Bj(t,e){return w(this,null,function*(){return zr(t,"POST","/v1/accounts:delete",e)})}function sA(t,e){return w(this,null,function*(){return zr(t,"POST","/v1/accounts:lookup",e)})}function ic(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Uy(t,e=!1){return w(this,null,function*(){let n=nt(t),r=yield n.getIdToken(e),i=jy(r);K(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:ic(gy(i.auth_time)),issuedAtTime:ic(gy(i.iat)),expirationTime:ic(gy(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function gy(t){return Number(t)*1e3}function jy(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Ud("JWT malformed, contained fewer than 3 sections"),null;try{let i=Wm(n);return i?JSON.parse(i):(Ud("Failed to decode base64 JWT payload"),null)}catch(i){return Ud("Caught error parsing JWT payload as JSON",i?.toString()),null}}function U0(t){let e=jy(t);return K(e,"internal-error"),K(typeof e.exp<"u","internal-error"),K(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function oc(t,e,n=!1){return w(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof Pt&&$j(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function $j({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var wy=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>w(this,null,function*(){yield this.iteration()}),n)}iteration(){return w(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var ac=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ic(this.lastLoginAt),this.creationTime=ic(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function qd(t){return w(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield oc(t,sA(n,{idToken:r}));K(i?.users.length,n,"internal-error");let s=i.users[0];t._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?oA(s.providerUserInfo):[],a=Hj(t.providerData,o),u=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!a?.length,h=u?l:!1,p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new ac(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(t,p)})}function By(t){return w(this,null,function*(){let e=nt(t);yield qd(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function Hj(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function oA(t){return t.map(e=>{var{providerId:n}=e,r=Lf(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function zj(t,e){return w(this,null,function*(){let n=yield rA(t,{},()=>w(this,null,function*(){let r=Xa({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=iA(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",zd.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function qj(t,e){return w(this,null,function*(){return zr(t,"POST","/v2/accounts:revokeToken",Hr(t,e))})}var sc=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){K(e.idToken,"internal-error"),K(typeof e.idToken<"u","internal-error"),K(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):U0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){K(e.length!==0,"internal-error");let n=U0(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return w(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(K(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return w(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield zj(e,n);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new t;return r&&(K(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(K(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(K(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return Jn("not implemented")}};function Br(t,e){K(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var io=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Lf(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new wy(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new ac(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return w(this,null,function*(){let n=yield oc(this,this.stsTokenManager.getToken(this.auth,e));return K(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return Uy(this,e)}reload(){return By(this)}_assign(e){this!==e&&(K(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){K(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return w(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield qd(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return w(this,null,function*(){if(nn(this.auth.app))return Promise.reject(Xn(this.auth));let e=yield this.getIdToken();return yield oc(this,Bj(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,u,l,h;let p=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(i=n.email)!==null&&i!==void 0?i:void 0,y=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,C=(o=n.photoURL)!==null&&o!==void 0?o:void 0,N=(a=n.tenantId)!==null&&a!==void 0?a:void 0,R=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,k=(l=n.createdAt)!==null&&l!==void 0?l:void 0,H=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:V,emailVerified:X,isAnonymous:Ie,providerData:G,stsTokenManager:E}=n;K(V&&E,e,"internal-error");let v=sc.fromJSON(this.name,E);K(typeof V=="string",e,"internal-error"),Br(p,e.name),Br(m,e.name),K(typeof X=="boolean",e,"internal-error"),K(typeof Ie=="boolean",e,"internal-error"),Br(y,e.name),Br(C,e.name),Br(N,e.name),Br(R,e.name),Br(k,e.name),Br(H,e.name);let _=new t({uid:V,auth:e,email:m,emailVerified:X,displayName:p,isAnonymous:Ie,photoURL:C,phoneNumber:y,tenantId:N,stsTokenManager:v,createdAt:k,lastLoginAt:H});return G&&Array.isArray(G)&&(_.providerData=G.map(D=>Object.assign({},D))),R&&(_._redirectEventId=R),_}static _fromIdTokenResponse(e,n,r=!1){return w(this,null,function*(){let i=new sc;i.updateFromServerResponse(n);let s=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield qd(s),s})}static _fromGetAccountInfoResponse(e,n,r){return w(this,null,function*(){let i=n.users[0];K(i.localId!==void 0,"internal-error");let s=i.providerUserInfo!==void 0?oA(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,a=new sc;a.updateFromIdToken(r);let u=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new ac(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(u,l),u})}};var j0=new Map;function Zn(t){$r(t instanceof Function,"Expected a class definition");let e=j0.get(t);return e?($r(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,j0.set(t,e),e)}var Gj=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return w(this,null,function*(){return!0})}_set(n,r){return w(this,null,function*(){this.storage[n]=r})}_get(n){return w(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return w(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),Ey=Gj;function jd(t,e,n){return`firebase:${t}:${e}:${n}`}var Gd=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=jd(this.userKey,i.apiKey,s),this.fullPersistenceKey=jd("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return w(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?io._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return w(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return w(this,null,function*(){if(!n.length)return new t(Zn(Ey),e,r);let i=(yield Promise.all(n.map(l=>w(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),s=i[0]||Zn(Ey),o=jd(r,e.config.apiKey,e.name),a=null;for(let l of n)try{let h=yield l._get(o);if(h){let p=io._fromJSON(e,h);l!==s&&(a=p),s=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new t(s,e,r):(s=u[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(l=>w(this,null,function*(){if(l!==s)try{yield l._remove(o)}catch{}}))),new t(s,e,r))})}};function B0(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(lA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(aA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(hA(e))return"Blackberry";if(fA(e))return"Webos";if(cA(e))return"Safari";if((e.includes("chrome/")||uA(e))&&!e.includes("edge/"))return"Chrome";if(dA(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function aA(t=Ke()){return/firefox\//i.test(t)}function cA(t=Ke()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function uA(t=Ke()){return/crios\//i.test(t)}function lA(t=Ke()){return/iemobile/i.test(t)}function dA(t=Ke()){return/android/i.test(t)}function hA(t=Ke()){return/blackberry/i.test(t)}function fA(t=Ke()){return/webos/i.test(t)}function $y(t=Ke()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Wj(t=Ke()){var e;return $y(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Kj(){return v0()&&document.documentMode===10}function pA(t=Ke()){return $y(t)||dA(t)||fA(t)||hA(t)||/windows phone/i.test(t)||lA(t)}function gA(t,e=[]){let n;switch(t){case"Browser":n=B0(Ke());break;case"Worker":n=`${B0(Ke())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${jr}/${r}`}var Dy=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=s=>new Promise((o,a)=>{try{let u=e(s);o(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return w(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function Qj(n){return w(this,arguments,function*(t,e={}){return zr(t,"GET","/v2/passwordPolicy",Hr(t,e))})}var Yj=6,Ty=class{constructor(e){var n,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:Yj,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var by=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Wd(this),this.idTokenSubscription=new Wd(this),this.beforeStateQueue=new Dy(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=tA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Zn(n)),this._initializationPromise=this.queue(()=>w(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield Gd.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return w(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return w(this,null,function*(){try{let n=yield sA(this,{idToken:e}),r=yield io._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return w(this,null,function*(){var n;if(nn(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!o||o===a)&&u?.user&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return K(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return w(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return w(this,null,function*(){try{yield qd(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=Fj()}_delete(){return w(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return w(this,null,function*(){if(nn(this.app))return Promise.reject(Xn(this));let n=e?nt(e):null;return n&&K(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return w(this,null,function*(){if(!this._deleted)return e&&K(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>w(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return w(this,null,function*(){return nn(this.app)?Promise.reject(Xn(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return nn(this.app)?Promise.reject(Xn(this)):this.queue(()=>w(this,null,function*(){yield this.assertedPersistence.setPersistence(Zn(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return w(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return w(this,null,function*(){let e=yield Qj(this),n=new Ty(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Kn("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return w(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield qj(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return w(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return w(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&Zn(e)||this._popupRedirectResolver;K(n,this,"argument-error"),this.redirectPersistenceManager=yield Gd.create(this,[Zn(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return w(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>w(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return w(this,null,function*(){if(e===this.currentUser)return this.queue(()=>w(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let s=typeof n=="function"?n:n.next.bind(n),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(K(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){let u=e.addObserver(n,r,i);return()=>{o=!0,u()}}else{let u=e.addObserver(n);return()=>{o=!0,u()}}}directlySetCurrentUser(e){return w(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return K(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=gA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return w(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return w(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&Pj(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function Pi(t){return nt(t)}var Wd=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=E0(n=>this.observer=n)}get next(){return K(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var eh={loadJS(){return w(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Jj(t){eh=t}function mA(t){return eh.loadJS(t)}function Zj(){return eh.recaptchaEnterpriseScript}function Xj(){return eh.gapiScript}function yA(t){return`__${t}${Math.floor(Math.random()*1e6)}`}var e2="recaptcha-enterprise",t2="NO_RECAPTCHA",Cy=class{constructor(e){this.type=e2,this.auth=Pi(e)}verify(e="verify",n=!1){return w(this,null,function*(){function r(s){return w(this,null,function*(){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise((o,a)=>w(this,null,function*(){jj(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let l=new Iy(u);return s.tenantId==null?s._agentRecaptchaConfig=l:s._tenantRecaptchaConfigs[s.tenantId]=l,o(l.siteKey)}}).catch(u=>{a(u)})}))})}function i(s,o,a){let u=window.grecaptcha;V0(u)?u.enterprise.ready(()=>{u.enterprise.execute(s,{action:e}).then(l=>{o(l)}).catch(()=>{o(t2)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&V0(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let u=Zj();u.length!==0&&(u+=a),mA(u).then(()=>{i(a,s,o)}).catch(l=>{o(l)})}}).catch(a=>{o(a)})})})}};function $0(t,e,n,r=!1){return w(this,null,function*(){let i=new Cy(t),s;try{s=yield i.verify(n)}catch{s=yield i.verify(n,!0)}let o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o})}function Ay(t,e,n,r){return w(this,null,function*(){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let s=yield $0(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(s=>w(this,null,function*(){if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let o=yield $0(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)}))})}function Hy(t,e){let n=nc(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),s=n.getOptions();if(bi(s,e??{}))return i;_n(i,"already-initialized")}return n.initialize({options:e})}function n2(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Zn);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function zy(t,e,n){let r=Pi(t);K(r._canInitEmulator,r,"emulator-config-failed"),K(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,s=vA(e),{host:o,port:a}=r2(e),u=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||i2()}function vA(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function r2(t){let e=vA(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let s=i[1];return{host:s,port:H0(r.substr(s.length+1))}}else{let[s,o]=r.split(":");return{host:s,port:H0(o)}}}function H0(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function i2(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var cc=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Jn("not implemented")}_getIdTokenResponse(e){return Jn("not implemented")}_linkToIdToken(e,n){return Jn("not implemented")}_getReauthenticationResolver(e){return Jn("not implemented")}};function s2(t,e){return w(this,null,function*(){return zr(t,"POST","/v1/accounts:signUp",e)})}function o2(t,e){return w(this,null,function*(){return dc(t,"POST","/v1/accounts:signInWithPassword",Hr(t,e))})}function a2(t,e){return w(this,null,function*(){return dc(t,"POST","/v1/accounts:signInWithEmailLink",Hr(t,e))})}function c2(t,e){return w(this,null,function*(){return dc(t,"POST","/v1/accounts:signInWithEmailLink",Hr(t,e))})}var uc=class t extends cc{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new t(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new t(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){return w(this,null,function*(){switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ay(e,n,"signInWithPassword",o2);case"emailLink":return a2(e,{email:this._email,oobCode:this._password});default:_n(e,"internal-error")}})}_linkToIdToken(e,n){return w(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ay(e,r,"signUpPassword",s2);case"emailLink":return c2(e,{idToken:n,email:this._email,oobCode:this._password});default:_n(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function my(t,e){return w(this,null,function*(){return dc(t,"POST","/v1/accounts:signInWithIdp",Hr(t,e))})}function u2(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function l2(t){let e=Zs(Xs(t)).link,n=e?Zs(Xs(e)).deep_link_id:null,r=Zs(Xs(t)).deep_link_id;return(r?Zs(Xs(r)).link:null)||r||n||e||t}var Kd=class t{constructor(e){var n,r,i,s,o,a;let u=Zs(Xs(e)),l=(n=u.apiKey)!==null&&n!==void 0?n:null,h=(r=u.oobCode)!==null&&r!==void 0?r:null,p=u2((i=u.mode)!==null&&i!==void 0?i:null);K(l&&h&&p,"argument-error"),this.apiKey=l,this.operation=p,this.code=h,this.continueUrl=(s=u.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=u.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=u.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let n=l2(e);try{return new t(n)}catch{return null}}};var _A=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return uc._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){let i=Kd.parseLink(r);return K(i,"argument-error"),uc._fromEmailAndCode(n,i.code,i.tenantId)}}t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return t})(),Qd=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var Sy=class extends Qd{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function d2(t,e){return w(this,null,function*(){return dc(t,"POST","/v1/accounts:signUp",Hr(t,e))})}var so=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return w(this,null,function*(){let s=yield io._fromIdTokenResponse(e,r,i),o=z0(r);return new t({user:s,providerId:o,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return w(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=z0(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function z0(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var Ry=class t extends Pt{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function IA(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Ry._fromErrorAndOperation(t,s,e,r):s})}function h2(t,e,n=!1){return w(this,null,function*(){let r=yield oc(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return so._forOperation(t,"link",r)})}function f2(t,e,n=!1){return w(this,null,function*(){let{auth:r}=t;if(nn(r.app))return Promise.reject(Xn(r));let i="reauthenticate";try{let s=yield oc(t,IA(r,i,e,t),n);K(s.idToken,r,"internal-error");let o=jy(s.idToken);K(o,r,"internal-error");let{sub:a}=o;return K(t.uid===a,r,"user-mismatch"),so._forOperation(t,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&_n(r,"user-mismatch"),s}})}function wA(t,e,n=!1){return w(this,null,function*(){if(nn(t.app))return Promise.reject(Xn(t));let r="signIn",i=yield IA(t,r,e),s=yield so._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})}function qy(t,e){return w(this,null,function*(){return wA(Pi(t),e)})}function EA(t){return w(this,null,function*(){let e=Pi(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function Gy(t,e,n){return w(this,null,function*(){if(nn(t.app))return Promise.reject(Xn(t));let r=Pi(t),o=yield Ay(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",d2).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&EA(t),u}),a=yield so._fromIdTokenResponse(r,"signIn",o);return yield r._updateCurrentUser(a.user),a})}function Wy(t,e,n){return nn(t.app)?Promise.reject(Xn(t)):qy(nt(t),_A.credential(e,n)).catch(r=>w(this,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&EA(t),r}))}function Ky(t,e,n,r){return nt(t).onIdTokenChanged(e,n,r)}function Qy(t,e,n){return nt(t).beforeAuthStateChanged(e,n)}function Yy(t){return nt(t).signOut()}var Yd="__sak";var Jd=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Yd,"1"),this.storage.removeItem(Yd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var p2=1e3,g2=10,m2=(()=>{class t extends Jd{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=pA(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,u,l)=>{this.notifyListeners(a,l)});return}let i=n.key;r?this.detachListener():this.stopPolling();let s=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);Kj()&&o!==n.newValue&&n.newValue!==n.oldValue?setTimeout(s,g2):s()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},p2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return w(this,null,function*(){yield lr(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return w(this,null,function*(){let r=yield lr(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return w(this,null,function*(){yield lr(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),DA=m2;var y2=(()=>{class t extends Jd{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),Jy=y2;function v2(t){return Promise.all(t.map(e=>w(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var _2=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return w(this,null,function*(){let r=n,{eventId:i,eventType:s,data:o}=r.data,a=this.handlersMap[s];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:s});let u=Array.from(a).map(h=>w(this,null,function*(){return h(r.origin,o)})),l=yield v2(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:l})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function TA(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var Ny=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return w(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,u)=>{let l=TA("",20);i.port1.start();let h=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(p){let m=p;if(m.data.eventId===l)switch(m.data.status){case"ack":clearTimeout(h),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(m.data.response);break;default:clearTimeout(h),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})})}};function vn(){return window}function I2(t){vn().location.href=t}function bA(){return typeof vn().WorkerGlobalScope<"u"&&typeof vn().importScripts=="function"}function w2(){return w(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function E2(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function D2(){return bA()?self:null}var CA="firebaseLocalStorageDb",T2=1,Zd="firebaseLocalStorage",AA="fbase_key",xi=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function th(t,e){return t.transaction([Zd],e?"readwrite":"readonly").objectStore(Zd)}function b2(){let t=indexedDB.deleteDatabase(CA);return new xi(t).toPromise()}function My(){let t=indexedDB.open(CA,T2);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(Zd,{keyPath:AA})}catch(i){n(i)}}),t.addEventListener("success",()=>w(this,null,function*(){let r=t.result;r.objectStoreNames.contains(Zd)?e(r):(r.close(),yield b2(),e(yield My()))}))})}function q0(t,e,n){return w(this,null,function*(){let r=th(t,!0).put({[AA]:e,value:n});return new xi(r).toPromise()})}function C2(t,e){return w(this,null,function*(){let n=th(t,!1).get(e),r=yield new xi(n).toPromise();return r===void 0?null:r.value})}function G0(t,e){let n=th(t,!0).delete(e);return new xi(n).toPromise()}var A2=800,S2=3,R2=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return w(this,null,function*(){return this.db?this.db:(this.db=yield My(),this.db)})}_withRetries(n){return w(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>S2)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return w(this,null,function*(){return bA()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return w(this,null,function*(){this.receiver=_2._getInstance(D2()),this.receiver._subscribe("keyChanged",(n,r)=>w(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>w(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return w(this,null,function*(){var n,r;if(this.activeServiceWorker=yield w2(),!this.activeServiceWorker)return;this.sender=new Ny(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return w(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||E2()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return w(this,null,function*(){try{if(!indexedDB)return!1;let n=yield My();return yield q0(n,Yd,"1"),yield G0(n,Yd),!0}catch{}return!1})}_withPendingWrite(n){return w(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return w(this,null,function*(){return this._withPendingWrite(()=>w(this,null,function*(){return yield this._withRetries(i=>q0(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return w(this,null,function*(){let r=yield this._withRetries(i=>C2(i,n));return this.localCache[n]=r,r})}_remove(n){return w(this,null,function*(){return this._withPendingWrite(()=>w(this,null,function*(){return yield this._withRetries(r=>G0(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return w(this,null,function*(){let n=yield this._withRetries(s=>{let o=th(s,!1).getAll();return new xi(o).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:s,value:o}of n)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),r.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),r.push(s));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>w(this,null,function*(){return this._poll()}),A2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),SA=R2;var q5=yA("rcb"),G5=new Mi(3e4,6e4);function N2(t,e){return e?Zn(e):(K(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var lc=class extends cc{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return my(e,this._buildIdpRequest())}_linkToIdToken(e,n){return my(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return my(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function M2(t){return wA(t.auth,new lc(t),t.bypassAuthState)}function x2(t){let{auth:e,user:n}=t;return K(n,e,"internal-error"),f2(n,new lc(t),t.bypassAuthState)}function P2(t){return w(this,null,function*(){let{auth:e,user:n}=t;return K(n,e,"internal-error"),h2(n,new lc(t),t.bypassAuthState)})}var xy=class{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>w(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return w(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}let u={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(u))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return M2;case"linkViaPopup":case"linkViaRedirect":return P2;case"reauthViaPopup":case"reauthViaRedirect":return x2;default:_n(this.auth,"internal-error")}}resolve(e){$r(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){$r(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var W5=new Mi(2e3,1e4);var O2="pendingRedirect",Bd=new Map,Py=class t extends xy{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return w(this,null,function*(){let e=Bd.get(this.auth._key());if(!e){try{let r=(yield k2(this.resolver,this.auth))?yield lr(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Bd.set(this.auth._key(),e)}return this.bypassAuthState||Bd.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return w(this,null,function*(){if(e.type==="signInViaRedirect")return lr(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,lr(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return w(this,null,function*(){})}cleanUp(){}};function k2(t,e){return w(this,null,function*(){let n=V2(e),r=L2(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function F2(t,e){Bd.set(t._key(),e)}function L2(t){return Zn(t._redirectPersistence)}function V2(t){return jd(O2,t.config.apiKey,t.name)}function U2(t,e,n=!1){return w(this,null,function*(){if(nn(t.app))return Promise.reject(Xn(t));let r=Pi(t),i=N2(r,e),o=yield new Py(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})}var j2=10*60*1e3,Oy=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!B2(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!RA(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Ni(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=j2&&this.cachedEventUids.clear(),this.cachedEventUids.has(W0(e))}saveEventToCache(e){this.cachedEventUids.add(W0(e)),this.lastProcessedEventTime=Date.now()}};function W0(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function RA({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function B2(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return RA(t);default:return!1}}function $2(n){return w(this,arguments,function*(t,e={}){return zr(t,"GET","/v1/projects",e)})}var H2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,z2=/^https?/;function q2(t){return w(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield $2(t);for(let n of e)try{if(G2(n))return}catch{}_n(t,"unauthorized-domain")})}function G2(t){let e=vy(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!z2.test(n))return!1;if(H2.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var W2=new Mi(3e4,6e4);function K0(){let t=vn().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function K2(t){return new Promise((e,n)=>{var r,i,s;function o(){K0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{K0(),n(Ni(t,"network-request-failed"))},timeout:W2.get()})}if(!((i=(r=vn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=vn().gapi)===null||s===void 0)&&s.load)o();else{let a=yA("iframefcb");return vn()[a]=()=>{gapi.load?o():n(Ni(t,"network-request-failed"))},mA(`${Xj()}?onload=${a}`).catch(u=>n(u))}}).catch(e=>{throw $d=null,e})}var $d=null;function Q2(t){return $d=$d||K2(t),$d}var Y2=new Mi(5e3,15e3),J2="__/auth/iframe",Z2="emulator/auth/iframe",X2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},eB=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function tB(t){let e=t.config;K(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?Vy(e,Z2):`https://${t.config.authDomain}/${J2}`,r={apiKey:e.apiKey,appName:t.name,v:jr},i=eB.get(t.config.apiHost);i&&(r.eid=i);let s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Xa(r).slice(1)}`}function nB(t){return w(this,null,function*(){let e=yield Q2(t),n=vn().gapi;return K(n,t,"internal-error"),e.open({where:document.body,url:tB(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:X2,dontclear:!0},r=>new Promise((i,s)=>w(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let o=Ni(t,"network-request-failed"),a=vn().setTimeout(()=>{s(o)},Y2.get());function u(){vn().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{s(o)})})))})}var rB={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},iB=500,sB=600,oB="_blank",aB="http://localhost",Xd=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function cB(t,e,n,r=iB,i=sB){let s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",u=Object.assign(Object.assign({},rB),{width:r.toString(),height:i.toString(),top:s,left:o}),l=Ke().toLowerCase();n&&(a=uA(l)?oB:n),aA(l)&&(e=e||aB,u.scrollbars="yes");let h=Object.entries(u).reduce((m,[y,C])=>`${m}${y}=${C},`,"");if(Wj(l)&&a!=="_self")return uB(e||"",a),new Xd(null);let p=window.open(e||"",a,h);K(p,t,"popup-blocked");try{p.focus()}catch{}return new Xd(p)}function uB(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var lB="__/auth/handler",dB="emulator/auth/handler",hB=encodeURIComponent("fac");function Q0(t,e,n,r,i,s){return w(this,null,function*(){K(t.config.authDomain,t,"auth-domain-config-required"),K(t.config.apiKey,t,"invalid-api-key");let o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:jr,eventId:i};if(e instanceof Qd){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",w0(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[h,p]of Object.entries(s||{}))o[h]=p}if(e instanceof Sy){let h=e.getScopes().filter(p=>p!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);let a=o;for(let h of Object.keys(a))a[h]===void 0&&delete a[h];let u=yield t._getAppCheckToken(),l=u?`#${hB}=${encodeURIComponent(u)}`:"";return`${fB(t)}?${Xa(a).slice(1)}${l}`})}function fB({config:t}){return t.emulator?Vy(t,dB):`https://${t.authDomain}/${lB}`}var yy="webStorageSupport",ky=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Jy,this._completeRedirectFn=U2,this._overrideRedirectResult=F2}_openPopup(e,n,r,i){return w(this,null,function*(){var s;$r((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let o=yield Q0(e,n,r,vy(),i);return cB(e,o,TA())})}_openRedirect(e,n,r,i){return w(this,null,function*(){yield this._originValidation(e);let s=yield Q0(e,n,r,vy(),i);return I2(s),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):($r(s,"If manager is not set, promise should be"),s)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return w(this,null,function*(){let n=yield nB(e),r=new Oy(e);return n.register("authEvent",i=>(K(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(yy,{type:yy},i=>{var s;let o=(s=i?.[0])===null||s===void 0?void 0:s[yy];o!==void 0&&n(!!o),_n(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=q2(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return pA()||cA()||$y()}},NA=ky;var Y0="@firebase/auth",J0="1.7.9";var Fy=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return w(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){K(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function pB(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function gB(t){Ur(new qt("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;K(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:gA(t)},l=new by(r,i,s,u);return n2(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ur(new qt("auth-internal",e=>{let n=Pi(e.getProvider("auth").getImmediate());return(r=>new Fy(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ge(Y0,J0,pB(t)),Ge(Y0,J0,"esm2017")}var mB=5*60,yB=Ym("authIdTokenMaxAge")||mB,Z0=null,vB=t=>e=>w(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>yB)return;let i=n?.token;Z0!==i&&(Z0=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function Zy(t=eo()){let e=nc(t,"auth");if(e.isInitialized())return e.getImmediate();let n=Hy(t,{popupRedirectResolver:NA,persistence:[SA,DA,Jy]}),r=Ym("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let s=new URL(r,location.origin);if(location.origin===s.origin){let o=vB(s.toString());Qy(n,o,()=>o(n.currentUser)),Ky(n,a=>o(a))}}let i=Km("auth");return i&&zy(n,`http://${i}`),n}function _B(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}Jj({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let s=Ni("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",_B().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});gB("Browser");var MA="auth",hc=class{constructor(e){return e}},fc=class{constructor(){return rc(MA)}};var Xy=new L("angularfire2.auth-instances");function u$(t,e){let n=Fd(MA,t,e);return n&&new hc(n)}function l$(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new hc(r)}}var d$={provide:fc,deps:[[new ct,Xy]]},h$={provide:hc,useFactory:u$,deps:[[new ct,Xy],Yn]};function NK(t,...e){return Ge("angularfire",Si.full,"auth"),Vt([h$,d$,{provide:Xy,useFactory:l$(t),multi:!0,deps:[me,Xe,ro,Ri,[new ct,no],...e]}])}var MK=ut(Gy,!0);var xK=ut(Zy,!0);var PK=ut(Wy,!0);var OK=ut(Yy,!0);var xA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},PA={};var qr,ev;(function(){var t;function e(E,v){function _(){}_.prototype=v.prototype,E.D=v.prototype,E.prototype=new _,E.prototype.constructor=E,E.C=function(D,T,A){for(var I=Array(arguments.length-2),Cn=2;Cn<arguments.length;Cn++)I[Cn-2]=arguments[Cn];return v.prototype[T].apply(D,I)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(E,v,_){_||(_=0);var D=Array(16);if(typeof v=="string")for(var T=0;16>T;++T)D[T]=v.charCodeAt(_++)|v.charCodeAt(_++)<<8|v.charCodeAt(_++)<<16|v.charCodeAt(_++)<<24;else for(T=0;16>T;++T)D[T]=v[_++]|v[_++]<<8|v[_++]<<16|v[_++]<<24;v=E.g[0],_=E.g[1],T=E.g[2];var A=E.g[3],I=v+(A^_&(T^A))+D[0]+3614090360&4294967295;v=_+(I<<7&4294967295|I>>>25),I=A+(T^v&(_^T))+D[1]+3905402710&4294967295,A=v+(I<<12&4294967295|I>>>20),I=T+(_^A&(v^_))+D[2]+606105819&4294967295,T=A+(I<<17&4294967295|I>>>15),I=_+(v^T&(A^v))+D[3]+3250441966&4294967295,_=T+(I<<22&4294967295|I>>>10),I=v+(A^_&(T^A))+D[4]+4118548399&4294967295,v=_+(I<<7&4294967295|I>>>25),I=A+(T^v&(_^T))+D[5]+1200080426&4294967295,A=v+(I<<12&4294967295|I>>>20),I=T+(_^A&(v^_))+D[6]+2821735955&4294967295,T=A+(I<<17&4294967295|I>>>15),I=_+(v^T&(A^v))+D[7]+4249261313&4294967295,_=T+(I<<22&4294967295|I>>>10),I=v+(A^_&(T^A))+D[8]+1770035416&4294967295,v=_+(I<<7&4294967295|I>>>25),I=A+(T^v&(_^T))+D[9]+2336552879&4294967295,A=v+(I<<12&4294967295|I>>>20),I=T+(_^A&(v^_))+D[10]+4294925233&4294967295,T=A+(I<<17&4294967295|I>>>15),I=_+(v^T&(A^v))+D[11]+2304563134&4294967295,_=T+(I<<22&4294967295|I>>>10),I=v+(A^_&(T^A))+D[12]+1804603682&4294967295,v=_+(I<<7&4294967295|I>>>25),I=A+(T^v&(_^T))+D[13]+4254626195&4294967295,A=v+(I<<12&4294967295|I>>>20),I=T+(_^A&(v^_))+D[14]+2792965006&4294967295,T=A+(I<<17&4294967295|I>>>15),I=_+(v^T&(A^v))+D[15]+1236535329&4294967295,_=T+(I<<22&4294967295|I>>>10),I=v+(T^A&(_^T))+D[1]+4129170786&4294967295,v=_+(I<<5&4294967295|I>>>27),I=A+(_^T&(v^_))+D[6]+3225465664&4294967295,A=v+(I<<9&4294967295|I>>>23),I=T+(v^_&(A^v))+D[11]+643717713&4294967295,T=A+(I<<14&4294967295|I>>>18),I=_+(A^v&(T^A))+D[0]+3921069994&4294967295,_=T+(I<<20&4294967295|I>>>12),I=v+(T^A&(_^T))+D[5]+3593408605&4294967295,v=_+(I<<5&4294967295|I>>>27),I=A+(_^T&(v^_))+D[10]+38016083&4294967295,A=v+(I<<9&4294967295|I>>>23),I=T+(v^_&(A^v))+D[15]+3634488961&4294967295,T=A+(I<<14&4294967295|I>>>18),I=_+(A^v&(T^A))+D[4]+3889429448&4294967295,_=T+(I<<20&4294967295|I>>>12),I=v+(T^A&(_^T))+D[9]+568446438&4294967295,v=_+(I<<5&4294967295|I>>>27),I=A+(_^T&(v^_))+D[14]+3275163606&4294967295,A=v+(I<<9&4294967295|I>>>23),I=T+(v^_&(A^v))+D[3]+4107603335&4294967295,T=A+(I<<14&4294967295|I>>>18),I=_+(A^v&(T^A))+D[8]+1163531501&4294967295,_=T+(I<<20&4294967295|I>>>12),I=v+(T^A&(_^T))+D[13]+2850285829&4294967295,v=_+(I<<5&4294967295|I>>>27),I=A+(_^T&(v^_))+D[2]+4243563512&4294967295,A=v+(I<<9&4294967295|I>>>23),I=T+(v^_&(A^v))+D[7]+1735328473&4294967295,T=A+(I<<14&4294967295|I>>>18),I=_+(A^v&(T^A))+D[12]+2368359562&4294967295,_=T+(I<<20&4294967295|I>>>12),I=v+(_^T^A)+D[5]+4294588738&4294967295,v=_+(I<<4&4294967295|I>>>28),I=A+(v^_^T)+D[8]+2272392833&4294967295,A=v+(I<<11&4294967295|I>>>21),I=T+(A^v^_)+D[11]+1839030562&4294967295,T=A+(I<<16&4294967295|I>>>16),I=_+(T^A^v)+D[14]+4259657740&4294967295,_=T+(I<<23&4294967295|I>>>9),I=v+(_^T^A)+D[1]+2763975236&4294967295,v=_+(I<<4&4294967295|I>>>28),I=A+(v^_^T)+D[4]+1272893353&4294967295,A=v+(I<<11&4294967295|I>>>21),I=T+(A^v^_)+D[7]+4139469664&4294967295,T=A+(I<<16&4294967295|I>>>16),I=_+(T^A^v)+D[10]+3200236656&4294967295,_=T+(I<<23&4294967295|I>>>9),I=v+(_^T^A)+D[13]+681279174&4294967295,v=_+(I<<4&4294967295|I>>>28),I=A+(v^_^T)+D[0]+3936430074&4294967295,A=v+(I<<11&4294967295|I>>>21),I=T+(A^v^_)+D[3]+3572445317&4294967295,T=A+(I<<16&4294967295|I>>>16),I=_+(T^A^v)+D[6]+76029189&4294967295,_=T+(I<<23&4294967295|I>>>9),I=v+(_^T^A)+D[9]+3654602809&4294967295,v=_+(I<<4&4294967295|I>>>28),I=A+(v^_^T)+D[12]+3873151461&4294967295,A=v+(I<<11&4294967295|I>>>21),I=T+(A^v^_)+D[15]+530742520&4294967295,T=A+(I<<16&4294967295|I>>>16),I=_+(T^A^v)+D[2]+3299628645&4294967295,_=T+(I<<23&4294967295|I>>>9),I=v+(T^(_|~A))+D[0]+4096336452&4294967295,v=_+(I<<6&4294967295|I>>>26),I=A+(_^(v|~T))+D[7]+1126891415&4294967295,A=v+(I<<10&4294967295|I>>>22),I=T+(v^(A|~_))+D[14]+2878612391&4294967295,T=A+(I<<15&4294967295|I>>>17),I=_+(A^(T|~v))+D[5]+4237533241&4294967295,_=T+(I<<21&4294967295|I>>>11),I=v+(T^(_|~A))+D[12]+1700485571&4294967295,v=_+(I<<6&4294967295|I>>>26),I=A+(_^(v|~T))+D[3]+2399980690&4294967295,A=v+(I<<10&4294967295|I>>>22),I=T+(v^(A|~_))+D[10]+4293915773&4294967295,T=A+(I<<15&4294967295|I>>>17),I=_+(A^(T|~v))+D[1]+2240044497&4294967295,_=T+(I<<21&4294967295|I>>>11),I=v+(T^(_|~A))+D[8]+1873313359&4294967295,v=_+(I<<6&4294967295|I>>>26),I=A+(_^(v|~T))+D[15]+4264355552&4294967295,A=v+(I<<10&4294967295|I>>>22),I=T+(v^(A|~_))+D[6]+2734768916&4294967295,T=A+(I<<15&4294967295|I>>>17),I=_+(A^(T|~v))+D[13]+1309151649&4294967295,_=T+(I<<21&4294967295|I>>>11),I=v+(T^(_|~A))+D[4]+4149444226&4294967295,v=_+(I<<6&4294967295|I>>>26),I=A+(_^(v|~T))+D[11]+3174756917&4294967295,A=v+(I<<10&4294967295|I>>>22),I=T+(v^(A|~_))+D[2]+718787259&4294967295,T=A+(I<<15&4294967295|I>>>17),I=_+(A^(T|~v))+D[9]+3951481745&4294967295,E.g[0]=E.g[0]+v&4294967295,E.g[1]=E.g[1]+(T+(I<<21&4294967295|I>>>11))&4294967295,E.g[2]=E.g[2]+T&4294967295,E.g[3]=E.g[3]+A&4294967295}r.prototype.u=function(E,v){v===void 0&&(v=E.length);for(var _=v-this.blockSize,D=this.B,T=this.h,A=0;A<v;){if(T==0)for(;A<=_;)i(this,E,A),A+=this.blockSize;if(typeof E=="string"){for(;A<v;)if(D[T++]=E.charCodeAt(A++),T==this.blockSize){i(this,D),T=0;break}}else for(;A<v;)if(D[T++]=E[A++],T==this.blockSize){i(this,D),T=0;break}}this.h=T,this.o+=v},r.prototype.v=function(){var E=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);E[0]=128;for(var v=1;v<E.length-8;++v)E[v]=0;var _=8*this.o;for(v=E.length-8;v<E.length;++v)E[v]=_&255,_/=256;for(this.u(E),E=Array(16),v=_=0;4>v;++v)for(var D=0;32>D;D+=8)E[_++]=this.g[v]>>>D&255;return E};function s(E,v){var _=a;return Object.prototype.hasOwnProperty.call(_,E)?_[E]:_[E]=v(E)}function o(E,v){this.h=v;for(var _=[],D=!0,T=E.length-1;0<=T;T--){var A=E[T]|0;D&&A==v||(_[T]=A,D=!1)}this.g=_}var a={};function u(E){return-128<=E&&128>E?s(E,function(v){return new o([v|0],0>v?-1:0)}):new o([E|0],0>E?-1:0)}function l(E){if(isNaN(E)||!isFinite(E))return p;if(0>E)return R(l(-E));for(var v=[],_=1,D=0;E>=_;D++)v[D]=E/_|0,_*=4294967296;return new o(v,0)}function h(E,v){if(E.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(E.charAt(0)=="-")return R(h(E.substring(1),v));if(0<=E.indexOf("-"))throw Error('number format error: interior "-" character');for(var _=l(Math.pow(v,8)),D=p,T=0;T<E.length;T+=8){var A=Math.min(8,E.length-T),I=parseInt(E.substring(T,T+A),v);8>A?(A=l(Math.pow(v,A)),D=D.j(A).add(l(I))):(D=D.j(_),D=D.add(l(I)))}return D}var p=u(0),m=u(1),y=u(16777216);t=o.prototype,t.m=function(){if(N(this))return-R(this).m();for(var E=0,v=1,_=0;_<this.g.length;_++){var D=this.i(_);E+=(0<=D?D:4294967296+D)*v,v*=4294967296}return E},t.toString=function(E){if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(C(this))return"0";if(N(this))return"-"+R(this).toString(E);for(var v=l(Math.pow(E,6)),_=this,D="";;){var T=X(_,v).g;_=k(_,T.j(v));var A=((0<_.g.length?_.g[0]:_.h)>>>0).toString(E);if(_=T,C(_))return A+D;for(;6>A.length;)A="0"+A;D=A+D}},t.i=function(E){return 0>E?0:E<this.g.length?this.g[E]:this.h};function C(E){if(E.h!=0)return!1;for(var v=0;v<E.g.length;v++)if(E.g[v]!=0)return!1;return!0}function N(E){return E.h==-1}t.l=function(E){return E=k(this,E),N(E)?-1:C(E)?0:1};function R(E){for(var v=E.g.length,_=[],D=0;D<v;D++)_[D]=~E.g[D];return new o(_,~E.h).add(m)}t.abs=function(){return N(this)?R(this):this},t.add=function(E){for(var v=Math.max(this.g.length,E.g.length),_=[],D=0,T=0;T<=v;T++){var A=D+(this.i(T)&65535)+(E.i(T)&65535),I=(A>>>16)+(this.i(T)>>>16)+(E.i(T)>>>16);D=I>>>16,A&=65535,I&=65535,_[T]=I<<16|A}return new o(_,_[_.length-1]&-2147483648?-1:0)};function k(E,v){return E.add(R(v))}t.j=function(E){if(C(this)||C(E))return p;if(N(this))return N(E)?R(this).j(R(E)):R(R(this).j(E));if(N(E))return R(this.j(R(E)));if(0>this.l(y)&&0>E.l(y))return l(this.m()*E.m());for(var v=this.g.length+E.g.length,_=[],D=0;D<2*v;D++)_[D]=0;for(D=0;D<this.g.length;D++)for(var T=0;T<E.g.length;T++){var A=this.i(D)>>>16,I=this.i(D)&65535,Cn=E.i(T)>>>16,So=E.i(T)&65535;_[2*D+2*T]+=I*So,H(_,2*D+2*T),_[2*D+2*T+1]+=A*So,H(_,2*D+2*T+1),_[2*D+2*T+1]+=I*Cn,H(_,2*D+2*T+1),_[2*D+2*T+2]+=A*Cn,H(_,2*D+2*T+2)}for(D=0;D<v;D++)_[D]=_[2*D+1]<<16|_[2*D];for(D=v;D<2*v;D++)_[D]=0;return new o(_,0)};function H(E,v){for(;(E[v]&65535)!=E[v];)E[v+1]+=E[v]>>>16,E[v]&=65535,v++}function V(E,v){this.g=E,this.h=v}function X(E,v){if(C(v))throw Error("division by zero");if(C(E))return new V(p,p);if(N(E))return v=X(R(E),v),new V(R(v.g),R(v.h));if(N(v))return v=X(E,R(v)),new V(R(v.g),v.h);if(30<E.g.length){if(N(E)||N(v))throw Error("slowDivide_ only works with positive integers.");for(var _=m,D=v;0>=D.l(E);)_=Ie(_),D=Ie(D);var T=G(_,1),A=G(D,1);for(D=G(D,2),_=G(_,2);!C(D);){var I=A.add(D);0>=I.l(E)&&(T=T.add(_),A=I),D=G(D,1),_=G(_,1)}return v=k(E,T.j(v)),new V(T,v)}for(T=p;0<=E.l(v);){for(_=Math.max(1,Math.floor(E.m()/v.m())),D=Math.ceil(Math.log(_)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),A=l(_),I=A.j(v);N(I)||0<I.l(E);)_-=D,A=l(_),I=A.j(v);C(A)&&(A=m),T=T.add(A),E=k(E,I)}return new V(T,E)}t.A=function(E){return X(this,E).h},t.and=function(E){for(var v=Math.max(this.g.length,E.g.length),_=[],D=0;D<v;D++)_[D]=this.i(D)&E.i(D);return new o(_,this.h&E.h)},t.or=function(E){for(var v=Math.max(this.g.length,E.g.length),_=[],D=0;D<v;D++)_[D]=this.i(D)|E.i(D);return new o(_,this.h|E.h)},t.xor=function(E){for(var v=Math.max(this.g.length,E.g.length),_=[],D=0;D<v;D++)_[D]=this.i(D)^E.i(D);return new o(_,this.h^E.h)};function Ie(E){for(var v=E.g.length+1,_=[],D=0;D<v;D++)_[D]=E.i(D)<<1|E.i(D-1)>>>31;return new o(_,E.h)}function G(E,v){var _=v>>5;v%=32;for(var D=E.g.length-_,T=[],A=0;A<D;A++)T[A]=0<v?E.i(A+_)>>>v|E.i(A+_+1)<<32-v:E.i(A+_);return new o(T,E.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,ev=PA.Md5=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=l,o.fromString=h,qr=PA.Integer=o}).apply(typeof xA<"u"?xA:typeof self<"u"?self:typeof window<"u"?window:{});var nh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},er={};var tv,nv,oo,rv,pc,rh,iv,sv,ov;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,d,f){return c==Array.prototype||c==Object.prototype||(c[d]=f.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof nh=="object"&&nh];for(var d=0;d<c.length;++d){var f=c[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=n(this);function i(c,d){if(d)e:{var f=r;c=c.split(".");for(var g=0;g<c.length-1;g++){var b=c[g];if(!(b in f))break e;f=f[b]}c=c[c.length-1],g=f[c],d=d(g),d!=g&&d!=null&&e(f,c,{configurable:!0,writable:!0,value:d})}}function s(c,d){c instanceof String&&(c+="");var f=0,g=!1,b={next:function(){if(!g&&f<c.length){var S=f++;return{value:d(S,c[S]),done:!1}}return g=!0,{done:!0,value:void 0}}};return b[Symbol.iterator]=function(){return b},b}i("Array.prototype.values",function(c){return c||function(){return s(this,function(d,f){return f})}});var o=o||{},a=this||self;function u(c){var d=typeof c;return d=d!="object"?d:c?Array.isArray(c)?"array":d:"null",d=="array"||d=="object"&&typeof c.length=="number"}function l(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function h(c,d,f){return c.call.apply(c.bind,arguments)}function p(c,d,f){if(!c)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var b=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(b,g),c.apply(d,b)}}return function(){return c.apply(d,arguments)}}function m(c,d,f){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,m.apply(null,arguments)}function y(c,d){var f=Array.prototype.slice.call(arguments,1);return function(){var g=f.slice();return g.push.apply(g,arguments),c.apply(this,g)}}function C(c,d){function f(){}f.prototype=d.prototype,c.aa=d.prototype,c.prototype=new f,c.prototype.constructor=c,c.Qb=function(g,b,S){for(var O=Array(arguments.length-2),De=2;De<arguments.length;De++)O[De-2]=arguments[De];return d.prototype[b].apply(g,O)}}function N(c){let d=c.length;if(0<d){let f=Array(d);for(let g=0;g<d;g++)f[g]=c[g];return f}return[]}function R(c,d){for(let f=1;f<arguments.length;f++){let g=arguments[f];if(u(g)){let b=c.length||0,S=g.length||0;c.length=b+S;for(let O=0;O<S;O++)c[b+O]=g[O]}else c.push(g)}}class k{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function H(c){return/^[\s\xa0]*$/.test(c)}function V(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function X(c){return X[" "](c),c}X[" "]=function(){};var Ie=V().indexOf("Gecko")!=-1&&!(V().toLowerCase().indexOf("webkit")!=-1&&V().indexOf("Edge")==-1)&&!(V().indexOf("Trident")!=-1||V().indexOf("MSIE")!=-1)&&V().indexOf("Edge")==-1;function G(c,d,f){for(let g in c)d.call(f,c[g],g,c)}function E(c,d){for(let f in c)d.call(void 0,c[f],f,c)}function v(c){let d={};for(let f in c)d[f]=c[f];return d}let _="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(c,d){let f,g;for(let b=1;b<arguments.length;b++){g=arguments[b];for(f in g)c[f]=g[f];for(let S=0;S<_.length;S++)f=_[S],Object.prototype.hasOwnProperty.call(g,f)&&(c[f]=g[f])}}function T(c){var d=1;c=c.split(":");let f=[];for(;0<d&&c.length;)f.push(c.shift()),d--;return c.length&&f.push(c.join(":")),f}function A(c){a.setTimeout(()=>{throw c},0)}function I(){var c=Wh;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class Cn{constructor(){this.h=this.g=null}add(d,f){let g=So.get();g.set(d,f),this.h?this.h.next=g:this.g=g,this.h=g}}var So=new k(()=>new xR,c=>c.reset());class xR{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let Ro,No=!1,Wh=new Cn,mI=()=>{let c=a.Promise.resolve(void 0);Ro=()=>{c.then(PR)}};var PR=()=>{for(var c;c=I();){try{c.h.call(c.g)}catch(f){A(f)}var d=So;d.j(c),100>d.h&&(d.h++,c.next=d.g,d.g=c)}No=!1};function or(){this.s=this.s,this.C=this.C}or.prototype.s=!1,or.prototype.ma=function(){this.s||(this.s=!0,this.N())},or.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function it(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}it.prototype.h=function(){this.defaultPrevented=!0};var OR=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let f=()=>{};a.addEventListener("test",f,d),a.removeEventListener("test",f,d)}catch{}return c}();function Mo(c,d){if(it.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var f=this.type=c.type,g=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget){if(Ie){e:{try{X(d.nodeName);var b=!0;break e}catch{}b=!1}b||(d=null)}}else f=="mouseover"?d=c.fromElement:f=="mouseout"&&(d=c.toElement);this.relatedTarget=d,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:kR[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Mo.aa.h.call(this)}}C(Mo,it);var kR={2:"touch",3:"pen",4:"mouse"};Mo.prototype.h=function(){Mo.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var xo="closure_listenable_"+(1e6*Math.random()|0),FR=0;function LR(c,d,f,g,b){this.listener=c,this.proxy=null,this.src=d,this.type=f,this.capture=!!g,this.ha=b,this.key=++FR,this.da=this.fa=!1}function Vc(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Uc(c){this.src=c,this.g={},this.h=0}Uc.prototype.add=function(c,d,f,g,b){var S=c.toString();c=this.g[S],c||(c=this.g[S]=[],this.h++);var O=Qh(c,d,g,b);return-1<O?(d=c[O],f||(d.fa=!1)):(d=new LR(d,this.src,S,!!g,b),d.fa=f,c.push(d)),d};function Kh(c,d){var f=d.type;if(f in c.g){var g=c.g[f],b=Array.prototype.indexOf.call(g,d,void 0),S;(S=0<=b)&&Array.prototype.splice.call(g,b,1),S&&(Vc(d),c.g[f].length==0&&(delete c.g[f],c.h--))}}function Qh(c,d,f,g){for(var b=0;b<c.length;++b){var S=c[b];if(!S.da&&S.listener==d&&S.capture==!!f&&S.ha==g)return b}return-1}var Yh="closure_lm_"+(1e6*Math.random()|0),Jh={};function yI(c,d,f,g,b){if(g&&g.once)return _I(c,d,f,g,b);if(Array.isArray(d)){for(var S=0;S<d.length;S++)yI(c,d[S],f,g,b);return null}return f=tf(f),c&&c[xo]?c.K(d,f,l(g)?!!g.capture:!!g,b):vI(c,d,f,!1,g,b)}function vI(c,d,f,g,b,S){if(!d)throw Error("Invalid event type");var O=l(b)?!!b.capture:!!b,De=Xh(c);if(De||(c[Yh]=De=new Uc(c)),f=De.add(d,f,g,O,S),f.proxy)return f;if(g=VR(),f.proxy=g,g.src=c,g.listener=f,c.addEventListener)OR||(b=O),b===void 0&&(b=!1),c.addEventListener(d.toString(),g,b);else if(c.attachEvent)c.attachEvent(wI(d.toString()),g);else if(c.addListener&&c.removeListener)c.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return f}function VR(){function c(f){return d.call(c.src,c.listener,f)}let d=UR;return c}function _I(c,d,f,g,b){if(Array.isArray(d)){for(var S=0;S<d.length;S++)_I(c,d[S],f,g,b);return null}return f=tf(f),c&&c[xo]?c.L(d,f,l(g)?!!g.capture:!!g,b):vI(c,d,f,!0,g,b)}function II(c,d,f,g,b){if(Array.isArray(d))for(var S=0;S<d.length;S++)II(c,d[S],f,g,b);else g=l(g)?!!g.capture:!!g,f=tf(f),c&&c[xo]?(c=c.i,d=String(d).toString(),d in c.g&&(S=c.g[d],f=Qh(S,f,g,b),-1<f&&(Vc(S[f]),Array.prototype.splice.call(S,f,1),S.length==0&&(delete c.g[d],c.h--)))):c&&(c=Xh(c))&&(d=c.g[d.toString()],c=-1,d&&(c=Qh(d,f,g,b)),(f=-1<c?d[c]:null)&&Zh(f))}function Zh(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[xo])Kh(d.i,c);else{var f=c.type,g=c.proxy;d.removeEventListener?d.removeEventListener(f,g,c.capture):d.detachEvent?d.detachEvent(wI(f),g):d.addListener&&d.removeListener&&d.removeListener(g),(f=Xh(d))?(Kh(f,c),f.h==0&&(f.src=null,d[Yh]=null)):Vc(c)}}}function wI(c){return c in Jh?Jh[c]:Jh[c]="on"+c}function UR(c,d){if(c.da)c=!0;else{d=new Mo(d,this);var f=c.listener,g=c.ha||c.src;c.fa&&Zh(c),c=f.call(g,d)}return c}function Xh(c){return c=c[Yh],c instanceof Uc?c:null}var ef="__closure_events_fn_"+(1e9*Math.random()>>>0);function tf(c){return typeof c=="function"?c:(c[ef]||(c[ef]=function(d){return c.handleEvent(d)}),c[ef])}function st(){or.call(this),this.i=new Uc(this),this.M=this,this.F=null}C(st,or),st.prototype[xo]=!0,st.prototype.removeEventListener=function(c,d,f,g){II(this,c,d,f,g)};function ft(c,d){var f,g=c.F;if(g)for(f=[];g;g=g.F)f.push(g);if(c=c.M,g=d.type||d,typeof d=="string")d=new it(d,c);else if(d instanceof it)d.target=d.target||c;else{var b=d;d=new it(g,c),D(d,b)}if(b=!0,f)for(var S=f.length-1;0<=S;S--){var O=d.g=f[S];b=jc(O,g,!0,d)&&b}if(O=d.g=c,b=jc(O,g,!0,d)&&b,b=jc(O,g,!1,d)&&b,f)for(S=0;S<f.length;S++)O=d.g=f[S],b=jc(O,g,!1,d)&&b}st.prototype.N=function(){if(st.aa.N.call(this),this.i){var c=this.i,d;for(d in c.g){for(var f=c.g[d],g=0;g<f.length;g++)Vc(f[g]);delete c.g[d],c.h--}}this.F=null},st.prototype.K=function(c,d,f,g){return this.i.add(String(c),d,!1,f,g)},st.prototype.L=function(c,d,f,g){return this.i.add(String(c),d,!0,f,g)};function jc(c,d,f,g){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();for(var b=!0,S=0;S<d.length;++S){var O=d[S];if(O&&!O.da&&O.capture==f){var De=O.listener,Ye=O.ha||O.src;O.fa&&Kh(c.i,O),b=De.call(Ye,g)!==!1&&b}}return b&&!g.defaultPrevented}function EI(c,d,f){if(typeof c=="function")f&&(c=m(c,f));else if(c&&typeof c.handleEvent=="function")c=m(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(c,d||0)}function DI(c){c.g=EI(()=>{c.g=null,c.i&&(c.i=!1,DI(c))},c.l);let d=c.h;c.h=null,c.m.apply(null,d)}class jR extends or{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:DI(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Po(c){or.call(this),this.h=c,this.g={}}C(Po,or);var TI=[];function bI(c){G(c.g,function(d,f){this.g.hasOwnProperty(f)&&Zh(d)},c),c.g={}}Po.prototype.N=function(){Po.aa.N.call(this),bI(this)},Po.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var nf=a.JSON.stringify,BR=a.JSON.parse,$R=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function rf(){}rf.prototype.h=null;function CI(c){return c.h||(c.h=c.i())}function AI(){}var Oo={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function sf(){it.call(this,"d")}C(sf,it);function of(){it.call(this,"c")}C(of,it);var Zr={},SI=null;function Bc(){return SI=SI||new st}Zr.La="serverreachability";function RI(c){it.call(this,Zr.La,c)}C(RI,it);function ko(c){let d=Bc();ft(d,new RI(d))}Zr.STAT_EVENT="statevent";function NI(c,d){it.call(this,Zr.STAT_EVENT,c),this.stat=d}C(NI,it);function pt(c){let d=Bc();ft(d,new NI(d,c))}Zr.Ma="timingevent";function MI(c,d){it.call(this,Zr.Ma,c),this.size=d}C(MI,it);function Fo(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},d)}function Lo(){this.g=!0}Lo.prototype.xa=function(){this.g=!1};function HR(c,d,f,g,b,S){c.info(function(){if(c.g)if(S)for(var O="",De=S.split("&"),Ye=0;Ye<De.length;Ye++){var ge=De[Ye].split("=");if(1<ge.length){var ot=ge[0];ge=ge[1];var at=ot.split("_");O=2<=at.length&&at[1]=="type"?O+(ot+"="+ge+"&"):O+(ot+"=redacted&")}}else O=null;else O=S;return"XMLHTTP REQ ("+g+") [attempt "+b+"]: "+d+`
`+f+`
`+O})}function zR(c,d,f,g,b,S,O){c.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+b+"]: "+d+`
`+f+`
`+S+" "+O})}function Ki(c,d,f,g){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+GR(c,f)+(g?" "+g:"")})}function qR(c,d){c.info(function(){return"TIMEOUT: "+d})}Lo.prototype.info=function(){};function GR(c,d){if(!c.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(c=0;c<f.length;c++)if(Array.isArray(f[c])){var g=f[c];if(!(2>g.length)){var b=g[1];if(Array.isArray(b)&&!(1>b.length)){var S=b[0];if(S!="noop"&&S!="stop"&&S!="close")for(var O=1;O<b.length;O++)b[O]=""}}}}return nf(f)}catch{return d}}var $c={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},xI={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},af;function Hc(){}C(Hc,rf),Hc.prototype.g=function(){return new XMLHttpRequest},Hc.prototype.i=function(){return{}},af=new Hc;function ar(c,d,f,g){this.j=c,this.i=d,this.l=f,this.R=g||1,this.U=new Po(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new PI}function PI(){this.i=null,this.g="",this.h=!1}var OI={},cf={};function uf(c,d,f){c.L=1,c.v=Wc(An(d)),c.m=f,c.P=!0,kI(c,null)}function kI(c,d){c.F=Date.now(),zc(c),c.A=An(c.v);var f=c.A,g=c.R;Array.isArray(g)||(g=[String(g)]),QI(f.i,"t",g),c.C=0,f=c.j.J,c.h=new PI,c.g=fw(c.j,f?d:null,!c.m),0<c.O&&(c.M=new jR(m(c.Y,c,c.g),c.O)),d=c.U,f=c.g,g=c.ca;var b="readystatechange";Array.isArray(b)||(b&&(TI[0]=b.toString()),b=TI);for(var S=0;S<b.length;S++){var O=yI(f,b[S],g||d.handleEvent,!1,d.h||d);if(!O)break;d.g[O.key]=O}d=c.H?v(c.H):{},c.m?(c.u||(c.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,d)):(c.u="GET",c.g.ea(c.A,c.u,null,d)),ko(),HR(c.i,c.u,c.A,c.l,c.R,c.m)}ar.prototype.ca=function(c){c=c.target;let d=this.M;d&&Sn(c)==3?d.j():this.Y(c)},ar.prototype.Y=function(c){try{if(c==this.g)e:{let at=Sn(this.g);var d=this.g.Ba();let Ji=this.g.Z();if(!(3>at)&&(at!=3||this.g&&(this.h.h||this.g.oa()||nw(this.g)))){this.J||at!=4||d==7||(d==8||0>=Ji?ko(3):ko(2)),lf(this);var f=this.g.Z();this.X=f;t:if(FI(this)){var g=nw(this.g);c="";var b=g.length,S=Sn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Xr(this),Vo(this);var O="";break t}this.h.i=new a.TextDecoder}for(d=0;d<b;d++)this.h.h=!0,c+=this.h.i.decode(g[d],{stream:!(S&&d==b-1)});g.length=0,this.h.g+=c,this.C=0,O=this.h.g}else O=this.g.oa();if(this.o=f==200,zR(this.i,this.u,this.A,this.l,this.R,at,f),this.o){if(this.T&&!this.K){t:{if(this.g){var De,Ye=this.g;if((De=Ye.g?Ye.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!H(De)){var ge=De;break t}}ge=null}if(f=ge)Ki(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,df(this,f);else{this.o=!1,this.s=3,pt(12),Xr(this),Vo(this);break e}}if(this.P){f=!0;let Gt;for(;!this.J&&this.C<O.length;)if(Gt=WR(this,O),Gt==cf){at==4&&(this.s=4,pt(14),f=!1),Ki(this.i,this.l,null,"[Incomplete Response]");break}else if(Gt==OI){this.s=4,pt(15),Ki(this.i,this.l,O,"[Invalid Chunk]"),f=!1;break}else Ki(this.i,this.l,Gt,null),df(this,Gt);if(FI(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),at!=4||O.length!=0||this.h.h||(this.s=1,pt(16),f=!1),this.o=this.o&&f,!f)Ki(this.i,this.l,O,"[Invalid Chunked Response]"),Xr(this),Vo(this);else if(0<O.length&&!this.W){this.W=!0;var ot=this.j;ot.g==this&&ot.ba&&!ot.M&&(ot.j.info("Great, no buffering proxy detected. Bytes received: "+O.length),yf(ot),ot.M=!0,pt(11))}}else Ki(this.i,this.l,O,null),df(this,O);at==4&&Xr(this),this.o&&!this.J&&(at==4?uw(this.j,this):(this.o=!1,zc(this)))}else lN(this.g),f==400&&0<O.indexOf("Unknown SID")?(this.s=3,pt(12)):(this.s=0,pt(13)),Xr(this),Vo(this)}}}catch{}finally{}};function FI(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function WR(c,d){var f=c.C,g=d.indexOf(`
`,f);return g==-1?cf:(f=Number(d.substring(f,g)),isNaN(f)?OI:(g+=1,g+f>d.length?cf:(d=d.slice(g,g+f),c.C=g+f,d)))}ar.prototype.cancel=function(){this.J=!0,Xr(this)};function zc(c){c.S=Date.now()+c.I,LI(c,c.I)}function LI(c,d){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Fo(m(c.ba,c),d)}function lf(c){c.B&&(a.clearTimeout(c.B),c.B=null)}ar.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(qR(this.i,this.A),this.L!=2&&(ko(),pt(17)),Xr(this),this.s=2,Vo(this)):LI(this,this.S-c)};function Vo(c){c.j.G==0||c.J||uw(c.j,c)}function Xr(c){lf(c);var d=c.M;d&&typeof d.ma=="function"&&d.ma(),c.M=null,bI(c.U),c.g&&(d=c.g,c.g=null,d.abort(),d.ma())}function df(c,d){try{var f=c.j;if(f.G!=0&&(f.g==c||hf(f.h,c))){if(!c.K&&hf(f.h,c)&&f.G==3){try{var g=f.Da.g.parse(d)}catch{g=null}if(Array.isArray(g)&&g.length==3){var b=g;if(b[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<c.F)Zc(f),Yc(f);else break e;mf(f),pt(18)}}else f.za=b[1],0<f.za-f.T&&37500>b[2]&&f.F&&f.v==0&&!f.C&&(f.C=Fo(m(f.Za,f),6e3));if(1>=jI(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else ti(f,11)}else if((c.K||f.g==c)&&Zc(f),!H(d))for(b=f.Da.g.parse(d),d=0;d<b.length;d++){let ge=b[d];if(f.T=ge[0],ge=ge[1],f.G==2)if(ge[0]=="c"){f.K=ge[1],f.ia=ge[2];let ot=ge[3];ot!=null&&(f.la=ot,f.j.info("VER="+f.la));let at=ge[4];at!=null&&(f.Aa=at,f.j.info("SVER="+f.Aa));let Ji=ge[5];Ji!=null&&typeof Ji=="number"&&0<Ji&&(g=1.5*Ji,f.L=g,f.j.info("backChannelRequestTimeoutMs_="+g)),g=f;let Gt=c.g;if(Gt){let eu=Gt.g?Gt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(eu){var S=g.h;S.g||eu.indexOf("spdy")==-1&&eu.indexOf("quic")==-1&&eu.indexOf("h2")==-1||(S.j=S.l,S.g=new Set,S.h&&(ff(S,S.h),S.h=null))}if(g.D){let vf=Gt.g?Gt.g.getResponseHeader("X-HTTP-Session-Id"):null;vf&&(g.ya=vf,Re(g.I,g.D,vf))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-c.F,f.j.info("Handshake RTT: "+f.R+"ms")),g=f;var O=c;if(g.qa=hw(g,g.J?g.ia:null,g.W),O.K){BI(g.h,O);var De=O,Ye=g.L;Ye&&(De.I=Ye),De.B&&(lf(De),zc(De)),g.g=O}else aw(g);0<f.i.length&&Jc(f)}else ge[0]!="stop"&&ge[0]!="close"||ti(f,7);else f.G==3&&(ge[0]=="stop"||ge[0]=="close"?ge[0]=="stop"?ti(f,7):gf(f):ge[0]!="noop"&&f.l&&f.l.ta(ge),f.v=0)}}ko(4)}catch{}}var KR=class{constructor(c,d){this.g=c,this.map=d}};function VI(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function UI(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function jI(c){return c.h?1:c.g?c.g.size:0}function hf(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function ff(c,d){c.g?c.g.add(d):c.h=d}function BI(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}VI.prototype.cancel=function(){if(this.i=$I(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function $I(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let d=c.i;for(let f of c.g.values())d=d.concat(f.D);return d}return N(c.i)}function QR(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(u(c)){for(var d=[],f=c.length,g=0;g<f;g++)d.push(c[g]);return d}d=[],f=0;for(g in c)d[f++]=c[g];return d}function YR(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(u(c)||typeof c=="string"){var d=[];c=c.length;for(var f=0;f<c;f++)d.push(f);return d}d=[],f=0;for(let g in c)d[f++]=g;return d}}}function HI(c,d){if(c.forEach&&typeof c.forEach=="function")c.forEach(d,void 0);else if(u(c)||typeof c=="string")Array.prototype.forEach.call(c,d,void 0);else for(var f=YR(c),g=QR(c),b=g.length,S=0;S<b;S++)d.call(void 0,g[S],f&&f[S],c)}var zI=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function JR(c,d){if(c){c=c.split("&");for(var f=0;f<c.length;f++){var g=c[f].indexOf("="),b=null;if(0<=g){var S=c[f].substring(0,g);b=c[f].substring(g+1)}else S=c[f];d(S,b?decodeURIComponent(b.replace(/\+/g," ")):"")}}}function ei(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof ei){this.h=c.h,qc(this,c.j),this.o=c.o,this.g=c.g,Gc(this,c.s),this.l=c.l;var d=c.i,f=new Bo;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),qI(this,f),this.m=c.m}else c&&(d=String(c).match(zI))?(this.h=!1,qc(this,d[1]||"",!0),this.o=Uo(d[2]||""),this.g=Uo(d[3]||"",!0),Gc(this,d[4]),this.l=Uo(d[5]||"",!0),qI(this,d[6]||"",!0),this.m=Uo(d[7]||"")):(this.h=!1,this.i=new Bo(null,this.h))}ei.prototype.toString=function(){var c=[],d=this.j;d&&c.push(jo(d,GI,!0),":");var f=this.g;return(f||d=="file")&&(c.push("//"),(d=this.o)&&c.push(jo(d,GI,!0),"@"),c.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&c.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&c.push("/"),c.push(jo(f,f.charAt(0)=="/"?eN:XR,!0))),(f=this.i.toString())&&c.push("?",f),(f=this.m)&&c.push("#",jo(f,nN)),c.join("")};function An(c){return new ei(c)}function qc(c,d,f){c.j=f?Uo(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function Gc(c,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);c.s=d}else c.s=null}function qI(c,d,f){d instanceof Bo?(c.i=d,rN(c.i,c.h)):(f||(d=jo(d,tN)),c.i=new Bo(d,c.h))}function Re(c,d,f){c.i.set(d,f)}function Wc(c){return Re(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Uo(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function jo(c,d,f){return typeof c=="string"?(c=encodeURI(c).replace(d,ZR),f&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function ZR(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var GI=/[#\/\?@]/g,XR=/[#\?:]/g,eN=/[#\?]/g,tN=/[#\?@]/g,nN=/#/g;function Bo(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function cr(c){c.g||(c.g=new Map,c.h=0,c.i&&JR(c.i,function(d,f){c.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}t=Bo.prototype,t.add=function(c,d){cr(this),this.i=null,c=Qi(this,c);var f=this.g.get(c);return f||this.g.set(c,f=[]),f.push(d),this.h+=1,this};function WI(c,d){cr(c),d=Qi(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function KI(c,d){return cr(c),d=Qi(c,d),c.g.has(d)}t.forEach=function(c,d){cr(this),this.g.forEach(function(f,g){f.forEach(function(b){c.call(d,b,g,this)},this)},this)},t.na=function(){cr(this);let c=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let g=0;g<d.length;g++){let b=c[g];for(let S=0;S<b.length;S++)f.push(d[g])}return f},t.V=function(c){cr(this);let d=[];if(typeof c=="string")KI(this,c)&&(d=d.concat(this.g.get(Qi(this,c))));else{c=Array.from(this.g.values());for(let f=0;f<c.length;f++)d=d.concat(c[f])}return d},t.set=function(c,d){return cr(this),this.i=null,c=Qi(this,c),KI(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},t.get=function(c,d){return c?(c=this.V(c),0<c.length?String(c[0]):d):d};function QI(c,d,f){WI(c,d),0<f.length&&(c.i=null,c.g.set(Qi(c,d),N(f)),c.h+=f.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var g=d[f];let S=encodeURIComponent(String(g)),O=this.V(g);for(g=0;g<O.length;g++){var b=S;O[g]!==""&&(b+="="+encodeURIComponent(String(O[g]))),c.push(b)}}return this.i=c.join("&")};function Qi(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function rN(c,d){d&&!c.j&&(cr(c),c.i=null,c.g.forEach(function(f,g){var b=g.toLowerCase();g!=b&&(WI(this,g),QI(this,b,f))},c)),c.j=d}function iN(c,d){let f=new Lo;if(a.Image){let g=new Image;g.onload=y(ur,f,"TestLoadImage: loaded",!0,d,g),g.onerror=y(ur,f,"TestLoadImage: error",!1,d,g),g.onabort=y(ur,f,"TestLoadImage: abort",!1,d,g),g.ontimeout=y(ur,f,"TestLoadImage: timeout",!1,d,g),a.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=c}else d(!1)}function sN(c,d){let f=new Lo,g=new AbortController,b=setTimeout(()=>{g.abort(),ur(f,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:g.signal}).then(S=>{clearTimeout(b),S.ok?ur(f,"TestPingServer: ok",!0,d):ur(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(b),ur(f,"TestPingServer: error",!1,d)})}function ur(c,d,f,g,b){try{b&&(b.onload=null,b.onerror=null,b.onabort=null,b.ontimeout=null),g(f)}catch{}}function oN(){this.g=new $R}function aN(c,d,f){let g=f||"";try{HI(c,function(b,S){let O=b;l(b)&&(O=nf(b)),d.push(g+S+"="+encodeURIComponent(O))})}catch(b){throw d.push(g+"type="+encodeURIComponent("_badmap")),b}}function $o(c){this.l=c.Ub||null,this.j=c.eb||!1}C($o,rf),$o.prototype.g=function(){return new Kc(this.l,this.j)},$o.prototype.i=function(c){return function(){return c}}({});function Kc(c,d){st.call(this),this.D=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(Kc,st),t=Kc.prototype,t.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=d,this.readyState=1,zo(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(d.body=c),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ho(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,zo(this)),this.g&&(this.readyState=3,zo(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;YI(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function YI(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?Ho(this):zo(this),this.readyState==3&&YI(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,Ho(this))},t.Qa=function(c){this.g&&(this.response=c,Ho(this))},t.ga=function(){this.g&&Ho(this)};function Ho(c){c.readyState=4,c.l=null,c.j=null,c.v=null,zo(c)}t.setRequestHeader=function(c,d){this.u.append(c,d)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,c.push(f[0]+": "+f[1]),f=d.next();return c.join(`\r
`)};function zo(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Kc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function JI(c){let d="";return G(c,function(f,g){d+=g,d+=":",d+=f,d+=`\r
`}),d}function pf(c,d,f){e:{for(g in f){var g=!1;break e}g=!0}g||(f=JI(f),typeof c=="string"?f!=null&&encodeURIComponent(String(f)):Re(c,d,f))}function xe(c){st.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C(xe,st);var cN=/^https?$/i,uN=["POST","PUT"];t=xe.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,d,f,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():af.g(),this.v=this.o?CI(this.o):CI(af),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(S){ZI(this,S);return}if(c=f||"",f=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var b in g)f.set(b,g[b]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let S of g.keys())f.set(S,g.get(S));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(f.keys()).find(S=>S.toLowerCase()=="content-type"),b=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(uN,d,void 0))||g||b||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[S,O]of f)this.g.setRequestHeader(S,O);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{tw(this),this.u=!0,this.g.send(c),this.u=!1}catch(S){ZI(this,S)}};function ZI(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.m=5,XI(c),Qc(c)}function XI(c){c.A||(c.A=!0,ft(c,"complete"),ft(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,ft(this,"complete"),ft(this,"abort"),Qc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Qc(this,!0)),xe.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?ew(this):this.bb())},t.bb=function(){ew(this)};function ew(c){if(c.h&&typeof o<"u"&&(!c.v[1]||Sn(c)!=4||c.Z()!=2)){if(c.u&&Sn(c)==4)EI(c.Ea,0,c);else if(ft(c,"readystatechange"),Sn(c)==4){c.h=!1;try{let O=c.Z();e:switch(O){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var g;if(g=O===0){var b=String(c.D).match(zI)[1]||null;!b&&a.self&&a.self.location&&(b=a.self.location.protocol.slice(0,-1)),g=!cN.test(b?b.toLowerCase():"")}f=g}if(f)ft(c,"complete"),ft(c,"success");else{c.m=6;try{var S=2<Sn(c)?c.g.statusText:""}catch{S=""}c.l=S+" ["+c.Z()+"]",XI(c)}}finally{Qc(c)}}}}function Qc(c,d){if(c.g){tw(c);let f=c.g,g=c.v[0]?()=>{}:null;c.g=null,c.v=null,d||ft(c,"ready");try{f.onreadystatechange=g}catch{}}}function tw(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function Sn(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<Sn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),BR(d)}};function nw(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function lN(c){let d={};c=(c.g&&2<=Sn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<c.length;g++){if(H(c[g]))continue;var f=T(c[g]);let b=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let S=d[b]||[];d[b]=S,S.push(f)}E(d,function(g){return g.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function qo(c,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[c]||d}function rw(c){this.Aa=0,this.i=[],this.j=new Lo,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=qo("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=qo("baseRetryDelayMs",5e3,c),this.cb=qo("retryDelaySeedMs",1e4,c),this.Wa=qo("forwardChannelMaxRetries",2,c),this.wa=qo("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new VI(c&&c.concurrentRequestLimit),this.Da=new oN,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=rw.prototype,t.la=8,t.G=1,t.connect=function(c,d,f,g){pt(0),this.W=c,this.H=d||{},f&&g!==void 0&&(this.H.OSID=f,this.H.OAID=g),this.F=this.X,this.I=hw(this,null,this.W),Jc(this)};function gf(c){if(iw(c),c.G==3){var d=c.U++,f=An(c.I);if(Re(f,"SID",c.K),Re(f,"RID",d),Re(f,"TYPE","terminate"),Go(c,f),d=new ar(c,c.j,d),d.L=2,d.v=Wc(An(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=d.v,f=!0),f||(d.g=fw(d.j,null),d.g.ea(d.v)),d.F=Date.now(),zc(d)}dw(c)}function Yc(c){c.g&&(yf(c),c.g.cancel(),c.g=null)}function iw(c){Yc(c),c.u&&(a.clearTimeout(c.u),c.u=null),Zc(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function Jc(c){if(!UI(c.h)&&!c.s){c.s=!0;var d=c.Ga;Ro||mI(),No||(Ro(),No=!0),Wh.add(d,c),c.B=0}}function dN(c,d){return jI(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=d.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Fo(m(c.Ga,c,d),lw(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let b=new ar(this,this.j,c),S=this.o;if(this.S&&(S?(S=v(S),D(S,this.S)):S=this.S),this.m!==null||this.O||(b.H=S,S=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var g=this.i[f];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(d+=g,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=ow(this,b,d),f=An(this.I),Re(f,"RID",c),Re(f,"CVER",22),this.D&&Re(f,"X-HTTP-Session-Id",this.D),Go(this,f),S&&(this.O?d="headers="+encodeURIComponent(String(JI(S)))+"&"+d:this.m&&pf(f,this.m,S)),ff(this.h,b),this.Ua&&Re(f,"TYPE","init"),this.P?(Re(f,"$req",d),Re(f,"SID","null"),b.T=!0,uf(b,f,null)):uf(b,f,d),this.G=2}}else this.G==3&&(c?sw(this,c):this.i.length==0||UI(this.h)||sw(this))};function sw(c,d){var f;d?f=d.l:f=c.U++;let g=An(c.I);Re(g,"SID",c.K),Re(g,"RID",f),Re(g,"AID",c.T),Go(c,g),c.m&&c.o&&pf(g,c.m,c.o),f=new ar(c,c.j,f,c.B+1),c.m===null&&(f.H=c.o),d&&(c.i=d.D.concat(c.i)),d=ow(c,f,1e3),f.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),ff(c.h,f),uf(f,g,d)}function Go(c,d){c.H&&G(c.H,function(f,g){Re(d,g,f)}),c.l&&HI({},function(f,g){Re(d,g,f)})}function ow(c,d,f){f=Math.min(c.i.length,f);var g=c.l?m(c.l.Na,c.l,c):null;e:{var b=c.i;let S=-1;for(;;){let O=["count="+f];S==-1?0<f?(S=b[0].g,O.push("ofs="+S)):S=0:O.push("ofs="+S);let De=!0;for(let Ye=0;Ye<f;Ye++){let ge=b[Ye].g,ot=b[Ye].map;if(ge-=S,0>ge)S=Math.max(0,b[Ye].g-100),De=!1;else try{aN(ot,O,"req"+ge+"_")}catch{g&&g(ot)}}if(De){g=O.join("&");break e}}}return c=c.i.splice(0,f),d.D=c,g}function aw(c){if(!c.g&&!c.u){c.Y=1;var d=c.Fa;Ro||mI(),No||(Ro(),No=!0),Wh.add(d,c),c.v=0}}function mf(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Fo(m(c.Fa,c),lw(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,cw(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Fo(m(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,pt(10),Yc(this),cw(this))};function yf(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function cw(c){c.g=new ar(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var d=An(c.qa);Re(d,"RID","rpc"),Re(d,"SID",c.K),Re(d,"AID",c.T),Re(d,"CI",c.F?"0":"1"),!c.F&&c.ja&&Re(d,"TO",c.ja),Re(d,"TYPE","xmlhttp"),Go(c,d),c.m&&c.o&&pf(d,c.m,c.o),c.L&&(c.g.I=c.L);var f=c.g;c=c.ia,f.L=1,f.v=Wc(An(d)),f.m=null,f.P=!0,kI(f,c)}t.Za=function(){this.C!=null&&(this.C=null,Yc(this),mf(this),pt(19))};function Zc(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function uw(c,d){var f=null;if(c.g==d){Zc(c),yf(c),c.g=null;var g=2}else if(hf(c.h,d))f=d.D,BI(c.h,d),g=1;else return;if(c.G!=0){if(d.o)if(g==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var b=c.B;g=Bc(),ft(g,new MI(g,f)),Jc(c)}else aw(c);else if(b=d.s,b==3||b==0&&0<d.X||!(g==1&&dN(c,d)||g==2&&mf(c)))switch(f&&0<f.length&&(d=c.h,d.i=d.i.concat(f)),b){case 1:ti(c,5);break;case 4:ti(c,10);break;case 3:ti(c,6);break;default:ti(c,2)}}}function lw(c,d){let f=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(f*=2),f*d}function ti(c,d){if(c.j.info("Error code "+d),d==2){var f=m(c.fb,c),g=c.Xa;let b=!g;g=new ei(g||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||qc(g,"https"),Wc(g),b?iN(g.toString(),f):sN(g.toString(),f)}else pt(2);c.G=0,c.l&&c.l.sa(d),dw(c),iw(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),pt(2)):(this.j.info("Failed to ping google.com"),pt(1))};function dw(c){if(c.G=0,c.ka=[],c.l){let d=$I(c.h);(d.length!=0||c.i.length!=0)&&(R(c.ka,d),R(c.ka,c.i),c.h.i.length=0,N(c.i),c.i.length=0),c.l.ra()}}function hw(c,d,f){var g=f instanceof ei?An(f):new ei(f);if(g.g!="")d&&(g.g=d+"."+g.g),Gc(g,g.s);else{var b=a.location;g=b.protocol,d=d?d+"."+b.hostname:b.hostname,b=+b.port;var S=new ei(null);g&&qc(S,g),d&&(S.g=d),b&&Gc(S,b),f&&(S.l=f),g=S}return f=c.D,d=c.ya,f&&d&&Re(g,f,d),Re(g,"VER",c.la),Go(c,g),g}function fw(c,d,f){if(d&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Ca&&!c.pa?new xe(new $o({eb:f})):new xe(c.pa),d.Ha(c.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function pw(){}t=pw.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Xc(){}Xc.prototype.g=function(c,d){return new At(c,d)};function At(c,d){st.call(this),this.g=new rw(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(c?c["X-WebChannel-Client-Profile"]=d.va:c={"X-WebChannel-Client-Profile":d.va}),this.g.S=c,(c=d&&d.Sb)&&!H(c)&&(this.g.m=c),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!H(d)&&(this.g.D=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new Yi(this)}C(At,st),At.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},At.prototype.close=function(){gf(this.g)},At.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var f={};f.__data__=c,c=f}else this.u&&(f={},f.__data__=nf(c),c=f);d.i.push(new KR(d.Ya++,c)),d.G==3&&Jc(d)},At.prototype.N=function(){this.g.l=null,delete this.j,gf(this.g),delete this.g,At.aa.N.call(this)};function gw(c){sf.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(let f in d){c=f;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}C(gw,sf);function mw(){of.call(this),this.status=1}C(mw,of);function Yi(c){this.g=c}C(Yi,pw),Yi.prototype.ua=function(){ft(this.g,"a")},Yi.prototype.ta=function(c){ft(this.g,new gw(c))},Yi.prototype.sa=function(c){ft(this.g,new mw)},Yi.prototype.ra=function(){ft(this.g,"b")},Xc.prototype.createWebChannel=Xc.prototype.g,At.prototype.send=At.prototype.o,At.prototype.open=At.prototype.m,At.prototype.close=At.prototype.close,ov=er.createWebChannelTransport=function(){return new Xc},sv=er.getStatEventTarget=function(){return Bc()},iv=er.Event=Zr,rh=er.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},$c.NO_ERROR=0,$c.TIMEOUT=8,$c.HTTP_ERROR=6,pc=er.ErrorCode=$c,xI.COMPLETE="complete",rv=er.EventType=xI,AI.EventType=Oo,Oo.OPEN="a",Oo.CLOSE="b",Oo.ERROR="c",Oo.MESSAGE="d",st.prototype.listen=st.prototype.K,oo=er.WebChannel=AI,nv=er.FetchXmlHttpFactory=$o,xe.prototype.listenOnce=xe.prototype.L,xe.prototype.getLastError=xe.prototype.Ka,xe.prototype.getLastErrorCode=xe.prototype.Ba,xe.prototype.getStatus=xe.prototype.Z,xe.prototype.getResponseJson=xe.prototype.Oa,xe.prototype.getResponseText=xe.prototype.oa,xe.prototype.send=xe.prototype.ea,xe.prototype.setWithCredentials=xe.prototype.Ha,tv=er.XhrIo=xe}).apply(typeof nh<"u"?nh:typeof self<"u"?self:typeof window<"u"?window:{});var OA="@firebase/firestore";var Qe=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Qe.UNAUTHENTICATED=new Qe(null),Qe.GOOGLE_CREDENTIALS=new Qe("google-credentials-uid"),Qe.FIRST_PARTY=new Qe("first-party-uid"),Qe.MOCK_USER=new Qe("mock-user");var bo="10.13.2";var Vi=new Lr("@firebase/firestore");function gc(){return Vi.logLevel}function j(t,...e){if(Vi.logLevel<=ue.DEBUG){let n=e.map(W_);Vi.debug(`Firestore (${bo}): ${t}`,...n)}}function nr(t,...e){if(Vi.logLevel<=ue.ERROR){let n=e.map(W_);Vi.error(`Firestore (${bo}): ${t}`,...n)}}function po(t,...e){if(Vi.logLevel<=ue.WARN){let n=e.map(W_);Vi.warn(`Firestore (${bo}): ${t}`,...n)}}function W_(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function Q(t="Unexpected state"){let e=`FIRESTORE (${bo}) INTERNAL ASSERTION FAILED: `+t;throw nr(e),new Error(e)}function Ce(t,e){t||Q()}function Z(t,e){return t}var M={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},U=class extends Pt{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var tr=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var ch=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},dv=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Qe.UNAUTHENTICATED))}shutdown(){}},hv=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},fv=class{constructor(e){this.t=e,this.currentUser=Qe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i,i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve(),s=new tr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new tr,e.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let u=s;e.enqueueRetryable(()=>w(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},a=u=>{j("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(j("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new tr)}},0),o()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(j("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ce(typeof r.accessToken=="string"),new ch(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return Ce(e===null||typeof e=="string"),new Qe(e)}},pv=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Qe.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},gv=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new pv(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Qe.FIRST_PARTY))}shutdown(){}invalidateToken(){}},mv=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},yv=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){let r=s=>{s.error!=null&&j("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,j("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{j("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?i(s):j("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ce(typeof n.token=="string"),this.R=n.token,new mv(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function f$(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var uh=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=f$(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}};function ye(t,e){return t<e?-1:t>e?1:0}function go(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var rt=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new U(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new U(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new U(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new U(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ye(this.nanoseconds,e.nanoseconds):ye(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var te=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new rt(0,0))}static max(){return new t(new rt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var lh=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&Q(),r===void 0?r=e.length-n:r>e.length-n&&Q(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},Me=class t extends lh{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new U(M.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},p$=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Ot=class t extends lh{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return p$.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,s=()=>{if(r.length===0)throw new U(M.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},o=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new U(M.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new U(M.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new U(M.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var q=class t{constructor(e){this.path=e}static fromPath(e){return new t(Me.fromString(e))}static fromName(e){return new t(Me.fromString(e).popFirst(5))}static empty(){return new t(Me.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Me.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Me.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new Me(e.slice()))}};var vv=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};vv.UNKNOWN_ID=-1;function g$(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=te.fromTimestamp(r===1e9?new rt(n+1,0):new rt(n,r));return new Ui(i,q.empty(),e)}function m$(t){return new Ui(t.readTime,t.key,-1)}var Ui=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(te.min(),q.empty(),-1)}static max(){return new t(te.max(),q.empty(),-1)}};function y$(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=q.comparator(t.documentKey,e.documentKey),n!==0?n:ye(t.largestBatchId,e.largestBatchId))}var v$="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",_v=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Pc(t){return w(this,null,function*(){if(t.code!==M.FAILED_PRECONDITION||t.message!==v$)throw t;j("LocalStore","Unexpectedly lost primary lease")})}var P=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Q(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let s=e.length,o=new Array(s),a=0;for(let u=0;u<s;u++){let l=u;n(e[l]).next(h=>{o[l]=h,++a,a===s&&r(o)},h=>i(h))}})}static doWhile(e,n){return new t((r,i)=>{let s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}};function _$(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Oc(t){return t.name==="IndexedDbTransactionError"}var gS=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.se&&this.se(n),n}}return t.oe=-1,t})();function Uh(t){return t==null}function wc(t){return t===0&&1/t==-1/0}function I$(t){return typeof t=="number"&&Number.isInteger(t)&&!wc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var w$=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],KK=[...w$,"documentOverlays"],E$=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],D$=E$,T$=[...D$,"indexConfiguration","indexState","indexEntries"];var QK=[...T$,"globals"];function kA(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Co(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function mS(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Oe=class t{constructor(e,n){this.comparator=e,this.root=n||En.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,En.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,En.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new lo(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new lo(this.root,e,this.comparator,!1)}getReverseIterator(){return new lo(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new lo(this.root,e,this.comparator,!0)}},lo=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},En=class t{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=s??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new t(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Q();let e=this.left.check();if(e!==this.right.check())throw Q();return e+(this.isRed()?0:1)}};En.EMPTY=null,En.RED=!0,En.BLACK=!1;En.EMPTY=new class{constructor(){this.size=0}get key(){throw Q()}get value(){throw Q()}get color(){throw Q()}get left(){throw Q()}get right(){throw Q()}copy(e,n,r,i,s){return this}insert(e,n,r){return new En(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var dt=class t{constructor(e){this.comparator=e,this.data=new Oe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new dh(this.data.getIterator())}getIteratorFrom(e){return new dh(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},dh=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var wn=class t{constructor(e){this.fields=e,e.sort(Ot.comparator)}static empty(){return new t([])}unionWith(e){let n=new dt(Ot.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return go(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var hh=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var ht=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new hh("Invalid base64 string: "+s):s}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ye(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};ht.EMPTY_BYTE_STRING=new ht("");var b$=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function rr(t){if(Ce(!!t),typeof t=="string"){let e=0,n=b$.exec(t);if(Ce(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ne(t.seconds),nanos:Ne(t.nanos)}}function Ne(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Kr(t){return typeof t=="string"?ht.fromBase64String(t):ht.fromUint8Array(t)}function K_(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Q_(t){let e=t.mapValue.fields.__previous_value__;return K_(e)?Q_(e):e}function Ec(t){let e=rr(t.mapValue.fields.__local_write_time__.timestampValue);return new rt(e.seconds,e.nanos)}var Iv=class{constructor(e,n,r,i,s,o,a,u,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l}},fh=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var ih={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ji(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?K_(t)?4:vS(t)?9007199254740991:yS(t)?10:11:Q()}function bn(t,e){if(t===e)return!0;let n=ji(t);if(n!==ji(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ec(t).isEqual(Ec(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;let o=rr(i.timestampValue),a=rr(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Kr(i.bytesValue).isEqual(Kr(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Ne(i.geoPointValue.latitude)===Ne(s.geoPointValue.latitude)&&Ne(i.geoPointValue.longitude)===Ne(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Ne(i.integerValue)===Ne(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){let o=Ne(i.doubleValue),a=Ne(s.doubleValue);return o===a?wc(o)===wc(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return go(t.arrayValue.values||[],e.arrayValue.values||[],bn);case 10:case 11:return function(i,s){let o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(kA(o)!==kA(a))return!1;for(let u in o)if(o.hasOwnProperty(u)&&(a[u]===void 0||!bn(o[u],a[u])))return!1;return!0}(t,e);default:return Q()}}function Dc(t,e){return(t.values||[]).find(n=>bn(n,e))!==void 0}function mo(t,e){if(t===e)return 0;let n=ji(t),r=ji(e);if(n!==r)return ye(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ye(t.booleanValue,e.booleanValue);case 2:return function(s,o){let a=Ne(s.integerValue||s.doubleValue),u=Ne(o.integerValue||o.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return FA(t.timestampValue,e.timestampValue);case 4:return FA(Ec(t),Ec(e));case 5:return ye(t.stringValue,e.stringValue);case 6:return function(s,o){let a=Kr(s),u=Kr(o);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){let a=s.split("/"),u=o.split("/");for(let l=0;l<a.length&&l<u.length;l++){let h=ye(a[l],u[l]);if(h!==0)return h}return ye(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){let a=ye(Ne(s.latitude),Ne(o.latitude));return a!==0?a:ye(Ne(s.longitude),Ne(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return LA(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,u,l,h;let p=s.fields||{},m=o.fields||{},y=(a=p.value)===null||a===void 0?void 0:a.arrayValue,C=(u=m.value)===null||u===void 0?void 0:u.arrayValue,N=ye(((l=y?.values)===null||l===void 0?void 0:l.length)||0,((h=C?.values)===null||h===void 0?void 0:h.length)||0);return N!==0?N:LA(y,C)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===ih.mapValue&&o===ih.mapValue)return 0;if(s===ih.mapValue)return 1;if(o===ih.mapValue)return-1;let a=s.fields||{},u=Object.keys(a),l=o.fields||{},h=Object.keys(l);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){let m=ye(u[p],h[p]);if(m!==0)return m;let y=mo(a[u[p]],l[h[p]]);if(y!==0)return y}return ye(u.length,h.length)}(t.mapValue,e.mapValue);default:throw Q()}}function FA(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ye(t,e);let n=rr(t),r=rr(e),i=ye(n.seconds,r.seconds);return i!==0?i:ye(n.nanos,r.nanos)}function LA(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let s=mo(n[i],r[i]);if(s)return s}return ye(n.length,r.length)}function yo(t){return wv(t)}function wv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=rr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Kr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return q.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let s of n.values||[])i?i=!1:r+=",",r+=wv(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",s=!0;for(let o of r)s?s=!1:i+=",",i+=`${o}:${wv(n.fields[o])}`;return i+"}"}(t.mapValue):Q()}function VA(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Ev(t){return!!t&&"integerValue"in t}function Y_(t){return!!t&&"arrayValue"in t}function UA(t){return!!t&&"nullValue"in t}function jA(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function oh(t){return!!t&&"mapValue"in t}function yS(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function yc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return Co(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=yc(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=yc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function vS(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var rn=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!oh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=yc(n)}setAll(e){let n=Ot.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){let u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=yc(o):i.push(a.lastSegment())});let s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){let n=this.field(e.popLast());oh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return bn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];oh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Co(n,(i,s)=>e[i]=s);for(let i of r)delete e[i]}clone(){return new t(yc(this.value))}};function _S(t){let e=[];return Co(t.fields,(n,r)=>{let i=new Ot([n]);if(oh(r)){let s=_S(r.mapValue).fields;if(s.length===0)e.push(i);else for(let o of s)e.push(i.child(o))}else e.push(i)}),new wn(e)}var sn=class t{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new t(e,0,te.min(),te.min(),te.min(),rn.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,te.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,te.min(),te.min(),rn.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,te.min(),te.min(),rn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(te.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=rn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=rn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=te.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var vo=class{constructor(e,n){this.position=e,this.inclusive=n}};function BA(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let s=e[i],o=t.position[i];if(s.field.isKeyField()?r=q.comparator(q.fromName(o.referenceValue),n.key):r=mo(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function $A(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!bn(t.position[n],e.position[n]))return!1;return!0}var Bi=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function C$(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var ph=class{},He=class t extends ph{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Tv(e,n,r):n==="array-contains"?new Av(e,r):n==="in"?new Sv(e,r):n==="not-in"?new Rv(e,r):n==="array-contains-any"?new Nv(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new bv(e,r):new Cv(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(mo(n,this.value)):n!==null&&ji(this.value)===ji(n)&&this.matchesComparison(mo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Q()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},on=class t extends ph{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new t(e,n)}matches(e){return IS(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function IS(t){return t.op==="and"}function wS(t){return A$(t)&&IS(t)}function A$(t){for(let e of t.filters)if(e instanceof on)return!1;return!0}function Dv(t){if(t instanceof He)return t.field.canonicalString()+t.op.toString()+yo(t.value);if(wS(t))return t.filters.map(e=>Dv(e)).join(",");{let e=t.filters.map(n=>Dv(n)).join(",");return`${t.op}(${e})`}}function ES(t,e){return t instanceof He?function(r,i){return i instanceof He&&r.op===i.op&&r.field.isEqual(i.field)&&bn(r.value,i.value)}(t,e):t instanceof on?function(r,i){return i instanceof on&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&ES(o,i.filters[a]),!0):!1}(t,e):void Q()}function DS(t){return t instanceof He?function(n){return`${n.field.canonicalString()} ${n.op} ${yo(n.value)}`}(t):t instanceof on?function(n){return n.op.toString()+" {"+n.getFilters().map(DS).join(" ,")+"}"}(t):"Filter"}var Tv=class extends He{constructor(e,n,r){super(e,n,r),this.key=q.fromName(r.referenceValue)}matches(e){let n=q.comparator(e.key,this.key);return this.matchesComparison(n)}},bv=class extends He{constructor(e,n){super(e,"in",n),this.keys=TS("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},Cv=class extends He{constructor(e,n){super(e,"not-in",n),this.keys=TS("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function TS(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>q.fromName(r.referenceValue))}var Av=class extends He{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return Y_(n)&&Dc(n.arrayValue,this.value)}},Sv=class extends He{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&Dc(this.value.arrayValue,n)}},Rv=class extends He{constructor(e,n){super(e,"not-in",n)}matches(e){if(Dc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!Dc(this.value.arrayValue,n)}},Nv=class extends He{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!Y_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Dc(this.value.arrayValue,r))}};var Mv=class{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}};function HA(t,e=null,n=[],r=[],i=null,s=null,o=null){return new Mv(t,e,n,r,i,s,o)}function J_(t){let e=Z(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Dv(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Uh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>yo(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>yo(r)).join(",")),e.ue=n}return e.ue}function Z_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!C$(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!ES(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!$A(t.startAt,e.startAt)&&$A(t.endAt,e.endAt)}function xv(t){return q.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var Qr=class{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function S$(t,e,n,r,i,s,o,a){return new Qr(t,e,n,r,i,s,o,a)}function X_(t){return new Qr(t)}function zA(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function bS(t){return t.collectionGroup!==null}function vc(t){let e=Z(t);if(e.ce===null){e.ce=[];let n=new Set;for(let s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new dt(Ot.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Bi(s,r))}),n.has(Ot.keyField().canonicalString())||e.ce.push(new Bi(Ot.keyField(),r))}return e.ce}function Dn(t){let e=Z(t);return e.le||(e.le=R$(e,vc(t))),e.le}function R$(t,e){if(t.limitType==="F")return HA(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let s=i.dir==="desc"?"asc":"desc";return new Bi(i.field,s)});let n=t.endAt?new vo(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new vo(t.startAt.position,t.startAt.inclusive):null;return HA(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Pv(t,e){let n=t.filters.concat([e]);return new Qr(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Ov(t,e,n){return new Qr(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function jh(t,e){return Z_(Dn(t),Dn(e))&&t.limitType===e.limitType}function CS(t){return`${J_(Dn(t))}|lt:${t.limitType}`}function ao(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>DS(i)).join(", ")}]`),Uh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>yo(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>yo(i)).join(",")),`Target(${r})`}(Dn(t))}; limitType=${t.limitType})`}function Bh(t,e){return e.isFoundDocument()&&function(r,i){let s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):q.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(let s of vc(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,u){let l=BA(o,a,u);return o.inclusive?l<=0:l<0}(r.startAt,vc(r),i)||r.endAt&&!function(o,a,u){let l=BA(o,a,u);return o.inclusive?l>=0:l>0}(r.endAt,vc(r),i))}(t,e)}function N$(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function AS(t){return(e,n)=>{let r=!1;for(let i of vc(t)){let s=M$(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function M$(t,e,n){let r=t.field.isKeyField()?q.comparator(e.key,n.key):function(s,o,a){let u=o.data.field(s),l=a.data.field(s);return u!==null&&l!==null?mo(u,l):Q()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Q()}}var Yr=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Co(this.inner,(n,r)=>{for(let[i,s]of r)e(i,s)})}isEmpty(){return mS(this.inner)}size(){return this.innerSize}};var x$=new Oe(q.comparator);function ir(){return x$}var SS=new Oe(q.comparator);function mc(...t){let e=SS;for(let n of t)e=e.insert(n.key,n);return e}function RS(t){let e=SS;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Oi(){return _c()}function NS(){return _c()}function _c(){return new Yr(t=>t.toString(),(t,e)=>t.isEqual(e))}var P$=new Oe(q.comparator),O$=new dt(q.comparator);function le(...t){let e=O$;for(let n of t)e=e.add(n);return e}var k$=new dt(ye);function F$(){return k$}function eI(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:wc(e)?"-0":e}}function MS(t){return{integerValue:""+t}}function L$(t,e){return I$(e)?MS(e):eI(t,e)}var _o=class{constructor(){this._=void 0}};function V$(t,e,n){return t instanceof Io?function(i,s){let o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&K_(s)&&(s=Q_(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof $i?PS(t,e):t instanceof Hi?OS(t,e):function(i,s){let o=xS(i,s),a=qA(o)+qA(i.Pe);return Ev(o)&&Ev(i.Pe)?MS(a):eI(i.serializer,a)}(t,e)}function U$(t,e,n){return t instanceof $i?PS(t,e):t instanceof Hi?OS(t,e):n}function xS(t,e){return t instanceof wo?function(r){return Ev(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}var Io=class extends _o{},$i=class extends _o{constructor(e){super(),this.elements=e}};function PS(t,e){let n=kS(e);for(let r of t.elements)n.some(i=>bn(i,r))||n.push(r);return{arrayValue:{values:n}}}var Hi=class extends _o{constructor(e){super(),this.elements=e}};function OS(t,e){let n=kS(e);for(let r of t.elements)n=n.filter(i=>!bn(i,r));return{arrayValue:{values:n}}}var wo=class extends _o{constructor(e,n){super(),this.serializer=e,this.Pe=n}};function qA(t){return Ne(t.integerValue||t.doubleValue)}function kS(t){return Y_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function j$(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof $i&&i instanceof $i||r instanceof Hi&&i instanceof Hi?go(r.elements,i.elements,bn):r instanceof wo&&i instanceof wo?bn(r.Pe,i.Pe):r instanceof Io&&i instanceof Io}(t.transform,e.transform)}var kv=class{constructor(e,n){this.version=e,this.transformResults=n}},Gr=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function ah(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var Eo=class{};function FS(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new gh(t.key,Gr.none()):new zi(t.key,t.data,Gr.none());{let n=t.data,r=rn.empty(),i=new dt(Ot.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new sr(t.key,r,new wn(i.toArray()),Gr.none())}}function B$(t,e,n){t instanceof zi?function(i,s,o){let a=i.value.clone(),u=WA(i.fieldTransforms,s,o.transformResults);a.setAll(u),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof sr?function(i,s,o){if(!ah(i.precondition,s))return void s.convertToUnknownDocument(o.version);let a=WA(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(LS(i)),u.setAll(a),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Ic(t,e,n,r){return t instanceof zi?function(s,o,a,u){if(!ah(s.precondition,o))return a;let l=s.value.clone(),h=KA(s.fieldTransforms,u,o);return l.setAll(h),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof sr?function(s,o,a,u){if(!ah(s.precondition,o))return a;let l=KA(s.fieldTransforms,u,o),h=o.data;return h.setAll(LS(s)),h.setAll(l),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(s,o,a){return ah(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function $$(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),s=xS(r.transform,i||null);s!=null&&(n===null&&(n=rn.empty()),n.set(r.field,s))}return n||null}function GA(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&go(r,i,(s,o)=>j$(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var zi=class extends Eo{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},sr=class extends Eo{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function LS(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function WA(t,e,n){let r=new Map;Ce(t.length===n.length);for(let i=0;i<n.length;i++){let s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,U$(o,a,n[i]))}return r}function KA(t,e,n){let r=new Map;for(let i of t){let s=i.transform,o=n.data.field(i.field);r.set(i.field,V$(s,o,e))}return r}var gh=class extends Eo{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},Fv=class extends Eo{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var Lv=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let s=this.mutations[i];s.key.isEqual(e.key)&&B$(s,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ic(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=Ic(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=NS();return this.mutations.forEach(i=>{let s=e.get(i.key),o=s.overlayedDocument,a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;let u=FS(o,a);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(te.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),le())}isEqual(e){return this.batchId===e.batchId&&go(this.mutations,e.mutations,(n,r)=>GA(n,r))&&go(this.baseMutations,e.baseMutations,(n,r)=>GA(n,r))}},Vv=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ce(e.mutations.length===r.length);let i=function(){return P$}(),s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new t(e,n,r,i)}};var Uv=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var jv=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var Be,fe;function H$(t){switch(t){default:return Q();case M.CANCELLED:case M.UNKNOWN:case M.DEADLINE_EXCEEDED:case M.RESOURCE_EXHAUSTED:case M.INTERNAL:case M.UNAVAILABLE:case M.UNAUTHENTICATED:return!1;case M.INVALID_ARGUMENT:case M.NOT_FOUND:case M.ALREADY_EXISTS:case M.PERMISSION_DENIED:case M.FAILED_PRECONDITION:case M.ABORTED:case M.OUT_OF_RANGE:case M.UNIMPLEMENTED:case M.DATA_LOSS:return!0}}function VS(t){if(t===void 0)return nr("GRPC error has no .code"),M.UNKNOWN;switch(t){case Be.OK:return M.OK;case Be.CANCELLED:return M.CANCELLED;case Be.UNKNOWN:return M.UNKNOWN;case Be.DEADLINE_EXCEEDED:return M.DEADLINE_EXCEEDED;case Be.RESOURCE_EXHAUSTED:return M.RESOURCE_EXHAUSTED;case Be.INTERNAL:return M.INTERNAL;case Be.UNAVAILABLE:return M.UNAVAILABLE;case Be.UNAUTHENTICATED:return M.UNAUTHENTICATED;case Be.INVALID_ARGUMENT:return M.INVALID_ARGUMENT;case Be.NOT_FOUND:return M.NOT_FOUND;case Be.ALREADY_EXISTS:return M.ALREADY_EXISTS;case Be.PERMISSION_DENIED:return M.PERMISSION_DENIED;case Be.FAILED_PRECONDITION:return M.FAILED_PRECONDITION;case Be.ABORTED:return M.ABORTED;case Be.OUT_OF_RANGE:return M.OUT_OF_RANGE;case Be.UNIMPLEMENTED:return M.UNIMPLEMENTED;case Be.DATA_LOSS:return M.DATA_LOSS;default:return Q()}}(fe=Be||(Be={}))[fe.OK=0]="OK",fe[fe.CANCELLED=1]="CANCELLED",fe[fe.UNKNOWN=2]="UNKNOWN",fe[fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",fe[fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",fe[fe.NOT_FOUND=5]="NOT_FOUND",fe[fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",fe[fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",fe[fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",fe[fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",fe[fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",fe[fe.ABORTED=10]="ABORTED",fe[fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",fe[fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",fe[fe.INTERNAL=13]="INTERNAL",fe[fe.UNAVAILABLE=14]="UNAVAILABLE",fe[fe.DATA_LOSS=15]="DATA_LOSS";var QA=null;function z$(){return new TextEncoder}var q$=new qr([4294967295,4294967295],0);function YA(t){let e=z$().encode(t),n=new ev;return n.update(e),new Uint8Array(n.digest())}function JA(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new qr([n,r],0),new qr([i,s],0)]}var Bv=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ki(`Invalid padding: ${n}`);if(r<0)throw new ki(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ki(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ki(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=qr.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(qr.fromNumber(r)));return i.compare(q$)===1&&(i=new qr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let n=YA(e),[r,i]=JA(n);for(let s=0;s<this.hashCount;s++){let o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new t(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;let n=YA(e),[r,i]=JA(n);for(let s=0;s<this.hashCount;s++){let o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},ki=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var mh=class t{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,Tc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(te.min(),i,new Oe(ye),ir(),le())}},Tc=class t{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,le(),le(),le())}};var ho=class{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}},yh=class{constructor(e,n){this.targetId=e,this.me=n}},vh=class{constructor(e,n,r=ht.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},_h=class{constructor(){this.fe=0,this.ge=XA(),this.pe=ht.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=le(),n=le(),r=le();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Q()}}),new Tc(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=XA()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ce(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},$v=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=ir(),this.qe=ZA(),this.Qe=new Oe(ye)}Ke(e){for(let n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(let n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{let r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:Q()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){let n=e.targetId,r=e.me.count,i=this.Je(n);if(i){let s=i.target;if(xv(s))if(r===0){let o=new q(s.path);this.Ue(n,o,sn.newNoDocument(o,te.min()))}else Ce(r===1);else{let o=this.Ye(n);if(o!==r){let a=this.Ze(e),u=a?this.Xe(a,e,o):1;if(u!==0){this.je(n);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,l)}QA?.et(function(h,p,m,y,C){var N,R,k,H,V,X;let Ie={localCacheCount:h,existenceFilterCount:p.count,databaseId:m.database,projectId:m.projectId},G=p.unchangedNames;return G&&(Ie.bloomFilter={applied:C===0,hashCount:(N=G?.hashCount)!==null&&N!==void 0?N:0,bitmapLength:(H=(k=(R=G?.bits)===null||R===void 0?void 0:R.bitmap)===null||k===void 0?void 0:k.length)!==null&&H!==void 0?H:0,padding:(X=(V=G?.bits)===null||V===void 0?void 0:V.padding)!==null&&X!==void 0?X:0,mightContain:E=>{var v;return(v=y?.mightContain(E))!==null&&v!==void 0&&v}}),Ie}(o,e.me,this.Le.tt(),a,u))}}}}Ze(e){let n=e.me.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n,o,a;try{o=Kr(r).toUint8Array()}catch(u){if(u instanceof hh)return po("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new Bv(o,i,s)}catch(u){return po(u instanceof ki?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){let r=this.Le.getRemoteKeysForTarget(n),i=0;return r.forEach(s=>{let o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(e){let n=new Map;this.Be.forEach((s,o)=>{let a=this.Je(o);if(a){if(s.current&&xv(a.target)){let u=new q(a.target.path);this.ke.get(u)!==null||this.it(o,u)||this.Ue(o,u,sn.newNoDocument(u,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=le();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{let l=this.Je(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));let i=new mh(e,n,this.Qe,this.ke,r);return this.ke=ir(),this.qe=ZA(),this.Qe=new Oe(ye),i}$e(e,n){if(!this.ze(e))return;let r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;let i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){let n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new _h,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new dt(ye),this.qe=this.qe.insert(e,n)),n}ze(e){let n=this.Je(e)!==null;return n||j("WatchChangeAggregator","Detected inactive target",e),n}Je(e){let n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new _h),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}};function ZA(){return new Oe(q.comparator)}function XA(){return new Oe(q.comparator)}var G$={asc:"ASCENDING",desc:"DESCENDING"},W$={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},K$={and:"AND",or:"OR"},Hv=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function zv(t,e){return t.useProto3Json||Uh(e)?e:{value:e}}function Ih(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function US(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Q$(t,e){return Ih(t,e.toTimestamp())}function Tn(t){return Ce(!!t),te.fromTimestamp(function(n){let r=rr(n);return new rt(r.seconds,r.nanos)}(t))}function tI(t,e){return qv(t,e).canonicalString()}function qv(t,e){let n=function(i){return new Me(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function jS(t){let e=Me.fromString(t);return Ce(qS(e)),e}function Gv(t,e){return tI(t.databaseId,e.path)}function av(t,e){let n=jS(e);if(n.get(1)!==t.databaseId.projectId)throw new U(M.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new U(M.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new q($S(n))}function BS(t,e){return tI(t.databaseId,e)}function Y$(t){let e=jS(t);return e.length===4?Me.emptyPath():$S(e)}function Wv(t){return new Me(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function $S(t){return Ce(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function eS(t,e,n){return{name:Gv(t,e),fields:n.value.mapValue.fields}}function J$(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:Q()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(l,h){return l.useProto3Json?(Ce(h===void 0||typeof h=="string"),ht.fromBase64String(h||"")):(Ce(h===void 0||h instanceof Buffer||h instanceof Uint8Array),ht.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){let h=l.code===void 0?M.UNKNOWN:VS(l.code);return new U(h,l.message||"")}(o);n=new vh(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=av(t,r.document.name),s=Tn(r.document.updateTime),o=r.document.createTime?Tn(r.document.createTime):te.min(),a=new rn({mapValue:{fields:r.document.fields}}),u=sn.newFoundDocument(i,s,o,a),l=r.targetIds||[],h=r.removedTargetIds||[];n=new ho(l,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=av(t,r.document),s=r.readTime?Tn(r.readTime):te.min(),o=sn.newNoDocument(i,s),a=r.removedTargetIds||[];n=new ho([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=av(t,r.document),s=r.removedTargetIds||[];n=new ho([],s,i,null)}else{if(!("filter"in e))return Q();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:s}=r,o=new jv(i,s),a=r.targetId;n=new yh(a,o)}}return n}function Z$(t,e){let n;if(e instanceof zi)n={update:eS(t,e.key,e.value)};else if(e instanceof gh)n={delete:Gv(t,e.key)};else if(e instanceof sr)n={update:eS(t,e.key,e.data),updateMask:aH(e.fieldMask)};else{if(!(e instanceof Fv))return Q();n={verify:Gv(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){let a=o.transform;if(a instanceof Io)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof $i)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Hi)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof wo)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw Q()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:Q$(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Q()}(t,e.precondition)),n}function X$(t,e){return t&&t.length>0?(Ce(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?Tn(i.updateTime):Tn(s);return o.isEqual(te.min())&&(o=Tn(s)),new kv(o,i.transformResults||[])}(n,e))):[]}function eH(t,e){return{documents:[BS(t,e.path)]}}function tH(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=BS(t,i);let s=function(l){if(l.length!==0)return zS(on.create(l,"and"))}(e.filters);s&&(n.structuredQuery.where=s);let o=function(l){if(l.length!==0)return l.map(h=>function(m){return{field:co(m.field),direction:iH(m.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);let a=zv(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{_t:n,parent:i}}function nH(t){let e=Y$(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Ce(r===1);let h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let s=[];n.where&&(s=function(p){let m=HS(p);return m instanceof on&&wS(m)?m.getFilters():[m]}(n.where));let o=[];n.orderBy&&(o=function(p){return p.map(m=>function(C){return new Bi(uo(C.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(m))}(n.orderBy));let a=null;n.limit&&(a=function(p){let m;return m=typeof p=="object"?p.value:p,Uh(m)?null:m}(n.limit));let u=null;n.startAt&&(u=function(p){let m=!!p.before,y=p.values||[];return new vo(y,m)}(n.startAt));let l=null;return n.endAt&&(l=function(p){let m=!p.before,y=p.values||[];return new vo(y,m)}(n.endAt)),S$(e,i,o,s,a,"F",u,l)}function rH(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Q()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function HS(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=uo(n.unaryFilter.field);return He.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=uo(n.unaryFilter.field);return He.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=uo(n.unaryFilter.field);return He.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=uo(n.unaryFilter.field);return He.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Q()}}(t):t.fieldFilter!==void 0?function(n){return He.create(uo(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Q()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return on.create(n.compositeFilter.filters.map(r=>HS(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Q()}}(n.compositeFilter.op))}(t):Q()}function iH(t){return G$[t]}function sH(t){return W$[t]}function oH(t){return K$[t]}function co(t){return{fieldPath:t.canonicalString()}}function uo(t){return Ot.fromServerFormat(t.fieldPath)}function zS(t){return t instanceof He?function(n){if(n.op==="=="){if(jA(n.value))return{unaryFilter:{field:co(n.field),op:"IS_NAN"}};if(UA(n.value))return{unaryFilter:{field:co(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(jA(n.value))return{unaryFilter:{field:co(n.field),op:"IS_NOT_NAN"}};if(UA(n.value))return{unaryFilter:{field:co(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:co(n.field),op:sH(n.op),value:n.value}}}(t):t instanceof on?function(n){let r=n.getFilters().map(i=>zS(i));return r.length===1?r[0]:{compositeFilter:{op:oH(n.op),filters:r}}}(t):Q()}function aH(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function qS(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var bc=class t{constructor(e,n,r,i,s=te.min(),o=te.min(),a=ht.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var Kv=class{constructor(e){this.ct=e}};function cH(t){let e=nH({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Ov(e,e.limit,"L"):e}var wh=class{constructor(){}It(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.dt(n,5);else if("booleanValue"in e)this.dt(n,10),n.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(n,15),n.At(Ne(e.integerValue));else if("doubleValue"in e){let r=Ne(e.doubleValue);isNaN(r)?this.dt(n,13):(this.dt(n,15),wc(r)?n.At(0):n.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(n,20),typeof r=="string"&&(r=rr(r)),n.Rt(`${r.seconds||""}`),n.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,n),this.ft(n);else if("bytesValue"in e)this.dt(n,30),n.gt(Kr(e.bytesValue)),this.ft(n);else if("referenceValue"in e)this.yt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(n,45),n.At(r.latitude||0),n.At(r.longitude||0)}else"mapValue"in e?vS(e)?this.dt(n,Number.MAX_SAFE_INTEGER):yS(e)?this.wt(e.mapValue,n):(this.St(e.mapValue,n),this.ft(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.ft(n)):Q()}Vt(e,n){this.dt(n,25),this.Dt(e,n)}Dt(e,n){n.Rt(e)}St(e,n){let r=e.fields||{};this.dt(n,55);for(let i of Object.keys(r))this.Vt(i,n),this.Tt(r[i],n)}wt(e,n){var r,i;let s=e.fields||{};this.dt(n,53);let o="value",a=((i=(r=s[o].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(n,15),n.At(Ne(a)),this.Vt(o,n),this.Tt(s[o],n)}bt(e,n){let r=e.values||[];this.dt(n,50);for(let i of r)this.Tt(i,n)}yt(e,n){this.dt(n,37),q.fromName(e).path.forEach(r=>{this.dt(n,60),this.Dt(r,n)})}dt(e,n){e.At(n)}ft(e){e.At(2)}};wh.vt=new wh;var Qv=class{constructor(){this.un=new Yv}addToCollectionParentIndex(e,n){return this.un.add(n),P.resolve()}getCollectionParents(e,n){return P.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return P.resolve()}deleteFieldIndex(e,n){return P.resolve()}deleteAllFieldIndexes(e){return P.resolve()}createTargetIndexes(e,n){return P.resolve()}getDocumentsMatchingTarget(e,n){return P.resolve(null)}getIndexType(e,n){return P.resolve(0)}getFieldIndexes(e,n){return P.resolve([])}getNextCollectionGroupToUpdate(e){return P.resolve(null)}getMinOffset(e,n){return P.resolve(Ui.min())}getMinOffsetFromCollectionGroup(e,n){return P.resolve(Ui.min())}updateCollectionGroup(e,n,r){return P.resolve()}updateIndexEntries(e,n){return P.resolve()}},Yv=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new dt(Me.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new dt(Me.comparator)).toArray()}};var JK=new Uint8Array(0);var In=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};In.DEFAULT_COLLECTION_PERCENTILE=10,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,In.DEFAULT=new In(41943040,In.DEFAULT_COLLECTION_PERCENTILE,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),In.DISABLED=new In(-1,0,0);var Cc=class t{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new t(0)}static kn(){return new t(-1)}};var Jv=class{constructor(){this.changes=new Yr(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,sn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?P.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var Zv=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var Xv=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Ic(r.mutation,i,wn.empty(),rt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,le()).next(()=>r))}getLocalViewOfDocuments(e,n,r=le()){let i=Oi();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=mc();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){let r=Oi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,le()))}populateOverlays(e,n,r){let i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=ir(),o=_c(),a=function(){return _c()}();return n.forEach((u,l)=>{let h=r.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof sr)?s=s.insert(l.key,l):h!==void 0?(o.set(l.key,h.mutation.getFieldMask()),Ic(h.mutation,l,h.mutation.getFieldMask(),rt.now())):o.set(l.key,wn.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((l,h)=>o.set(l,h)),n.forEach((l,h)=>{var p;return a.set(l,new Zv(h,(p=o.get(l))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,n){let r=_c(),i=new Oe((o,a)=>o-a),s=le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(let a of o)a.keys().forEach(u=>{let l=n.get(u);if(l===null)return;let h=r.get(u)||wn.empty();h=a.applyToLocalView(l,h),r.set(u,h);let p=(i.get(a.batchId)||le()).add(u);i=i.insert(a.batchId,p)})}).next(()=>{let o=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),l=u.key,h=u.value,p=NS();h.forEach(m=>{if(!s.has(m)){let y=FS(n.get(m),r.get(m));y!==null&&p.set(m,y),s=s.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,l,p))}return P.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return q.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):bS(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{let o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):P.resolve(Oi()),a=-1,u=s;return o.next(l=>P.forEach(l,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),s.get(h)?P.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{u=u.insert(h,m)}))).next(()=>this.populateOverlays(e,l,s)).next(()=>this.computeViews(e,u,l,le())).next(h=>({batchId:a,changes:RS(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new q(n)).next(r=>{let i=mc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let s=n.collectionGroup,o=mc();return this.indexManager.getCollectionParents(e,s).next(a=>P.forEach(a,u=>{let l=function(p,m){return new Qr(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((p,m)=>{o=o.insert(p,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((u,l)=>{let h=l.getKey();o.get(h)===null&&(o=o.insert(h,sn.newInvalidDocument(h)))});let a=mc();return o.forEach((u,l)=>{let h=s.get(u);h!==void 0&&Ic(h.mutation,l,wn.empty(),rt.now()),Bh(n,l)&&(a=a.insert(u,l))}),a})}};var e_=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return P.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Tn(i.createTime)}}(n)),P.resolve()}getNamedQuery(e,n){return P.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:cH(i.bundledQuery),readTime:Tn(i.readTime)}}(n)),P.resolve()}};var t_=class{constructor(){this.overlays=new Oe(q.comparator),this.Ir=new Map}getOverlay(e,n){return P.resolve(this.overlays.get(n))}getOverlays(e,n){let r=Oi();return P.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),P.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),P.resolve()}getOverlaysForCollection(e,n,r){let i=Oi(),s=n.length+1,o=new q(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){let u=a.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return P.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Oe((l,h)=>l-h),o=this.overlays.getIterator();for(;o.hasNext();){let l=o.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let h=s.get(l.largestBatchId);h===null&&(h=Oi(),s=s.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let a=Oi(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,h)=>a.set(l,h)),!(a.size()>=i)););return P.resolve(a)}ht(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Uv(n,r));let s=this.Ir.get(n);s===void 0&&(s=le(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}};var n_=class{constructor(){this.sessionToken=ht.EMPTY_BYTE_STRING}getSessionToken(e){return P.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,P.resolve()}};var Ac=class{constructor(){this.Tr=new dt($e.Er),this.dr=new dt($e.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){let r=new $e(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new $e(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){let n=new q(new Me([])),r=new $e(n,e),i=new $e(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let n=new q(new Me([])),r=new $e(n,e),i=new $e(n,e+1),s=le();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){let n=new $e(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},$e=class{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return q.comparator(e.key,n.key)||ye(e.wr,n.wr)}static Ar(e,n){return ye(e.wr,n.wr)||q.comparator(e.key,n.key)}};var r_=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new dt($e.Er)}checkEmpty(e){return P.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new Lv(s,n,r,i);this.mutationQueue.push(o);for(let a of i)this.br=this.br.add(new $e(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return P.resolve(o)}lookupMutationBatch(e,n){return P.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.vr(r),s=i<0?0:i;return P.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return P.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return P.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new $e(n,0),i=new $e(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{let a=this.Dr(o.wr);s.push(a)}),P.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new dt(ye);return n.forEach(i=>{let s=new $e(i,0),o=new $e(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{r=r.add(a.wr)})}),P.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,s=r;q.isDocumentKey(s)||(s=s.child(""));let o=new $e(new q(s),0),a=new dt(ye);return this.br.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.wr)),!0)},o),P.resolve(this.Cr(a))}Cr(e){let n=[];return e.forEach(r=>{let i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ce(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return P.forEach(n.mutations,i=>{let s=new $e(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){let r=new $e(n,0),i=this.br.firstAfterOrEqual(r);return P.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,P.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var i_=class{constructor(e){this.Mr=e,this.docs=function(){return new Oe(q.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return P.resolve(r?r.document.mutableCopy():sn.newInvalidDocument(n))}getEntries(e,n){let r=ir();return n.forEach(i=>{let s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():sn.newInvalidDocument(i))}),P.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=ir(),o=n.path,a=new q(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:l,value:{document:h}}=u.getNext();if(!o.isPrefixOf(l.path))break;l.path.length>o.length+1||y$(m$(h),r)<=0||(i.has(h.key)||Bh(n,h))&&(s=s.insert(h.key,h.mutableCopy()))}return P.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Q()}Or(e,n){return P.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new s_(this)}getSize(e){return P.resolve(this.size)}},s_=class extends Jv{constructor(e){super(),this.cr=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),P.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}};var o_=class{constructor(e){this.persistence=e,this.Nr=new Yr(n=>J_(n),Z_),this.lastRemoteSnapshotVersion=te.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Ac,this.targetCount=0,this.kr=Cc.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),P.resolve()}getLastRemoteSnapshotVersion(e){return P.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return P.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),P.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),P.resolve()}Kn(e){this.Nr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.kr=new Cc(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,P.resolve()}updateTargetData(e,n){return this.Kn(n),P.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,P.resolve()}removeTargets(e,n,r){let i=0,s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),P.waitFor(s).next(()=>i)}getTargetCount(e){return P.resolve(this.targetCount)}getTargetData(e,n){let r=this.Nr.get(n)||null;return P.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),P.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);let i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),P.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),P.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Br.yr(n);return P.resolve(r)}containsKey(e,n){return P.resolve(this.Br.containsKey(n))}};var a_=class{constructor(e,n){this.qr={},this.overlays={},this.Qr=new gS(0),this.Kr=!1,this.Kr=!0,this.$r=new n_,this.referenceDelegate=e(this),this.Ur=new o_(this),this.indexManager=new Qv,this.remoteDocumentCache=function(i){return new i_(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new Kv(n),this.Gr=new e_(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new t_,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new r_(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){j("MemoryPersistence","Starting transaction:",e);let i=new c_(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return P.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}},c_=class extends _v{constructor(e){super(),this.currentSequenceNumber=e}},u_=class t{constructor(e){this.persistence=e,this.Jr=new Ac,this.Yr=null}static Zr(e){return new t(e)}get Xr(){if(this.Yr)return this.Yr;throw Q()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),P.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),P.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),P.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return P.forEach(this.Xr,r=>{let i=q.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,te.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return P.or([()=>P.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}};var l_=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=le(),i=le();for(let s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new t(e,n.fromCache,r,i)}};var d_=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var h_=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return _0()?8:_$(Ke())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){let s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new d_;return this.Xi(e,n,o).next(a=>{if(s.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(gc()<=ue.DEBUG&&j("QueryEngine","SDK will not create cache indexes for query:",ao(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),P.resolve()):(gc()<=ue.DEBUG&&j("QueryEngine","Query:",ao(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(gc()<=ue.DEBUG&&j("QueryEngine","The SDK decides to create cache indexes for query:",ao(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Dn(n))):P.resolve())}Yi(e,n){if(zA(n))return P.resolve(null);let r=Dn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Ov(n,null,"F"),r=Dn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{let o=le(...s);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.ts(n,a);return this.ns(n,l,o,u.readTime)?this.Yi(e,Ov(n,null,"F")):this.rs(e,l,n,u)}))})))}Zi(e,n,r,i){return zA(n)||i.isEqual(te.min())?P.resolve(null):this.Ji.getDocuments(e,r).next(s=>{let o=this.ts(n,s);return this.ns(n,o,r,i)?P.resolve(null):(gc()<=ue.DEBUG&&j("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ao(n)),this.rs(e,o,n,g$(i,-1)).next(a=>a))})}ts(e,n){let r=new dt(AS(e));return n.forEach((i,s)=>{Bh(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return gc()<=ue.DEBUG&&j("QueryEngine","Using full collection scan to execute query:",ao(n)),this.Ji.getDocumentsMatchingQuery(e,n,Ui.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}};var f_=class{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new Oe(ye),this._s=new Yr(s=>J_(s),Z_),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Xv(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}};function uH(t,e,n,r){return new f_(t,e,n,r)}function GS(t,e){return w(this,null,function*(){let n=Z(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{let o=[],a=[],u=le();for(let l of i){o.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}for(let l of s){a.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}return n.localDocuments.getDocuments(r,u).next(l=>({hs:l,removedBatchIds:o,addedBatchIds:a}))})})})}function lH(t,e){let n=Z(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,u,l,h){let p=l.batch,m=p.keys(),y=P.resolve();return m.forEach(C=>{y=y.next(()=>h.getEntry(u,C)).next(N=>{let R=l.docVersions.get(C);Ce(R!==null),N.version.compareTo(R)<0&&(p.applyToRemoteDocument(N,l),N.isValidDocument()&&(N.setReadTime(l.commitVersion),h.addEntry(N)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(u,p))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=le();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function WS(t){let e=Z(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function dH(t,e){let n=Z(t),r=e.snapshotVersion,i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{let o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;let a=[];e.targetChanges.forEach((h,p)=>{let m=i.get(p);if(!m)return;a.push(n.Ur.removeMatchingKeys(s,h.removedDocuments,p).next(()=>n.Ur.addMatchingKeys(s,h.addedDocuments,p)));let y=m.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(p)!==null?y=y.withResumeToken(ht.EMPTY_BYTE_STRING,te.min()).withLastLimboFreeSnapshotVersion(te.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,r)),i=i.insert(p,y),function(N,R,k){return N.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-N.snapshotVersion.toMicroseconds()>=3e8?!0:k.addedDocuments.size+k.modifiedDocuments.size+k.removedDocuments.size>0}(m,y,h)&&a.push(n.Ur.updateTargetData(s,y))});let u=ir(),l=le();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,h))}),a.push(hH(s,o,e.documentUpdates).next(h=>{u=h.Ps,l=h.Is})),!r.isEqual(te.min())){let h=n.Ur.getLastRemoteSnapshotVersion(s).next(p=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(h)}return P.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,l)).next(()=>u)}).then(s=>(n.os=i,s))}function hH(t,e,n){let r=le(),i=le();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=ir();return n.forEach((a,u)=>{let l=s.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(te.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):j("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{Ps:o,Is:i}})}function fH(t,e){let n=Z(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function pH(t,e){let n=Z(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,P.resolve(i)):n.Ur.allocateTargetId(r).next(o=>(i=new bc(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}function p_(t,e,n){return w(this,null,function*(){let r=Z(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!Oc(o))throw o;j("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)})}function tS(t,e,n){let r=Z(t),i=te.min(),s=le();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,l,h){let p=Z(u),m=p._s.get(h);return m!==void 0?P.resolve(p.os.get(m)):p.Ur.getTargetData(l,h)}(r,o,Dn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?i:te.min(),n?s:le())).next(a=>(gH(r,N$(e),a),{documents:a,Ts:s})))}function gH(t,e,n){let r=t.us.get(e)||te.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}var Eh=class{constructor(){this.activeTargetIds=F$()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var g_=class{constructor(){this.so=new Eh,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Eh,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var m_=class{_o(e){}shutdown(){}};var Dh=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){j("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){j("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var sh=null;function cv(){return sh===null?sh=function(){return 268435456+Math.round(2147483648*Math.random())}():sh++,"0x"+sh.toString(16)}var mH={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var y_=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var lt="WebChannelConnection",v_=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){let a=cv(),u=this.xo(n,r.toUriEncodedString());j("RestConnection",`Sending RPC '${n}' ${a}:`,u,i);let l={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(l,s,o),this.No(n,u,l,i).then(h=>(j("RestConnection",`Received RPC '${n}' ${a}: `,h),h),h=>{throw po("RestConnection",`RPC '${n}' ${a} failed with error: `,h,"url: ",u,"request:",i),h})}Lo(n,r,i,s,o,a){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+bo}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){let i=mH[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){let s=cv();return new Promise((o,a)=>{let u=new tv;u.setWithCredentials(!0),u.listenOnce(rv.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case pc.NO_ERROR:let h=u.getResponseJson();j(lt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(h)),o(h);break;case pc.TIMEOUT:j(lt,`RPC '${e}' ${s} timed out`),a(new U(M.DEADLINE_EXCEEDED,"Request time out"));break;case pc.HTTP_ERROR:let p=u.getStatus();if(j(lt,`RPC '${e}' ${s} failed with status:`,p,"response text:",u.getResponseText()),p>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);let y=m?.error;if(y&&y.status&&y.message){let C=function(R){let k=R.toLowerCase().replace(/_/g,"-");return Object.values(M).indexOf(k)>=0?k:M.UNKNOWN}(y.status);a(new U(C,y.message))}else a(new U(M.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new U(M.UNAVAILABLE,"Connection failed."));break;default:Q()}}finally{j(lt,`RPC '${e}' ${s} completed.`)}});let l=JSON.stringify(i);j(lt,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",l,r,15)})}Bo(e,n,r){let i=cv(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=ov(),a=sv(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.xmlHttpFactory=new nv({})),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;let h=s.join("");j(lt,`Creating RPC '${e}' stream ${i}: ${h}`,u);let p=o.createWebChannel(h,u),m=!1,y=!1,C=new y_({Io:R=>{y?j(lt,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(m||(j(lt,`Opening RPC '${e}' stream ${i} transport.`),p.open(),m=!0),j(lt,`RPC '${e}' stream ${i} sending:`,R),p.send(R))},To:()=>p.close()}),N=(R,k,H)=>{R.listen(k,V=>{try{H(V)}catch(X){setTimeout(()=>{throw X},0)}})};return N(p,oo.EventType.OPEN,()=>{y||(j(lt,`RPC '${e}' stream ${i} transport opened.`),C.yo())}),N(p,oo.EventType.CLOSE,()=>{y||(y=!0,j(lt,`RPC '${e}' stream ${i} transport closed`),C.So())}),N(p,oo.EventType.ERROR,R=>{y||(y=!0,po(lt,`RPC '${e}' stream ${i} transport errored:`,R),C.So(new U(M.UNAVAILABLE,"The operation could not be completed")))}),N(p,oo.EventType.MESSAGE,R=>{var k;if(!y){let H=R.data[0];Ce(!!H);let V=H,X=V.error||((k=V[0])===null||k===void 0?void 0:k.error);if(X){j(lt,`RPC '${e}' stream ${i} received error:`,X);let Ie=X.status,G=function(_){let D=Be[_];if(D!==void 0)return VS(D)}(Ie),E=X.message;G===void 0&&(G=M.INTERNAL,E="Unknown error status: "+Ie+" with message "+X.message),y=!0,C.So(new U(G,E)),p.close()}else j(lt,`RPC '${e}' stream ${i} received:`,H),C.bo(H)}}),N(a,iv.STAT_EVENT,R=>{R.stat===rh.PROXY?j(lt,`RPC '${e}' stream ${i} detected buffering proxy`):R.stat===rh.NOPROXY&&j(lt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{C.wo()},0),C}};function uv(){return typeof document<"u"?document:null}function $h(t){return new Hv(t,!0)}var Th=class{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&j("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var bh=class{constructor(e,n,r,i,s,o,a,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Th(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return w(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return w(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,n){return w(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===M.RESOURCE_EXHAUSTED?(nr(n.toString()),nr("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===M.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(n)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{let i=new U(M.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){let r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(()=>w(this,null,function*(){this.state=0,this.start()}))}I_(e){return j("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(j("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},__=class extends bh{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let n=J$(this.serializer,e),r=function(s){if(!("targetChange"in s))return te.min();let o=s.targetChange;return o.targetIds&&o.targetIds.length?te.min():o.readTime?Tn(o.readTime):te.min()}(e);return this.listener.d_(n,r)}A_(e){let n={};n.database=Wv(this.serializer),n.addTarget=function(s,o){let a,u=o.target;if(a=xv(u)?{documents:eH(s,u)}:{query:tH(s,u)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=US(s,o.resumeToken);let l=zv(s,o.expectedCount);l!==null&&(a.expectedCount=l)}else if(o.snapshotVersion.compareTo(te.min())>0){a.readTime=Ih(s,o.snapshotVersion.toTimestamp());let l=zv(s,o.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);let r=rH(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){let n={};n.database=Wv(this.serializer),n.removeTarget=e,this.a_(n)}},I_=class extends bh{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Ce(!!e.streamToken),this.lastStreamToken=e.streamToken,Ce(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Ce(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let n=X$(e.writeResults,e.commitTime),r=Tn(e.commitTime);return this.listener.g_(r,n)}p_(){let e={};e.database=Wv(this.serializer),this.a_(e)}m_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>Z$(this.serializer,r))};this.a_(n)}};var w_=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new U(M.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,qv(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new U(M.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,qv(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new U(M.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},E_=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(nr(n),this.D_=!1):j("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var D_=class{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(()=>w(this,null,function*(){Wi(this)&&(j("RemoteStore","Restarting streams for network reachability change."),yield function(u){return w(this,null,function*(){let l=Z(u);l.L_.add(4),yield kc(l),l.q_.set("Unknown"),l.L_.delete(4),yield Hh(l)})}(this))}))}),this.q_=new E_(r,i)}};function Hh(t){return w(this,null,function*(){if(Wi(t))for(let e of t.B_)yield e(!0)})}function kc(t){return w(this,null,function*(){for(let e of t.B_)yield e(!1)})}function KS(t,e){let n=Z(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),sI(n)?iI(n):Ao(n).r_()&&rI(n,e))}function nI(t,e){let n=Z(t),r=Ao(n);n.N_.delete(e),r.r_()&&QS(n,e),n.N_.size===0&&(r.r_()?r.o_():Wi(n)&&n.q_.set("Unknown"))}function rI(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(te.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ao(t).A_(e)}function QS(t,e){t.Q_.xe(e),Ao(t).R_(e)}function iI(t){t.Q_=new $v({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Ao(t).start(),t.q_.v_()}function sI(t){return Wi(t)&&!Ao(t).n_()&&t.N_.size>0}function Wi(t){return Z(t).L_.size===0}function YS(t){t.Q_=void 0}function yH(t){return w(this,null,function*(){t.q_.set("Online")})}function vH(t){return w(this,null,function*(){t.N_.forEach((e,n)=>{rI(t,e)})})}function _H(t,e){return w(this,null,function*(){YS(t),sI(t)?(t.q_.M_(e),iI(t)):t.q_.set("Unknown")})}function IH(t,e,n){return w(this,null,function*(){if(t.q_.set("Online"),e instanceof vh&&e.state===2&&e.cause)try{yield function(i,s){return w(this,null,function*(){let o=s.cause;for(let a of s.targetIds)i.N_.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.N_.delete(a),i.Q_.removeTarget(a))})}(t,e)}catch(r){j("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Ch(t,r)}else if(e instanceof ho?t.Q_.Ke(e):e instanceof yh?t.Q_.He(e):t.Q_.We(e),!n.isEqual(te.min()))try{let r=yield WS(t.localStore);n.compareTo(r)>=0&&(yield function(s,o){let a=s.Q_.rt(o);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let h=s.N_.get(l);h&&s.N_.set(l,h.withResumeToken(u.resumeToken,o))}}),a.targetMismatches.forEach((u,l)=>{let h=s.N_.get(u);if(!h)return;s.N_.set(u,h.withResumeToken(ht.EMPTY_BYTE_STRING,h.snapshotVersion)),QS(s,u);let p=new bc(h.target,u,l,h.sequenceNumber);rI(s,p)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){j("RemoteStore","Failed to raise snapshot:",r),yield Ch(t,r)}})}function Ch(t,e,n){return w(this,null,function*(){if(!Oc(e))throw e;t.L_.add(1),yield kc(t),t.q_.set("Offline"),n||(n=()=>WS(t.localStore)),t.asyncQueue.enqueueRetryable(()=>w(this,null,function*(){j("RemoteStore","Retrying IndexedDB access"),yield n(),t.L_.delete(1),yield Hh(t)}))})}function JS(t,e){return e().catch(n=>Ch(t,n,e))}function zh(t){return w(this,null,function*(){let e=Z(t),n=Jr(e),r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;wH(e);)try{let i=yield fH(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,EH(e,i)}catch(i){yield Ch(e,i)}ZS(e)&&XS(e)})}function wH(t){return Wi(t)&&t.O_.length<10}function EH(t,e){t.O_.push(e);let n=Jr(t);n.r_()&&n.V_&&n.m_(e.mutations)}function ZS(t){return Wi(t)&&!Jr(t).n_()&&t.O_.length>0}function XS(t){Jr(t).start()}function DH(t){return w(this,null,function*(){Jr(t).p_()})}function TH(t){return w(this,null,function*(){let e=Jr(t);for(let n of t.O_)e.m_(n.mutations)})}function bH(t,e,n){return w(this,null,function*(){let r=t.O_.shift(),i=Vv.from(r,e,n);yield JS(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield zh(t)})}function CH(t,e){return w(this,null,function*(){e&&Jr(t).V_&&(yield function(r,i){return w(this,null,function*(){if(function(o){return H$(o)&&o!==M.ABORTED}(i.code)){let s=r.O_.shift();Jr(r).s_(),yield JS(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),yield zh(r)}})}(t,e)),ZS(t)&&XS(t)})}function nS(t,e){return w(this,null,function*(){let n=Z(t);n.asyncQueue.verifyOperationInProgress(),j("RemoteStore","RemoteStore received new credentials");let r=Wi(n);n.L_.add(3),yield kc(n),r&&n.q_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),yield Hh(n)})}function AH(t,e){return w(this,null,function*(){let n=Z(t);e?(n.L_.delete(2),yield Hh(n)):e||(n.L_.add(2),yield kc(n),n.q_.set("Unknown"))})}function Ao(t){return t.K_||(t.K_=function(n,r,i){let s=Z(n);return s.w_(),new __(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:yH.bind(null,t),Ro:vH.bind(null,t),mo:_H.bind(null,t),d_:IH.bind(null,t)}),t.B_.push(e=>w(this,null,function*(){e?(t.K_.s_(),sI(t)?iI(t):t.q_.set("Unknown")):(yield t.K_.stop(),YS(t))}))),t.K_}function Jr(t){return t.U_||(t.U_=function(n,r,i){let s=Z(n);return s.w_(),new I_(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:DH.bind(null,t),mo:CH.bind(null,t),f_:TH.bind(null,t),g_:bH.bind(null,t)}),t.B_.push(e=>w(this,null,function*(){e?(t.U_.s_(),yield zh(t)):(yield t.U_.stop(),t.O_.length>0&&(j("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))}))),t.U_}var T_=class t{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new tr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){let o=Date.now()+r,a=new t(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new U(M.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function oI(t,e){if(nr("AsyncQueue",`${e}: ${t}`),Oc(t))return new U(M.UNAVAILABLE,`${e}: ${t}`);throw t}var Ah=class t{constructor(e){this.comparator=e?(n,r)=>e(n,r)||q.comparator(n.key,r.key):(n,r)=>q.comparator(n.key,r.key),this.keyedMap=mc(),this.sortedSet=new Oe(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var Sh=class{constructor(){this.W_=new Oe(q.comparator)}track(e){let n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):Q():this.W_=this.W_.insert(n,e)}G_(){let e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}},Do=class t{constructor(e,n,r,i,s,o,a,u,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,s){let o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new t(e,n,Ah.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&jh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var b_=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}},C_=class{constructor(){this.queries=rS(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){let i=Z(n),s=i.queries;i.queries=rS(),s.forEach((o,a)=>{for(let u of a.j_)u.onError(r)})})(this,new U(M.ABORTED,"Firestore shutting down"))}};function rS(){return new Yr(t=>CS(t),jh)}function SH(t,e){return w(this,null,function*(){let n=Z(t),r=3,i=e.query,s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new b_,r=e.J_()?0:1);try{switch(r){case 0:s.z_=yield n.onListen(i,!0);break;case 1:s.z_=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(o){let a=oI(o,`Initialization of query '${ao(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&aI(n)})}function RH(t,e){return w(this,null,function*(){let n=Z(t),r=e.query,i=3,s=n.queries.get(r);if(s){let o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}})}function NH(t,e){let n=Z(t),r=!1;for(let i of e){let s=i.query,o=n.queries.get(s);if(o){for(let a of o.j_)a.X_(i)&&(r=!0);o.z_=i}}r&&aI(n)}function MH(t,e,n){let r=Z(t),i=r.queries.get(e);if(i)for(let s of i.j_)s.onError(n);r.queries.delete(e)}function aI(t){t.Y_.forEach(e=>{e.next()})}var A_,iS;(iS=A_||(A_={})).ea="default",iS.Cache="cache";var S_=class{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new Do(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;let r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Do.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==A_.Cache}};var Rh=class{constructor(e){this.key=e}},Nh=class{constructor(e){this.key=e}},R_=class{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=le(),this.mutatedKeys=le(),this.Aa=AS(e),this.Ra=new Ah(this.Aa)}get Va(){return this.Ta}ma(e,n){let r=n?n.fa:new Sh,i=n?n.Ra:this.Ra,s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{let m=i.get(h),y=Bh(this.query,p)?p:null,C=!!m&&this.mutatedKeys.has(m.key),N=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations),R=!1;m&&y?m.data.isEqual(y.data)?C!==N&&(r.track({type:3,doc:y}),R=!0):this.ga(m,y)||(r.track({type:2,doc:y}),R=!0,(u&&this.Aa(y,u)>0||l&&this.Aa(y,l)<0)&&(a=!0)):!m&&y?(r.track({type:0,doc:y}),R=!0):m&&!y&&(r.track({type:1,doc:m}),R=!0,(u||l)&&(a=!0)),R&&(y?(o=o.add(y),s=N?s.add(h):s.delete(h)):(o=o.delete(h),s=s.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){let h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),s=s.delete(h.key),r.track({type:1,doc:h})}return{Ra:o,fa:r,ns:a,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let o=e.fa.G_();o.sort((h,p)=>function(y,C){let N=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Q()}};return N(y)-N(C)}(h.type,p.type)||this.Aa(h.doc,p.doc)),this.pa(r),i=i!=null&&i;let a=n&&!i?this.ya():[],u=this.da.size===0&&this.current&&!i?1:0,l=u!==this.Ea;return this.Ea=u,o.length!==0||l?{snapshot:new Do(this.query,e.Ra,s,o,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Sh,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=le(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});let n=[];return e.forEach(r=>{this.da.has(r)||n.push(new Nh(r))}),this.da.forEach(r=>{e.has(r)||n.push(new Rh(r))}),n}ba(e){this.Ta=e.Ts,this.da=le();let n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Do.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},N_=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},M_=class{constructor(e){this.key=e,this.va=!1}},x_=class{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new Yr(a=>CS(a),jh),this.Ma=new Map,this.xa=new Set,this.Oa=new Oe(q.comparator),this.Na=new Map,this.La=new Ac,this.Ba={},this.ka=new Map,this.qa=Cc.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function xH(t,e,n=!0){return w(this,null,function*(){let r=sR(t),i,s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=yield eR(r,e,n,!0),i})}function PH(t,e){return w(this,null,function*(){let n=sR(t);yield eR(n,e,!0,!1)})}function eR(t,e,n,r){return w(this,null,function*(){let i=yield pH(t.localStore,Dn(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n),a;return r&&(a=yield OH(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&KS(t.remoteStore,i),a})}function OH(t,e,n,r,i){return w(this,null,function*(){t.Ka=(p,m,y)=>function(N,R,k,H){return w(this,null,function*(){let V=R.view.ma(k);V.ns&&(V=yield tS(N.localStore,R.query,!1).then(({documents:E})=>R.view.ma(E,V)));let X=H&&H.targetChanges.get(R.targetId),Ie=H&&H.targetMismatches.get(R.targetId)!=null,G=R.view.applyChanges(V,N.isPrimaryClient,X,Ie);return oS(N,R.targetId,G.wa),G.snapshot})}(t,p,m,y);let s=yield tS(t.localStore,e,!0),o=new R_(e,s.Ts),a=o.ma(s.documents),u=Tc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),l=o.applyChanges(a,t.isPrimaryClient,u);oS(t,n,l.wa);let h=new N_(e,n,o);return t.Fa.set(e,h),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),l.snapshot})}function kH(t,e,n){return w(this,null,function*(){let r=Z(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!jh(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield p_(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&nI(r.remoteStore,i.targetId),P_(r,i.targetId)}).catch(Pc))):(P_(r,i.targetId),yield p_(r.localStore,i.targetId,!0))})}function FH(t,e){return w(this,null,function*(){let n=Z(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),nI(n.remoteStore,r.targetId))})}function LH(t,e,n){return w(this,null,function*(){let r=zH(t);try{let i=yield function(o,a){let u=Z(o),l=rt.now(),h=a.reduce((y,C)=>y.add(C.key),le()),p,m;return u.persistence.runTransaction("Locally write mutations","readwrite",y=>{let C=ir(),N=le();return u.cs.getEntries(y,h).next(R=>{C=R,C.forEach((k,H)=>{H.isValidDocument()||(N=N.add(k))})}).next(()=>u.localDocuments.getOverlayedDocuments(y,C)).next(R=>{p=R;let k=[];for(let H of a){let V=$$(H,p.get(H.key).overlayedDocument);V!=null&&k.push(new sr(H.key,V,_S(V.value.mapValue),Gr.exists(!0)))}return u.mutationQueue.addMutationBatch(y,l,k,a)}).next(R=>{m=R;let k=R.applyToLocalDocumentSet(p,N);return u.documentOverlayCache.saveOverlays(y,R.batchId,k)})}).then(()=>({batchId:m.batchId,changes:RS(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,u){let l=o.Ba[o.currentUser.toKey()];l||(l=new Oe(ye)),l=l.insert(a,u),o.Ba[o.currentUser.toKey()]=l}(r,i.batchId,n),yield Fc(r,i.changes),yield zh(r.remoteStore)}catch(i){let s=oI(i,"Failed to persist write");n.reject(s)}})}function tR(t,e){return w(this,null,function*(){let n=Z(t);try{let r=yield dH(n.localStore,e);e.targetChanges.forEach((i,s)=>{let o=n.Na.get(s);o&&(Ce(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?Ce(o.va):i.removedDocuments.size>0&&(Ce(o.va),o.va=!1))}),yield Fc(n,r,e)}catch(r){yield Pc(r)}})}function sS(t,e,n){let r=Z(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.Fa.forEach((s,o)=>{let a=o.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){let u=Z(o);u.onlineState=a;let l=!1;u.queries.forEach((h,p)=>{for(let m of p.j_)m.Z_(a)&&(l=!0)}),l&&aI(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function VH(t,e,n){return w(this,null,function*(){let r=Z(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Na.get(e),s=i&&i.key;if(s){let o=new Oe(q.comparator);o=o.insert(s,sn.newNoDocument(s,te.min()));let a=le().add(s),u=new mh(te.min(),new Map,new Oe(ye),o,a);yield tR(r,u),r.Oa=r.Oa.remove(s),r.Na.delete(e),cI(r)}else yield p_(r.localStore,e,!1).then(()=>P_(r,e,n)).catch(Pc)})}function UH(t,e){return w(this,null,function*(){let n=Z(t),r=e.batch.batchId;try{let i=yield lH(n.localStore,e);rR(n,r,null),nR(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield Fc(n,i)}catch(i){yield Pc(i)}})}function jH(t,e,n){return w(this,null,function*(){let r=Z(t);try{let i=yield function(o,a){let u=Z(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return u.mutationQueue.lookupMutationBatch(l,a).next(p=>(Ce(p!==null),h=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,h,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>u.localDocuments.getDocuments(l,h))})}(r.localStore,e);rR(r,e,n),nR(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield Fc(r,i)}catch(i){yield Pc(i)}})}function nR(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function rR(t,e,n){let r=Z(t),i=r.Ba[r.currentUser.toKey()];if(i){let s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function P_(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||iR(t,r)})}function iR(t,e){t.xa.delete(e.path.canonicalString());let n=t.Oa.get(e);n!==null&&(nI(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),cI(t))}function oS(t,e,n){for(let r of n)r instanceof Rh?(t.La.addReference(r.key,e),BH(t,r)):r instanceof Nh?(j("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||iR(t,r.key)):Q()}function BH(t,e){let n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(j("SyncEngine","New document in limbo: "+n),t.xa.add(r),cI(t))}function cI(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){let e=t.xa.values().next().value;t.xa.delete(e);let n=new q(Me.fromString(e)),r=t.qa.next();t.Na.set(r,new M_(n)),t.Oa=t.Oa.insert(n,r),KS(t.remoteStore,new bc(Dn(X_(n.path)),r,"TargetPurposeLimboResolution",gS.oe))}}function Fc(t,e,n){return w(this,null,function*(){let r=Z(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,u)=>{o.push(r.Ka(u,e,n).then(l=>{var h;if((l||n)&&r.isPrimaryClient){let p=l?!l.fromCache:(h=n?.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=l_.Wi(u.targetId,l);s.push(p)}}))}),yield Promise.all(o),r.Ca.d_(i),yield function(u,l){return w(this,null,function*(){let h=Z(u);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>P.forEach(l,m=>P.forEach(m.$i,y=>h.persistence.referenceDelegate.addReference(p,m.targetId,y)).next(()=>P.forEach(m.Ui,y=>h.persistence.referenceDelegate.removeReference(p,m.targetId,y)))))}catch(p){if(!Oc(p))throw p;j("LocalStore","Failed to update sequence numbers: "+p)}for(let p of l){let m=p.targetId;if(!p.fromCache){let y=h.os.get(m),C=y.snapshotVersion,N=y.withLastLimboFreeSnapshotVersion(C);h.os=h.os.insert(m,N)}}})}(r.localStore,s))})}function $H(t,e){return w(this,null,function*(){let n=Z(t);if(!n.currentUser.isEqual(e)){j("SyncEngine","User change. New user:",e.toKey());let r=yield GS(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(a=>{a.forEach(u=>{u.reject(new U(M.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Fc(n,r.hs)}})}function HH(t,e){let n=Z(t),r=n.Na.get(e);if(r&&r.va)return le().add(r.key);{let i=le(),s=n.Ma.get(e);if(!s)return i;for(let o of s){let a=n.Fa.get(o);i=i.unionWith(a.view.Va)}return i}}function sR(t){let e=Z(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=tR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=HH.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=VH.bind(null,e),e.Ca.d_=NH.bind(null,e.eventManager),e.Ca.$a=MH.bind(null,e.eventManager),e}function zH(t){let e=Z(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=UH.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=jH.bind(null,e),e}var Mh=class{constructor(){this.synchronizeTabs=!1}initialize(e){return w(this,null,function*(){this.serializer=$h(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return uH(this.persistence,new h_,e.initialUser,this.serializer)}createPersistence(e){return new a_(u_.Zr,this.serializer)}createSharedClientState(e){return new g_}terminate(){return w(this,null,function*(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var O_=class{initialize(e,n){return w(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>sS(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=$H.bind(null,this.syncEngine),yield AH(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new C_}()}createDatastore(e){let n=$h(e.databaseInfo.databaseId),r=function(s){return new v_(s)}(e.databaseInfo);return function(s,o,a,u){return new w_(s,o,a,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new D_(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>sS(this.syncEngine,n,0),function(){return Dh.D()?new Dh:new m_}())}createSyncEngine(e,n){return function(i,s,o,a,u,l,h){let p=new x_(i,s,o,a,u,l);return h&&(p.Qa=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return w(this,null,function*(){var e,n;yield function(i){return w(this,null,function*(){let s=Z(i);j("RemoteStore","RemoteStore shutting down."),s.L_.add(5),yield kc(s),s.k_.shutdown(),s.q_.set("Unknown")})}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()})}};var k_=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ga(this.observer.next,e)}error(e){this.observer.error?this.Ga(this.observer.error,e):nr("Uncaught Error in snapshot listener:",e.toString())}za(){this.muted=!0}Ga(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}};var F_=class{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Qe.UNAUTHENTICATED,this.clientId=uh.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,s=>w(this,null,function*(){j("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(j("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new U(M.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new tr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>w(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=oI(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function lv(t,e){return w(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),j("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>w(this,null,function*(){r.isEqual(i)||(yield GS(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function aS(t,e){return w(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield GH(t);j("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>nS(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>nS(e.remoteStore,i)),t._onlineComponents=e})}function qH(t){return t.name==="FirebaseError"?t.code===M.FAILED_PRECONDITION||t.code===M.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}function GH(t){return w(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){j("FirestoreClient","Using user provided OfflineComponentProvider");try{yield lv(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!qH(n))throw n;po("Error using user provided cache. Falling back to memory cache: "+n),yield lv(t,new Mh)}}else j("FirestoreClient","Using default OfflineComponentProvider"),yield lv(t,new Mh);return t._offlineComponents})}function oR(t){return w(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(j("FirestoreClient","Using user provided OnlineComponentProvider"),yield aS(t,t._uninitializedComponentsProvider._online)):(j("FirestoreClient","Using default OnlineComponentProvider"),yield aS(t,new O_))),t._onlineComponents})}function WH(t){return oR(t).then(e=>e.syncEngine)}function cS(t){return w(this,null,function*(){let e=yield oR(t),n=e.eventManager;return n.onListen=xH.bind(null,e.syncEngine),n.onUnlisten=kH.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=PH.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=FH.bind(null,e.syncEngine),n})}function aR(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var uS=new Map;function cR(t,e,n){if(!n)throw new U(M.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function KH(t,e,n,r){if(e===!0&&r===!0)throw new U(M.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function lS(t){if(!q.isDocumentKey(t))throw new U(M.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function dS(t){if(q.isDocumentKey(t))throw new U(M.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function qh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Q()}function Li(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new U(M.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=qh(t);throw new U(M.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var xh=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new U(M.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new U(M.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}KH("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=aR((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new U(M.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new U(M.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new U(M.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},To=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new xh({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new U(M.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new U(M.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new xh(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new dv;switch(r.type){case"firstParty":return new gv(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new U(M.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=uS.get(n);r&&(j("ComponentProvider","Removing Datastore"),uS.delete(n),r.terminate())}(this),Promise.resolve()}};function uR(t,e,n,r={}){var i;let s=(t=Li(t,To))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&po("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,u;if(typeof r.mockUserToken=="string")a=r.mockUserToken,u=Qe.MOCK_USER;else{a=f0(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new U(M.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Qe(l)}t._authCredentials=new hv(new ch(a,u))}}var qi=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},Ct=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Wr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},Wr=class t extends qi{constructor(e,n,r){super(e,n,X_(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Ct(this.firestore,null,new q(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function lR(t,e,...n){if(t=nt(t),cR("collection","path",e),t instanceof To){let r=Me.fromString(e,...n);return dS(r),new Wr(t,null,r)}{if(!(t instanceof Ct||t instanceof Wr))throw new U(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Me.fromString(e,...n));return dS(r),new Wr(t.firestore,null,r)}}function uI(t,e,...n){if(t=nt(t),arguments.length===1&&(e=uh.newId()),cR("doc","path",e),t instanceof To){let r=Me.fromString(e,...n);return lS(r),new Ct(t,null,new q(r))}{if(!(t instanceof Ct||t instanceof Wr))throw new U(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Me.fromString(e,...n));return lS(r),new Ct(t.firestore,t instanceof Wr?t.converter:null,new q(r))}}var L_=class{constructor(){this.au=Promise.resolve(),this.uu=[],this.cu=!1,this.lu=[],this.hu=null,this.Pu=!1,this.Iu=!1,this.Tu=[],this.t_=new Th(this,"async_queue_retry"),this.Eu=()=>{let n=uv();n&&j("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()};let e=uv();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Eu)}get isShuttingDown(){return this.cu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.du(),this.Au(e)}enterRestrictedMode(e){if(!this.cu){this.cu=!0,this.Iu=e||!1;let n=uv();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Eu)}}enqueue(e){if(this.du(),this.cu)return new Promise(()=>{});let n=new tr;return this.Au(()=>this.cu&&this.Iu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.uu.push(e),this.Ru()))}Ru(){return w(this,null,function*(){if(this.uu.length!==0){try{yield this.uu[0](),this.uu.shift(),this.t_.reset()}catch(e){if(!Oc(e))throw e;j("AsyncQueue","Operation failed with retryable error: "+e)}this.uu.length>0&&this.t_.Go(()=>this.Ru())}})}Au(e){let n=this.au.then(()=>(this.Pu=!0,e().catch(r=>{this.hu=r,this.Pu=!1;let i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw nr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Pu=!1,r))));return this.au=n,n}enqueueAfterDelay(e,n,r){this.du(),this.Tu.indexOf(e)>-1&&(n=0);let i=T_.createAndSchedule(this,e,n,r,s=>this.Vu(s));return this.lu.push(i),i}du(){this.hu&&Q()}verifyOperationInProgress(){}mu(){return w(this,null,function*(){let e;do e=this.au,yield e;while(e!==this.au)})}fu(e){for(let n of this.lu)if(n.timerId===e)return!0;return!1}gu(e){return this.mu().then(()=>{this.lu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.lu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.mu()})}pu(e){this.Tu.push(e)}Vu(e){let n=this.lu.indexOf(e);this.lu.splice(n,1)}};function hS(t){return function(n,r){if(typeof n!="object"||n===null)return!1;let i=n;for(let s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}var Gi=class extends To{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new L_}(),this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||fR(this),this._firestoreClient.terminate()}};function dR(t,e){let n=typeof t=="object"?t:eo(),r=typeof t=="string"?t:e||"(default)",i=nc(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let s=h0("firestore");s&&uR(i,...s)}return i}function hR(t){return t._firestoreClient||fR(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function fR(t){var e,n,r;let i=t._freezeSettings(),s=function(a,u,l,h){return new Iv(a,u,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,aR(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new F_(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}var Sc=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(ht.fromBase64String(e))}catch(n){throw new U(M.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(ht.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Rc=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new U(M.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ot(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Ph=class{constructor(e){this._methodName=e}};var Nc=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new U(M.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new U(M.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ye(this._lat,e._lat)||ye(this._long,e._long)}};var Mc=class{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}};var QH=/^__.*__$/,V_=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new sr(e,this.data,this.fieldMask,n,this.fieldTransforms):new zi(e,this.data,n,this.fieldTransforms)}};function pR(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Q()}}var U_=class t{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.yu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get wu(){return this.settings.wu}Su(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}bu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Su({path:r,Du:!1});return i.vu(e),i}Cu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Su({path:r,Du:!1});return i.yu(),i}Fu(e){return this.Su({path:void 0,Du:!0})}Mu(e){return Oh(e,this.settings.methodName,this.settings.xu||!1,this.path,this.settings.Ou)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}yu(){if(this.path)for(let e=0;e<this.path.length;e++)this.vu(this.path.get(e))}vu(e){if(e.length===0)throw this.Mu("Document fields must not be empty");if(pR(this.wu)&&QH.test(e))throw this.Mu('Document fields cannot begin and end with "__"')}},j_=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||$h(e)}Nu(e,n,r,i=!1){return new U_({wu:e,methodName:n,Ou:r,path:Ot.emptyPath(),Du:!1,xu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function lI(t){let e=t._freezeSettings(),n=$h(t._databaseId);return new j_(t._databaseId,!!e.ignoreUndefinedProperties,n)}function gR(t,e,n,r,i,s={}){let o=t.Nu(s.merge||s.mergeFields?2:0,e,n,i);vR("Data must be an object, but it was:",o,r);let a=mR(r,o),u,l;if(s.merge)u=new wn(o.fieldMask),l=o.fieldTransforms;else if(s.mergeFields){let h=[];for(let p of s.mergeFields){let m=JH(e,p,n);if(!o.contains(m))throw new U(M.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);XH(h,m)||h.push(m)}u=new wn(h),l=o.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=o.fieldTransforms;return new V_(new rn(a),u,l)}function YH(t,e,n,r=!1){return dI(n,t.Nu(r?4:3,e))}function dI(t,e){if(yR(t=nt(t)))return vR("Unsupported field value:",e,t),mR(t,e);if(t instanceof Ph)return function(r,i){if(!pR(i.wu))throw i.Mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Mu(`${r._methodName}() is not currently supported inside arrays`);let s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Du&&e.wu!==4)throw e.Mu("Nested arrays are not supported");return function(r,i){let s=[],o=0;for(let a of r){let u=dI(a,i.Fu(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=nt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return L$(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let s=rt.fromDate(r);return{timestampValue:Ih(i.serializer,s)}}if(r instanceof rt){let s=new rt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ih(i.serializer,s)}}if(r instanceof Nc)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Sc)return{bytesValue:US(i.serializer,r._byteString)};if(r instanceof Ct){let s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:tI(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Mc)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw a.Mu("VectorValues must only contain numeric values.");return eI(a.serializer,u)})}}}}}}(r,i);throw i.Mu(`Unsupported field value: ${qh(r)}`)}(t,e)}function mR(t,e){let n={};return mS(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Co(t,(r,i)=>{let s=dI(i,e.bu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function yR(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof rt||t instanceof Nc||t instanceof Sc||t instanceof Ct||t instanceof Ph||t instanceof Mc)}function vR(t,e,n){if(!yR(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=qh(n);throw r==="an object"?e.Mu(t+" a custom object"):e.Mu(t+" "+r)}}function JH(t,e,n){if((e=nt(e))instanceof Rc)return e._internalPath;if(typeof e=="string")return _R(t,e);throw Oh("Field path arguments must be of type string or ",t,!1,void 0,n)}var ZH=new RegExp("[~\\*/\\[\\]]");function _R(t,e,n){if(e.search(ZH)>=0)throw Oh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Rc(...e.split("."))._internalPath}catch{throw Oh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Oh(t,e,n,r,i){let s=r&&!r.isEmpty(),o=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new U(M.INVALID_ARGUMENT,a+t+u)}function XH(t,e){return t.some(n=>n.isEqual(e))}var kh=class{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Ct(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new B_(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(hI("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},B_=class extends kh{data(){return super.data()}};function hI(t,e){return typeof e=="string"?_R(t,e):e instanceof Rc?e._internalPath:e._delegate._internalPath}function ez(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new U(M.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var xc=class{},Fh=class extends xc{};function IR(t,e,...n){let r=[];e instanceof xc&&r.push(e),r=r.concat(n),function(s){let o=s.filter(u=>u instanceof H_).length,a=s.filter(u=>u instanceof $_).length;if(o>1||o>0&&a>0)throw new U(M.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)t=i._apply(t);return t}var $_=class t extends Fh{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=this._parse(e);return ER(e._query,n),new qi(e.firestore,e.converter,Pv(e._query,n))}_parse(e){let n=lI(e.firestore);return function(s,o,a,u,l,h,p){let m;if(l.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new U(M.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){pS(p,h);let y=[];for(let C of p)y.push(fS(u,s,C));m={arrayValue:{values:y}}}else m=fS(u,s,p)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||pS(p,h),m=YH(a,o,p,h==="in"||h==="not-in");return He.create(l,h,m)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};var H_=class t extends xc{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:on.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i,a=s.getFlattenedFilters();for(let u of a)ER(o,u),o=Pv(o,u)}(e._query,n),new qi(e.firestore,e.converter,Pv(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var z_=class t extends Fh{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new t(e,n)}_apply(e){let n=function(i,s,o){if(i.startAt!==null)throw new U(M.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new U(M.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Bi(s,o)}(e._query,this._field,this._direction);return new qi(e.firestore,e.converter,function(i,s){let o=i.explicitOrderBy.concat([s]);return new Qr(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}};function wR(t,e="asc"){let n=e,r=hI("orderBy",t);return z_._create(r,n)}function fS(t,e,n){if(typeof(n=nt(n))=="string"){if(n==="")throw new U(M.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!bS(e)&&n.indexOf("/")!==-1)throw new U(M.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let r=e.path.child(Me.fromString(n));if(!q.isDocumentKey(r))throw new U(M.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return VA(t,new q(r))}if(n instanceof Ct)return VA(t,n._key);throw new U(M.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${qh(n)}.`)}function pS(t,e){if(!Array.isArray(t)||t.length===0)throw new U(M.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function ER(t,e){let n=function(i,s){for(let o of i)for(let a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new U(M.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new U(M.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}var q_=class{convertValue(e,n="none"){switch(ji(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ne(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Kr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Q()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return Co(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;let s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>Ne(o.doubleValue));return new Mc(s)}convertGeoPoint(e){return new Nc(Ne(e.latitude),Ne(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=Q_(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Ec(e));default:return null}}convertTimestamp(e){let n=rr(e);return new rt(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=Me.fromString(e);Ce(qS(r));let i=new fh(r.get(1),r.get(3)),s=new q(r.popFirst(5));return i.isEqual(n)||nr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}};function DR(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var Fi=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Lh=class extends kh{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new fo(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(hI("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},fo=class extends Lh{data(e={}){return super.data(e)}},G_=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Fi(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new fo(this._firestore,this._userDataWriter,r.key,r,new Fi(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new U(M.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{let u=new fo(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Fi(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{let u=new fo(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Fi(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,h=-1;return a.type!==0&&(l=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:tz(a.type),doc:u,oldIndex:l,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function tz(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Q()}}var Vh=class extends q_{constructor(e){super(),this.firestore=e}convertBytes(e){return new Sc(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ct(this.firestore,null,n)}};function TR(t,e,n){t=Li(t,Ct);let r=Li(t.firestore,Gi),i=DR(t.converter,e,n);return CR(r,[gR(lI(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Gr.none())])}function bR(t,e){let n=Li(t.firestore,Gi),r=uI(t),i=DR(t.converter,e);return CR(n,[gR(lI(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Gr.exists(!1))]).then(()=>r)}function fI(t,...e){var n,r,i;t=nt(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||hS(e[o])||(s=e[o],o++);let a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(hS(e[o])){let p=e[o];e[o]=(n=p.next)===null||n===void 0?void 0:n.bind(p),e[o+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[o+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let u,l,h;if(t instanceof Ct)l=Li(t.firestore,Gi),h=X_(t._key.path),u={next:p=>{e[o]&&e[o](nz(l,t,p))},error:e[o+1],complete:e[o+2]};else{let p=Li(t,qi);l=Li(p.firestore,Gi),h=p._query;let m=new Vh(l);u={next:y=>{e[o]&&e[o](new G_(l,m,p,y))},error:e[o+1],complete:e[o+2]},ez(t._query)}return function(m,y,C,N){let R=new k_(N),k=new S_(y,R,C);return m.asyncQueue.enqueueAndForget(()=>w(this,null,function*(){return SH(yield cS(m),k)})),()=>{R.za(),m.asyncQueue.enqueueAndForget(()=>w(this,null,function*(){return RH(yield cS(m),k)}))}}(hR(l),h,a,u)}function CR(t,e){return function(r,i){let s=new tr;return r.asyncQueue.enqueueAndForget(()=>w(this,null,function*(){return LH(yield WH(r),i,s)})),s.promise}(hR(t),e)}function nz(t,e,n){let r=n.docs.get(e._key),i=new Vh(t);return new Lh(t,i,e._key,r,new Fi(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){bo=i})(jr),Ur(new qt("firestore",(r,{instanceIdentifier:i,options:s})=>{let o=r.getProvider("app").getImmediate(),a=new Gi(new fv(r.getProvider("auth-internal")),new yv(r.getProvider("app-check-internal")),function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new U(M.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new fh(l.options.projectId,h)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Ge(OA,"4.7.2",e),Ge(OA,"4.7.2","esm2017")})();var Gh=function(){return Gh=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Gh.apply(this,arguments)};var sz={includeMetadataChanges:!1};function AR(t,e){return e===void 0&&(e=sz),new re(function(n){var r=fI(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function SR(t,e){var n;e===void 0&&(e={});var r=t.data(e);return!t.exists()||typeof r!="object"||r===null||!e.idField?r:Gh(Gh({},r),(n={},n[e.idField]=t.id,n))}function RR(t){return AR(t,{includeMetadataChanges:!0}).pipe(Y(function(e){return e.docs}))}function NR(t,e){return e===void 0&&(e={}),RR(t).pipe(Y(function(n){return n.map(function(r){return SR(r,e)})}))}var Lc=class{constructor(e){return e}},MR="firestore",pI=class{constructor(){return rc(MR)}};var gI=new L("angularfire2.firestore-instances");function oz(t,e){let n=Fd(MR,t,e);return n&&new Lc(n)}function az(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Lc(r)}}var cz={provide:pI,deps:[[new ct,gI]]},uz={provide:Lc,useFactory:oz,deps:[[new ct,gI],Yn]};function SQ(t,...e){return Ge("angularfire",Si.full,"fst"),Vt([uz,cz,{provide:gI,useFactory:az(t),multi:!0,deps:[me,Xe,ro,Ri,[new ct,fc],[new ct,no],...e]}])}var RQ=ut(NR,!0);var NQ=ut(bR,!0);var MQ=ut(lR,!0);var xQ=ut(uI,!0);var PQ=ut(dR,!0);var OQ=ut(wR,!0);var kQ=ut(IR,!0);var FQ=ut(TR,!0);export{F as a,ae as b,w as c,Y as d,B as e,pn as f,z as g,rD as h,gn as i,A3 as j,S3 as k,R3 as l,N3 as m,he as n,KO as o,ak as p,KT as q,QT as r,Ag as s,O3 as t,da as u,k3 as v,F3 as w,Rk as x,JT as y,Nk as z,L3 as A,Mk as B,XT as C,V3 as D,U3 as E,j3 as F,B3 as G,$3 as H,d6 as I,h6 as J,f6 as K,p6 as L,g6 as M,k1 as N,G1 as O,dF as P,R6 as Q,t8 as R,uL as S,kr as T,D8 as U,T8 as V,JC as W,H8 as X,z8 as Y,iU as Z,aU as _,G8 as $,lU as aa,W8 as ba,F5 as ca,L5 as da,hc as ea,NK as fa,MK as ga,xK as ha,PK as ia,OK as ja,rt as ka,Lc as la,SQ as ma,RQ as na,NQ as oa,MQ as pa,xQ as qa,PQ as ra,OQ as sa,kQ as ta,FQ as ua};
